
package gnet;
import java.lang.management.ManagementFactory;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Properties;

import fire.pb.main.ConfigManager;
import fire.pb.main.Gs;
import fire.pb.mysql.C3P0Util;
import fire.pb.util.FireProp;







import com.locojoy.base.Runnable;
// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __ServerIDResponse__ extends mkio.Protocol { }

/** gs连上deliver上，发给gs；用户登录完成后，发给客户端
*/
// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class ServerIDResponse extends __ServerIDResponse__ {
	
	private void testMysqlConnect() {
		Connection conn = C3P0Util.getConnection();
        Statement stmt = null;
        ResultSet rs = null;
        try {
            stmt = conn.createStatement();
            if (stmt.execute("SELECT count(*) FROM role_relation")){
            	rs = stmt.getResultSet();
            }
            if (rs != null){
            	while(rs.next()) {
            		fire.log.Module.logger.info("mysql connect role_relation table,count(*):" + rs.getString("count(*)"));
            	}
            }
        } catch (SQLException ex1) {
        	fire.log.Module.logger.error("SQL闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂傚洤顦甸弻銊モ攽閸♀晜效婵炲瓨鍤庨崐婵嬪蓟閵堝绾ч柟绋块娴犳潙鈹戦纭锋敾婵＄偘绮欓妴浣肝旈崨顔芥闂佷紮绲介惉濂告儗閹剧粯鐓熼柕蹇嬪焺閻掑墽鐥幆褜鐓奸柡灞诲姂閹垽宕崟鎴秮閺岋綁骞樼�靛憡鍣伴梺鍝勭灱閸犳牠銆佸☉姗嗙叆闁告劗鍋撳В澶嬩繆閻愵亜锟芥垿宕曢柆宓ュ洦瀵煎ǎ顒婃嫹閸愵喖唯闁冲搫鍊搁敓浠嬫敱閵囧嫯绠涢幘鎰佷紑婵炲鍘ч悧鎾愁潖濞差亜浼犻柛鏇ㄥ枛椤忣厾绱撴担鍓叉Ш闁硅櫕鎹囬幃楣冩倻缁涘鏅濋梺鎸庢穿閹烽绱掗敓鐣岋拷锝庡亖娴滄粓鏌熸导瀛樻锭濠⒀屽灦閹顫濋浣界闂佺懓寮堕幃鍌炲箖瑜斿畷鐓庘攽閸垺鍣紓鍌氬�烽懗鍓侊拷姘箻瀹曞爼濡歌楠炲秹姊婚崒姘拷鎼佸磹閹间緡鏁嬫い鎾卞灩缁�澶岋拷骞垮劚椤︿即鎮￠崘顔解拺闁割煈鍣崕蹇曠磼濡や礁娴俊顐＄劍瀵板嫰骞囬鐘插汲婵犵數濞�濞佳兾涘▎鎾抽棷婵炲樊浜濋悡鏇㈡煟閺傛寧鎯堝ù鐘讳憾閺屸�崇暆閿熶粙宕伴弽顓滐拷浣糕槈濮楀棙鍍甸梺鍛婎殘閸嬫劙宕ｅú顏呪拻濞达絽鎲￠幆鍫ユ煟椤撶儐妲虹�垫澘锕畷鎰版偄鏉炴壆鑳洪梻鍌氬�峰ù鍥р枖閺囥垹绐楅柡鍥╁�ｅ☉銏犵妞ゆ柨褰炵純鏇炩攽閻樺灚鏆╁┑鐑囨嫹濠电偘鍖犻崶銊︽珖闂侀潧顦弫鈩冨緞閹邦儵褍顭跨捄渚剬闁瑰嘲顭峰铏圭矙閹稿孩鎷遍梺鐓庣秺缁犳牠寮幘缁樺殟闁靛绠戦敓鑺ュ姍閺岀喖顢欓妸銉ヮ伀缂佲槄鎷烽梻浣规偠閸庢粓宕担鍓愭繂鈹戦悩鎰佸晱闁哥姵顨婇弫鍐煛閸涱厾顦у┑鈽嗗灟缂嶅秹鏁愭径濠囧敹闂侀潧顧�婵″洭宕㈤鍫燁棅妞ゆ劑鍨洪幖鎰亜椤撗冨籍妤犵偛绻橀幃婊堟嚍閵夛箑鍔掓俊鐐�栭崝鎴﹀磹閺嵮岀唵闁规儳澧庣壕浠嬫煕鐏炴崘澹橀柨鐔烘櫕閸忔﹢骞婂Δ鍛唶闁哄洨鍋熼敍娑㈡⒑閸︻厼浜鹃柛鎾村哺閹垽宕卞Ο璇插伎濠德板�曢鍡欙拷姘秺閺岋箑螣閼姐倗鐤勫┑顔硷攻濡炰粙銆佸Δ鍛櫢闁伙絽鐬奸惌鎾绘煟閵忋埄鐒剧痪鐐娣囧﹪濡堕崟顒夋▊缂備浇顕уΛ婵嬪蓟閺囥垹閱囨繝闈涚墢椤斿鏌ｆ惔銏ｅ缂傚秴锕ら～蹇涙惞閻у憡瀚归柛锔诲幖椤庡本绻涢崗鐓庡闁哄本鐩俊鎼佸Ψ閿曪拷娴犳挳姊洪棃娑欘棛缂侊拷娓氾拷閸┿垺鎯旈妸銉ь吅闂佺粯顭囬崕鐢稿绩濞差亝鈷戦悹鍥ㄥ絻閸よ京绱撳鍛棦鐎规洘鍨垮畷鍗炩槈濡槒绶㈤梻渚�娼чˇ顐﹀疾濠婂牆鐓曢柟鐑樺殮瑜版帗鏅查柛顐ゅ櫏娴犫晠鏌ｉ姀鈺佺仭缂佸甯℃俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍛囧洦鈷戦柣鐔稿閻ｎ參鏌涢妸銈囩煓闁绘侗鍣ｉ獮鎺懳旈敓鐣岀不婵犳碍鐓曢柟鎹愬皺椤︼箑螖閻樻彃顏慨濠勭帛閹峰懘宕ㄦ繝鍐ㄥ壍婵犵數鍋涢惇浼村垂閽樺鏆﹂柣鐔稿櫞濞差亶鏁傞柛鏇ㄥ幗閻擄綁姊绘担鍝ョШ婵☆偄娼￠幃鐐烘晝閸屾稑浜楅梺闈涱槴閺呮粓鎮￠悢鍏肩厸闁搞儮鏅涙禒婊堟煥閻旂粯顥夋繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�");
        	ex1.printStackTrace();
        } finally {
        	if (rs != null) {
                try {
                    rs.close();
                } catch (SQLException sqlEx) { } // ignore
                rs = null;
            }
            if (stmt != null) {
                try {
                    stmt.close();
                } catch (SQLException sqlEx) { } // ignore
                stmt = null;
            }
        }  
        C3P0Util.close(conn,null,null);
	}
	
	@Override
	protected void process() {
		fire.pb.main.Gs.platType = plattype;
		try {
			String serverId = serverid.getString("ISO-8859-1");
			//
			if (fire.pb.PropConf.ServerId.ServerId != 0) {
				Integer id = Integer.parseInt(serverId);
				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺闈涱槶閸ㄥ搫鈻嶉崶顒佺厱婵妫楅悘锔芥叏婵犲嫮甯涢柟宄版嚇瀹曘劍绻濋崒娑欑暭濠电姷鏁搁崑鐘活敋濠婂懐涓嶉柟鎯х－閺嗭箓鏌曡箛瀣拷鏍拷鐢靛Т椤法鎹勯悜妯绘嫳濠电偛鐗撶粻鏍ь潖濞差亜宸濆┑鐘插閸Ｑ冾渻閵堝繒鐣冲ù婊庡墮椤曪綀顦归柡浣规尰缁傛帞锟斤綆鍋�閹峰姊虹粙鎸庢拱婵ǜ鍔嶉弲璺衡槈濡潻鎷烽幒鎴僵妞ゆ挆鍕澒闁诲氦顫夊ú妯好洪悢鑲╁祦闁搞儺鍓氶崑瀣煕椤愮姴鐏╂鐐茬墦濮婅櫣鎷犻幓鎺戞瘣缂傚倸绉村Λ婵嗙暦閹版澘鍐�妞ゆ挾鍋熼娲⒑缂佹ê濮夋い锝勭矙瀵劑鎼归銈囩槇闂佹眹鍨藉褍鐡繝鐢靛仜閻即宕愬Δ鍐ㄥ灊閻犲洤妯婂鈺呭级閸稑濡奸柡瀣灦缁绘繈濮�閿濆懐鍘梺鍛婃⒐閻楃姴顕ｉ弻銉ョ濞达絽婀遍崢楣冩⒑鐠団�冲箺閻㈩垱甯″畷婵嗩潩閹插瀚归悷娆忓鐏忣參鏌￠敓浠嬫晸閿燂拷.pb.PropConf.ServerId.ServerId
				if (fire.pb.PropConf.ServerId.ServerId != id) {
					fire.log.Module.logger.error("fire.pb.PropConf.ServerId.ServerId:" + fire.pb.PropConf.ServerId.ServerId
							+ " != ServerIDResponse.serverId:" + id);
					ManagementFactory.getPlatformMBeanServer().setAttribute(
							new javax.management.ObjectName("bean:name=stopper"),
							new javax.management.Attribute("StopTime", 0));
				}
				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺闈涱槶閸ㄥ搫鈻嶉崶顒佺厱婵妫楅悘锔芥叏婵犲嫮甯涢柟宄版嚇瀹曘劍绻濋崒娑欑暭濠电姷鏁搁崑鐘活敋濠婂懐涓嶉柟鎯х－閺嗭箓鏌曡箛瀣拷鏍拷鐢靛Т椤法鎹勯悜妯绘嫳濠电偛鐗撶粻鏍ь潖濞差亜宸濆┑鐘插閸Ｑ冾渻閵堝繒鐣冲ù婊庡墮椤曪綀顦归柡浣规尰缁傛帞锟斤綆鍋�閹峰姊虹粙鎸庢拱婵ǜ鍔嶉弲璺衡槈濡潻鎷烽幒鎴僵妞ゆ挆鍕澒闁诲氦顫夊ú妯好洪悢鑲╁祦闁搞儺鍓氶崑瀣煕椤愮姴鐏╂鐐茬墦濮婅櫣鎷犻幓鎺戞瘣缂傚倸绉村Λ婵嗙暦閹版澘鍐�妞ゆ挾鍋熼娲⒑缂佹ê濮夋い锝勭矙瀵劑鎼归銈囩槇闂佹眹鍨藉褍鐡繝鐢靛仜閻即宕愬Δ鍐ㄥ灊閻犲洤妯婂鈺呭级閸稑濡奸柡瀣灦缁绘繈濮�閿濆懐鍘梺鍛婃⒐閻楃姴顕ｉ弻銉ョ濞达絽婀遍崢楣冩⒑鐠団�冲箺閻㈩垱甯″畷婵嗩潩閹插瀚归悷娆忓鐏忣參鏌￠敓浠嬫晸閿燂拷.pb.main.Gs.serverid
				if (fire.pb.main.Gs.serverid.equals(serverId) == false) {
					fire.log.Module.logger.error("fire.pb.main.Gs.serverid:" + fire.pb.main.Gs.serverid
							+ " != ServerIDResponse.serverId:" + serverId);
					ManagementFactory.getPlatformMBeanServer().setAttribute(
							new javax.management.ObjectName("bean:name=stopper"),
							new javax.management.Attribute("StopTime", 0));
				}
			} else {
				fire.pb.main.Gs.serverid = serverId;
			}
			fire.log.Module.logger.info("plattype:"+plattype+",serverid:"+fire.pb.main.Gs.serverid);
			if(ConfigManager.getUseMysql()){
				fire.log.Module.logger.info("Default Config JdbcUrl:" + C3P0Util.getCPDS().getJdbcUrl());
				if(C3P0Util.MYSQLDBNAME != null && !C3P0Util.MYSQLDBNAME.isEmpty() && C3P0Util.MYSQLDBNAME != "") {
					C3P0Util.getCPDS().setJdbcUrl("jdbc:mysql://" + C3P0Util.MYSQLIP + ":" + C3P0Util.MYSQLPORT + "/" + C3P0Util.MYSQLDBNAME + "?&useUnicode=true&characterEncoding=utf-8");
				} else
					C3P0Util.getCPDS().setJdbcUrl("jdbc:mysql://" + C3P0Util.MYSQLIP + ":" + C3P0Util.MYSQLPORT + "/mt3_" + "weibo" + "_" + fire.pb.main.Gs.serverid + "?&useUnicode=true&characterEncoding=utf-8");
				C3P0Util.getCPDS().setUser(C3P0Util.MYSQLUSER);
				C3P0Util.getCPDS().setPassword(C3P0Util.MYSQLPASS);
				C3P0Util.getCPDS().setMaxIdleTime(1800);
				C3P0Util.getCPDS().setPreferredTestQuery("SELECT 1");
				C3P0Util.getCPDS().setIdleConnectionTestPeriod(30000);
				C3P0Util.getCPDS().setTestConnectionOnCheckout(true);
				C3P0Util.getCPDS().setAcquireRetryAttempts(3);
				C3P0Util.getCPDS().setCheckoutTimeout(3000);
				C3P0Util.getCPDS().setInitialPoolSize(10);
				C3P0Util.getCPDS().setMaxPoolSize(20);//100?
				C3P0Util.getCPDS().setMinPoolSize(10);
				C3P0Util.getCPDS().setMaxStatements(200);
				fire.log.Module.logger.info("Real Connect JdbcUrl:" + C3P0Util.getCPDS().getJdbcUrl());
				
				Gs.getExecService().execute(new Runnable() {
					@Override
					public void run() {
						testMysqlConnect();
					}
				});	
				 // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╄兌閿熻棄绠嶉崕閬嵥囬婊呯焼閻庯綆鍋佹禍婊堟煙閸濆嫮肖闁告柨绉甸妵鍕棘閹稿骸顦╃紓浣虹帛缁诲倿顢氶妷鈺傜叆閻庯綆鍋嗛崙锟犳⒑鐠恒劌鏋欏┑顔哄�曠叅闁绘棃顥撻弳锔姐亜閺嶃劎鈽夋い鏇憾閹鈽夊▍顓т邯瀹曟粓鎮烽幍铏杸闂佺粯鍔曞鍫曀夐悙鐑樼厵缂佸顑欓悡濂告煙椤旂櫢鎷烽弬銉︾�婚梺鍦亾濞兼瑩鏁撻悾灞炬毈闁哄矉缍佹慨锟介柍钘夋閺呴亶姊虹紒妯烘诞缂佺姵鐗曢悾鐑筋敍閻愯弓绱堕梺闈涳紡閸滃啰搴婇梻鍌欐祰椤曟牠宕规惔銊ョ妞ゅ繐妫屽Λ銊х磽閸屾艾锟介娆㈤敓鐘茬獥婵°倕鎳忛崑锟犳煃鏉炴壆璐伴柛銈嗘礀閳规垿鎮╁畷鍥舵殹闂佺顑呯�氫即寮婚敐澶婄闁惧浚鍋呭畷鍐差渻閵堝棙鐓ユい锕傛涧椤繑銈︾憗銈勬睏闂佸湱鍎ら崹鎶藉窗婵犲洦鈷戦柛娑橈攻鐏忎即鏌ｉ埡濠傜仩闁伙絿鍏樻慨锟介柕鍫濆閺呮繈姊洪幐搴⑩拻闁哄拋鍋婂畷銏＄鐎ｎ偆鍘甸梺绋跨箺閸嬫劙寮冲锟介弻娑㈠Ω閵夘喚鍚嬮梺闈涙閸婂灝鐣烽敐鍡楃窞閻庯綆浜滄导搴㈢節绾版ɑ顫婇柛銊﹀▕閳ワ箓宕奸悢鍓佺畾闂佸湱顭堢花鑲╂崲閸℃稒鐓曟繛鍡楁禋濡茬鈹戦鑲┬ｆい銊ｅ劦閹瑩骞栭鐘插Ш闂備礁缍婇ˉ鎾寸箾閿熺晫锟芥鍠栭…閿嬩繆閻戣棄唯闁挎棁濮ら惁鎴︽⒒閸屾艾锟芥悂宕愭搴㈩偨婵﹩鍓﹂悞鐣屾喐韫囨稑绠查柕蹇嬪�曠粻鎶芥煙閻愵剚缍戠�殿喖娼￠幃妤呮儌閸涘﹤顏堕梻浣告啞濞诧箓宕愰悩璇参╅柍鍝勫�婚崢鎾绘⒑閸涘﹦绠撻悗姘煎墴閺佹捇鎸婃径妯煎悑閻庤娲忛崹铏圭矉閹烘棑鎷烽敐搴′簮闁圭柉娅ｇ槐鎾诲磼濞嗘垵濡介柦鍐憾閺岋綁骞橀崡鐐插Е闂佸搫鐬奸崰鏍箠閻愬搫唯鐟滃繘鎮￠崒婊呯＝濞撴艾娲ら弸锔姐亜閺囧棗娴勭紞鏍ㄧ節婵犲倻澧涢柡鍛焾闇夐柣妯烘▕閸庡繘鏌﹂崘顏勬灈闁哄本娲樼换娑㈡倷椤掍胶褰嗛梻浣侯焾椤戝懐锟芥矮鍗冲濠氭晲婢跺﹦顓洪梺缁樺姇濡瑩宕归崸妤�绠栭柣銏犲閺佸倿鏌涢銈呮毐闁归攱妞介弻鈩冨緞鐏炴垝娌繝銏㈡嚀濡繆妫熼梺鎸庢礀閸婂綊鎮″▎鎾村仯闁搞儱娲ら幊鎰版儊閸儲鍊垫繛鍫濈仢閺嬶箓鎮樿箛鏃傛噰妤犵偞鍨垮畷鐔碱敆娴ｅ壊锟芥捇姊洪崫鍕窛闁哥姵鍔欒棢闁割偒婢侀幏椋庢喆閸曨剛锛橀梺鍛婃⒐閸ㄥ潡濡存笟锟藉鎾閳哄倹娅屽┑鐐舵彧缁茶姤绔熸繝鍐嚤闁瑰墽绮埛鎺懨归敐鍛暈闁哥喓鍋ら弻娑㈠籍閹惧墎鏆ら悗瑙勬磻閸楀啿顕ｉ崐鐕佹闂佸摜鍠庨幊蹇曟崲濠靛顥堟繛鎴濆船閸撻亶姊虹紒妯诲鞍缂佸鍨块垾锔炬崉閵婏箑纾繛鎾村嚬閸ㄤ即宕滈弶搴撴斀闁绘劘灏欐晶锔剧磼閻樺磭澧电�殿喖顭锋俊鎼佸煛娴ｇ绁梻浣虹帛閸旀﹢顢氬鍫濈闁汇値鍨禍褰掓煙閻戞ɑ灏ù婊勵殜濮婃椽宕崟顒�鍋嶉梺鎼炲妽濡炰粙骞冮檱缁犳盯骞欓崘顏勬暩闂佽崵濞�缂傛艾鈻嶉敐鍡樻珷闁哄洢鍨洪悡鐔肩叓閸ラ瀵肩紒銊ㄥ亹缁辨帞绱掑Ο鍏煎垱閻庤娲忛崝鎴︺�佸锟介幃銈嗘媴閻у摜绀傞梻鍌氬�风粈渚�骞栭锔藉剹濠㈣泛鏈畷鍙夌節闂堟稒顥犻柡鍡畵閺屾稑螖閸愵煉鎷烽敐澶嬪亜闁稿繒鍘у▓鎰版⒑閸愬弶鎯堥柛鐕佸亞閺侇噣濡搁埡鍌楁嫽闂佺鏈悷褔藝閿曞倹鐓欑痪鏉垮船娴滄壆锟芥鍠氶弫濠氥�佸Δ鍛妞ゆ帪鎷烽柛鎿冨枛椤啴濡堕崱娆忊拡闂佺顑嗛崹鍧楀极閹捐绠ｉ柟鐑樻⒒閻涖垽鎮楀▓鍨灍闁规瓕娅曢幈銊╂晸娴犲鐓冮柕澶堝劚鐢姷绱掗妸銊ュ惞缂佽鲸鎹囧畷鎺戔枎閹搭厽袦婵＄偑鍊栭崹闈浳涘☉銏℃櫢闁伙絽鐬奸幊妤呮煕閵夛絽濡煎ù鐘欏嫮绠鹃悗鐢殿焾鐢爼鏌ｆ幊閸旀垿宕哄☉銏犵闁圭偨鍔岀紞濠囧极閹版澘閱囨繝銏╁墯閹瑰洭寮婚弴銏犲耿婵°倧鎷烽柡鍡欏枔缁辨帗娼忛妸銉﹁癁闂佽桨鐒﹂幑鍥箠閻愬搫唯闁挎洩鎷锋い搴㈡崌濮婅櫣绱掑Ο鍨棟闂佸鏉垮闁跨喕濮ゆ穱娲綖婢舵劕绠為柕濞垮労濞笺劑鏌涢埄鍐炬當缂佺姾娅ｇ槐鎾存媴閼恒儳銆愰悗娈垮枛閻栧吋淇婇悽绋跨妞ゆ牭绲鹃弲婵嬫⒑闂堟稓绠為柛銊ヮ煼椤㈡瑦寰勫畝锟界壕钘壝归敐鍫燁仩閻㈩垱绋撶槐鎺旀嫚閹绘帪鎷烽崸妤佹櫜闁绘劖绁撮弨浠嬫倵閿濆懐浠涢柡鍛灲濮婅櫣绮欑捄銊у姽婵犵锟借櫕澶勯柟顖涙⒐缁绘繈宕掑Δ浣规澑闂備胶绮摫闁告挻宀稿畷顖濈疀濞戞瑧鍘遍梺缁樕戦崜姘枔濠婂牊鐓冮柕澶樺灣閻ｇ數锟借娲栭妶鎼佸箖閵忋垻绀勯柣妯兼暩閻撳姊婚崒娆戭槮缂傚秴锕よ灋閻犳亽鍔庨惌鍡椕归敐鍫燁仩濞戞挸绉归弻锝夊棘鐠恒劍顔堥梺鐚存嫹濞寸姴顑嗛悡鏇㈡倶閻愭彃鈷旀い锝嗙叀閺屾盯鎮㈤崫鍕闂佸搫鑻粔褰掑蓟閵娧嶆嫹閿濆簼绨藉ù鐓庣焸濮婃椽宕崟顒佹嫳缂備礁顑嗛崹鍧楀春閻愬搫绠ｉ柨鏇嫹妤犵偑鍨烘穱濠囧Χ閸滃啯顣奸梺姹囧労娴滄繃绌辨繝鍥ㄥ�锋い蹇撳閹风兘骞嬮敃锟界壕鍧楁煣韫囷絽浜炵紒鐘荤畺閺屻劑鎮㈤崜浣虹厯闂佸搫鐭夌槐鏇熺閿曞倸绀堢憸搴ㄥ礆濞戙垺鈷戦悹鍥ｏ拷铏亐闂佸搫鎳忛惄顖炲箖妤ｅ啯鍊婚柦妯侯槺閸婄偤鎮峰鍐炬█妤犵偛绻戠�佃偐锟芥稒菤閹风粯绻涙潏鍓хК婵炲拑绲块弫顔尖槈濡潻鎷烽幒鎴僵妞ゆ挆鍕澒闁诲氦顫夊ú妯荤箾婵犲洤鏋侀柟閭﹀幖缁剁偛鈹戦悩鎻掓殶闁跨喓鐡旈崜鐔奉潖濞差亝鍋￠柡澶婄氨閹稿啰绱撴笟鍥ф珮闁搞劏娉涢锝夊蓟閵夈儳顔愭繛杈剧到濠�閬嶅矗閸℃稒鈷戠紓浣股戠粈锟介梺绋匡工濠�閬嶆晸閼恒儳鍟查柟鍑ゆ嫹?
				fire.pb.friends.Module Module = new fire.pb.friends.Module();
		      Module.createXsh(Long.MAX_VALUE);
			}
		  
					
			Properties prop = ConfigManager.getInstance().getPropConf("sys");
			fire.pb.main.Gs.isYingyongbao = Integer.valueOf(FireProp.getStringValue(prop, "sys.plat.isYingyongbao")).intValue() == 1 ? true : false;
			fire.log.Module.logger.info("Gs.isYingyongbao=" + fire.pb.main.Gs.isYingyongbao);
		} catch (Exception e) {
			e.printStackTrace();
			fire.log.Module.logger.error("Mysql闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鏉戭潩鏉堚敩銏ゆ⒒娴ｈ鍋犻柛搴㈡そ瀹曟粓鏁冮崒姘�梺鍛婂姦閸犳鎮￠妷鈺傜厸闁搞儲婀圭花濂告倵濮橆剛绉烘慨濠傛惈鏁堥柛銉戝秵瀚规俊銈呮噹绾惧鏌熼幑鎰厫鐎规洖寮剁换婵嬫濞戝崬鍓卞銈冨劚閻楀﹦鎹㈠☉銏犵婵犻潧妫滈崺鐐烘⒑閸涘﹥灏板鐟版濡叉劙骞掑Δ浣革拷閿嬨亜閹虹偞瀚归梺鍛婃煟閸婃牠濡甸崟顖ｆ晣闁绘ɑ褰冮獮瀣倵濞堝灝鏋涙い顓犲厴瀵偊骞囬鐐电獮婵犵數濮寸�氼噣寮堕崨濠佺箚闁绘劦浜滈敓鑺ョ墱閺侇噣骞掑Δ锟界壕鐟邦渻鐎ｎ亪顎楅柛銊︾箞閺岋綁濮�閻樺啿鏆堥梺鎶芥敱閸ㄥ潡寮诲☉妯锋斀闁糕剝顨忔禒鎯ь渻閵堝啫鍔ら柛瀣枔濡叉劙骞掑Δ濠冩櫓闂佸吋浜介崕杈╁閹惰姤鍊垫繛鍫濈仢閺嬫稒銇勯鐘插幋妤犵偛鍟存慨锟介柕鍫濇閸庮亪姊洪棃鈺佺槣闁告瑥绻掑Σ鎰板蓟閵夛腹鎷绘繛鎾寸啲閹烽攱绻涙担鍐叉噺瀹曟煡鏌熼悜妯诲鞍闁告瑥绻橀弻锝夊閻樺啿鏆堥梺绋匡工閻栧ジ寮诲☉銏╂晝闁绘ɑ褰冩慨鏇㈡⒑缂佹ɑ灏甸柛鐘崇墵閻涱噣寮介‖銉ラ叄椤㈡鏁撴禒瀣�堕柛妤冨剱閻斿棝鎮峰▎蹇擃�曢柟杈剧畱妗呴梺鍛婃处閸ㄩ亶寮插鍫熷仯闁搞儺浜滈惃鍝劽归悩铏�愭慨濠冩そ閹瑩鎸婃径濠傂ョ紓鍌欒兌婵敻骞愰幖浣瑰仼濡炲娴烽惌娆撴偣閸モ晛浜炬慨濠傜秺楠炲繘宕ㄩ弶鎴濈獩婵犵數濮寸�氼厼顭块幘缁樷拻闁稿本鑹鹃敓鑺ユ倐瀹曟劙骞栨担鍝ワ紮闂佸綊妫块悞锕傚磻鐎ｎ亖鏀介柣妯诲絻椤忣偊鏌ｉ鐔烘噰闁哄瞼鍠愬蹇涘箲閹伴潧鎮堢紓鍌氬�哥粔鐢告偋濠婂牊鏅搁柦妯侯槺閻ｎ參鏌涙惔銊ゆ喚閽樻繂霉閸忓吋缍戦柣鎾存礋閺岀喐娼忔ィ鍐╊�嶉梺缁樻尰閻熝呮閹烘棑鎷烽敐搴′簻妞ゆ洘绮撻弻鐔兼儌閸濄儳袦闂佸搫鑻粔鐟扮暦閿濆唯鐟滃繘鎮伴姀銈嗏拺闁告繂瀚悞璺ㄧ磼閹绘帪鎷烽悢杞扮胺婵犵數鍋犻幓顏嗗緤閽樺鑰块梺顒�鍗曢崶顒夋晪闁跨喕妫勯～蹇涙惞鐟欏嫬鐝伴梺鑲┾拡閸撴盯顢欓崶褜娓婚柕鍫濇閻忋儲銇勯敂璇茬仸闁挎繄鍋犵粻娑樷槈濞嗘劕鍔掗梻渚�娼荤�靛矂宕㈡ィ鍐╂櫖婵犲﹤鍟犻弨鑺ャ亜閺冨倻鎽傛繛鍫熸⒐娣囧﹪顢曢敐鍥ㄥ櫚闂佽鍣ｇ粻鏍х暦婵傜鍗抽柣鏂垮级鐎氳偐绱撻崒姘拷鐑芥倿閿曞倹鏅濋柍杞拌閺嬫梹鎱ㄥΔ瀣闂佸搫鏈粙鎾绘晸閺傘倗绁烽柛鏂跨焸閺佹捇鎳為妷锔绢槹闂佽鍠楅崕鎶芥偩閿熺姴绠柡鍐挎嫹婵☆偄鍟悾鐑筋敂閸涱喖顎撻柣鐔哥懃鐎氼參鎮靛鍫熲拻闁稿本鐟ㄩ崗灞俱亜椤撶偟澧︾�殿喚鏁婚、妤呭磼濮橆剛浜伴梺鐟板悑閻ｎ亪宕濆澶婄柧妞ゆ帊鑳剁弧锟芥繝鐢靛Т閸婄粯鏅跺☉銏＄厽闁规儳顕埥澶嬨亜椤撯剝纭堕柟鐟板閹噣寮堕幋婵愭浆婵犵數濮幏鍐礋椤愩倓绱濋梻浣告惈閺堫剟鎯勯姘煎殨妞ゆ帒鍊瑰畷澶愭煏婵炑冨�荤粈鍐磽閸屾艾锟介娆㈤敓鐘查棷妞ゆ洩鎷风�规洩缍侀弫鎾绘嚍閵夛絼绨婚梺鎸庢穿閹烽绱撳鍜冭含鐎殿喖顭烽崹鎯х暦閸ャ劍鐣烽梻浣芥硶閸犲秶鍒掑▎蹇曟殾濞村吋娼欑粻娑㈡煕韫囷絽浜滄繛宸弮楠炲啳顦圭�规洖銈搁幃銏犵暋閺夎銈夋⒒閸屾瑧顦﹂柣銈呮处閵囨棃宕妷锔芥濡炪倕绻愬Λ妤冩閵堝憘鏃堟晲閸涱厽娈俊妤�鎳樺娲川婵犲啫顦╅梺鎼炲姂娴滆泛顕ｉ幓鎺濈叆闁割偆鍠撻崢闈涱渻閵堝棛澧俊顐ｎ殜瀵敻顢楅敓鍊燁暰婵犮垼鍩栭崝鏍煕閹烘嚚褰掓晲閸モ晜鎲橀梺鎼炲�曢崯鎾蓟濞戙垹惟闁崇尨鎷烽柟鎻掑⒔閿熻姤顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡倵閿濆骸澧伴柍绗哄�栫换婵嬫偨闂堟刀銏ゆ煥閺囨ê锟芥繈骞冭瀹曞崬鈽夊▎鎴濆笒闂備焦鎮堕崕娲礈濮樿埖鍋傞柣鏂垮悑閻撴盯鏌涚仦鍙ョ繁闁稿簺鍎茬换娑㈠醇閵忕姌銏ゆ婢舵劖鐓曢煫鍥ㄦ尭閹垿鎮樿箛鏂款棆缂佽鲸甯炵槐鎺懳熼懖鈺冩毉闂備礁鎽滄慨鎾晝閵堝牏浜芥繝鐢靛仩鐏忔瑧鍒掗婊呯濠㈣埖鍔栭埛鎺懨归敐鍫綈闁稿濞�閺屾盯寮捄銊愶絿绱掔紒妯尖檨缂佺粯绻堝畷妯款槾缂佺姵宀搁弻锝嗘償閿濆棙姣堝┑鐐靛帶椤兘鐛箛娑欏�婚柤鎭掑劜濞呮粓鏌熼懖鈺勊夐柛鎾寸箞閹﹢宕奸姀銏紳婵炶揪绲介幖顐︻敁瀹�鍕厱闁靛鍊曞畵鍡涙煃閵夛附顥堢�规洘锕㈤、鏃�鎯旈姀鐙�浼撻梻浣瑰缁诲倻鑺遍懖鈺勫С缂備焦菧娴滄粓鏌熼崫鍕靛剰闁诲繑鐓￠弻锛勪沪閸撗勫垱闂佽鍠掗弲鐘茬暦閿濆棗绶炴俊顖欑串缁辨姊婚崒娆戭槮闁圭⒈鍋婂鐢割敆閸曨剙鍓銈嗙墬閸戝綊宕甸弴銏＄厵缂備降鍨归弸娑㈠箚閻斿吋鈷戦梻鍫熶緱濡插爼鏌涙繝鍐炬疁闁诡垰瀚幆鏃堝Ω閿旇瀚藉┑鐐舵彧缁蹭粙骞夐敍鍕闁跨喓濮甸悡娑㈡煕濠婏拷缁�浣圭閹殿噯鎷峰▓鍨珮闁稿妫濋獮蹇涙偐瀹割喖鏅犲銈嗘⒒閺咁偆绮欐担鍦瘈闁汇垽娼ф禒婊勪繆椤栨熬鏀荤紒鍌氱Т椤劑宕橀幆褎娅婃繝鐢靛█濞佳兾涘畝鍕哗濞寸姴顑嗛悡鐔兼煙闁箑骞楅柛搴㈩殕缁绘盯宕奸悢鍝ヮ槶缂備浇椴哥敮锟犮�佸▎鎾村殟闁靛鍎抽。鏌ユ⒒娴ｉ涓茬紒鎻掓健瀹曟顫滈敓浠嬫偘椤曪拷瀹曞爼顢楁径瀣珗闂備礁鍟块幖顐﹀磹瑜版崵澶愬醇椤喗瀚归悷娆忓缁�鍐煥閺囨ê鐏茬�规洘妞介崺鍕礃椤忓棛妲囬梻浣告啞閸旓附绂嶉悙鍝勭厽闁靛鏅滈埛鎺楁煕鐏炴崘澹橀柨鐔剁矙椤ユ挾鍒掗崼鐔虹懝闁跨喍绮欓悰顕�寮介褎鏅濋梺鎸庢穿閹风兘鏌ｉ妶搴℃灍闁靛洤瀚伴獮鍥醇閺囩噥锟藉秹姊虹粙娆惧剰妞ゆ垵妫涢幑銏犫攽閸モ晝鐦堥梺绋挎湰缁矂銆傚ú顏呪拺闁告繂瀚烽崕搴ｇ磼閿熻姤绗熼敓浠嬪春閻愬搫绠ｉ柨鏃囨娴滃綊姊洪崨濠勬噧妞わ富鍨惰棟闁冲搫鎳忛埛鎴犵磽娴ｈ偂鎴犱焊闂堟稈鏀介柣鎴濇处鐎氬綊姊绘担绛嬪殐闁哥姵鐗犲畷鏌ュ蓟閵夈儳鍘洪柟鍏肩暘閸婃鎮块敓浠嬫⒑閻熸壆浠㈤柛鐔叉櫊閹拷妞ゅ繐妫涚壕浠嬫煕鐏炲墽鎳勭紒浣峰嵆閺屾盯鍩￠崒婊冣拰闂佽鍣换婵嬪极閹剧粯鍋愰柤鑹板煐閹蹭即姊绘担鐟邦嚋缂佽鍊块獮濠冨緞閹邦剛鍝楁繛瀵稿Т椤戝棝鎮″▎鎾粹拺妞ゆ挶鍔庨悾鍗烆熆瑜庡姗�婀侀梺缁橈供閸嬪懎鈻嶆繝鍐╁弿濠电姴鎳忛鐘绘煥閻旂粯顥夋繝锟芥潏銊ュ灁妞ゆ挾鍎愰悞浠嬫煙閹殿喖顣奸柣鎾存礋閺屾洘绻涢崹顔煎闂佺顑冮崕鎶芥晸閸婄噥娼愭繛鍙壝—鍐嚍閵夈倗绠氶梺缁樺灱濡嫰鎮″☉妯忓綊鏁愰崨顔藉枑闂佺粯绋堥弲婊勭┍婵犲洦鍊锋い蹇撳閹风兘寮借濞兼牕鈹戦悩瀹犲闁绘挻娲熼弻娑㈩敃閵堝懏鐎诲銈嗘礋娴滃爼寮婚妸鈺傚亞闁稿本绋戦锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾诲蓟閿濆鍋愰弶鍫亽閸斿懘姊虹紒妯诲碍妞わ妇鏁婚悰顔跨疀閺冩垶效闁瑰吋鐣崹褰掑几閸岀偞鈷戦柛娑橈攻婢跺嫰鏌涢幘瀵告创閽樻繈鏌曟径鍫濆姉闁猴拷娴犲鐓熼柟閭﹀灠閻ㄧ儤绻濋敓浠嬪箻椤旂晫鍘遍梺鍝勫�圭�笛囧箲閿濆鐓曢柟鐑樻尭濞搭喚锟借娲栭妶鎼佸箖閵忋倖鎯為柛锔诲幗椤矂姊婚崒娆掑厡妞ゎ厼鐗忛幃顕�顢曢敃锟界壕瑙勪繆閵堝懏鍣归柤绋跨秺閺岋綁濮�閻樺啿鏆堥梺缁樻尵閸犳牠寮婚敐鍛傜喖宕归鍏煎劒缂傚倷娴囨禍顒佹櫠濡ゅ啯宕叉繛鎴欏灩濡炰粙鏌涢幇鍏哥敖鐞氾箓姊绘担绛嬪殐闁哥姵顨夐幗顐⑩攽閻愰潧甯剁紒缁橈耿瀹曟椽鏁撻悩鑼槰闂佸啿鎼鍥╂兜閿熶粙姊婚崒姘拷宄懊归崶顒夋晪闁哄稁鍘奸崹鍌炲箹濞ｎ剙濡肩紒锟介崘顔界厓閺夌偞澹嗙粵蹇涙煙妞嬪骸鍘存い銏＄☉椤劑宕ㄩ銈囬棷婵犵數鍋犻幓顏嗙礊閿熻姤绻涢崪鍐偧闁轰緡鍠栭埥澶婎潩鏉堚晪绱查梺鑽ゅТ濞诧箒銇愰崘顔兼辈闁绘柨鍚嬮悡娆愵殽閻愯尙浠㈤柣蹇婃櫊閺屽秶鎲撮崟顐や患闂佽法鍠愰弸鑽ょ礊閸℃顩查柣鎰壋閸ヮ剙惟闁冲搫鍊甸幏娲⒒閸屾氨澧涘〒姘殜閹偞銈ｉ崘鈺冨幈闁硅偐琛ラ崜婵嬪箚閸喆浜滄い鎾跺仦閸犳锟芥鍠楅幐鎶藉箖閳哄懏鍋ㄧ痪鏉款槺闂傤垱绻濋悽闈涗哗闁规椿浜炲濠冪鐎ｎ亞顔愬銈嗗姧缁插潡銆呴幓鎹ㄦ棃鏁愰崨顓熸闂佺粯鎸诲ú鐔肩嵁閺嶎灔搴敆閿熶粙鎮橀埡鍛厓缂備焦蓱缁�锟介梺瀹狀潐閸ㄥ潡宕归幆褏鏆﹂柛銉戝懎骞楀┑掳鍊楁慨鐑藉磻閻愮儤鍋嬫俊銈呮噹缁狀垶鏌涘☉娆愮稇濞磋偐濞�閺屾洘绔熼姘仾闁伙附甯楃换婵嬫偨闂堟刀銉︺亜閿濆牊顥夐崡閬嶆煕濞戞瑦缍戦柛銊ュ�垮濠氬醇閻旇　鏋旈梺鍝勵儐閻楃娀寮婚敓鐘茬倞闁靛鍎虫禒楣冩⒑缁嬫鍎涘ù婊庝邯瀵濡搁埡鍌氫簻闂佸憡鎸烽懗鍫曟偂閹炬枼鏀芥い鏃傘�嬮弨缁樹繆閻愯埖顥夐柣锝囧厴閹粎绮电�ｎ偅娅嶉梻浣虹帛閸旀牕顭垮锟借棢婵鍩栭埛鎺懨归敐鍥╂憘闁搞倕鍟撮弻娑㈠Ω閵堝懎绁梺鐟扮－閸犳牠銆佸☉妯锋斀闁割偅绮庣紞宥夋⒒閸屾艾锟界兘鎳楅崜浣稿灊妞ゆ牜鍋涚粈澶嬩繆閵堝懏鍣圭痪鎯ф健閺屾洟宕煎┑鎰﹂梺缁樻尰濞茬喖寮婚悢鍛婄秶濡わ絽鍟宥夋⒑缂佹ɑ灏版繛鍙夘焽閹广垹鈽夐姀鐘殿吅闂佺粯鍨靛ú锝囨閻㈠憡鈷戠紓浣股戦幆鍕煕閹惧鎳囨繝锟芥笟锟藉铏圭矙鐠恒劎顔囬梺鍛婅壘椤戝洨鍒掗崼顫嫹閿濆骸鏋熼柣鎾寸洴閹﹢鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲姊烘潪鎵妽闁告梹鐟ラ悾鐑藉Ω閳哄﹥鏅ｉ梺鎼炲劘閸庤鲸鎱ㄩ崒娑欏弿濠电姴鍟妵婵堬拷瑙勬礈閸忔﹢銆佸锟介幃銏ゅ传閸曨倣顐⑩攽閿涘嫬浜奸柛濠冪墪閳绘棃鏁冮崒姘卞�為梺鎸庣箓缁绘垹锟芥艾缍婇弻锟犲礃閵娧冾暫缂備緤鎷烽柛鎰ㄦ杺娴滄粓鏌￠崒娑橆嚋妞ゎ偄绉堕幉鎼佸籍閸繆鎽曞┑鐐村灟閸ㄥ綊鎮炲ú顏呯厱闊洦娲栭灞矫瑰搴濈盎妞ゆ洩缍佸畷姗�宕ｉ崒娑欘棃鐎规洏鍔戦、娆戞喆閸曨偒浼栭梻鍌氬�风粈渚�骞夐敍鍕处闁秆勵殔绾惧潡寮堕崼娑樺濠⒀嶇節濮婂宕掑▎鎴М闂佽绁撮敓鑺ュ墯濞兼牜鎲搁悧鍫濈闁跨喕妫勯崯鏉戠暦婵傜唯闁靛／灞拘㈤梻鍌欑濠�閬嶅磿閵堝拋娼栭柛锔诲弿閹峰嘲顫濋鐙�鏆＄紓浣虹帛閻╊垰顕ｉ崼鏇炵妞ゆ挾鍋涙竟澶嬩繆閻愵亜锟姐倝宕戦崟顓犵煋闁荤喖鍋婂鏍ㄧ箾瀹割喕绨兼い銉ョ墛缁绘盯骞嬪▎蹇曚紕閻庤娲︽禍鐐垫閹惧瓨濯村ù鐘差儏閹介潧鈹戦悙璺虹毢闁哥姴閰ｉ幃楣冩倻閽樺娼婇梺闈涚墕濡盯宕濋崼鏇熷�垫鐐茬仢閸旀碍淇婇銏㈢劯妤犵偛绻愮叅妞ゅ繐鎳夐幏娲⒑閸涘﹦鈽夐柨鏇缁骞樼紒妯猴拷鍨叏濡厧甯跺褎鎸抽弻鈩冩媴鐟欏嫬纾抽悗瑙勬礃閸旀瑩骞冮姀鐘垫殝闁绘鐗嗛崝鎺撶節閻㈤潧浠滈柣掳鍔庨崚鎺戭吋婢跺﹦鐣洪梺绋挎湰缁嬫劗鎹㈤崱娑欑厵闂傚倸顕ˇ锕傛煟閹惧鈽夐棁澶愭煥濠靛棗顏い鎺斿枛閺屾盯鎮欓崹顐ｆ瘓濠殿喖锕︾划顖炲箯閸涘瓨鎯為柣鐔稿椤愬ジ姊绘担瑙勫仩闁告柨鐭傚畷銉э拷锝庡枛缁犵偤鏌曟繛鐐珔閸ュ瓨绻濋姀锝嗙【闁挎洩绠撻幃鐐偅閸愨斁鎷虹紓鍌欑劍閿氬┑顔肩墦閺岋綁鏁愭惔婵堝嚬缂備礁鍊哥粔鎾�﹂妸鈺侀唶闁绘柨鎼獮宥夋⒒娓氾拷閿熻姤绋撶粊閿嬬箾閸涱喗绀�闁宠绉瑰畷銊э拷娑欘焽閸欏棝姊虹紒妯活梿妞ゆ泦鍡╂毐濠电姷鏁搁崑娑橆嚕閸撲礁鍨濋幖绮瑰灳閿濆绠涢柣妤�鐗嗛敓鐣屽厴閺岋綁骞嬮悙鍡樺灥閳诲秹濮�閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷.");
        	try{
        		ManagementFactory.getPlatformMBeanServer().setAttribute(new javax.management.ObjectName("bean:name=stopper"),
					new javax.management.Attribute("StopTime", 1));
        	} catch(Exception ex){
				ex.printStackTrace();
			}
		}
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 8902;

	public int getType() {
		return 8902;
	}

	public int plattype; // 当前服务器组，登录的是那个平台
	public com.locojoy.base.Octets serverid; // 当前服务器组的标识

	public ServerIDResponse() {
		serverid = new com.locojoy.base.Octets();
	}

	public ServerIDResponse(int _plattype_, com.locojoy.base.Octets _serverid_) {
		this.plattype = _plattype_;
		this.serverid = _serverid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(plattype);
		_os_.marshal(serverid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		plattype = _os_.unmarshal_int();
		serverid = _os_.unmarshal_Octets();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof ServerIDResponse) {
			ServerIDResponse _o_ = (ServerIDResponse)_o1_;
			if (plattype != _o_.plattype) return false;
			if (!serverid.equals(_o_.serverid)) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += plattype;
		_h_ += serverid.hashCode();
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(plattype).append(",");
		_sb_.append("B").append(serverid.size()).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

