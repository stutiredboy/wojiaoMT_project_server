
package fire.msp.circletask;

import java.util.Calendar;
import fire.pb.circletask.CircTask;
import fire.pb.circletask.CircTaskClass;
import fire.pb.circletask.CircleTaskManager;
import fire.pb.circletask.SpecialQuestState;
import fire.pb.circletask.SpecialQuestType;
import fire.pb.circletask.catchit.CatchItQuest;
import fire.pb.map.SceneManager;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __MCreateNpcForCatchIt__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class MCreateNpcForCatchIt extends __MCreateNpcForCatchIt__ {
	@Override
	protected void process() {
		// protocol handle
		new mkdb.Procedure() {

			public boolean process() {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬姣挎捇鏌熸笟鍨妞ゎ偅绮撳畷鍗炍旈敓浠嬪煕閹烘鈷戠紓浣姑粭鍌滅磼椤旂晫鎳囩�殿喖顭锋俊鍫曞幢濡搫浼庨梻浣哥秺閸嬪﹪宕滈妸鈺佺闁绘垼妫勯崘锟藉銈嗗姦閸撴氨锟芥俺顫夐幈銊ヮ潨閸℃鈷掗梺缁樻尭閵堟悂寮婚垾宕囨殕閻庯綆鍓涜ⅵ闁诲孩顔栭崳顕�宕抽敐鍛殾闁圭儤鍩堝鈺傘亜閹达絾纭堕悽顖涚〒缁辨捇宕掑顒婃嫹妞嬪孩顐介柕鍫濐槸缁狀垳锟界懓瀚伴崑濠囨偄閸℃稒鍋ｅΔ锔藉椤忕娀鏌ｉ幒鎴炲仴闁哄瞼鍠愰ˇ鐗堟償閳ュ啿绠ｉ梻浣虹帛娓氭宕抽敐鍛殾鐟滅増甯╅弫濠囨煟閹惧啿鐦ㄦ繛鍏肩☉閳规垿鏁嶉崟顐℃澀闂佺臎閸涱垳锛濆┑顔矫畷顒勫垂濠靛洨绠鹃柛鈩冾殕缁傚鏌涢妶鍡樼闁靛洤瀚伴獮鍥礈娴ｇ儤娈告俊銈囧Х閸嬫垿宕归悜妯尖攳濠电姴娴傞弫宥嗙節闂堟稒顥欐慨瑙勵殜濮婄儤瀵煎▎鎴犳殸闂佺粯顨嗛幐鎼侊綖韫囨梻绡�婵﹩鍓涢敍婊冣攽椤旂煫顏勭暦椤掑娂鐑芥晸閻ｅ瞼纾介柛灞剧懅椤︼附銇勯幋婵囶棤闁轰緡鍣ｉ弫鎾绘偐闂堟稓銈﹂梻浣告惈缁嬩線宕㈤懖鈺冧笉婵炴垶鐟ｆ禍婊堟煛閸屾氨浠㈤柍閿嬫閺屻劌鈽夊▎鎴犵厜濠殿喖锕ュ钘夌暦閵婏妇绡�闁告劑鍔庨悡顖滅磽閸屾瑧绛忛柟宄板槻闇夐柨婵嗘噺鐠愨剝銇勯埡鍐ㄥ幋婵﹥妞介、妤呮晸閻ｅ瞼鐭撻柣銏犳啞閸嬪倹绻涢幋娆忕仾闁稿﹤鐖奸弻锝夊箛椤撶偟绁烽梺鎶芥敱濮婂湱鎹㈠☉銏犵闁圭儤绻傚▓鍫曟⒑鐠恒劌鏋欏┑顔哄�濋、娆撳冀椤撶偟鐛ュ┑掳鍊曢幊搴ｇ不娴煎瓨鐓ｉ煫鍥风到娴滄绱掔拠鍙夘棦闁哄瞼鍠栧鑽わ拷闈涘濡差噣鏌涢悜鍡楃仸婵﹥妞介獮鎰償閳垛晜瀚婚梻浣侯焾鐎涒晜绻涙繝鍥х闊洦娲╅幏鐑芥晲鎼粹剝鐏嶉梺鎶芥敱鐢繝寮诲☉姘勃闁告挆鍕珮婵＄偑鍊х拋锝囩不閹捐钃熼柣鏂垮悑閸ゅ秹鏌曟竟顖氭噽閸樻粓鏌ｆ惔銈庢綈婵炲弶绮嶉弲璺何旈崨顓犵暰闂佸搫鍟悧鍡涙倿妤ｅ啯鐓欐い鏍仜娴滅増绻涢崗鐓庡闁靛洤瀚伴弫鍌炲箚瑜滈弳顓㈡⒑鐠団�崇仭婵☆偄鍟幈銊╂晸娴犲鐓冮柛婵嗗閿熷�熷吹缁瑩骞囬悧鍫氭嫽闂佺鏈悷锔剧矈閻楀牄浜滄い鎰╁焺濡叉悂鏌ｉ敐鍛Щ妞ゎ偅绮撻弫鎾寸鐎ｎ煉鎷锋担鍓叉僵闁归鐒﹂瀷缂傚倸鍊风欢锟犲窗閺嶎厽鍋嬮柟鎯х－閺嗭附鎱ㄥΔ瀣濡炪們鍨洪悷鈺呭箖閸撗傛勃闁芥ê顦遍鍏肩節绾板纾块柛瀣灴瀹曟劙寮介鐔蜂罕闂佸搫娲ㄩ崐锝呪槈濡粍妫冨畷姗�骞愭惔鈽嗕紦婵犳鍠楅…鍥储瑜斿鎼佹偄閾忓湱锛滈梺绋挎湰濮樸劍鏅ラ梻浣侯攰濞呮洜鍒掗幘璇茬畺濞寸姴顑嗛崑銊╂煟閵忕姷浠涙い顐㈢灱缁辨捇宕掑▎鎴М婵犫拃鍡椥撻柡鍛版硾铻栭柛娑卞枟濞呭洤顪冮妶鍡楀Ё缂佺姵鍨圭划濠氼敍閻愬鍘介梺纭呮彧缁查箖藟婢跺瞼纾奸柨鐔剁矙瀹曟﹢顢欓悾灞藉箻缂備胶鍋撳妯虹暦椤掍焦娅犻柟缁㈠枟閻撶喐绻涢幋鐐垫噭鐎规洖鏈幈銊︾節閸曨厼绗￠梺鐟板槻閹虫劙骞夐幘顔肩妞ゆ劏锟借櫕鎲㈤梻鍌氬�风粈渚�骞夐敓鐘茶摕闁靛ň鏅滈崕妤呮煕瀹�锟介崑娑氱不閺嶃劋绻嗘い鏍ㄧ缚閿熸枻鎷烽梺鐚存嫹濞寸姴顑嗛崐鐢告煥濠靛棙鍣规い锝呯－缁辨帞锟斤綆浜炵粻缁樹繆椤愩垺鍤囨い銏℃礋婵拷闁炽儲鍓氬Σ杈╃磽閸屾瑧顦︽い鎴濇瀹曞綊宕稿Δ锟介拑鐔兼煏婵炵偓娅呴崶鎾⒑缁洖澧叉繛鍙夌矌缁顫濋懜纰樻嫼闂傚倸鐗婄粙鎾存櫠閺囥垺鍊垫慨妯煎帶閻忥妇锟借娲橀〃鍛存偩濠靛绀嬫い鎺戝�搁獮鍫熺節閻㈤潧浠滄俊顐ｎ殘閹广垽骞嬩綅婢舵劕顫呴柍鈺佸暙瀵寧绻濋悽闈浶㈤柟鍐茬箻椤㈡棃鎮╃紒妯煎幍闂佽崵鍠愬姗�顢旈鐐╂斀闁斥晛鍟崐鎰攽閿涘嫬鍘撮柡浣稿�块獮鍡氼槾缂佸鐗撳濠氬磼濮橆剨鎷烽悜鑺ュ殑闁割偅娲栫粻鐘绘煙閹规劦鍤欓柛姘秺閺屸�愁吋鎼粹�崇缂備胶濯崹鍫曞蓟閵娾晜鍋嗛柛灞剧☉椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴楠炴﹢鎳犻澶嬓滈梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷濡炪倖鍔﹀锟芥繛宀婁邯濮婅櫣绮欏▎鎯у妧缂備浇椴稿ú鐔肩嵁婢跺娼扮�癸拷閿熶粙鎮块敓浠嬫⒑閸濆嫭宸濋柛瀣洴閹ɑ绻濋崘顏嗙槇闂佹眹鍨藉褍鐡繝鐢靛仩椤曟粎绮婚幘宕囨殾闁哄洨鍋熼弳鍡涙煕閺囥劌澧伴柛妯哄船椤啴濡堕崱妤�顫庢繝娈垮枟閹稿啿鐣峰┑鍡╃叆闁割偆鍠撻崢鎾绘⒒娴ｅ摜浠㈡い鎴濇噽缁參骞掑Δ渚囨⒖婵犮垼鍩栭崝鏍偂閵夛妇绡�闂傚牊绋掗ˉ鐐烘煕閿濆棙銇濋柟顔肩秺楠炲洭濡搁妷銉㈡嫟缂傚倷鑳剁划顖滄崲閸儱鏋侀柟鍓х帛閸ゅ秹鏌曟竟顖氭湰缁侇偊姊虹拠鎻掑毐缂傚秴妫濆畷鎴﹀幢濞戞ê鍋嶉梻渚囧墮缁夌敻鍩涢幋锔界厱婵犻潧妫楅鈺呮煥閻斿嚖鎷烽悢鍓叉闂佸磭绮Λ鍐嚕閹绢喖顫呴柍銉ь劜閹风兘宕奸弴鐔叉嫼濡炪倖甯幏椋庣磼婢跺本鏆柟顕嗙節婵＄兘鍩￠崒婊冨箺闂備礁鎼崯顐⒚归崒鐐插惞婵炲棙鍨堕崑鏍ㄦ叏濡灝鐓愰柍閿嬪灴閺屾稑鈽夊鍫濅紣闂佽绻堥崕宕囨閹炬剚鍚嬮柛婊冨暙娴兼劙姊烘导娆戝埌闁搞垺鐓￠垾锕傚Ω閳轰胶顦ㄩ梺鎸庣箓濡盯鏁撻挊澶樼吋婵﹥妞藉畷鐑筋敇閳╁喚锟芥姊洪幖鐐插缂侇喗鐟╅悰顔跨疀濞戞瑥锟藉鏌ら幁鎺戝姕婵炲懎娲铏圭矙閹稿孩鎷卞┑顔角滈崝鎴濈暦閹扮増鍊风�瑰壊鍠楃�靛矂姊洪棃娑氬濡ょ姴鎲￠弲鑸电節濮橆厾鍘遍梺鐟板⒔椤ユ劖绔熷锟介幗鍫曟倷閻戞鍘遍梺瑙勫閺呮稒淇婇崸妤佺厸闁糕槅鍘鹃悾鐢告煛鐏炵偓绀冪紒缁樼洴閹瑩顢楁担鍝勭稐闂傚倷娴囧銊х矆娴ｈ娲敇閵忕姾鎽曢梺鎸庣箓椤︻垳绮诲☉娆嶄簻闁硅櫣鍋炵�氬湱绱撴担鍝勭彙闁搞儯鍔庨崢鎼佹⒑缁洖澧叉い銊ョ墢缁崵绱掑Ο璇插伎婵犵數濮撮崑鍡涙偂閼测晪鎷风憴鍕閻㈩垱甯￠崺銏℃償閵娿儳顓哄┑鐘绘涧濡參鎮楅幘顔解拻闁稿本鐟︾粊鐗堛亜閺囩喓澧电�规洑鍗冲浠嬵敇閻旇渹鍑介梻浣虹帛閹哥霉閻戣棄姹查柨鏇炲�归悡娑㈡煕閵夈垺娅呴崯鍝ョ磼閻愵剙鍔ら柛姘儐缁岃鲸绻濋崶鑸垫櫖濠殿喗锕╅崣锟界痪顓ㄦ嫹缂傚倸鍊烽懗鑸垫叏闂堟稓鏆嗙紒瀣儥濞兼牗绻涘顔荤盎缂佺姴缍婇弻锝夊箛椤撶偟绁锋繝娈垮枛椤﹂潧顫忓ú顏勪紶闁告洦鍓欏▍銈囩磽娴ｇ瓔鍤欓柣妤佹崌閻涱噣宕卞Δ鍐╂畷闂佸憡娲﹂崑鍡涱敊閹烘梻纾介柛灞剧懅閸斿秹鏌ㄥ鑸电叆闁绘梻鍎ゅ▍鏇㈡煛娴ｇ瓔鍤欐い顐㈢箲缁绘繂顫濋鍕暪闂備胶绮Λ渚�濡撮敓鑺ヤ繆娣囧崬濮傛慨濠呮閹叉挳宕熼銈囥偡闂備胶顢婃慨銈囧垝閹捐绠氶柨鐔诲Г閵囧嫯绠涢幘璺侯暫闂佹椿鍘介〃濠囧蓟閺囩喓鐝舵い鏍ㄧ閸ｄ粙鏌涘鍡楃仸婵﹦绮幏鍛村川婵犲啫鍓甸梺鑽ゅ仦閸戝綊宕戞繝鍌滄殾婵犻潧顑呯粻锝夋煥閺囶亝瀚圭紓浣哄У閻楃娀寮婚弴銏犻唶婵犲灚鍔栫瑧缂備胶鍋撻崕鎶藉触鐎ｎ剚宕叉繛鎴欏灩缁狅綁鏌ｉ幋婵囩煑缂佽泛鐏氱换娑氾拷鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷?
				if (teamnum > 0) {
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欑粈鍐┿亜閺囧棗娲ら悡姗�鏌熸潏楣冩闁稿鍔欓弻娑樷枎韫囷絾效闂佽鍠楅悷褏妲愰幘瀛樺闁告繂瀚烽敓钘夌焸閺屾盯濡搁妷褍鐓熼悗娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂啰绠荤�殿喗濞婇弫鍐磼濞戞艾骞楅梻渚�娼х换鍫ュ春閸曨垱鍊块柛鎾楀懐锛滈梺褰掑亰閸欏骸鈻撳鍫熺厸鐎癸拷閿熶粙宕伴弽顓炶摕闁搞儺鍓氶弲婵嬫煥閻斿墎鐭欑�规洘绻堥獮鎺楀箻閸撲緡鍟庨柣搴ｆ嚀婢瑰﹪宕伴弴鐘哄С闁煎鍊楃壕濂告煟濞嗗繑鍣界紒澶樺櫍閺岋紕浠︾拠鎻掝潎閻庢鍣崳锝呯暦閸洍锟斤箓骞嬮悜鍡橆棄婵犵數濮烽弫鎼佸磻濞戙垺鍋嬪┑鐘叉搐閸ㄥ倿鏌涢…鎴濇珮婵炲吋鐗楃换娑橆啅椤旇崵鐩庨悗鐟版啞缁诲倿鍩為幋锔藉亹闁圭粯甯楀▓顓㈡⒑濞茶寮鹃柛鐘虫皑濡叉劙骞樼�靛摜鎳濇繝鐢靛Т閸燁偊顢旂捄琛℃斀闁绘劕鐡ㄧ亸浼存煟閺冩垵澧存鐐茬箲椤︾増鎯旈娑橆伓闁荤喐鐟ョ�氼厾绮堥崼銉︾厵闁惧浚鍋呭畷宀勬煕閳哄啫浠辨鐐差儔閺佸啴鏁撴禒瀣厑闁搞儯鍔婃禍婊堟煙閸濆嫮肖妞わ讣闄勯妵鍕疀濮橆厾銆愰柧缁樼墵閺岋絽顫滈敓钘夘焽瑜庣粋鎺戭煥閸喓鍘介棅顐㈡处濮婅崵绮婚悙纰夋嫹鐟欏嫭绀冪紒璇插�块敐鐐测攽鐎ｅ灚鏅ｅ┑鐘差煭閹烽绱掗妸銉吋婵﹥妞介獮鎰償閵忋垹寮抽梻浣筋嚙缁绘垹鎹㈤崒鐐村仼闁汇垻顭堥獮銏＄箾閹寸偟鎳呴柛姗�浜跺娲礃閸欏鍎撻梺绋匡龚椤曆呭弲闂佸湱铏庨崰妤呮偂濞戞◤褰掓晲閸偅缍堥悗瑙勬礀閻倿寮婚埄鍐╁閻熸瑥瀚壕鎶芥⒑鏉炴壆鍔嶉柟鐟版喘瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�?
					fire.pb.team.Team team = fire.pb.team.TeamManager.selectTeamByRoleId(roleid);
					if (null == team || !team.isTeamLeader(roleid)) {
						fire.pb.talk.MessageMgr.psendMsgNotifyWhileRollback(roleid, 140273, npcid, null);
						return false;
					}
					// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔稿銈庡亜閹虫﹢寮诲澶娢ㄩ柕澶堝劜濮ｆ劗绱撴担闈涘Ω闁稿酣娼ч～蹇曠磼濡顎撶紓浣割儐椤戞瑥螞瀹�鍕拺缂佸顑欓崕搴ｇ磼閼镐絻澹橀柣锝囧厴瀵挳鎮㈤崫銉ら梻浣稿暱閹碱偊宕导瀛樺�块柛蹇氬亹缁★拷闂侀潧楠忕徊浠嬫偂閹扮増鐓曢柡鍐挎嫹闁绘濞�楠炲啴鍨鹃弬銉︾�婚梺鍦亾濞兼瑩鏁撻挊澶屼粵缂佺粯鐩獮瀣倻閸℃洜绀傞梻浣侯攰閹活亞绮婚幋鐘差棜闁秆勵殕閻撴盯鏌涢妷锝呭姎闁诲浚浜弻锝夊箻閸楃偛濮曠紓浣虹帛缁诲牆螞閸愩劉妲堟繛鍡樼懅缁�濠冪節绾版ê澧茬憸鏉垮暟缁辩偞绻濋崶褑鎽曢梺璺ㄥ枔婵潙顔忓┑鍥ヤ簻闁哄倸鐏濋埛鏃堟煟閵堝懎顏慨濠冩そ瀹曨偊宕熼鍛晧闂備礁鎲″褰掑垂閸ф宓侀柛鎰靛枛椤懘鏌曢崼婵囧櫧妞わ富鍘界换娑欐綇閸撗呅氬┑鐐叉嫅缂嶄礁鐣烽姀銈庢晬闁绘劗琛ラ幏缁樼箾鏉堝墽鎮奸柟铏崌椤㈡艾顭ㄩ崨顖滐紲闁荤姴娲﹁ぐ鍐敂椤撶媴鎷风憴鍕闁搞劍瀵ф穱濠囧醇閺囩偛鑰垮┑鈽嗗灠閹碱偅瀵兼惔銊︹拻濞达綀濮ょ涵鍫曟煕閻樿尙肖闁告帗甯掗埢搴ㄥ箻鐎圭姵鎲伴梻浣告惈濞层垽宕硅ぐ鎺撶厑闁搞儯鍔庣弧锟介梻鍌氱墛缁嬫帞绮婇埡鍌欑箚妞ゆ劗鍣﹂幏鐑藉棘閵夛附鏉搁梻浣虹帛閸旀洖顕ｉ崼鏇為棷闁惧繐婀辩壕鍏笺亜閺冨洤袚閻忓浚鍘介妵鍕敃閵忋垻顔囬柣鎾卞�栭妵鍕疀閹炬剚浠肩紓浣瑰姈缁嬫帞鎹㈠┑瀣仺闂傚牊鍒�閿熺姵鐓犻柛鎰絻椤ｆ娊鏌熼獮鍨仾缂佹鍠栭弫鎾绘寠婢舵ɑ缍庡┑鐐叉▕娴滄粎绮昏ぐ鎺撶厽闁归偊鍘肩徊缁樸亜椤掞拷濡繂顫忓ú顏勫窛濠电姴瀛╅悾閿嬬節閻㈤潧浠滈柨鏇ㄤ邯閹即顢氶敓钘夌暦濮楋拷椤㈡瑩鎳為妷锔讳户闂傚倷鑳剁划顖炩�﹂崼顫剨婵炲棙鎼╅弫鍥ㄧ箾瀹割喕绨奸柍閿嬪灴閺岀喓绮欓崹顕呭妷濡炪們鍎卞Λ娑㈠箖椤斿皷鏋庨柟鎯ь嚟閸樼敻姊哄Ч鍥э拷銈夊垂闁稁鏁傞柣妯兼暩绾惧ジ寮堕崼娑樺鐎规洖鐬奸敓鍊燁潐濞叉鏁幒妤�鐓濋幖娣妼缁狅絾绻濋棃娑欙紞闁诲孩鎸冲濠氬磼濞嗘垵濡介柣搴ｇ懗閸忕姴鎼鍏煎緞婵犲嫭鐓ｉ梻浣虹帛椤牓顢氳缁寮介鐔哄幗闂佸綊鍋婇崢楣冨汲濮楋拷閺屾稓锟斤綆浜濋崵鍥煛鐏炲墽娲存鐐叉喘婵℃悂鏁傞悾灞界悼闂傚倷绀侀幉锟犳晝閵忥紕顩查悹杞拌濞兼牗绻涘顔荤盎缂侊拷閸愵喗鐓曟繛鍡楁禋濡插綊鏌涙惔銏″碍妞ゎ亜鍟存俊鍫曞幢濡ゅ啩娣繝纰樻閸嬪懘鎯勯鐐叉瀬闁瑰墽绮崵宥夋煏婢诡垰鍟▓褰掓⒒娴ｇ儤鍤�闁搞倖鐗犻獮蹇涙晸閿燂拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐鍛傜喎鈻庨幆褎顔勭紓鍌欒兌婵挳鎮樺璺何﹂柛鏇ㄥ枤閻わ拷闂佸湱鍋撻幆灞轿涢悙鐢电＝濞达絿鏅崼顏堟煕婵犲啰绠炵�殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍠栭崹婵嗏攽閻樺磭顣查柛瀣姉缁辨挻鎷呯拠锛勫姺闂佸憡顭囬弫璇差潖濞差亜宸濆┑鐘插暙閻︾兘姊洪崨濠佺繁闁告﹢绠栭、鏇熺附閸涘ň鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓ラ柡鍥敓鑺ョ箞楠炲啴濡烽敂楣冩缂備礁顑堥崕濠氬箺閺囩偐鏀介柣鎰綑閻忕喖鏌涢妸褎鍤�闁轰緡鍠楁穱濠囨倷椤忓嫸鎷烽弽褜娼栧┑鐘宠壘閸屻劎鎲搁弮鍫熸櫜闁绘劒璀﹂弫鍌炴煕椤愩倕鏆遍柟鐤缁辨捇宕掑▎鎴濆闁藉啴浜堕幃妯跨疀閺囩儐鏆紓浣虹帛閻╊垶骞婇悩娲绘晢闁跨喍绮欏绋库槈濮樼偓瀚规繛鍫濈仢閺嬫稒銇勯銏℃暠濞ｅ洤锕獮鏍ㄦ媴閸濄儱骞愰梻浣侯焾閺堫剟鎯岄鎹愬С濞寸姴顑嗛埛鎺懨归敐鍕劅闁绘帡绠栭弻锟犲醇椤愩垹顫紓渚囧枟閻熲晠鐛�ｎ喗鏅滅紓浣股戝▍鍡涙⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柛銊ュ�歌灃闁挎繂鎳庨弳娆戠磼閻樺磭鈽夐棁澶愭煥濠靛棙鍣洪悹鎰剁磿缁辨帞锟斤絺鏅為崗宀�绱掓潏銊﹀磳鐎规洘甯掗～婵嬵敆婵犲啫顏堕梺缁樺灱婵倝宕愰崸妤佺叆闁哄洨鍋涢敓鐣屾暬閺佹捇寮妶鍥╂殼閻庤娲栭悥濂稿春閿熺姴绀冪憸蹇涙偡濠靛棌鏀介幒鎶藉磹瑜忓濠冪鐎ｎ亞鏌堝銈嗙墱閸嬬偤宕戦崒鐐寸厪濠㈣泛妫欏▍鍡涙煟閹捐泛鏋涢柡宀嬬節瀹曟帒顫濋崣妯挎婵＄偑鍊х徊鐐箾婵犲洤钃熼柨婵嗩樈閺佸洭鏌ｉ弮鍌氬妺闁革絼鍗冲娲传閸曨偒妲甸梺璺ㄥ枙濡嫮澹曢銏犳辈闁糕剝绋掗崐鐢告煥濠靛棝顎楀褌鍗抽弻锝夋晝閿熶粙鎮ч幘鎰佹綎闁绘垶蓱婵粓鏌熷▓鍨灈濠碘�茬矙濮婅櫣鎲撮崟顓熸啓閻庤娲滈弫鎼佸礆閹烘棑鎷烽敐搴℃灈缂佺姵濞婇弻锟犲礃閳哄倸闉嶉柣搴㈣壘缂嶅﹪寮婚妸銉㈡斀闁糕剝渚楅敓鑺ヮ殔闇夋繝濠傚缁犳牜绱掔紒妯兼创鐎规洏鍔戦、鏇㈠椤厾绀勫┑鐘愁問閸犳牠鏁冮妸銉㈡瀺闁挎繂顦粻鏌ユ煕閺囥劌鐏犻幆鐔兼⒑闂堟侗妾у┑鈥虫穿閵囨劕顫濋懜纰樻嫽婵炶揪绲块崕銈夊吹閿熶粙姊洪幖鐐诧拷鏍偋閻樿崵宓侀煫鍥ㄧ♁閺呮悂鏌ㄩ悤鍌涘
					final java.util.List<Long> members = team.getNormalMemberIds();
					this.lock(xtable.Locks.ROLELOCK, members);

					java.util.ArrayList<String> args = new java.util.ArrayList<String>();
					args.add(SceneManager.getMapNameByMapID(mapid));
					
					int teamLeaderRound = 0;
					xbean.CircleTaskMap quest_map = xtable.Rolecircletask.get(roleid);
					if (null == quest_map) {
						return false;
					}
					xbean.CircleTaskInfo questinfo = quest_map.getTaskmap().get(questid);
					if (null == questinfo) {
						return false;
					}
					
					final CircTask circTask = CircleTaskManager.getInstance().getCircTask(questinfo.getId());
					
					teamLeaderRound = questinfo.getRound();
					final long now = Calendar.getInstance().getTimeInMillis();
					for (Long rid : members) {
						xbean.CircleTaskMap questMap = xtable.Rolecircletask.get(rid);
						if (null == questMap) {
							return false;
						}
						xbean.CircleTaskInfo sqinfo = questMap.getTaskmap().get(questid);
						if (null == sqinfo) {
							return false;
						}
						
						sqinfo.setDstitemid(battleid);
						sqinfo.setDstmapid(mapid);
						sqinfo.setDstnpcid(npcid);
						sqinfo.setDstnpckey(npckey);
						sqinfo.setDstx(posx);
						sqinfo.setDsty(posy);
						sqinfo.setBigaward(posx1); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔搁柛鐑嗗灠椤啴濡堕崱姗嗘⒖婵犳鍠撻崐鏇㈠煝瀹ュ閱囬柕澶涜吂閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷鐏炲偊鎷烽幒鎴僵妞ゆ挆鍕澒闁诲氦顫夊ú妯兼崲閸曨垰绠查柛鏇ㄥ墰闂勫嫰鏌ら幁鎺戝姕闁靛洦绻冮妵鍕閳╁喚妫冮悗瑙勬礈閸犳牠鎮伴锟介、娑橆潩椤撶儐妲遍梻浣虹帛閹歌煤濡吋宕叉繝闈涙川缁★拷闂婎偄娲﹂弻銊╊敂閸洘鈷掑ù锝呮惈鐢爼鏌涢悢閿嬪仴闁诡喓鍎甸幃鈩冩償閿濆棙顔曟繝鐢靛█濞佳兾涘☉銏犳辈閻庯綆鍠楅悡娆徝归敐鍛殲闁绘繍浜弻锟犲磼閿旇棄顏堕梻鍌氬�风粈浣革耿闁秴纾块柕鍫濇缁犳儳鈹戦悩鎻掞拷濠氬汲閿曞倹鐓欓柣妤�鐗婄欢鏌ユ煕濡や礁鈻曢柡灞炬礉缁犳盯寮撮悙鎰╁劦閺岋綁濡堕崨顔兼灎闂佸搫鐬奸崰鏍х暦濡ゅ懏鍤冮柍鍝勫�归鍐⒒娴ｅ憡鍟為柡灞诲姂閹鎳栭埡浣哥亰闂佸壊鍋侀崕杈╃矆閸愨斂浜滈柡鍐ㄥ�瑰▍鏇㈡煕濞嗗繑顥㈡慨濠呮缁辨帒螣閼姐値妲梻浣侯焾閿曘倕锕㈤柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�?
						sqinfo.setSmallaward(posy1);
						sqinfo.setLastgiveuptime(0);
						sqinfo.setQuestid(questid);
						sqinfo.setNpcname(name);
						sqinfo.setQueststate(SpecialQuestState.UNDONE);
						sqinfo.setQuesttype(questtype);
						sqinfo.setQuestclass(CircTaskClass.CircTask_CatchIt);
						
						if (questtype == circTask.specialtask) {
							//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻鐔虹磼閵忕姵鐏嶉梺绋块椤︻垶鈥﹂崸妤佸殝闂傚牊绋戦～宀�绱撴担鍝勭彙闁搞儯鍔庨崢閬嶆⒑閸濆嫮袪闁稿﹥娲橀弲鍫曞蓟閵夛箑锟藉灚鎱ㄥ鍡楀缂佸妞介弻锛勪沪闂堚晜瀚归柟棰佺閹垿鏌熼懖鈺勊夐柨鐔凤拷鐔风毢闁告垵缍婇弻锝嗘償閵堝孩缍堝┑鐐插级閿曘垽骞冮敓鐘虫櫢闁绘灏幗鏇炩攽閻愭潙鐏熼柛銊ョ秺閹偛煤椤忓懐鍘遍梺瑙勬緲閸氾拷缂併劌鐡ㄦ穱濠囧箵閹烘柨鈪辩紓浣介哺鐢繝骞冨▎鎿冩晢闁跨喍绮欏畷婵嬪Χ閸℃劒绨诲銈嗘尵婵挳宕㈢�甸潻鎷峰▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺鍏肩ゴ閺呮稒鎱ㄥú顏呪拻濞达絿鎳撻婊勭箾濞村娅婃鐐茬箻閹粓鎳為妷褍骞愰梺璇插嚱缂嶅棝宕滃▎鎾冲嚑婵炴垯鍨洪悡娑氾拷鐧告嫹閻庯綆鍓涢惁鍫ユ倵鐟欏嫭绀�鐎规洦鍓濋悘鎺楁⒑閸忚偐銈撮柡鍛箞瀹曘垹顭ㄩ崼鐔叉嫽婵炶揪绲介幉锟犲箚閸儲鐓涢柛顐亜婢ф挳鏌熼姘伃妞ゃ垺绋戦埥澶娢旈崘顏嗘毎闂傚倷鑳剁划顖炲垂閸忓吋鍙忛柕鍫濐槸閻ら箖鏌＄仦璇插姕闁绘挻娲樼换娑㈠箣濠靛棜鍩為悗娈垮櫍缁犳牠寮婚敐鍡樺劅闁靛闄勯弳鐘崇箾閿濆懏鎼愰柨鏇ㄤ邯楠炲啫鈻庨幙鍐╂櫆闂佸憡娲濋崺鏍拷姘秺閺岀喖鎮ч崼鐔哄嚒闂佹眹鍊楅崑鎾舵崲濠靛顥堟繛鎴濆船閸撴壆绱撴笟濠冨闂佺鏈粙鎺楀矗韫囨柧绻嗛柕鍫濇媼閸庢劙鎮楀杈ㄥ殌閾绘牠鏌ｅ锟藉褎绂掑鍫熺厱闁绘梻顭堥埢鏇炩攽閿涘嫭鏆鐐叉喘瀵墎鎹勯…鎴濇暯闂傚倷鑳堕幊鎾活敋椤撶喐鍙忛柟缁㈠枟閺呮悂鏌ｉ敐鍛板濞寸姾椴搁幈銊︾節閸愨斂浠㈠┑鈽嗗亜閸燁偊鍩ユ径瀣秶闁宠桨绀佹瓏闂傚倸鍊烽懗鍫曗�﹂崼鐕佹闁告縿鍎遍ˉ姘亜閹捐泛孝闁搞劍绻傞埞鎴︽偐閹绘帪鎷锋繝姘辈閻庯綆鍠楅埛鎴炪亜閹惧崬濮傛俊缁㈠櫍閹妫冨☉姘卞姱濠殿喖锕ュ钘壩涢崘銊㈡婵﹩鍓﹂弳顐⑩攽鎺抽崐妤佹叏閹绢喖绠熼柨娑樺閻锟藉箍鍎遍ˇ顖炲礃閿熻棄顪冮妶鍡樺暗闁哥姵鎹囧畷銏℃綇閵娧呯槇闂佹眹鍨藉褍鐡梻浣告憸閸犳劖绔熼崱娆忓灊濠电姵纰嶉崐椋庣棯閺夋妲归悗姘愁潐缁绘盯宕煎┑鍫滆檸闂佸搫顑嗙粙鎺楀Φ閸曨垼鏁囬柣妯诲絻楠炲鎮楀▓鍨珮闁稿锕悰顕�宕堕澶嬫櫍闂佺粯鍔楅弫鎼佹偘椤斿皷鏀介柣妯虹仛閺嗏晛鈹戦纰卞殶闁跨喕濮ら崙褰掑礈閻斿吋鍋樻い鏇嫹妤犵偛娲、鏍嚍閵夛附婢戦梻鍌欒兌缁垶宕濆锟藉畷娲冀椤戝彞姹楅悷婊冪箳濡叉劙骞掑Δ锟界粻鐢告煙閻戞ɑ灏ù鐘虫尦閹鎲撮崟顒傤槰濠电偠灏欓崰鎰┍婵犲洦鍤嬮梻鍫熺〒缁愮偞绻濋悽闈浶㈤悗姘煎櫍瀵悂鏁撻懞銉х瘈闁汇垽娼ч埢鍫熺箾娴ｅ啿娲ょ壕褰掓煙闂傚顦︾紒鐘靛枛閺屻劑鎮㈤崫鍕戯綁鏌涚�ｎ亜锟藉潡寮婚敐澶婃闁割煈鍠楅崐顖炴⒑缂佹ɑ灏紒缁橈耿閹繝顢曢敃锟介悙濠勬喐濠靛缁╃紓浣诡焽缁犻箖鏌涘☉鍗炲箺闁搞倕娲弻鈥崇暆鐎ｎ剛袣缂備胶濮甸惄顖氼嚕閹绢喗鍊烽柟鏉垮缁夘噣鏌＄仦鐐鐎规洘鍎奸ˇ鍙夈亜韫囷絽骞橀柨鐔诲Г椤旀牠宕板Δ鍛闁惧浚鍋傜换鍡涙煙闂傚顦﹂崬顖炴⒑闂堟冻绱￠柛娑卞枤缁夘喖鈹戦悩鑼闁哄灏呴幏宄拔旀担鐟板伎闂佺粯鍨煎Λ鍕缂佹绠鹃柟瀵稿仧椤ｈ尙锟借娲橀悡锟犲蓟閻斿吋鍊绘慨妤�妫欓悾鐑芥⒑閸濆嫭鍣洪柟顔煎�垮濠氭晸閻樿尙锛滃┑鈽嗗灣鐏忋劑骞忓畡鎷旀棃宕橀鍡欏帬闂備焦鐪归崹褰掑箟閿熺姵鍋傞柡鍥ュ灪閻撶喐淇婇婵囶仩闁挎稑绉撮…鑳樁濞存粠鍓涘Σ鎰板箳濡ゅ﹥鏅╅梺鍏肩ゴ閺呮盯鍩呴悽鍛婂�甸悷娆忓缁�锟介梺闈涚墕閹诧繝骞堥妸鈺傛櫢濞寸姴顑嗛悡鍐煏婢跺牆濡介柣婵愪邯閺岋絾鎯旈妸褏鏆┑顔硷功缁垳鎹㈠┑鍥ㄥ劅闁炽儴灏欓惄搴㈢節閻㈤潧浠╂い鏇熺矋娣囧﹪宕堕埡浣哥亰濠电偛妫欓幐鍝ョ不閿濆鐓ラ柡鍥朵簼鐎氬湱绱撴笟濠冨闂佸憡娲﹂崹閬嶆偂閻旈晲绻嗘い鏍ㄧ箓娴滃綊鎮介娑氭创闁哄矉缍侀獮妯硷拷娑欘焽椤︿即姊虹拠鈥虫灍闁挎洏鍨介獮鍐ㄢ枎閹惧磭楠囬梺鐟扮摠缁诲倽顣介梻鍌氬�烽懗鍓佸垝椤栨粍鏆滈柣鏃傘�嬬紞鏍ь熆鐠轰警鍎戦柍鐟扮Т閳规垿鎮╅崣澶嬫倷缂備胶濮烽弫濠氬蓟閻斿吋鍊绘俊顖濆吹閸欏棝姊洪幇浣风敖闁轰浇顕ч～蹇撁洪鍕炊闂佸憡娲﹂崢鐐閸ヮ剚鈷戦柛婵勫劚鏍￠梺缁橆殘婵烇拷闁诡喕鍗抽、姘舵晸娴犲宓侀悗锝庡枟閺呮繈鏌ㄩ悢鐑樻珪缂侇喛顕ч埥澶娾枎瀹ュ嫮鐩庨梻浣筋潐瀹曟ê鈻斿☉婧惧徔闂傚倷娴囧▔鏇㈠窗閺囩喐鍙忛柕鍫濐槸缁�澶嬬箾閸℃绂嬫繛鍏肩墬缁绘稑顔忛鑽ょ泿閻庣懓鎲＄换鍌炲煘閹达附鍋愰柟缁樺笚濞堝爼姊洪崨濠勬噧婵☆偅顨婇垾鏃堝礃椤斿槈褔鏌涢埄鍐炬畼濞寸姵娼欓埞鎴﹀煡閸℃ぞ绨奸梺鐑╂櫓閸ㄥ爼鎮伴锟介獮瀣晝閿熶粙锝為崨瀛樼厽婵妫楁禍婵囥亜椤愩垻效婵﹥妞藉Λ鍐ㄢ槈濮橀硸鍞哄┑鐘愁問閸犳岸宕楀锟介妴浣糕枎閹惧磭顔婂┑掳鍊撶粈渚�鏁撻悾灞炬毈闁诡喖鍢查埢搴ょ疀閹垮啩鐥紓鍌欑筏閹风兘鏌ㄩ悢缁橆棄闁宠鍨块幃娆撴嚑椤掍礁瀣�闂備胶顭堥敃銉ф崲閸儳宓侀柛鎰靛枟閺呮悂鏌ｅΟ鍝勬毐濞存粍绮撳铏圭矙鐠恒劎顔婇梺鍛婎焼閸ャ劍娅㈤梺浼欑到閺堫剟寮抽鍕厵妞ゆ梻鍘уΣ濠氭煃鐠囧弶鍞夌紒鐘崇洴楠炴瑩宕樿濡垳绱撻崒娆戭槮濠⒀傜矙瀹曟垿骞樼拠鑼暫闂佺鐬奸崑娑㈡嫅閻斿摜绠鹃柟瀵稿仧閹冲嫰鏌涙惔锝呮灈闁哄本娲濈粻娑氾拷锝庝簽娴犲ジ鎮楀▓鍨灁闁告柨鐭侀悘鍐⒑缂佹﹫鑰挎繛浣冲嫮顩锋繝濠傚缁诲棙銇勯幇鍓佹偧缂佺姵鎸婚妵鍕即椤忓棛袦濡炪們鍨洪〃鍡涘箯閸涘瓨鍋￠柡澶婄仢闊﹂梻鍌氬�峰ù鍥綖婢舵劕纾块柟鎯板Г閸嬨倝鏌曟繛鐐珔缂佺嫏鍥ㄧ厵闂傚倸顕崝宥夋煃闁垮绗掗棁澶愭煥濠靛棙绁╅柣鎺斿亾閵囧嫰濡烽妷褏顔掗梺鍝勬湰缁嬫捇鏁撻弬銈囩У闁稿瀚湁妞ゆ梹鎷濋幏椋庢喆閸曨剛顦ㄩ梺鎼炲妼閻忔繈鎮鹃悜钘夌闁规惌鍘鹃崣鍡涙⒑閸涘﹥绀�闁诲繑姘ㄧ槐鐐参旀担铏圭槇濠电偛鐗嗛悘婵嬪几閻旀悶浜滈柕濠忕畱婵秵顨ラ悙鑼闁哄被鍔庨敓鏂ょ秵閸嬪嫬顕ｉ幐搴ｇ瘈闁汇垽娼у瓭闂佸摜鍣ラ崹鑸典繆闂堟稈鏀介柛顐墯鐎氬綊鎮峰▎蹇擃仾濠㈣泛瀚伴弻娑氾拷锝庝悍瀹搞儵鏌ｉ敐鍥у幋闁诡喓鍨介幃鈩冩償閿涘嫸鎷烽鐑嗘富闁靛牆妫楁慨锕傛煕鐎ｎ偅宕屾鐐茬箻閹粓鎸婃径濠咃拷鍨攽閻愭潙鐏﹂柣鐔村灲楠炲繐煤椤忓應鎷洪梺鐓庮潟閸婃洟寮搁幋鐐电瘈闁靛繆鍩楅鍫濈厺闁规崘顕ч悡娑㈡煕濞戝崬鏋ら柛妯兼暬濮婃椽宕ㄦ繝鍌滀户闂佺锕ラ悧婊堟晸閼恒儳鍟查柟鍑ゆ嫹?
							sqinfo.setRound(circTask.getRing() + 1);
						}
						else {
							sqinfo.setRound((teamLeaderRound % circTask.getRing()) + 1);
						}					
						
						if (sqinfo.getRound()%circTask.getRing()==1) {
							sqinfo.setFirsttasktime(now);
						}
						sqinfo.setTakequesttime(now);
						sqinfo.setAcceptquesttime(now);
						
						if (firsttime == 1)
							CircleTaskManager.getInstance().refresh2role(sqinfo, rid, true);
						else
							CircleTaskManager.getInstance().refresh2role(sqinfo, rid, false);
					}
					// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ槐鎺懳熼搹閫涙樊婵＄偑鍊ら崑鍛洪悢鐓庢瀬闁瑰墽绮�电姴顭跨捄渚叚闁归鍏樺畷绋款渻绾攱瀚瑰ù锝呭濞尖晠鏌ょ粙璺ㄤ粵婵炲懌鍨虹换娑氾拷鐢殿焾瀛濆銈嗗灥濞层倝鎮鹃崹顐ょ懝闁跨喍绮欓幃锟狀敃閿曪拷閻愬﹪鏌曟繛褝鎷锋俊淇卞姂濮婃椽宕崟顒�娅ら梺璇″枛閸婂灝顕ｆ繝姘╅柍鍝勫�告禍鐐烘⒑缁嬫寧婀扮紒瀣灴椤㈡棃鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞诲�楅崰濠囧础閻愭祴鎷绘繝纰樺墲閻撯剝绂嶉崼鏇炶摕闁挎繂顦伴崑鍕煕濠靛嫬鍔ら柣鎾冲�圭换婵嬪煕閿熶粙宕熼崹顐ゆ毉闂備浇妗ㄧ欢锟犲闯閿濆宓侀柟鐑樺殾閺冨牊鏅稿ù鐘差儏閸ㄥ倿鏌涘畝锟介崑鐐烘偂閺囥垺鍊堕柣鎰祷濡炬悂鏌涢妶鍡樷拻闁瑰弶鎮傞幃褔宕煎┑鍫㈡嚃闂備胶顭堥鍛村磹閸ф宓侀柡宥冨妽缂嶅洭鏌涢幘妤�鎯欓幋锔解拺閻熸瑥瀚徊濠氭煏閸埄鐒炬い顐㈢箻閹煎綊宕烽鐘靛幆婵犵數鍋涘Λ娆撳磿閹惰棄绀堟い鎺戝閳锋垿鏌涘┑鍡楊仾闁革綀娅ｇ槐鎺旓拷锝庡亞婢х敻鏌熼鏂よ�跨�规洘锕㈤、娆戞喆閿濆棗顏归梻鍌欑濠�閬嶁�﹂崼婢濊顦版惔锝勭瑝闂佺懓澧界划顖炴偂濞嗘挻鐓曢柟閭﹀幘閸欙拷闂佸憡鐟ョ�氼噣鏁撻懞銉晱闁哥姵鐗犲畷顖炲锤濡わ拷閻撴繈骞栧ǎ顒�濡肩紒鐙呯秮閺岋絽螣绾拌鲸娈扮紓浣稿船瀵埖绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮介鐐殿槷闂佺鎻粻鎴﹀垂閸屾粎纾藉ù锝堝亗閹存績鏋嶉煫鍥ㄧ♁閳锋帡鏌涚仦鍓ф噭缂佷胶澧楅妵鍕即閻斿搫鈷岄悗瑙勬磻閸楀啿顕ｆ禒瀣垫晝闁靛牆娴傚Σ绋库攽閻樺灚鏆╁┑顔芥綑鐓ら柕鍫濇川娑撳秹鏌涢敂璇插箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旀慨妯垮煐閻撴洟鎮楅敐鍛暢缂佲槄鎷烽梻浣告惈婢跺洭宕滃┑鍡╁殫闁告洦鍓涚弧锟介梺鍛婃处娴滐絽顬婇崨濠佺箚闁绘劦浜滈敓濮愬�濆畷婊冣枎瀵邦偅绋戦埞鎴﹀幢閳哄倻绋佺紓鍌氬�烽悞锕佹懌婵犳鍨遍幐鎶藉蓟瑜戠粻娑㈠即閻旈攱鐣紓鍌欑劍椤ㄦ劗妲愰弴鐘愁潟闁规儳鐡ㄦ刊鎾煣韫囨洘鍤�缂佹绻濆娲川婵犲啠鎷归梺鑽ゅ暱閺呯娀骞冩导鎼晩閻犳亽鍔庨弶绋库攽閻愭潙鐏﹂柣鐕傜畱閳诲秹濮�閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷
					CatchItQuest.addCatchItQuestTimer(roleid, questid, questinfo.getId());
				}
				else {
					//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐏忓繘姊洪崨濠庢畷濠电偛锕ら锝囨嫚濞村顫嶅┑鈽嗗灦閺�閬嶅棘閿熶粙姊绘担鍛婂暈婵炶绠撳畷鎴﹀礋椤掍礁寮块梺闈涚箞閸婃牠鍩涢幋鐐电闁煎ジ顤傞崵娆愵殽閻愭惌娈滈柡宀�鍠栭幃鐑芥偋閸繃鐏庨柣搴㈩問閸犳牠鈥﹂悜钘夋瀬闁归偊鍘肩欢鐐烘倵閿濆簼绨风紒銊ヮ煼濮婃椽鎳￠妶鍛呫垺绻涘ù瀣珖濞存粎顭堥埢搴ㄥ箻瀹曞浂妲烽梻浣虹帛閸ㄥ吋鎱ㄩ妶澶婄厱闁硅揪闄勯崑锝夋煙椤撶喎绗掑┑鈥炽偢閺岋紕锟斤綆鍋嗛幊鍐煃鐟欏嫬鐏存い銏＄懇瀹曨偊宕熼懜闈涱伓濠德板�曢幊搴ㄥ几娴ｅ箍浜滈柡鍥朵簼鐎氬綊姊洪幖鐐插闁稿孩濞婇幃楣冩倻閽樺鍊為梺闈涱煭鐎靛矂宕惔鈾�鏀介柣妯虹仛閺嗏晛鈹戦鑺ュ唉闁轰礁鍟存俊鍫曞炊闁垮顏跺┑顔筋焽閸樠囩嵁濡ゅ懏鐓曢柟鐑樺煀闊剚顨ラ悙杈捐�挎い銏＄懇閹墽浠﹂挊澶岊啈闂傚倸鍊烽懗鍓佸垝椤栫偛钃熼柕濞炬櫅缁犺銇勯幇鎯扮闁跨喕妫勯崐鍨暦濡ゅ懎绀傞柣鎾抽娴煎酣姊绘担鐟邦嚋缂佽鍊块獮濠呯疀濞戞顔愰梺瑙勫婢ф鎮￠崘顔藉仭婵炲棗绻愰鈺呮煟韫囨梹灏﹂柡宀�鍠栭、娆撴偩鐏炴儳娅氶梻浣侯攰濞呮洜鍒掗幘婢勬盯宕橀妸銏☆潔濠电偛妫欓幐濠氬汲濡偐纾介柛灞捐壘閿熻姤鎮傚畷鎰板箹娴ｅ摜锛欓梺鍛婄缚閸庢娊鎯屽▎鎾寸厱闁哄洢鍔岄悘鐘电磼閻欙拷閸ㄦ娊鏁撻悾灞惧殌閻庢凹鍘界粩鐔猴拷锝庡枛缂佲晛霉閻樺樊鍎愰柣鎾跺枛閺岀喖鏌囬敃锟芥晶顔剧磼閻欐瑥娲﹂崐鍨叏濮楀棗澧柛锝囨櫕缁辨帗娼忛妸锕�纰嶅銈嗘尭閵堢鐣烽悢纰辨晣闁绘﹢娼ф惔濠傗攽鎺抽崐妤佹叏閻戣棄纾绘繛鎴烆焸濞戞鏃堝川椤旈棿鎮ｆ繝鐢靛█濞佳囶敄閸℃稑鐤剧紒瀣紩瑜版帗鍋愮�瑰壊鍠栭崜閬嶆⒑閸濆嫭鍣洪柟顔煎�垮濠氭晸閻樿尙锛滃┑鈽嗗灣鐏忋劑骞忓畡鎷旀棃宕橀鍡欏帬闂備焦鐪归崹褰掑箟閿熺姵鍋傞柡鍥ュ灪閻撶喐淇婇婵愬殭濠⒀屽灡缁绘盯宕奸悢铏圭厜闂佸搫鏈惄顖炲春閿熺姴纾兼繝濠傚閸ㄨ鲸淇婇妶鍥ラ柛瀣仧閺侇噣骞掗弴鐘辩胺婵犵數鍋犻幓顏嗗緤娴犲绠规い鎰╁焺閸ゆ洟鏌熼幆鏉啃撻柍閿嬪笒闇夐柨婵嗙墛椤忕娀鎮介娑氣檨缂佺粯鐩畷锝嗗緞鐏炶В鎷伴柣搴ゎ潐濞叉﹢宕濆▎蹇曟殾闁绘垹鐡旈弫鍥煏婵犲繒鐣辨い蹇氭硾閳规垿顢欑粵瀣姺闂佺顑嗛幐楣冩晸閼恒儳鍟查柟鍑ゆ嫹?
					final long now = Calendar.getInstance().getTimeInMillis();
					xbean.CircleTaskMap questMap = xtable.Rolecircletask.get(roleid);
					if (null == questMap) {
						return false;
					}
					xbean.CircleTaskInfo sqinfo = questMap.getTaskmap().get(questid);
					if (null == sqinfo) {
						return false;
					}
					
					final CircTask circTask = CircleTaskManager.getInstance().getCircTask(sqinfo.getId());
					
					sqinfo.setDstitemid(battleid);
					sqinfo.setDstmapid(mapid);
					sqinfo.setDstnpcid(npcid);
					sqinfo.setDstnpckey(npckey);
					sqinfo.setDstx(posx);
					sqinfo.setDsty(posy);
					sqinfo.setBigaward(posx1); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔搁柛鐑嗗灠椤啴濡堕崱姗嗘⒖婵犳鍠撻崐鏇㈠煝瀹ュ閱囬柕澶涜吂閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷鐏炲偊鎷烽幒鎴僵妞ゆ挆鍕澒闁诲氦顫夊ú妯兼崲閸曨垰绠查柛鏇ㄥ墰闂勫嫰鏌ら幁鎺戝姕闁靛洦绻冮妵鍕閳╁喚妫冮悗瑙勬礈閸犳牠鎮伴锟介、娑橆潩椤撶儐妲遍梻浣虹帛閹歌煤濡吋宕叉繝闈涙川缁★拷闂婎偄娲﹂弻銊╊敂閸洘鈷掑ù锝呮惈鐢爼鏌涢悢閿嬪仴闁诡喓鍎甸幃鈩冩償閿濆棙顔曟繝鐢靛█濞佳兾涘☉銏犳辈閻庯綆鍠楅悡娆徝归敐鍛殲闁绘繍浜弻锟犲磼閿旇棄顏堕梻鍌氬�风粈浣革耿闁秴纾块柕鍫濇缁犳儳鈹戦悩鎻掞拷濠氬汲閿曞倹鐓欓柣妤�鐗婄欢鏌ユ煕濡や礁鈻曢柡灞炬礉缁犳盯寮撮悙鎰╁劦閺岋綁濡堕崨顔兼灎闂佸搫鐬奸崰鏍х暦濡ゅ懏鍤冮柍鍝勫�归鍐⒒娴ｅ憡鍟為柡灞诲姂閹鎳栭埡浣哥亰闂佸壊鍋侀崕杈╃矆閸愨斂浜滈柡鍐ㄥ�瑰▍鏇㈡煕濞嗗繑顥㈡慨濠呮缁辨帒螣閼姐値妲梻浣侯焾閿曘倕锕㈤柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�?
					sqinfo.setSmallaward(posy1);
					sqinfo.setLastgiveuptime(0);
					sqinfo.setQuestid(questid);
					sqinfo.setNpcname(name);
					sqinfo.setQueststate(SpecialQuestState.UNDONE);
					sqinfo.setQuesttype(questtype);
					sqinfo.setQuestclass(CircTaskClass.CircTask_CatchIt);
					
					if (circTask.getRing() == 0) {
						sqinfo.setRound(sqinfo.getRound() + 1);
						
						if (sqinfo.getRound() == 1) {
							sqinfo.setFirsttasktime(now);
						}
					}
					else {
						if (questtype == SpecialQuestType.CatchIt_Increase) {
							//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻鐔虹磼閵忕姵鐏嶉梺绋块椤︻垶鈥﹂崸妤佸殝闂傚牊绋戦～宀�绱撴担鍝勭彙闁搞儯鍔庨崢閬嶆⒑閸濆嫮袪闁稿﹥娲橀弲鍫曞蓟閵夛箑锟藉灚鎱ㄥ鍡楀缂佸妞介弻锛勪沪闂堚晜瀚归柟棰佺閹垿鏌熼懖鈺勊夐柨鐔凤拷鐔风毢闁告垵缍婇弻锝嗘償閵堝孩缍堝┑鐐插级閿曘垽骞冮敓鐘虫櫢闁绘灏幗鏇炩攽閻愭潙鐏熼柛銊ョ秺閹偛煤椤忓懐鍘遍梺瑙勬緲閸氾拷缂併劌鐡ㄦ穱濠囧箵閹烘柨鈪辩紓浣介哺鐢繝骞冨▎鎿冩晢闁跨喍绮欏畷婵嬪Χ閸℃劒绨诲銈嗘尵婵挳宕㈢�甸潻鎷峰▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺鍏肩ゴ閺呮稒鎱ㄥú顏呪拻濞达絿鎳撻婊勭箾濞村娅婃鐐茬箻閹粓鎳為妷褍骞愰梺璇插嚱缂嶅棝宕滃▎鎾冲嚑婵炴垯鍨洪悡娑氾拷鐧告嫹閻庯綆鍓涢惁鍫ユ倵鐟欏嫭绀�鐎规洦鍓濋悘鎺楁⒑閸忚偐銈撮柡鍛箞瀹曘垹顭ㄩ崼鐔叉嫽婵炶揪绲介幉锟犲箚閸儲鐓涢柛顐亜婢ф挳鏌熼姘伃妞ゃ垺绋戦埥澶娢旈崘顏嗘毎闂傚倷鑳剁划顖炲垂閸忓吋鍙忛柕鍫濐槸閻ら箖鏌＄仦璇插姕闁绘挻娲樼换娑㈠箣濠靛棜鍩為悗娈垮櫍缁犳牠寮婚敐鍡樺劅闁靛闄勯弳鐘崇箾閿濆懏鎼愰柨鏇ㄤ邯楠炲啫鈻庨幙鍐╂櫆闂佸憡娲濋崺鏍拷姘秺閺岀喖鎮ч崼鐔哄嚒闂佹眹鍊楅崑鎾舵崲濠靛顥堟繛鎴濆船閸撴壆绱撴笟濠冨闂佺鏈粙鎺楀矗韫囨柧绻嗛柕鍫濇媼閸庢劙鎮楀杈ㄥ殌閾绘牠鏌ｅ锟藉褎绂掑鍫熺厱闁绘梻顭堥埢鏇炩攽閿涘嫭鏆鐐叉喘瀵墎鎹勯…鎴濇暯闂傚倷鑳堕幊鎾活敋椤撶喐鍙忛柟缁㈠枟閺呮悂鏌ｉ敐鍛板濞寸姾椴搁幈銊︾節閸愨斂浠㈠┑鈽嗗亜閸燁偊鍩ユ径瀣秶闁宠桨绀佹瓏闂傚倸鍊烽懗鍫曗�﹂崼鐕佹闁告縿鍎遍ˉ姘亜閹捐泛孝闁搞劍绻傞埞鎴︽偐閹绘帪鎷锋繝姘辈閻庯綆鍠楅埛鎴炪亜閹惧崬濮傛俊缁㈠櫍閹妫冨☉姘卞姱濠殿喖锕ュ钘壩涢崘銊㈡婵﹩鍓﹂弳顐⑩攽鎺抽崐妤佹叏閹绢喖绠熼柨娑樺閻锟藉箍鍎遍ˇ顖炲礃閿熻棄顪冮妶鍡樺暗闁哥姵鎹囧畷銏℃綇閵娧呯槇闂佹眹鍨藉褍鐡梻浣告憸閸犳劖绔熼崱娆忓灊濠电姵纰嶉崐椋庣棯閺夋妲归悗姘愁潐缁绘盯宕煎┑鍫滆檸闂佸搫顑嗙粙鎺楀Φ閸曨垼鏁囬柣妯诲絻楠炲鎮楀▓鍨珮闁稿锕悰顕�宕堕澶嬫櫍闂佺粯鍔楅弫鎼佹偘椤斿皷鏀介柣妯虹仛閺嗏晛鈹戦纰卞殶闁跨喕濮ら崙褰掑礈閻斿吋鍋樻い鏇嫹妤犵偛娲、鏍嚍閵夛附婢戦梻鍌欒兌缁垶宕濆锟藉畷娲冀椤戝彞姹楅悷婊冪箳濡叉劙骞掑Δ锟界粻鐢告煙閻戞ɑ灏ù鐘虫尦閹鎲撮崟顒傤槰濠电偠灏欓崰鎰┍婵犲洦鍤嬮梻鍫熺〒缁愮偞绻濋悽闈浶㈤悗姘煎櫍瀵悂鏁撻懞銉х瘈闁汇垽娼ч埢鍫熺箾娴ｅ啿娲ょ壕褰掓煙闂傚顦︾紒鐘靛枛閺屻劑鎮㈤崫鍕戯綁鏌涚�ｎ亜锟藉潡寮婚敐澶婃闁割煈鍠楅崐顖炴⒑缂佹ɑ灏紒缁橈耿閹繝顢曢敃锟介悙濠勬喐濠靛缁╃紓浣诡焽缁犻箖鏌涘☉鍗炲箺闁搞倕娲弻鈥崇暆鐎ｎ剛袣缂備胶濮甸惄顖氼嚕閹绢喗鍊烽柟鏉垮缁夘噣鏌＄仦鐐鐎规洘鍎奸ˇ鍙夈亜韫囷絽骞橀柨鐔诲Г椤旀牠宕板Δ鍛闁惧浚鍋傜换鍡涙煙闂傚顦﹂崬顖炴⒑闂堟冻绱￠柛娑卞枤缁夘喖鈹戦悩鑼闁哄灏呴幏宄拔旀担鐟板伎闂佺粯鍨煎Λ鍕缂佹绠鹃柟瀵稿仧椤ｈ尙锟借娲橀悡锟犲蓟閻斿吋鍊绘慨妤�妫欓悾鐑芥⒑閸濆嫭鍣洪柟顔煎�垮濠氭晸閻樿尙锛滃┑鈽嗗灣鐏忋劑骞忓畡鎷旀棃宕橀鍡欏帬闂備焦鐪归崹褰掑箟閿熺姵鍋傞柡鍥ュ灪閻撶喐淇婇婵囶仩闁挎稑绉撮…鑳樁濞存粠鍓涘Σ鎰板箳濡ゅ﹥鏅╅梺鍏肩ゴ閺呮盯鍩呴悽鍛婂�甸悷娆忓缁�锟介梺闈涚墕閹诧繝骞堥妸鈺傛櫢濞寸姴顑嗛悡鍐煏婢跺牆濡介柣婵愪邯閺岋絾鎯旈妸褏鏆┑顔硷功缁垳鎹㈠┑鍥ㄥ劅闁炽儴灏欓惄搴㈢節閻㈤潧浠╂い鏇熺矋娣囧﹪宕堕埡浣哥亰濠电偛妫欓幐鍝ョ不閿濆鐓ラ柡鍥朵簼鐎氬湱绱撴笟濠冨闂佸憡娲﹂崹閬嶆偂閻旈晲绻嗘い鏍ㄧ箓娴滃綊鎮介娑氭创闁哄矉缍侀獮妯硷拷娑欘焽椤︿即姊虹拠鈥虫灍闁挎洏鍨介獮鍐ㄢ枎閹惧磭楠囬梺鐟扮摠缁诲倽顣介梻鍌氬�烽懗鍓佸垝椤栨粍鏆滈柣鏃傘�嬬紞鏍ь熆鐠轰警鍎戦柍鐟扮Т閳规垿鎮╅崣澶嬫倷缂備胶濮烽弫濠氬蓟閻斿吋鍊绘俊顖濆吹閸欏棝姊洪幇浣风敖闁轰浇顕ч～蹇撁洪鍕炊闂佸憡娲﹂崢鐐閸ヮ剚鈷戦柛婵勫劚鏍￠梺缁橆殘婵烇拷闁诡喕鍗抽、姘舵晸娴犲宓侀悗锝庡枟閺呮繈鏌ㄩ悢鐑樻珪缂侇喛顕ч埥澶娾枎瀹ュ嫮鐩庨梻浣筋潐瀹曟ê鈻斿☉婧惧徔闂傚倷娴囧▔鏇㈠窗閺囩喐鍙忛柕鍫濐槸缁�澶嬬箾閸℃绂嬫繛鍏肩墬缁绘稑顔忛鑽ょ泿閻庣懓鎲＄换鍌炲煘閹达附鍋愰柟缁樺笚濞堝爼姊洪崨濠勬噧婵☆偅顨婇垾鏃堝礃椤斿槈褔鏌涢埄鍐炬畼濞寸姵娼欓埞鎴﹀煡閸℃ぞ绨奸梺鐑╂櫓閸ㄥ爼鎮伴锟介獮瀣晝閿熶粙锝為崨瀛樼厽婵妫楁禍婵囥亜椤愩垻效婵﹥妞藉Λ鍐ㄢ槈濮橀硸鍞哄┑鐘愁問閸犳岸宕楀锟介妴浣糕枎閹惧磭顔婂┑掳鍊撶粈渚�鏁撻悾灞炬毈闁诡喖鍢查埢搴ょ疀閹垮啩鐥紓鍌欑筏閹风兘鏌ㄩ悢缁橆棄闁宠鍨块幃娆撴嚑椤掍礁瀣�闂備胶顭堥敃銉ф崲閸儳宓侀柛鎰靛枟閺呮悂鏌ｅΟ鍝勬毐濞存粍绮撳铏圭矙鐠恒劎顔婇梺鍛婎焼閸ャ劍娅㈤梺浼欑到閺堫剟寮抽鍕厵妞ゆ梻鍘уΣ濠氭煃鐠囧弶鍞夌紒鐘崇洴楠炴瑩宕樿濡垳绱撻崒娆戭槮濠⒀傜矙瀹曟垿骞樼拠鑼暫闂佺鐬奸崑娑㈡嫅閻斿摜绠鹃柟瀵稿仧閹冲嫰鏌涙惔锝呮灈闁哄本娲濈粻娑氾拷锝庝簽娴犲ジ鎮楀▓鍨灁闁告柨鐭侀悘鍐⒑缂佹﹫鑰挎繛浣冲嫮顩锋繝濠傚缁诲棙銇勯幇鍓佹偧缂佺姵鎸婚妵鍕即椤忓棛袦濡炪們鍨洪〃鍡涘箯閸涘瓨鍋￠柡澶婄仢闊﹂梻鍌氬�峰ù鍥綖婢舵劕纾块柟鎯板Г閸嬨倝鏌曟繛鐐珔缂佺嫏鍥ㄧ厵闂傚倸顕崝宥夋煃闁垮绗掗棁澶愭煥濠靛棙绁╅柣鎺斿亾閵囧嫰濡烽妷褏顔掗梺鍝勬湰缁嬫捇鏁撻弬銈囩У闁稿瀚湁妞ゆ梹鎷濋幏椋庢喆閸曨剛顦ㄩ梺鎼炲妼閻忔繈鎮鹃悜钘夌闁规惌鍘鹃崣鍡涙⒑閸涘﹥绀�闁诲繑姘ㄧ槐鐐参旀担铏圭槇濠电偛鐗嗛悘婵嬪几閻旀悶浜滈柕濠忕畱婵秵顨ラ悙鑼闁哄被鍔庨敓鏂ょ秵閸嬪嫬顕ｉ幐搴ｇ瘈闁汇垽娼у瓭闂佸摜鍣ラ崹鑸典繆闂堟稈鏀介柛顐墯鐎氬綊鎮峰▎蹇擃仾濠㈣泛瀚伴弻娑氾拷锝庝悍瀹搞儵鏌ｉ敐鍥у幋闁诡喓鍨介幃鈩冩償閿涘嫸鎷烽鐑嗘富闁靛牆妫楁慨锕傛煕鐎ｎ偅宕屾鐐茬箻閹粓鎸婃径濠咃拷鍨攽閻愭潙鐏﹂柣鐔村灲楠炲繐煤椤忓應鎷洪梺鐓庮潟閸婃洟寮搁幋鐐电瘈闁靛繆鍩楅鍫濈厺闁规崘顕ч悡娑㈡煕濞戝崬鏋ら柛妯兼暬濮婃椽宕ㄦ繝鍌滀户闂佺锕ラ悧婊堟晸閼恒儳鍟查柟鍑ゆ嫹?
							sqinfo.setRound(circTask.getRing() + 1);
						}
						else {
							sqinfo.setRound((sqinfo.getRound() % circTask.getRing()) + 1);
						}
						
						if (sqinfo.getRound()%circTask.getRing()==1) {
							sqinfo.setFirsttasktime(now);
						}
					}
					
					sqinfo.setTakequesttime(now);
					sqinfo.setAcceptquesttime(now);
					// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ槐鎺懳熼搹閫涙樊婵＄偑鍊ら崑鍛洪悢鐓庢瀬闁瑰墽绮�电姴顭跨捄渚叚闁归鍏樺畷绋款渻绾攱瀚瑰ù锝呭濞尖晠鏌ょ粙璺ㄤ粵婵炲懌鍨虹换娑氾拷鐢殿焾瀛濆銈嗗灥濞层倝鎮鹃崹顐ょ懝闁跨喍绮欓幃锟狀敃閿曪拷閻愬﹪鏌曟繛褝鎷锋俊淇卞姂濮婃椽宕崟顒�娅ら梺璇″枛閸婂灝顕ｆ繝姘╅柍鍝勫�告禍鐐烘⒑缁嬫寧婀扮紒瀣灴椤㈡棃鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞诲�楅崰濠囧础閻愭祴鎷绘繝纰樺墲閻撯剝绂嶉崼鏇炶摕闁挎繂顦伴崑鍕煕濠靛嫬鍔ら柣鎾冲�圭换婵嬪煕閿熶粙宕熼崹顐ゆ毉闂備浇妗ㄧ欢锟犲闯閿濆宓侀柟鐑樺殾閺冨牊鏅稿ù鐘差儏閸ㄥ倿鏌涘畝锟介崑鐐烘偂閺囥垺鍊堕柣鎰祷濡炬悂鏌涢妶鍡樷拻闁瑰弶鎮傞幃褔宕煎┑鍫㈡嚃闂備胶顭堥鍛村磹閸ф宓侀柡宥冨妽缂嶅洭鏌涢幘妤�鎯欓幋锔解拺閻熸瑥瀚徊濠氭煏閸埄鐒炬い顐㈢箻閹煎綊宕烽鐘靛幆婵犵數鍋涘Λ娆撳磿閹惰棄绀堟い鎺戝閳锋垿鏌涘┑鍡楊仾闁革綀娅ｇ槐鎺旓拷锝庡亞婢х敻鏌熼鏂よ�跨�规洘锕㈤、娆戞喆閿濆棗顏归梻鍌欑濠�閬嶁�﹂崼婢濊顦版惔锝勭瑝闂佺懓澧界划顖炴偂濞嗘挻鐓曢柟閭﹀幘閸欙拷闂佸憡鐟ョ�氼噣鏁撻懞銉晱闁哥姵鐗犲畷顖炲锤濡わ拷閻撴繈骞栧ǎ顒�濡肩紒鐙呯秮閺岋絽螣绾拌鲸娈扮紓浣稿船瀵埖绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮介鐐殿槷闂佺鎻粻鎴﹀垂閸屾粎纾藉ù锝堝亗閹存績鏋嶉煫鍥ㄧ♁閳锋帡鏌涚仦鍓ф噭缂佷胶澧楅妵鍕即閻斿搫鈷岄悗瑙勬磻閸楀啿顕ｆ禒瀣垫晝闁靛牆娴傚Σ绋库攽閻樺灚鏆╁┑顔芥綑鐓ら柕鍫濇川娑撳秹鏌涢敂璇插箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旀慨妯垮煐閻撴洟鎮楅敐鍛暢缂佲槄鎷烽梻浣告惈婢跺洭宕滃┑鍡╁殫闁告洦鍓涚弧锟介梺鍛婃处娴滐絽顬婇崨濠佺箚闁绘劦浜滈敓濮愬�濆畷婊冣枎瀵邦偅绋戦埞鎴﹀幢閳哄倻绋佺紓鍌氬�烽悞锕佹懌婵犳鍨遍幐鎶藉蓟瑜戠粻娑㈠即閻旈攱鐣紓鍌欑劍椤ㄦ劗妲愰弴鐘愁潟闁规儳鐡ㄦ刊鎾煣韫囨洘鍤�缂佹绻濆娲川婵犲啠鎷归梺鑽ゅ暱閺呯娀骞冩导鎼晩閻犳亽鍔庨弶绋库攽閻愭潙鐏﹂柣鐕傜畱閳诲秹濮�閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷
					CatchItQuest.addCatchItQuestTimer(roleid, questid, sqinfo.getId());
					if (firsttime == 1)
						CircleTaskManager.getInstance().refresh2role(sqinfo, roleid, true);
					else
						CircleTaskManager.getInstance().refresh2role(sqinfo, roleid, false);
				}
				
				return true;
			}
		}.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 741906;

	public int getType() {
		return 741906;
	}

	public long roleid;
	public long npckey;
	public int npcid;
	public int mapid;
	public int battleid; // 战斗信息
	public int posx;
	public int posy;
	public int posx1;
	public int posy1;
	public java.lang.String name;
	public int givetasknpcid; // 给予任务的npcid
	public int questtype; // 子任务类型
	public int questid; // 子任务ID
	public int teamnum; // 队伍人数,0表示不需要组队
	public byte firsttime; // 1 表示从NPC处接取任务, 0 表示自动接取的

	public MCreateNpcForCatchIt() {
		name = "";
	}

	public MCreateNpcForCatchIt(long _roleid_, long _npckey_, int _npcid_, int _mapid_, int _battleid_, int _posx_, int _posy_, int _posx1_, int _posy1_, java.lang.String _name_, int _givetasknpcid_, int _questtype_, int _questid_, int _teamnum_, byte _firsttime_) {
		this.roleid = _roleid_;
		this.npckey = _npckey_;
		this.npcid = _npcid_;
		this.mapid = _mapid_;
		this.battleid = _battleid_;
		this.posx = _posx_;
		this.posy = _posy_;
		this.posx1 = _posx1_;
		this.posy1 = _posy1_;
		this.name = _name_;
		this.givetasknpcid = _givetasknpcid_;
		this.questtype = _questtype_;
		this.questid = _questid_;
		this.teamnum = _teamnum_;
		this.firsttime = _firsttime_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(roleid);
		_os_.marshal(npckey);
		_os_.marshal(npcid);
		_os_.marshal(mapid);
		_os_.marshal(battleid);
		_os_.marshal(posx);
		_os_.marshal(posy);
		_os_.marshal(posx1);
		_os_.marshal(posy1);
		_os_.marshal(name, "UTF-16LE");
		_os_.marshal(givetasknpcid);
		_os_.marshal(questtype);
		_os_.marshal(questid);
		_os_.marshal(teamnum);
		_os_.marshal(firsttime);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		roleid = _os_.unmarshal_long();
		npckey = _os_.unmarshal_long();
		npcid = _os_.unmarshal_int();
		mapid = _os_.unmarshal_int();
		battleid = _os_.unmarshal_int();
		posx = _os_.unmarshal_int();
		posy = _os_.unmarshal_int();
		posx1 = _os_.unmarshal_int();
		posy1 = _os_.unmarshal_int();
		name = _os_.unmarshal_String("UTF-16LE");
		givetasknpcid = _os_.unmarshal_int();
		questtype = _os_.unmarshal_int();
		questid = _os_.unmarshal_int();
		teamnum = _os_.unmarshal_int();
		firsttime = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof MCreateNpcForCatchIt) {
			MCreateNpcForCatchIt _o_ = (MCreateNpcForCatchIt)_o1_;
			if (roleid != _o_.roleid) return false;
			if (npckey != _o_.npckey) return false;
			if (npcid != _o_.npcid) return false;
			if (mapid != _o_.mapid) return false;
			if (battleid != _o_.battleid) return false;
			if (posx != _o_.posx) return false;
			if (posy != _o_.posy) return false;
			if (posx1 != _o_.posx1) return false;
			if (posy1 != _o_.posy1) return false;
			if (!name.equals(_o_.name)) return false;
			if (givetasknpcid != _o_.givetasknpcid) return false;
			if (questtype != _o_.questtype) return false;
			if (questid != _o_.questid) return false;
			if (teamnum != _o_.teamnum) return false;
			if (firsttime != _o_.firsttime) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)roleid;
		_h_ += (int)npckey;
		_h_ += npcid;
		_h_ += mapid;
		_h_ += battleid;
		_h_ += posx;
		_h_ += posy;
		_h_ += posx1;
		_h_ += posy1;
		_h_ += name.hashCode();
		_h_ += givetasknpcid;
		_h_ += questtype;
		_h_ += questid;
		_h_ += teamnum;
		_h_ += (int)firsttime;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(roleid).append(",");
		_sb_.append(npckey).append(",");
		_sb_.append(npcid).append(",");
		_sb_.append(mapid).append(",");
		_sb_.append(battleid).append(",");
		_sb_.append(posx).append(",");
		_sb_.append(posy).append(",");
		_sb_.append(posx1).append(",");
		_sb_.append(posy1).append(",");
		_sb_.append("T").append(name.length()).append(",");
		_sb_.append(givetasknpcid).append(",");
		_sb_.append(questtype).append(",");
		_sb_.append(questid).append(",");
		_sb_.append(teamnum).append(",");
		_sb_.append(firsttime).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

