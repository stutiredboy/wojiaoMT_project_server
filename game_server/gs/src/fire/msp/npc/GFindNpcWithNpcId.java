
package fire.msp.npc;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import fire.pb.activity.timernpc.TimerNpcService;
import fire.pb.game.SUseXueYueKey;
import fire.pb.map.Npc;
import fire.pb.map.Role;
import fire.pb.map.RoleManager;
import fire.pb.map.SceneNpcManager;
import fire.pb.scene.movable.NPC;
import fire.pb.talk.MessageMgr;
import fire.pb.util.Misc;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __GFindNpcWithNpcId__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class GFindNpcWithNpcId extends __GFindNpcWithNpcId__ {
	@Override
	protected void process() {
		// protocol handle
		int actId = TimerNpcService.getInstance().getActId(npcid);
		//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愰崨鍌滃枛瀹曨偊宕熼锟介敓钘夐叄濮婅櫣绱掑Ο铏圭懆闂佹寧娲忛崕鍨繆閻㈢绀嬫い鏂垮⒔閺夋悂姊虹憴鍕婵炲鐩崺娑㈠醇閵夛腹鎷洪柡澶屽仦婢瑰棝藝閿斿浜滈柟瀛樼箖閸犳ɑ顨ラ悙宸█鐎规洏鍔嶇换婵嬪礃閵娿儱韦闂傚倷绶氬褔鈥﹂崼銉ョ？闁规儼濮ら崑顏堟煕閺囥劌鐏￠柍閿嬪灴濮婂宕奸悢宄扮闂佸壊鍋侀崕閬嶆偪閻愵剛绠鹃柟瀛樼懃閻忣亪鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鍙夘焽閹广垹鈽夐姀鐘殿吅濠电娀娼уΛ婊堝春閻愮儤鈷戦柛婵嗗閸庡秹鏌涙繝鍐疄鐎殿喛顕ч埥澶娢熼柨瀣拷濠氭椤愩垺澶勬俊顐㈢箰铻為柣鎰劋閳锋垿鎮楅崷顓烆�屾繛鍏煎姍閺屾盯濡搁妷锕�浠村Δ鐘靛仜閸燁偊鍩㈡惔銊ョ鐎规洖娲ㄩ崢顒�鈹戦悩顔肩伇闁糕晜鐗為幗顐︽⒑閹稿海鈼ョ紒鑸佃壘椤繘宕崟鎳峰洤鐐婄憸蹇涘礉閹绢喗鈷戦柛鎾瑰皺閸樻稑霉濠婂簼绨绘い鏇秮瀵濡烽敃锟芥禍褰掓⒑閼测斁鎷￠柛鎾磋壘閳绘挻銈ｉ崘鈹炬嫼濠殿喚鎳撳ú銈夋倶閳哄懏鐓欓悹鍥囧懐鐦堥悗娈垮枟閻擄繝鐛弽銊﹀闁革富鍘煎鎶芥⒒娴ｈ櫣甯涙繛鍙夌墵瀹曟劙宕烽銊﹀婵鍋撶�氾拷
		if (actId == -1) {
			return;
		}
		
		boolean findit = false;
		int findmapid = 0;
		int findposx = 0;
		int findposy = 0;
		long npckey = 0;
		
		Role sceneRole = RoleManager.getInstance().getRoleByID(roleid);
		int roleMapid = sceneRole.getMapId();
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆欑穿闂備浇娉曢崰鎰板几閼姐倗涓嶉柟鎯х－閺嗭箑鈹戦崒婊庣劸妞ゎ偄鎳橀弻宥夊Ψ閵夈儲姣愮紓浣靛妸閸庨潧顫忕紒妯诲缂佹稑顑嗙紞鍫熺節閵忋垺鍤�婵☆偅鐟╁鑼崉娴ｆ洘妫冨畷銊╊敇閻欏懐骞㈤梻浣筋嚙閸戠晫绱為崱娑樼獥婵°倕鎳忛崑鍌炴煛閸ャ儱鐏柣鎾冲暣閺屽秵娼幍顕呮М闂佸搫顑冮崐鏍崲濞戙垹閱囨い鎺戝�昏ⅵ闂備礁鎼悮顐﹀磹濠靛绠栫憸鏂跨暦閻撳簶鏀介柟閭﹀墯閻ゅ倿姊婚崒娆戠獢婵炰匠鍏犳椽濡堕崶閿嬪婵鍘ч悘锝囩磼椤旀鍤欓柍钘夘樀婵拷闁绘ɑ顔栭崯瀣⒒娴ｅ憡鎯堟い锔垮嵆瀹曞綊宕归銈庢锤闁荤娀缂氶妴锟介柡锟芥禒瀣厽闁归偊鍨伴惃娲煙閻ｅ苯啸缂佽鲸甯￠、娆撴嚃閳哄啩绱樼紓鍌欐祰娴滎剟宕戦悙鍨床婵犻潧顑呴悙濠勬喐閹达箑绠洪柡鍥ュ灪閳锋垹绱撴担鑲℃垿鍩涢幒妤佺厱婵☆垳濮撮幊鎰▔瀹ュ棙鍙忔俊顖氭健閸濇椽鏌涢悩鍐插闁跨喕妫勭粻宥夊磿闁单鍥敍濮ｅ灕鍥ц摕闁靛鍎虫鍥⒑閸撴彃浜濈紒瀣灦娣囧﹦绮欏Λ鐢垫嚀椤劑宕熼鐘靛帨闂備礁鎼張顒�煤閻旈鏆﹂柣鎾崇岸閺�浠嬫煕閵夋垵瀚锋禒顓㈡⒒閸屾瑧鍔嶉柟顔肩埣瀹曟劙寮撮悘缁樻そ椤㈡﹢濮�閻樼儤鎲伴梻浣虹帛濮婂鍩涢崼銉ユ瀬濠电姴娲﹂悡鐔兼煙閹冩毐妞ゆ帇鍨虹粋宥呪槈閵忊檧鎷绘繛杈剧到閹芥粓寮搁崘鈹夸簻闁哄洤妫楅崰姘焽閳哄懏鐓ラ柡鍌氱仢閳锋柨鈽夐幘宕囆ｇ紒缁樼洴楠炲鈻庤箛鏇氭偅缂傚倷绶￠崑鍕矓瑜版帒钃熼柣鏃傚皑閹风兘鎮藉▓璺ㄥ姼闂佸憡鎸哥壕顓犳閹烘挻缍囨い顓熷灦閻や礁鈹戦纭峰伐妞ゎ厼鍢查悾鐑藉箳閹存梹鐎婚梺鐟邦嚟婵嘲鐣烽崣澶岀瘈闁汇垽娼ф禒鈺侇熆閻熸壆澧曢柣锝囧厴濡啫鈽夐崡鐐搭唫濠电姷鏁告慨鏉懨洪敃鍌氱；闁冲搫鍠涢幏鐑芥儌閸涘﹤顏堕梻浣芥硶閸犳捇寮查銈呭灊闁割偆鍠撶弧锟介梺绋挎湰椤ㄥ棝寮敓浠嬫⒒娴ｈ櫣甯涢柨姘憋拷娈垮枛閻栧ジ鐛弽顓炵疀闁绘鐗忛崣鍐⒑閸涘﹤濮﹀ù婊勭矒瀵悂寮崼鐔哄弳闂佺粯姊婚崕銈呪枍閺囩喓绠鹃柛娑卞亜閻忓弶顨ラ悙鑼闁诡喗绮撻幊鐐哄Ψ瑜嶅鎶芥⒒娴ｈ櫣甯涙俊顐＄窔椤㈡俺顦舵い锝堟硶缁辨捇宕掑▎鎴М闂佺锕ゅ﹢閬嶅极椤曪拷閺佹捇鎮╅崣澶岋拷顒勬⒑閸涘﹤濮﹂柛鐘崇墱婢规洟宕楅崗鐓庡伎濠碘槅鍨伴妵姗�宕ラ锔界厸闁糕剝娲栧畵鍡涙煛瀹�瀣М闁诡喓鍨藉畷顐﹀Ψ瑜忛崢鎴犵磽閸屾瑧璐伴柛鐘崇墵閹本绗熼敓浠嬪箖濡》鎷烽敐搴℃灍闁抽攱鍨圭槐鎾存媴閼测剝鍨胯棢闁糕剝顭囩粻楣冩煕濠婂啫鏆熼柟顔惧帶椤法鎲撮崟顒傤槹闂佸湱顭堥敃銉х博閻斿皝鏀介柛鈩冪懅妤旈梻浣芥〃閻掞箓宕濆▎蹇曟殾闁靛ň鏅╅弫濠囨煢濡警妲稿鐟扮Ч濮婅櫣鎷犻幓鎺濆妷缂備礁顑嗙敮鐐哄箲閵忋倕閱囬柕澶堝劤閻ｅ搫鈹戞幊閸婃洟宕鐐茬獥闁糕剝绋掗悡鏇㈡煛閸ャ儱濡煎褜鍠楅妵鍕晜鐟欏嫭鐝氬┑顔硷攻濡炶棄鐣烽妸锔剧瘈闁告劑鍔嶅▓顐︽⒒娴ｅ憡鎲稿┑顔炬暬閹囨偐缂佹ê浠掑銈嗘穿閹烽锟借娲橀敃銏ゅ灳閿旀拝鎷烽敐搴′簼闁靛洦绻冮妵鍕閳╁喚妫冮悗瑙勬磸閸旀垿銆佸▎鎴犻┏閻庯絺鏅滈崺娑㈡⒒閸屾艾锟芥悂宕愬畡鎳婂綊宕惰閺嬫牠鏌￠崶銉ョ仼闂傚偆鍨堕弻銊╁即閻愯鎷烽崫銉т笉妞ゆ牜鍋為悡銉╂煟閺囩偛锟藉湱锟芥熬鎷�
		fire.pb.scene.movable.Role role = fire.pb.scene.manager.RoleManager.getInstance().getRoleByID(roleid);
		Map<Long, NPC> allNpcInScreens = role.getAllNpcsInScreens();
		for (NPC npc : allNpcInScreens.values()) {
			if (npc.getNpcID() == npcid) {
				findit = true;
				findmapid = npc.getScene().getMapID();
				findposx = npc.getPos().toGridPos().getX();
				findposy = npc.getPos().toGridPos().getY();
				npckey = npc.getNpcKey();
				break;
			}
		}
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙寮稿☉銏＄厱闁靛濡囩粻鐐搭殽閻愬澧懣鎰亜閹虹偞瀚归梺璇叉禋娴滄繄鎹㈠☉銏犲窛妞ゆ牗顕撮敐鍚冲酣宕惰闊剙鈹戦垾宕囧煟鐎规洏鍔戦、娆撳礂绾板彉鍝楃紓鍌氬�搁崐鐑芥嚄閼稿灚鍙忛柟鎯版绾拷闂佽鍎煎Λ鍕嫅閻斿摜绠鹃柟瀵稿�戝顑╋綁宕奸悢绋垮伎濠德板�ч幏鐑芥煟濡わ拷閿曨亜顕ｉ锕�绠氱憸澶愬绩娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆牊顥夐柍瑙勫灴閹粓宕堕妸銉紦闂傚倸鍊风粈渚�骞栭锔藉剹濠㈣泛鑻欢銈夋煕婵犲嫬鏋斿ù婊�绮欏缁樻媴閻熸澘濮㈢紓浣虹帛閿曘垽寮幘缁樺殟闁靛／渚婃嫹閹烘埈娓婚悷娆忓閳绘洘鎱ㄦ繝鍕笡闁瑰嘲鎳樺畷銊︾節閸愩劍鐎炬繝鐢靛У椤旀牠宕板Δ锟介…鍥р枎閹烘柧缃曞┑鐘垫暩婵烇拷婵炰匠鍥舵晞闁告稑鐡ㄧ�氬懘鏌ｉ弬鎸庢喐缂佺娀绠栭弻鐔猴拷娑欘焽閹冲啴鏌ｈ箛濠冩珚闁哄矉缍侀獮鎺楀箻濞ｎ兛铏庨梻浣告惈閺堫剟鎯勯鐐靛祦闁搞儺鍓欑粈鍌炴煕濠靛嫬鍔滈悗鍨矋缁绘繄鍠婂Ο鍝勨拤閻熸粍婢橀崯鎾箖瑜斿畷鍗炩槈濡厧骞嬮梻浣侯攰閹活亪姊介崟顖氱９闁绘垼濮ら悡鏇熺箾閸℃绂嬫俊鍙夋倐閺岋絽鈹戦崶銊㈡嫽缂備浇椴搁幑鍥х暦閹烘埈娼╂慨锝嗙懕缁辨洜妲愰幒妤佹櫢闁兼亽鍎抽悷褰掓煥閻斿墎鐭欓柡浣瑰姍閹瑩宕滄担鐑樻緫闂備胶鎳撹ぐ鐐烘倿閿曪拷椤啯绂掔�ｎ煉鎷锋笟锟藉顕�宕煎┑鍫Ч婵＄偑鍊栭幐鍡涘礃閳哄倹绶梻鍌氬�搁崐鎼佸磹妞嬪海鐭嗗ù锝夋交閼板潡姊洪锟界粔瀵稿閸ф鐓忛柛顐ｇ箥濡插摜绱掗悩铏凡闁宠鍨块幃鈺冿拷鍦Т椤ユ繄绱撴担鍝勵�岄柛銊ㄦ硾椤繐煤椤忓秵鏅㈤梺璺ㄥ枔閺咁偆鍒掗弮鍫熷仺缂佸娉曢崢閬嶆⒑閻熼偊鍤熼柛瀣仱瀹曪綀绠涘☉娆戝幗闂佺粯鏌ㄩ幖顐︺�傛總鍛婄厵闁稿繒鍘ф慨宥夋煛鐏炲墽娲寸�殿噮鍣ｉ弫鎾绘寠婢跺本娈曢梺褰掓？缁�渚�鎷戦悢鍏肩厽闁哄倸鐏濋幃鎴︽煙椤栨粌浠﹂柕鍥у楠炲洭鎳滈棃娑变紦濠碉紕鍋戦崐鏇犳崲閹扮増鍋嬫繝濠傜墕閺嬩線鎮楅敐搴℃灍闁绘挶鍎茬换婵嬫濞戞瑱绱炲┑鈥冲级閹倿寮诲☉銏犖╅柕澶堝劵閹风柉銇愰幒鎳筹箓鏌涢弴銊ョ仩缂佺姵鐩弻宥嗘姜閹峰苯鍘℃繛瀵稿帶鐎氼喚妲愰幘瀛樺闁荤喐婢橀～搴ㄦ⒑缁嬫鍎嶉柛濠冪箓椤曪絾绻濆顓熸珳闂佺硶鍓濋敋闁告柨鎳庨—鍐Χ閸℃瑥顫х紓渚囧枛鐎涒晠鎮ф惔銏㈢瘈闁汇垽娼ф禒婊堟煟鎺抽崝搴ㄥ礆閹烘洜鐤�闁圭虎鍨遍悘鍐ㄢ攽閻愭潙鐏︾紒顔煎缁傚秹鏌嗗鍡忔嫽婵炶揪缍�濞咃絿鏁☉銏＄厸閻忕偠顕ф慨鍌滐拷瑙勬磸閸庢娊鏁撻弬銈囩У闁哥姵鐗犻幃锟犲即閵忥紕鍘甸柡澶婄墦缁犳牕顬婇锟介弻宥夋煥鐎ｎ亝璇為梺鍝勬湰閻╊垶銆侀弴銏℃櫜闁搞儴鍩栧▓瑙勭節閻㈤潧浠滈柟鍐查铻炴繝闈涱儏缁犳牗淇婇妶蹇斿濡炪値鍋呯换鍫ュ箖濞嗘搩鏁嗛柨鐔剁矙椤㈡棃鏁撻敓锟�?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡缂佺粯绻傞銉╂煥鐎ｎ偆鍑￠梺璺ㄥ枙婵倕煤閻旇偐宓佸┑鐘叉噽閻わ拷濠电偞鍨堕…鍥晬濞戙垺鈷戦悹鎭掑妼閺嬫柨鈹戦鐐毈闁诡啓銈囩杸闁瑰灝鍟伴崬鐢告煟閻樿崵绱版繛鍜冪稻閺呭爼寮撮姀锛勫幈闂佸搫鍟崐褰掑汲椤掑嫭鐓涢悘鐐额嚙閿熻姤绻堥獮鍐樄鐎规洜鍘ч埞鎴﹀箛椤掍胶鏉洪梻鍌氬�风欢姘焽瑜嶇叅闁靛牆娴勯幏宄邦潩閻撳海浠紓渚囧枦椤曆囧煡婢舵劕顫呴柣妯活問閸熷姊绘担鍛婃儓妞わ缚鍗冲畷褰掑垂椤愩値娲搁柣鐘荤細閵嗭拷闁猴拷娴犲鐓熼柟閭﹀灠閻ㄦ椽鏌熼悾灞叫ョ紒杈ㄥ浮椤㈡瑩鎳栭埡鍐х礃缂傚倷娴囨禍顒勫磻閻愬灚宕叉繝闈涱儏閻愬﹦鎲搁幋锕�绠洪柡鍥ュ灪閳锋垹绱撴担鑲℃垿鍩涢幒妤佺厱婵☆垳濮撮幊鎰▔瀹ュ棙鍙忔俊顖氭健閸濇椽鏌涢悩鍐插闁跨喕妫勭粻宥夊磿闁单鍥敍濮ｅ灕鍥ц摕闁靛鍎虫鍥⒑閸撴彃浜濈紒瀣灦娣囧﹦绮欏Λ鐢垫嚀椤劑宕熼鐘靛帨闂備礁鎼張顒�煤閻旈鏆﹂柣鎾崇岸閺�浠嬫煕閵夋垵瀚锋禒顓㈡⒒閸屾瑧鍔嶉柟顔肩埣瀹曟劙寮撮悘缁樻そ椤㈡﹢濮�閻樼儤鎲伴梻浣瑰缁嬫垹锟芥凹浜滈埢浠嬵敂閸喓鍘遍梺鍦亾椤ㄥ懐锟芥凹鍓熷畷褰掓焼瀹ュ棌鎷绘繛杈剧秬婵倝濡撮崘顏嗙＜闁跨喕濮ょ粭鐔兼晸閽樺鏆﹂柟鐗堟緲闁裤倖淇婇妶蹇斿缂備胶濮锋繛锟介柡宀嬬秮楠炲洭顢楁担鐟板壍闂佸摜鍎愰崹鍫曞箖瀹勯偊鐓ラ柛鎰碉拷顖嗗拑鎷风憴鍕闁轰礁顭烽悰顕�骞掑Δ锟界粻濠氭煕閹捐尪鍏屾俊鎻掓喘濮婄粯鎷呴崷顓熻弴闂佹悶鍔忓Λ鍕�﹂崶顏嶆Ъ缂備礁鍊圭敮鎺椻�﹂妸鈺侀唶闁绘柨鎼獮妤呮⒑閸︻厼鍔嬪┑鐐诧工閻ｅ嘲鈹戠�ｎ亞顓洪梺鎸庢穿閹风兘鏌＄�ｂ晝绐旈柡灞剧洴楠炲洭妫冨☉娆戜邯婵＄偑鍊ら崑鍕箠濮楋拷瀵寮撮姀鐘诲敹濠电娀娼уú锕傚箖濞嗘垹纾藉ù锝夘棑缁涘繒绱掗悩铏碍妞ゎ偄绻橀幖鍦喆閸曨偆锛忛梻渚�娼ч…鍫ュ磿閺屻儲鍋熼柕蹇嬪�栭埛鎴︽煟閻斿憡绶叉繛鍫氭櫊閺岀喖宕欓妶鍡楊伓?
		if (!findit) {
			xbean.timerNpcInfoCol npcInfo = xtable.Timernpcinfotable.select(actId);
			if (npcInfo == null) {
				return;
			}
			
			List<Long> npcList = new ArrayList<Long>();
			for (Map.Entry<Long, xbean.timerNpcInfo> npcinfos : npcInfo.getNpcinfo().entrySet()) {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ槐鎺懳熼搹閫涚礃婵犵妲呴崑鍕拷姘緲椤曪綁宕ㄦ繝鍕嚌闂佽法鍠嶇划娆忣嚕婵犳碍鍋勯柛蹇撶毞閹峰鏌ｆ惔銊︽锭濠㈢懓锕ゅ嵄妞ゆ柨澧界壕钘壝归敐鍛儓閸熷憡绻濋悽闈涘壋闁归鍏樺娲传閸曨厾浼囬梺鍝ュУ閻楃娀鐛崘銊㈡瀻闁瑰灝鍟弲銏ゆ⒑鐠恒劌鏋嶇紒顔界懃閻ｅ嘲鈹戦崼鐔风／闁荤偞绋堥崜婵嬪棘閿熻姤淇婇悙顏勶拷鏍涙担鑲濇盯宕熼姘卞幒闂佸搫娲㈤崹娲偂濞戞熬鎷烽惂鍛婂闁诲函缍嗛崜娑溾叺濠碉紕鍋戦崐鎴﹀垂濞差亗锟藉啴宕卞Δ濠傛闂佸憡娲﹂崣蹇涘箯閻戣姤鏅查幖绮癸拷鑼泿婵犵數鍋涢悧鍡楊嚗婵犲洦鈷掗柛灞捐壘閿熻姤鎮傚畷鎰板箹娴ｅ摜锛欓梺褰掓？缁�浣哄瑜版帗鐓熼柟杈剧到琚氶梺绋匡工濞硷繝寮婚妸鈺佸嵆闁绘劘顕滈幏鐤亹閹烘垹锛熼梺鐟邦嚟婵敻宕伴幇鐗堢厽婵°倧鎷烽柣妤�妫涚划顓㈠箳閺冨倻锛滈梺璺ㄥ枙婵倕顕ラ崟顐ゆ殕閻庯綆鍋勯鍫曟⒑鐠嬪骸鍟崯鐐烘倵濮橆剛绉烘慨濠呮閹瑰嫰濡搁妷锔撅拷铏圭磽娓氬洤鏋熼柣鐔叉櫅椤曪綁顢曢敃锟界粻鑽ょ磽娴ｅ顏勨枔閻斿吋鈷戦梻鍫熶緱濡插爼鏌涙惔鈥宠埞鐞氭瑩鏌涢鐘插姕闁抽攱鍨块弻娑樷攽閸曨偄濮庨柡宥侊拷鎰佹富闁靛牆鍟俊濂告煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾濠靛倻顭堝敮闂侀潧顦花鍫曞疾閻樿钃熺�广儱妫欐慨婊堟煙瀹勬媽瀚伴柛妯凤拷鎰佹富闁靛牆妫欓埛鎰版煕閺冿拷閻楁粓骞戦姀鐘婵炲棙鍔楃粔鍫曟⒑閸涘﹥瀵欓柛鎰╁妿閸樻帡姊婚崒娆掑厡妞ゃ垹锕ラ幈銊╁Χ閸パ冪亰闂佽宕橀褏绮婚弽顬棃鏁愰崨顓熸闂佸搫鎳忛幃鍌炲蓟閵娾晜鍋嗛柛灞剧☉椤忥拷? 0=缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繐鐖奸弻锝嗘償閵忊晛鏅遍梺鍝ュУ瀹�绋款嚕椤愶絿绡�婵ǜ鍎婚幏閿嬫媴閼叉繃妫冨畷銊╊敊閼恒儺浠ф繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁稿瞼鍋為弲鎼佹煠閹帒鍔滄い銉ョ墢閿熷�燁潐濞叉﹢鏁冮姀銈冿拷浣糕枎閹炬潙鐧勬繝銏ｆ硾閺堫剟顢撳鍡欑瘈闁汇垽娼цⅷ闂佹悶鍔岀紞濠傜暦閵忕媭鐓ラ柛顐ｇ箘閺屟冣攽閻樿宸ラ柣妤�锕畷鏇熸償閳ь兛绨婚梺鍝勭▉閸嬪嫭绂掑鍫熺厸閻庯絺鏅濈粣鏃堟煛瀹�锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮婚敓鐘插窛妞ゆ棁妫勯敓鑺ュ姍閺岋紕浠︾拠鎻掝潎闂佽鍠撻崐婵嗙暦閹烘垟妲堟慨妤�妫旂槐锟� 1=闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮诲☉姘炬嫹閿濆啫濡奸柨鐔诲Г缁诲牆顕ｆ繝姘嵆闁绘棁娅ｉ鏇㈡⒑閸撹尙鍘涢柛鐘崇墵閳ユ牗寰勯幇顓涙嫼闂佽崵鍠愬姗�寮抽柆宥嗙厽妞ゆ挾鍋涢敓鑺ユ倐閿濈偠绠涢弴鐘碉紲濠碘槅鍨甸褔顢撻幘缁樷拺闁告稑锕﹂埥澶愭煥閺囨ê鍔︾�规洘娲熼獮姗�骞囨担鐟扮槣闂備線娼ч悧鍡椢涘Δ鍛�堕柕澶涘缁犲墽锟界懓澹婇崰鏍嵁閺嶎厽鐓熼柨婵嗩槹閺侀亶鎮楅棃娑栧仮鐎殿喖鐖奸獮瀣偐閸偅绶繝纰夌磿閸嬫垿宕愰弽顓炶摕闁靛闄勫▍鐘裁归悩宸剱闁稿鍊块弻鐔煎礈瑜忕敮娑㈡煃闁垮鐏撮柟顔肩秺楠炰線骞掗幋婵愮�虫繝鐢靛仜閹冲繘宕濆▎鎾宠摕闁绘梻鍘х粈鍕煏閸繃顥滄い蹇ユ嫹? 2=闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰效闁挎繄鍋涢埞鎴狅拷锝庡亝濞呭洭姊虹粙璺ㄧ効濠碘�虫川缁瑨绠涢弮鍌滅槇闂侀潧楠忕徊浠嬫偂閹扮増鐓曢柡鍐挎嫹闁绘濮撮悾鐑藉箣閿曪拷鍥存繝銏ｆ硾椤戝洭宕㈤幖浣光拺闁硅偐鍋涢崝妤呮煛閸涱喚鈽夐柣顭戝墴濮婄粯鎷呴搹鐟扮闁汇埄鍨辩敮锟犲极閸愵喖唯鐟滃骸鐣烽崣澶岀闁瑰瓨鐟ラ悘鈺傤殽閻愵亜鐏ǎ鍥э躬椤㈡稑鈹戦崶鏈靛摋濠电偛顕慨鐢稿箰閸愬樊娼栨繛宸簻缁犲綊鏌ｉ幇顓炵祷妞ゎ剙顦辩槐鎾存媴缁涘娈梺缁橆殕閹告悂顢氶敐鍥ㄥ珰鐎瑰壊鍠栭幃鎴炵節閵忥絾纭剧拫鈺呮煏婵炵偓娅嗛柣鎾卞劦閺岋繝宕橀妸銉嫹閻熸壋鏋嶉柡鍥╀紳瑜版帗鍋傞幖娣灪閹瑩姊虹�圭媭娼愰柛銊ユ健瀹曟椽宕熼姘鳖槰闂侀潧臎閸涱偄浠梻鍌氬�烽懗鍓佸垝椤栫偑锟藉啴宕卞☉妯碱唹闂佹悶鍎滅仦鑺ヮ吙闂佽崵濮村ú锔剧矈閺夋嚦锝夊醇閵夛妇鍘棅顐㈡搐閿曘儱鈻嶉崱娑欑厸闁告侗鍠氱粻鐐存叏婵犲啯銇濇鐐村姈閹棃鏁愰崶鈺傛濠电姷鏁搁崑娑㈡儑娴兼潙绀夐幖绮瑰灳閿濆绠涢柣妤�鐗嗘禍閬嶆⒑閸撴彃浜栭柛銊ヮ煼椤㈡瑩寮撮姀锛勫幗闁瑰吋鐣崹濠氬煢娴ｅ箍浜滄い鎾跺仦閸犳﹢鏌熼鎸庣彧缂佺粯绻傞～婵嬵敇閻樻彃绠ラ梻鍌欑閹诧繝宕归鐐茬９闁哄稁鍋撻幏宄邦潩閻愵剙顏�
				if (npcinfos.getValue().getNpcstatus() == 0) { //濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愮喐娅囩紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀佹竟濠囧磻閸℃稑绐楅柟鎹愭硾婵剟鏌ㄩ悢鍓佺煓婵﹤顭峰畷鎺戭潩閸楃儐鏉哥紓鍌欑椤戝棛鏁敓鐘叉瀬鐎广儱顦猾宥夋煕椤愩倕鏋旈柛姗�绠栧娲传閸曞灚歇濠电偛顦板ú妯肩矉閹烘顫呴柕鍫濇－濮婃寧绻濋姀锝呯厫闁告梹鐗犻幃锟犲Ψ閿斿墽鐦堥梻鍌氱墛缁嬫帡藟閻愮鎷烽悷鐗堝暈缂佽鐗撳濠氬即閵忕姴鑰垮┑掳鍊曢鍡涘极閻愵剛绠鹃柨婵嗘噺閹兼劙鏌ㄩ弴銊ら偗闁绘侗鍣ｉ獮妯兼嫚閼碱剦鍞洪梻浣告惈閸婂摜鑺遍柆宥呯煑婵炲樊浜濋埛鎺懨归敐鍛暈闁诡垰鐗撻弻锟犲醇椤愩垹鈷嬮梺璇″灠鐎氫即銆佸☉銏″�锋い蹇撳鐎氱懓銆掑鐐閻庢鍠楅幐铏叏閿熶粙鏌嶉埡浣告殲闁绘繃濞婂缁樻媴鐟欏嫬浠╅梺绋垮瘨閸ｏ絽顕ｉ幓鎺嗘斀闁割偁鍨婚獮鎾斥攽鎺抽崐褔骞忛悜鑺ョ厓閻熸瑥瀚悘鎾煙椤旂晫鎳囬柟宕囧█椤㈡鎷呴悷鐗堢亪缂傚倸鍊搁崐椋庢閿熺姴闂い鏍ㄧ矌缁�濠傘�掑鐐闂佺粯渚楅崰娑氱不濞戞ǚ妲堟繛鍡樺姈椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷
					npcList.add(npcinfos.getKey());
				}
			}
			
			for (Long npckeyy : npcList) {
				Npc npc = SceneNpcManager.selectNpcByKey(npckeyy);
				if (npc == null)
					continue;
				
				if (roleMapid == npc.getMapId()) {
					findit = true;
					findmapid = roleMapid;
					findposx = npc.getPos().toGridPos().getX();
					findposy = npc.getPos().toGridPos().getY();
					npckey = npckeyy;
					break;
				}
			}
		}
		
		if (!findit) {
			xbean.timerNpcInfoCol npcInfo = xtable.Timernpcinfotable.select(actId);
			if (npcInfo == null) {
				return;
			}
			
			List<Long> npcList = new ArrayList<Long>();
			for (Map.Entry<Long, xbean.timerNpcInfo> npcinfos : npcInfo.getNpcinfo().entrySet()) {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ槐鎺懳熼搹閫涚礃婵犵妲呴崑鍕拷姘緲椤曪綁宕ㄦ繝鍕嚌闂佽法鍠嶇划娆忣嚕婵犳碍鍋勯柛蹇撶毞閹峰鏌ｆ惔銊︽锭濠㈢懓锕ゅ嵄妞ゆ柨澧界壕钘壝归敐鍛儓閸熷憡绻濋悽闈涘壋闁归鍏樺娲传閸曨厾浼囬梺鍝ュУ閻楃娀鐛崘銊㈡瀻闁瑰灝鍟弲銏ゆ⒑鐠恒劌鏋嶇紒顔界懃閻ｅ嘲鈹戦崼鐔风／闁荤偞绋堥崜婵嬪棘閿熻姤淇婇悙顏勶拷鏍涙担鑲濇盯宕熼姘卞幒闂佸搫娲㈤崹娲偂濞戞熬鎷烽惂鍛婂闁诲函缍嗛崜娑溾叺濠碉紕鍋戦崐鎴﹀垂濞差亗锟藉啴宕卞Δ濠傛闂佸憡娲﹂崣蹇涘箯閻戣姤鏅查幖绮癸拷鑼泿婵犵數鍋涢悧鍡楊嚗婵犲洦鈷掗柛灞捐壘閿熻姤鎮傚畷鎰板箹娴ｅ摜锛欓梺褰掓？缁�浣哄瑜版帗鐓熼柟杈剧到琚氶梺绋匡工濞硷繝寮婚妸鈺佸嵆闁绘劘顕滈幏鐤亹閹烘垹锛熼梺鐟邦嚟婵敻宕伴幇鐗堢厽婵°倧鎷烽柣妤�妫涚划顓㈠箳閺冨倻锛滈梺璺ㄥ枙婵倕顕ラ崟顐ゆ殕閻庯綆鍋勯鍫曟⒑鐠嬪骸鍟崯鐐烘倵濮橆剛绉烘慨濠呮閹瑰嫰濡搁妷锔撅拷铏圭磽娓氬洤鏋熼柣鐔叉櫅椤曪綁顢曢敃锟界粻鑽ょ磽娴ｅ顏勨枔閻斿吋鈷戦梻鍫熶緱濡插爼鏌涙惔鈥宠埞鐞氭瑩鏌涢鐘插姕闁抽攱鍨块弻娑樷攽閸曨偄濮庨柡宥侊拷鎰佹富闁靛牆鍟俊濂告煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾濠靛倻顭堝敮闂侀潧顦花鍫曞疾閻樿钃熺�广儱妫欐慨婊堟煙瀹勬媽瀚伴柛妯凤拷鎰佹富闁靛牆妫欓埛鎰版煕閺冿拷閻楁粓骞戦姀鐘婵炲棙鍔楃粔鍫曟⒑閸涘﹥瀵欓柛鎰╁妿閸樻帡姊婚崒娆掑厡妞ゃ垹锕ラ幈銊╁Χ閸パ冪亰闂佽宕橀褏绮婚弽顬棃鏁愰崨顓熸闂佸搫鎳忛幃鍌炲蓟閵娾晜鍋嗛柛灞剧☉椤忥拷? 0=缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繐鐖奸弻锝嗘償閵忊晛鏅遍梺鍝ュУ瀹�绋款嚕椤愶絿绡�婵ǜ鍎婚幏閿嬫媴閼叉繃妫冨畷銊╊敊閼恒儺浠ф繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁稿瞼鍋為弲鎼佹煠閹帒鍔滄い銉ョ墢閿熷�燁潐濞叉﹢鏁冮姀銈冿拷浣糕枎閹炬潙鐧勬繝銏ｆ硾閺堫剟顢撳鍡欑瘈闁汇垽娼цⅷ闂佹悶鍔岀紞濠傜暦閵忕媭鐓ラ柛顐ｇ箘閺屟冣攽閻樿宸ラ柣妤�锕畷鏇熸償閳ь兛绨婚梺鍝勭▉閸嬪嫭绂掑鍫熺厸閻庯絺鏅濈粣鏃堟煛瀹�锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮婚敓鐘插窛妞ゆ棁妫勯敓鑺ュ姍閺岋紕浠︾拠鎻掝潎闂佽鍠撻崐婵嗙暦閹烘垟妲堟慨妤�妫旂槐锟� 1=闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮诲☉姘炬嫹閿濆啫濡奸柨鐔诲Г缁诲牆顕ｆ繝姘嵆闁绘棁娅ｉ鏇㈡⒑閸撹尙鍘涢柛鐘崇墵閳ユ牗寰勯幇顓涙嫼闂佽崵鍠愬姗�寮抽柆宥嗙厽妞ゆ挾鍋涢敓鑺ユ倐閿濈偠绠涢弴鐘碉紲濠碘槅鍨甸褔顢撻幘缁樷拺闁告稑锕﹂埥澶愭煥閺囨ê鍔︾�规洘娲熼獮姗�骞囨担鐟扮槣闂備線娼ч悧鍡椢涘Δ鍛�堕柕澶涘缁犲墽锟界懓澹婇崰鏍嵁閺嶎厽鐓熼柨婵嗩槹閺侀亶鎮楅棃娑栧仮鐎殿喖鐖奸獮瀣偐閸偅绶繝纰夌磿閸嬫垿宕愰弽顓炶摕闁靛闄勫▍鐘裁归悩宸剱闁稿鍊块弻鐔煎礈瑜忕敮娑㈡煃闁垮鐏撮柟顔肩秺楠炰線骞掗幋婵愮�虫繝鐢靛仜閹冲繘宕濆▎鎾宠摕闁绘梻鍘х粈鍕煏閸繃顥滄い蹇ユ嫹? 2=闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰效闁挎繄鍋涢埞鎴狅拷锝庡亝濞呭洭姊虹粙璺ㄧ効濠碘�虫川缁瑨绠涢弮鍌滅槇闂侀潧楠忕徊浠嬫偂閹扮増鐓曢柡鍐挎嫹闁绘濮撮悾鐑藉箣閿曪拷鍥存繝銏ｆ硾椤戝洭宕㈤幖浣光拺闁硅偐鍋涢崝妤呮煛閸涱喚鈽夐柣顭戝墴濮婄粯鎷呴搹鐟扮闁汇埄鍨辩敮锟犲极閸愵喖唯鐟滃骸鐣烽崣澶岀闁瑰瓨鐟ラ悘鈺傤殽閻愵亜鐏ǎ鍥э躬椤㈡稑鈹戦崶鏈靛摋濠电偛顕慨鐢稿箰閸愬樊娼栨繛宸簻缁犲綊鏌ｉ幇顓炵祷妞ゎ剙顦辩槐鎾存媴缁涘娈梺缁橆殕閹告悂顢氶敐鍥ㄥ珰鐎瑰壊鍠栭幃鎴炵節閵忥絾纭剧拫鈺呮煏婵炵偓娅嗛柣鎾卞劦閺岋繝宕橀妸銉嫹閻熸壋鏋嶉柡鍥╀紳瑜版帗鍋傞幖娣灪閹瑩姊虹�圭媭娼愰柛銊ユ健瀹曟椽宕熼姘鳖槰闂侀潧臎閸涱偄浠梻鍌氬�烽懗鍓佸垝椤栫偑锟藉啴宕卞☉妯碱唹闂佹悶鍎滅仦鑺ヮ吙闂佽崵濮村ú锔剧矈閺夋嚦锝夊醇閵夛妇鍘棅顐㈡搐閿曘儱鈻嶉崱娑欑厸闁告侗鍠氱粻鐐存叏婵犲啯銇濇鐐村姈閹棃鏁愰崶鈺傛濠电姷鏁搁崑娑㈡儑娴兼潙绀夐幖绮瑰灳閿濆绠涢柣妤�鐗嗘禍閬嶆⒑閸撴彃浜栭柛銊ヮ煼椤㈡瑩寮撮姀锛勫幗闁瑰吋鐣崹濠氬煢娴ｅ箍浜滄い鎾跺仦閸犳﹢鏌熼鎸庣彧缂佺粯绻傞～婵嬵敇閻樻彃绠ラ梻鍌欑閹诧繝宕归鐐茬９闁哄稁鍋撻幏宄邦潩閻愵剙顏�
				if (npcinfos.getValue().getNpcstatus() == 0) { //濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愮喐娅囩紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀佹竟濠囧磻閸℃稑绐楅柟鎹愭硾婵剟鏌ㄩ悢鍓佺煓婵﹤顭峰畷鎺戭潩閸楃儐鏉哥紓鍌欑椤戝棛鏁敓鐘叉瀬鐎广儱顦猾宥夋煕椤愩倕鏋旈柛姗�绠栧娲传閸曞灚歇濠电偛顦板ú妯肩矉閹烘顫呴柕鍫濇－濮婃寧绻濋姀锝呯厫闁告梹鐗犻幃锟犲Ψ閿斿墽鐦堥梻鍌氱墛缁嬫帡藟閻愮鎷烽悷鐗堝暈缂佽鐗撳濠氬即閵忕姴鑰垮┑掳鍊曢鍡涘极閻愵剛绠鹃柨婵嗘噺閹兼劙鏌ㄩ弴銊ら偗闁绘侗鍣ｉ獮妯兼嫚閼碱剦鍞洪梻浣告惈閸婂摜鑺遍柆宥呯煑婵炲樊浜濋埛鎺懨归敐鍛暈闁诡垰鐗撻弻锟犲醇椤愩垹鈷嬮梺璇″灠鐎氫即銆佸☉銏″�锋い蹇撳鐎氱懓銆掑鐐閻庢鍠楅幐铏叏閿熶粙鏌嶉埡浣告殲闁绘繃濞婂缁樻媴鐟欏嫬浠╅梺绋垮瘨閸ｏ絽顕ｉ幓鎺嗘斀闁割偁鍨婚獮鎾斥攽鎺抽崐褔骞忛悜鑺ョ厓閻熸瑥瀚悘鎾煙椤旂晫鎳囬柟宕囧█椤㈡鎷呴悷鐗堢亪缂傚倸鍊搁崐椋庢閿熺姴闂い鏍ㄧ矌缁�濠傘�掑鐐闂佺粯渚楅崰娑氱不濞戞ǚ妲堟繛鍡樺姈椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷
					npcList.add(npcinfos.getKey());
				}
			}
			
			int index = Misc.getRandomBetween(0, npcList.size() - 1);
			npckey = npcList.get(index);
			
			Npc npc = SceneNpcManager.selectNpcByKey(npckey);
			if (npc == null) {
				MessageMgr.psendMsgNotify(roleid, 170021, null);
				return;
			}
			findit = true;
			findmapid = npc.getMapId();
			findposx = npc.getPos().toGridPos().getX();
			findposy = npc.getPos().toGridPos().getY();
		}
		
		if (!findit)
			return;
		
		SUseXueYueKey useKey = new SUseXueYueKey(npcid, npckey, findmapid, findposx, findposy);
		gnet.link.Onlines.getInstance().send(roleid, useKey);
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 730436;

	public int getType() {
		return 730436;
	}

	public long roleid;
	public int npcid;

	public GFindNpcWithNpcId() {
	}

	public GFindNpcWithNpcId(long _roleid_, int _npcid_) {
		this.roleid = _roleid_;
		this.npcid = _npcid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(roleid);
		_os_.marshal(npcid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		roleid = _os_.unmarshal_long();
		npcid = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof GFindNpcWithNpcId) {
			GFindNpcWithNpcId _o_ = (GFindNpcWithNpcId)_o1_;
			if (roleid != _o_.roleid) return false;
			if (npcid != _o_.npcid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)roleid;
		_h_ += npcid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(roleid).append(",");
		_sb_.append(npcid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(GFindNpcWithNpcId _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(roleid - _o_.roleid);
		if (0 != _c_) return _c_;
		_c_ = npcid - _o_.npcid;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

