
package fire.pb.talk;

import com.locojoy.base.Octets;







import fire.pb.HelpCountManage;
import fire.pb.circletask.CircleTask;
import fire.pb.circletask.anye.RoleAnYeTask;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CChatItemTips__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CChatItemTips extends __CChatItemTips__ {
	@Override
	protected void process() {
		// protocol handle
		final long roleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleId < 0)
			return;
		if (displayinfo == null || displayinfo.roleid < 0)
			return;
		if(displayinfo.displaytype == DisplayInfo.DISPLAY_TASK && 
				displayinfo.shopid == 2){
			//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁告劦鍠楅悡銉╂煛閸ユ湹绨奸悗姘秺濮婂搫效閸パ嶆嫹濡ゅ懎纾婚柟鎹愬煐瀹曞弶绻濋棃娑欏窛缂佲槄鎷烽梻浣侯焾閺堫剛鍒掑畝鍔肩兘鏁撴禒瀣拻濞达絼璀﹂悞鐐亜閹寸偛鐏╅柟骞垮灩閳规垹锟斤綆浜ｉ幗鏇㈡倵楠炲灝鍔氭い锔诲灡鐎靛ジ鎮╃紒妯煎幈闂佸搫娲㈤崝灞炬櫠椤旂晫绠鹃柛婊冨暟缁夘喗鎱ㄦ繝鍌ょ吋鐎规洘甯掗～婵嬵敄鐠恒劍鏅奸梻鍌欑劍閹爼宕濊箛鎾灃婵炴埈婢佺紞鏍叓閸ャ劍濯兼繛宸憾閺佸倿鏌涢弴銊ヤ簽闁跨喓鐡旈崢濂糕�旈崘顔嘉ч柛鈩冾焽椤︺儵姊洪悷鏉挎毐闂佸府绲介悾宄邦煥閸繄顓煎銈嗘煥婢т粙鏁嶅┑鍥╃閺夊牆澧介幃鍏笺亜椤撶偟澧﹂柕鍡楀�块獮搴ㄦ嚍閵壯冨箞闂佽鍑界徊濠氬礉瀹�鍕櫢闁兼亽鍎崇粻鎾淬亜閺囶亞鎮奸柟椋庡Т闇夐悗锝庡亽濞兼棃姊绘笟锟藉褏鎹㈤幒鎾村弿闁哄鍨归弳銈夋煕閳╁啰鈾侀柍閿嬪灴濮婂宕奸悢鍓佺箒闂佺粯甯＄粻鏍蓟濞戞瑦鍎熼柕鍫濆閹牏绱撴笟鍥ф灕妞ゆ泦鍛疾婵＄偑鍊曠换鎰板箠婢舵劕绠柧蹇撴贡绾捐棄霉閿濆懎顥忛柛搴＄箻閹绠涢幘鏉戞畻閻庤娲樼换鍫ュ箖閵忋倕绀傞柤娴嬫櫅楠炲牓姊虹拠鎻掑毐缂傚秴妫濆畷婊冣枎閹惧啿鍤戝┑鐐村灟閸ㄦ椽鎮″☉妯忓綊鏁愰崼顐ｇ秷閻庤娲栭惌鍌炲蓟閻旂⒈鏁婇柣鎾崇岸閹稿啯绻涚�电顎撶紒鐘虫崌楠炲啫鈻庨幙鍐╂櫌婵炶揪绲块崕銈夛綖濠婂牊鈷掗柛灞捐壘閿熺晫鍏橀幊妤呭醇閺囨鎷烽敃鍌氶唶闁靛鍠楅弲鐐烘⒑閸涘﹦鈽夐柣掳鍔戝鎻掆攽鐎ｎ偆鍘繝銏ｎ嚃閸ㄤ即骞婇幇鐗堝�块柛褎顨嗛崐鍨殽閻愯尙浠㈤柛鏃�纰嶉妵鍕晜閸喖绁悗瑙勬礃閸旀瑩骞冨鍫熷殟闁靛／鍐ㄥ強闂傚倸顭崑鍕洪敃锟界叅婵鎷风�规洜鏁婚弫鎾绘偩瀹�锟界壕钘壝归敐澶樻缂佹稑绻掔槐鎺楁偐閾忣偄纰嶅銈庡亜缁绘﹢骞栬ぐ鎺撳仭闁哄顑欓崵娆撴⒒娴ｅ憡鎯堟繛灞傚姂瀹曟垵鈽夐姀鐘靛幈婵犮垼娉涢…顒�銆掓繝姘厪闁割偅绻堥妤侇殽閻愬澧紒缁樼☉椤斿繘顢欓悡搴ｇ潉濠电姷顣介崜婵嬪箰閸愯尙鏆﹂柕濞у秵瀚规繛鎴烆仾椤忓牊鏅搁柦妯侯樈閻撳ジ鏌＄仦璇诧拷婵嬬嵁娓氾拷楠炴帡骞嬪┑鍡╂經婵犵數鍋涢顓熷垔椤撱垹鍨傞悹杞拌濞兼牗绻涘顔荤盎缂佺姴缍婇弻锝夊箛椤撶偟绁锋繝娈垮枛閻倸顫忓ú顏勫窛濠电姴鍟伴崣鍡涙⒑濞茶澧伴柛妯犲浂鏁嬮柕澶涘缁★拷闂佸憡娲﹂崢楣冩晬濠婂啠鏀介柍钘夋閻忥箓鏌￠崨鏉跨毢闁奸缚浜幏鐘差啅椤旇棄鐦滈梻渚�娼ч悧鍡椢涘Δ浣瑰弿闁挎洖鍊归悡鏇㈡煙閹呮憼闁汇劍鍨块弻銊╂偄鐠囨畫鎾绘煟閺冩垵澧存鐐茬箻閺佹捇鏁撻敓锟�
			new mkdb.Procedure(){
				@Override
				protected boolean process(){
					SChatItemTips tips = new SChatItemTips();
					tips.displayinfo = displayinfo;
					boolean ret = CircleTask.getRoleSpecialQuest(displayinfo.roleid, displayinfo.uniqid, displayinfo.counterid, tips);
					if(ret) {
						psendWhileCommit(roleId, tips);
						return true;
					} else {
						psendWhileRollback(roleId, new SChatItemTips(displayinfo, new Octets()));
						return false;
					}
				}
			}.submit();
		} else if(displayinfo.displaytype == DisplayInfo.DISPLAY_TASK && 
				displayinfo.shopid == 3){
			//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁告劦鍠楅悡銉╂煛閸ユ湹绨奸悗姘秺濮婂搫效閸パ嶆嫹濡ゅ懎纾婚柟鎹愬煐瀹曞弶绻濋棃娑欏窛缂佲槄鎷烽梻浣侯焾閺堫剛鍒掑畝鍔肩兘鏁撴禒瀣拻濞达絼璀﹂悞鐐亜閹寸偛鐏╅柟骞垮灩閳规垹锟斤綆浜ｉ幗鏇㈡倵楠炲灝鍔氭い锔诲灡鐎靛ジ鎮╃紒妯煎幈闂佸搫娲㈤崝灞炬櫠椤旂晫绠鹃柛婊冨暟缁夘喗鎱ㄦ繝鍌ょ吋鐎规洘甯掗～婵嬵敄鐠恒劍鏅奸梻鍌欑劍閹爼宕濊箛鎾灃婵炴埈婢佺紞鏍叓閸ャ劍濯兼繛宸憾閺佸倿鏌涢弴銊ヤ簽闁跨喓鐡旈崢濂糕�旈崘顔嘉ч柛鈩冾焽椤︺儵姊洪悷鏉挎毐闂佸府绲介悾宄邦煥閸繄顓煎銈嗘煥婢т粙鏁嶅┑鍥╃閺夊牆澧介幃鍏笺亜椤撶偟澧﹂柕鍡楀�块獮搴ㄦ嚍閵壯冨箞闂佽鍑界徊濠氬礉瀹�鍕櫢闁兼亽鍎崇粻鎾淬亜閺囶亞鎮奸柟椋庡Т闇夐悗锝庡亽濞兼棃姊绘笟锟藉褏鎹㈤幒鎾村弿闁哄鍨归弳銈夋煕閳╁啰鈾侀柍閿嬪灴濮婂宕奸悢鍓佺箒闂佺粯甯＄粻鏍蓟濞戞瑦鍎熼柕鍫濆閹牏绱撴笟鍥ф灕妞ゆ泦鍛疾婵＄偑鍊曠换鎰板箠婢舵劕绠柧蹇撴贡绾捐棄霉閿濆懎顥忛柛搴＄箻閹绠涢幘鏉戞畻閻庤娲樼换鍫ュ箖閵忋倕绀傞柤娴嬫櫅楠炲牓姊虹拠鎻掑毐缂佹彃顭峰畷婵嗙暆閸曨剚娅㈤梺鍏间航閸庡磭绮婚幘娣簻闁哄浂浜炵粙鑽ょ磼缂佹绠撴い顐ｇ箞椤㈡﹢鎮㈤崜韫埛闂傚倸鍊烽懗鍓佸垝椤栨繃鎳岄柣鐔哥矋濠㈡﹢宕幘顔肩疇闁规崘顕ч崹鍌涖亜閺冨浂娼愰柡鍌︽嫹濠碉紕鍋戦崐鏍ь潖婵犳碍鍋ら柡鍌氱氨閺嬫棃鏌￠崘鎸庡婵烇絽娲ら敃顏堛�侀弴銏℃櫜闁搞儯鍔屽▍姘舵⒒娴ｇ瓔鍤冮柛鐘崇墬閺呰埖绂掔�ｎ亞顔夐梺鍛婃处閸撴盯鎮风憴鍕╀簻闁哄秲鍔庨埥澶愭煟閿旂晫鐭掓慨濠勭帛缁楃喖鏁撻挊澶樼劷鐟滃秶鍙呴梺闈涚墕閹虫劙寮抽敂濮愪簻闁圭儤鍨甸鈺冪棯閸撗勫殌闁宠鍨块幃鈺冿拷鍦Т椤ユ繄绱撴笟濠冨婵犮垼娉涢惌澶愬箯閻戠晫宓侀柛顭戝枛婵骸顪冮妶蹇曠窗闁告濞婇獮鍐缂佺姵绋戦埥澶娾枎閹存繂绠為梻鍌欑窔濞佳嚶ㄩ敓鐣岀磼閼艰泛袚濞ｅ洤锕畷绋课旀担鍝勫箥闂備礁鎲￠崝鏇烆嚕閼搁潧绶為柛鏇ㄥ灡閻撳繘鏌涢妷鎴濆枤娴煎啯绻濆▓鍨珯闁归鍏樺铏癸拷鍦У椤ュ淇婇锝囨噰闁诡噣绠栭幃婊堟嚍閵夈垺瀚奸梻浣藉吹閸犳劕顭垮Ο浣曪絾绻濆顓犲幍闂佹儳娴氶崐瀣敂閸喎浠奸梺缁樺灩閻℃棃寮崘顔界叆闁哄浂浜濈�氬綊鏌涢悜鍡楃仸婵﹥妞藉Λ鍐ㄢ槈濮橆剦鏆繝鐢靛仩椤曟粎绮婚幘鎰佸殨闁告瑥顦遍梽鍕煕濞戞☉鍫ュ箯婵犳碍鈷戠紒瀣濠�浼存煠瑜版帞鐣洪柡浣规崌閹墽浠﹂挊澶婄闂備浇顕栭崰姘跺磻閵堝鏋侀柛鎰靛枛绾惧吋鎱ㄥΟ澶稿惈闁哄棭鍋婂缁樻媴缁嬫妫岄梺绋款儏閹冲海鍙呴梺鍝勭▉閸嬪嫰藟濮樿埖鐓曠憸搴ㄣ�冮崱娑欏亗闁哄洨鍠撶弧锟介梻鍌氱墛缁嬫帡藟濠婂嫨浜滈煫鍥ㄦ⒐鐏忥箓鏌″畝瀣М鐎殿噮鍓熼獮鎰償椤旀枻绱楅梻鍌欑閹碱偆鎮锕�绀夐柟杈剧畱缁犳牠鏌曡箛瀣拷鏇犵矆閸緷褰掓晲閸噥浠╅梺鍛婏供閸ㄨ泛顫忕紒妯诲闁告稑锕ラ崕鎾绘⒑濞茶澧柕鍫㈩焾閻ｉ攱瀵奸弶鎴濆敤濡炪倖鎸鹃崰搴㈢閹烘埈娓婚柕鍫濇缁屽潡鏌熼悜绛嬫闁跨喎锟界噥娼愭繛鍙夌墱缁辩偞绻濋崶銉嫹娴ｇ硶鏋庨柟鎯х－閻撴垿姊洪棃娑崇础闁告粈鐒﹁ⅸ闂傚倸鍊搁崐宄懊归崶顒夋晪鐟滃秹锝炲┑瀣櫇闁稿矉濡囩粙蹇旂節閵忥絾纭鹃柍鍙ョ鐓ゆい蹇撳閸樻悂姊洪崨濠佺繁闁告﹢绠栭、娆撳幢濞戞瑢鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷?
			new mkdb.Procedure(){
				@Override
				protected boolean process(){
					//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘劙婀侀梺绋跨箰閸氬绱為幋锔界厱闁靛鍎遍敓钘夋健瀵鏁愭径濠勵啋閻庤娲栧ú銈夊传濞差亝鈷戦柛婵嗗閸庢劙鏌ｅΔ渚囨畼闁瑰箍鍨归埥澶愬閻樻鍚呴梻浣虹帛閸旀瑥顭囪瀵娊鏁撻悩鏂ユ嫼闂佽崵鍠愬妯何ｆ繝姘厱闁靛骏绱曢崣锟介梺鎸庣箘閸嬫盯鍩為幋鐙呮嫹閿濆骸浜滃ù婊勵殜閺岀喖宕楅懖鈺傛闂佹悶鍔嶅Σ鎺楀Φ閹邦厽鍎熸い顐幘缁犳岸姊洪棃娑氬婵炲眰鍊曢弳鈺呮⒒娴ｄ警鐒炬い鎴濇閹嫰顢涘杈ㄦ濡炪倖鐗滈崕鎰板极瀹ュ棛绡�濠电姴鍊搁鈺呭箹閺夋埊宸ラ柍瑙勫灴閹晝绱掑Ο濠氭暘婵＄偑鍊栭崹鐢稿箠閹邦喖鍨濋柛顐緛閹风兘鏁愭惔鈥茬按婵炲瓨绮嶇划鎾诲蓟閻旇櫣纾奸柕蹇曞Х娴狀參姊洪棃鈺冨闁告濞婂濠氭晸閻樿櫕娅㈡繛瀵稿Т椤戝懏瀵奸悩缁樼厱闁哄洦锚婵′粙鏌￠崒锔藉闂傚倸鍊烽懗鍓佸垝椤栫偞鏅濋柍鍝勬噹缁愭鏌″搴″箺闁稿﹤鐖煎鍫曞醇濞戞ê顬嬬紓浣哄У閸庢娊鈥︾捄銊﹀磯濞撴凹鍨伴崜鍐测攽閻愭彃绾ч柟鍛婂▕瀵鎮㈢喊杈ㄦ櫖濠殿喗顭堟禍顒勫礉椤栫偞鍊甸悷娆忓缁�鍐偨椤栥倗绡�妤犵偛鍟埢搴ㄥ箻瀹曞洭鐛撻梻浣烘嚀閻°劎鍒掓惔銊︾參闁汇垹鎲￠埛鎺楁煕鐏炲墽鎳勭紒浣哄缁绘稒寰勭�ｎ偆顦伴悗瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�
					//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆ繛纭风節瀵鎮㈤悮瀛樺闁汇垺顔栭悞楣冨疮閸濄儳纾藉〒姘攻鐎氳绻濋悽闈浶㈡繛璇х畵閹繝濡烽埡鍌滃幗闂佸搫鍟ù鍌炲吹濞嗘垶鍋栨慨妯垮煐閳锋垿姊婚崼鐔衡檨闁瑰吋鍔欓幃妤�顫濋鐔哄嚒濡炪倖娲╃紞渚�鐛锟介、娆撴偂鎼淬倧鎷烽崹顔规斀閹烘娊宕愯楠炲繘鏌ㄧ�ｃ劋绨婚棅顐㈡祫缁插ジ鏌囬鐐寸厸閻忕偛澧介埥澶愭煃鐠囧弶鍞夌紒鐘崇洴瀵挳鎮敓浠嬪疮鐎ｎ喗鈷掑ù锝呮啞閹牓鏌ｉ鐑嗘Ш缂佽京鍋炵粭鐔兼晸娴犲鍋樻い鏇嫹鐎规洖鐖奸、妤佸緞鐎ｎ偅鐝滄繝鐢靛仩閹活亞寰婇崸妤�绠犻柟鎹愵嚙缁�鍫ユ煟閵忋垺鏆╃痪鍙ョ矙閺屾稓浠﹂崜褎鍣梺绋跨箰閼活垶鍩為幋锔绘晩闁诡垎鍐ㄧ闁诲孩顔栭崳顕�宕戦崨顖涘床婵犻潧妫鈺傘亜閹烘垵鏆為柟韫嵆濮婄粯鎷呯憴鍕紘闂佸搫鎳忛惄顖氱暦椤栫儐鏁冮柕鍫濇－閸嬨劑姊虹紒妯哄闁稿簺鍊濆畷鎰版偨閸涘﹦鍙嗗┑鐘绘涧濡盯宕欓崷顓犵＜闁靛鍔嶉ˉ澶愭婢舵劖鐓熸俊顖涘閻濐亪鎮樿箛銉х暤闁哄瞼鍠栭、娆撳箰鎼达絻锟芥劕顪冮妶搴′簼缂佽鐗嗛悾鐑芥晸閻樺啿锟界兘鏌熼幍铏珔闁告柣鍊楃槐鎺撴綇閵娿儳鐟插┑鐐靛帶缁绘ɑ淇婇幖浣规櫇闁跨喍绮欏Λ鍕吋婢跺鎷洪梺鑽ゅ枑濠㈡ê危婵犳碍鐓欓柧蹇ｅ�嬮鍫熷仼闁绘垼濮ら崐鑽ょ磼濞戞﹩鍎愰柡鍜冪到閳规垿鎮欓弶鎴犱桓闂佽崵鍣ラ崹浼粹�﹂崶顒�妫橀幖瀛樻尰閺傦拷闂備焦瀵х粙鎴狅拷姘煎墯缁傚秵绺介崨濠勫幈婵犵數鍊崘鈺佹婵炴垶鎸哥粔褰掑蓟閻斿吋鍊绘俊顖濐嚙閽勫吋绻涚�电孝闁绘鎹囧濠氭偄閸忓皷鎷婚梺鍦檸閸犳顢撻弽顓熲拺閻犳亽鍔岄弸娆愪繆椤愩垹顏�规洦鍨抽敓鑺ョ♁鐪夌紒璇叉閺岋綁骞嬮敐鍡╂闂佺粯鎸荤粙鎴︽箒闂佹寧绻傞幊蹇涘箚閸儲鐓ラ柣鏃傚劋濞呮洟鏌涚�ｎ偆娲撮柍銉︽瀹曟﹢顢欓崲澹洦鐓曢柍鈺佸枤濞堟﹢鏌ｉ悢绋垮闁哄矉缍侀幃鈺傛綇閳轰礁顬夐梻浣虹帛閹碱偆鎹㈠┑瀣仒妞ゆ洩鎷锋鐐叉喘瀵墎鎹勯…鎴炐炲┑锛勫亼閸婃牕螞娴ｇ瓔鏆伴梻浣哥秺閺�鍗烆渻娴犲绠栫�瑰嫰鍋婇悡銉╂煕濞戝崬寮鹃柡鍡╁弮閺岋綁濮�閳轰胶浠柣銏╁灡椤ㄥ牏鍒掔�ｎ亶鍚嬮柛鈩冾殢閸ゃ倝鏌ｆ惔銏⑩檨妞ゎ厼娲畷銏ゆ焼瀹ュ棌鎷洪柣鐔哥懃鐎氼剟宕濋妶鍡愪簻闁哄洢鍔屽顔筋殽閻愯韬�规洖鐖奸、妤佹媴閸濆嫬绠ュ┑锛勫亼閸婃牕煤閺嶎灛娑樷槈濮橆剙袣闂佽法鍠嶇划娆忣潖閻戞ɑ濮滈柟娈垮枛婵′粙姊洪崷顓熷殌婵炲樊鍘奸锝夘敃閿曪拷缁犺崵绱撴担鑲℃垵鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�
					int submiterLv = xtable.Properties.selectLevel(roleId);
					if(submiterLv<fire.pb.circletask.PSubmitThings.getGiveHelpLevel()){
						MessageMgr.sendMsgNotify(roleId, 145390, null);
						return false;
					}
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呭銈嗘⒐閸ㄦ繂顫濋敃鍌涒拻闁稿本鑹鹃敓浠嬵棑缁牊绗熼敓浠嬬嵁婢舵劖鏅搁柣妯哄暱娴狀參姊洪棃娑辨Т闁哄懏绮撳鎻掆攽鐎ｎ偆鍘繝銏ｆ硾濡瑥鈻嶉崨顓ф禆闁告稑鐡ㄩ埛鎴︽煕濞戞﹫鏀诲璺哄閺屾盯濡搁妶鍛ギ閻庤娲橀敃銏ゅ极閹惧顩烽悗锝庡亐閹锋椽姊婚崒姘卞濞戞挾鎳撻埥澶婎潩椤愶絽濯伴梻浣虹帛閸旓箓宕滈敃鍌氱柈闁搞儺鍓氶埛鎺楁煕鐏炴崘澹橀柨鐔烘櫕閸忔﹢骞婂Δ鍛唶闁哄洦顨愰幏鐑芥晝閸屾岸鍞堕梺缁樻磻閻掞箓顢欓弮鍫熲拺鐟滅増甯楅敍鐔兼煟閹虹偟鐣电�殿喗褰冮埞鎴﹀炊閵夈倗鐩庨梻濠庡亜濞诧箓骞愰悙顒佹珷闁哄洢鍨洪悡銏ゆ煕閹板吀绨婚柡瀣洴閺屸�崇暆鐎ｎ剛袦閻庢鍣崳锝呯暦閸洍锟斤箓骞嬪鍐╂啟缂傚倸鍊烽懗鍫曞磻閹捐纾块柟鎯版鐟欙箓鎮楅敐搴′簽闁崇懓绉撮埞鎴︽偐閸欏銈╅梺杞扮缁夌數鎹㈠┑瀣棃婵炴垶鐟Λ鐐烘⒑鐠団�崇仯闁稿鍠撳Σ鎰板箻鐎涙ê顎撻梺鍛婃尰瑜板啴宕滈弶搴撴斀闁绘劙顤傞崵瀣攽閳ヨ櫕鍠樻鐐村灴婵拷闁绘﹩鍋呴弬锟介梻浣虹《閿熻棄纾粻鏌ユ煟韫囧海绐旀慨濠冩そ瀹曟粓鎳犻锟界敮銉╂⒑閸濄儱校妞ゃ劌锕獮鍐偨閸撳弶鏅╅梺浼欑到閻ジ顢欓弴銏＄厽閹兼番鍨婚埦浣广亜椤撶偞鍠橀柟顖氱焸婵″爼宕ラ妶鍥ㄥ殌妞ゎ厹鍔嶉幆鏂库攽鐎ｎ亙绮ｉ梻鍌欒兌缁垱绗熷Δ鍛棷闁挎繂鎳愰弳锔芥叏濡ゅ瀚瑰銈冨灪椤牓藝閹惰姤鐓冮悹鍥皺閻掑憡鎱ㄦ繝鍕笡闁瑰嘲鎳橀幖褰掔嵁閸栤剝瀚瑰┑鐘叉处閻撴盯鏌涚仦鍓ф噮缂佹劖姊婚敓鍊燁潐濞叉鍒掑畝鍕厴闁瑰濯撮幏鐑芥晲鎼存繄鏁栧銈嗘煥濡繂顫忓ú顏勫窛濠电姳鑳剁换渚�姊洪幖鐐插濞存粏娉涢悾閿嬪閺夋垵鑰垮┑鐐村灦閻熝囧储闁秵鈷戦柛婵嗗閸屻劑鏌涢弬鎸庢拱缂佸倸绉撮…銊╁礃閸撗冩暩闂備浇宕甸崰鎰熆濮楋拷瀵啿鈻庨幘瀵稿帗闁荤喐鐟ョ�氼剟鎮橀幘顔界厵妞ゆ棁顫夊▍濠勶拷瑙勬礀缂嶅﹪銆侀弴銏℃櫜闁糕剝鐟﹂～鏍⒒閸屾艾锟界兘鎳楅崼鏇楋拷锕傚醇閵夘喗鏅為梺绯曞墲閻熝囨儗濞嗘挻鐓欓弶鍫濆⒔閹厧霉濠婂牅鎲鹃柡宀嬬稻閹棃鏁愰崱鈺�鎴烽梻浣哥秺椤ユ捇宕楀锟藉璇测槈閵忕姴宓嗛梺闈涱焾閸庢壆鑺遍挊澶樻富闁靛牆绻愰惁婊堟煕濡亽鍋㈤柛鈺冨仱楠炲鏁傞挊澶夋睏缂傚倸鍊烽悞锕佹懌闂備焦顑欓崢濂糕�旈崘顔嘉ч柛鈩冾殘娴犳挳姊洪悷鏉挎毐閻庢稈鏅犲鏌ュΨ閳哄倵鎷洪梺鍛婄箓鐎氼垶锝為敃鍌涚厱閹兼番鍨婚崣锟介梺璇″櫙缁绘繈骞冮姀銈呯闁兼祴鏅涢獮鎰版⒒娴ｅ憡鍟為柛鏃�鍨垮畷婵嗙暆閸曨剚娅㈤梺鑺ッˇ浼村箟閹间焦鐓涘〒姘搐濞呭秶锟借娲栭妶绋款嚕閹绢喗鍋勯柛婵嗗缁犵偛鈹戦悩鍨毄闁稿绋戣灋婵°倓绶″▓浠嬬叓閸ャ劎鈽夌紓浣叉櫅閳规垿鎮╁畷鍥舵殹闂佺粯鎸哥换姗�寮诲☉銏犖ㄩ柟瀛樼箓閺嬨倕霉閻撳骸鏆ｉ柟顔筋殔閳绘捇宕归鐣屼簽缂傚倷绶￠崰妤呮偡閿旂晫鈹嶅┑鐘插亞濞兼壆锟界櫢鎷峰┑鐘插枤閿熻棄娲缁樻媴閸涘﹥鍎撳┑鈽嗗亜椤曨參骞戦姀鐘斀闁糕檧鏅滅紞搴ㄦ⒑閹呯婵狅拷闁秵鍎楁繛鍡樻尰閻撴洜鎲告惔銊ｏ拷鍐疀濞戞瑦娅㈤梺鍏间航閸庡搫鈻撳鍫熺厸閻忕偠顕ф慨鍌滐拷娈垮枟濞兼瑨鐏掗梺鍛婄箓鐎氼剝顣介梻鍌氬�烽懗鍫曞箠閹惧墎涓嶇�广儱顦崹鍌滄喐閻楀牆绗掗柣鎾达耿閺岀喓锟界數顭堥鎾绘煙妞嬪骸鍘撮柡浣瑰姈閹棃鍨鹃懠顒�鍤┑鐘垫暩閸嬫盯骞婂畝鍕瀭闁芥ê顦藉鏍煣韫囨凹娼愮�规洖顦甸弻鏇熺箾閸喖濮曢梺缁樼缚閸ㄨ棄顫忓ú顏呭仭闁哄瀵ч锟介梻浣烘嚀閸ゆ牠骞忛敓锟�?
					if(!HelpCountManage.getInstance().canAddHelpGiveItemNum(roleId)){
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡╂Ч濞存嚎鍊濋弻銈夊级閹稿骸浠撮悗娈垮枛閻栫厧鐣烽悡搴僵妞ゆ挾鍠撹ぐ鍛存⒒娴ｈ鍋犻柛鏂跨Ф閹广垽宕橀鍢夛箓鏌涢弴銊ョ仩闁告劧鎷锋俊鐐�栭崝锕�顭块敓鐣岀磼椤旂厧顣崇紒杈ㄦ尰缁楃喐绻濋崘顭戜紦婵犵數濮伴崹鐓庘枖濞戙埄鏁勯柛鏇ㄥ幗瀹曟煡鏌涢埄鍐檨闁绘挸绻橀弻娑㈩敃閿濆洨鐣洪梺闈╃稻濡炰粙寮诲☉銏℃櫜闁搞儯鍔屽▓灞筋渻閵堝倹娅呴柕鍫㈩焾閻ｇ兘濡搁埡濠冩櫍濠电偞鍨堕悷锕傚级閸涘﹣绻嗛柣鎰典簻閿熻姤鐗曢～蹇氥亹閹烘垵鍤戠紓鍌欑劍椤洭鎮风憴鍕闁瑰瓨鐟ラ悘顏堟煟閹惧瓨绀嬮柣鎿冨亰瀹曞爼濡搁敂鎾呮嫹椤撶喆浜滈煫鍥ㄦ尭椤忊晝绱掓笟鍥т喊婵﹦绮幏鍛矙濞嗙偓顥戦梻浣侯焾椤戝嫮娆㈠顒傛殾闁哄洢鍨归拑鐔兼煏婢舵稓鐣卞ù婊勵殜濮婃椽宕崟顒�绐涢梺鍝ュТ濡瑧绮嬪鍜佺叆闁割偆鍠撻崢鐢告⒑闁稓绁锋繛鍛礀閳诲秹宕ㄧ�涙鍙嗛梺缁樻椤曆嗩暱婵犵數鍋犵亸娆撳窗鎼搭煈鏁嬮柨婵嗘川閻瑦绻涢崱妯哄姢闁诡喗鍨垮娲箹閻愭彃濮夐梺鍝勬噺缁诲牓寮鍜佺叆闁割偆鍟块幏娲煟閻斿摜鎳冮悗姘煎墰瀵板﹦绱掑Ο闀愮盎闂佺懓鐡ㄧ换鍐夐悩缁樼叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹
						fire.pb.talk.MessageMgr.sendMsgNotify(roleId, 166088, null);
						return false;
					}
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呭銈嗘婵倗绮婃导瀛樷拻闁稿本鑹鹃敓鐣屽厴閹虫宕奸弴妤嬫嫹閿曞倸閱囬柣鏇氱劍椤旀棃姊洪崨濠勭細闁稿骸顭烽獮蹇撶暋閹佃櫕顫嶉梺鍦劋閹稿鎮靛顓犵瘈缁炬澘顦辩壕鍧楁煛娴ｇ瓔鍤欓柣锝囧厴閹垻鍠婃潏銊︽珫婵犳鍠楅…鍫熺椤掞拷椤洦寰勯幇顓涙嫽婵炶揪绲肩拃锕傛倿妤ｅ啯鐓涢柛顐亜婢ф壆绱掗鐣屾噰妤犵偞甯掕灃濞达綁鏅查幋閿嬩繆閻愵亜锟芥洜鎹㈤幇鐗堝亱濠电姴娲ら悡鏇㈡煙鏉堥箖妾柣鎾寸懇閺屻倕霉鐎ｎ偅鐝旀繛瀵稿У缁矂鍩為幋锕�鐏抽柣鎰娴狀噣姊洪崫鍕拱婵炶尙鍠庨悾閿嬬附閸涘﹤浜滅紓浣割儏鐏忓懘骞忛悜钘夌疀妞ゆ挆鍕靛晬闂備胶绮崝鏍亹閸愵喖姹查柕蹇嬪�栭悡蹇涙煕閵夛絽濡煎┑顔肩У椤ㄣ儵鎮欓弶鎴炶癁濡ょ姷鍋涢澶愬箖閳哄啯瀚氱憸搴ｏ拷姘秺閺岋綁骞囬浣叉灆濠电偞鎸搁…鐑藉蓟閺囥垹閱囨繝闈涙祩濡偟绱撴担璇℃當闁稿﹤娼″濠氭晲婢跺﹦顔婇梺缁樺姉閺佹悂寮抽妶澶嬪�垫繛鍫濈仢閺嬬喎鈹戦悙璇ц含妤犵偛鍟撮崺锟犲礃椤忓棴绱叉繝纰樻閸ㄥ爼寮ㄦ潏鈺嬫嫹濮橆剙鎮戠紒缁樼箞閹粙妫冨☉妤�鎽嬮梺璇茬箰濞存碍绂嶉鍫涳拷浣糕枎閹邦喚鐦堥梺鍛婃处閸犳牕鐨梻鍌欒兌椤牏鎹㈠Δ鍛；闁归偊鍠栨慨顒勬煥閻斿墎鐭欐慨濠冩そ濡啫鈽夊杈╂毎婵犵鍓濊ぐ鍐拷姘嵆楠炲﹪骞樼拠鏌ユ暅濠德板�撻懗鍫曞储闁秵鈷戠�规洖娲﹂崵锟介梺璇茬箲缁诲牓骞冨锟介、鏃堝醇閻斿搫骞嶆俊鐐�栭悧妤冪矙閹烘澶愬醇濠靛啯鏂�闂佹枼鏅涢崯顖炲磹閹邦兘鏀介柨娑樺閻掓寧銇勯敂钘夌祷闁宠鍨块、娆撴嚃閳轰胶鍘芥繝娈垮枛閿曪妇鍒掗鐐茬闁告稒娼欏婵嗏攽閻樻彃锟界懓鈻撳锟藉缁樻媴閸涘﹤鏆堥梺鍝勮閸斿酣骞戦姀鐘栫喐绗熼姘吙闂備礁婀辩划顖滄暜閳哄懏鍋傞柕澶嗘櫆閻撴洘銇勯幇闈涗簻濞存粍绻堥弻锟犲川椤忓懏鐝氶梺璇″枟椤ㄥ﹪鎮伴锟藉畷褰掝敊閻撳寒娼涘┑锛勫亼閸娧呯磽濮樿泛纭�闁规儼妫勯弰銉︾箾閹存瑥鐏╃紒鐙呯秮閺屻劑寮崒娑欑彧闂佸憡锚瀹曨剟鍩為幋锔藉亹缂備焦蓱闁款厼鈹戦埥鍡椾簼妞ゃ劌锕妴渚�寮崼婵堝幐闂佺鏈湁缂併劌顭峰Λ鍛搭敃閵忊�愁槱濠殿喖锕ゅ﹢杈ㄧ閹间焦鏅濋柛灞剧〒閸樻悂鏌ｈ箛鏇炰粶濠⒀嗘鐓ら柡澶嬪灍閺�浠嬫煃閳轰礁鏆為柛濠冨姇閳规垿鍨惧畷鍥х厽閻庤娲忛崝鎴︺�佸锟介幃鈺咁敊闂傚鐥呮繝鐢靛Т閻ュ寮堕崠鈩冨婵°倓鐒﹂崣蹇涙煟閹达絾顥夌痪鍓х帛缁绘盯骞嬮悜鍡欏姱濠电偞鍨惰彜闁哄閰ｉ弻鐔煎箚瑜忛敍宥嗐亜閺傛寧顥㈡慨濠冩そ瀹曘劍绻濋崟銊︻�囨繝鐢靛仜閸氬鎮疯閸掓帡宕奸妷銉╁敹闂侀潧顧�婵″洭宕㈤悽鐢电＝闁稿本鐟ч崝宥夋煥濮樿京纾兼俊銈勮兌椤ｈ尙绱掔紒妯兼创鐎规洏鍔戦、姗�濡搁妸銉﹀創濠电姵顔栭崰鏍晝閿旀儳鍨濇い鏍仜缁狀垶鏌涘☉娆愮稇鐎瑰憡绻傞埞鎴︽偐閹绘帪鎷烽悷鎵虫灁婵鎷锋慨濠勭帛閹峰懘鎸婃径濠冨劒闂備礁鎽滄慨鏉懳涘┑鍡欐殾闁哄洨鍠愭刊鎾煕閹般劍娅撴俊顐犲妼閳规垿鏁嶉崟顐℃澀闂佺锕ラ悧鐘诲箖瑜嶈灃闁告劦浜為悡鎾绘⒑閸︻厼鍔嬫い銊ユ嚇閹苯螖閸涱垰褰勯梺鎼炲劘閸斿酣鍩︽笟锟介弻锝夊箻閸楃偛濮﹂梺鍝勭焿缂嶄礁顕ｉ幘顔藉�烽悹鍥囧嫬顏堕梺闈╁瘜閸欏繘骞忓畡閭︽僵闁绘劦鍓欓锟�
			    	xbean.helpcount taskrolehelpcount = xtable.Helpcount.select(displayinfo.roleid);
			    	int maxtaskrolehelpcount=HelpCountManage.getInstance().getHelpItemNumMax(displayinfo.roleid);
			    	if(taskrolehelpcount!=null&&taskrolehelpcount.getHelpitemnum()>=maxtaskrolehelpcount){
			    		MessageMgr.sendMsgNotify(roleId, 166093, null);
			    		return false;
			    	}
					
					SChatItemTips tips = new SChatItemTips();
					tips.displayinfo = displayinfo;
					//tips:displayinfo闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕婵犲倹鍋ラ柡灞诲姂瀵挳鎮欑拠褎瀚圭憸鐗堝笒绾惧潡鏌熺�电校闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒绾惧ジ鏌ㄩ悢璇残撶�垫澘瀚伴獮鍥敇閻戝洦瀚归柛顐ｆ礃閻撶喖鏌熼幍顔碱暭婵炴嚪鍏犵懓顭ㄩ崨顓濆缂備胶绮惄顖氱暦閵娾晩鏁嶆慨姗堢稻閻庝即姊绘担鍛婃儓濠㈣泛娲畷婊冣攽閸♀晛娈梺鍛婃处閸撴稓寮ч敓浠嬫⒑缁嬫寧婀扮紒顔肩墛濞艰顫楅ˇ寤抽梻鍌氬�搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻樻爠鍥╁彄闁搞儯鍔嶉悡銉︺亜韫囨碍纭鹃柍瑙勫灴椤㈡瑩鎯岄顐＄盎闁伙絿鍏橀、妤呭礋椤愩垹浜堕梺璇叉捣閺佽顭囨繝姘濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔哄劤缁辨捇宕掑姣欍垽鏌ㄩ弴銊ら偗闁绘侗鍣ｅ畷姗�鍩￠崘鐐カ闂佽鍑界紞鍡樼濠婂懐鐜绘繛鎴炵懅缁★拷闂佹眹鍨藉褍鐡梻浣侯焾閿曪箓宕楀锟介獮鍡涙晸閼恒儯浜滈煫鍥ㄦ尵婢ф盯鏌嶉柨瀣瑨闂囧鏌ㄥ┑鍡欏妞ゅ繒濞�閺屾洟宕卞Δ瀣惈闂佸搫鏈惄顖炵嵁濡》鎷烽棃娑欐喐闁伙綀鍋愮槐鎾寸瑹閸パ勭亶闂佽崵鍟块弲鐘绘偘椤旀拝鎷烽敐搴℃灍闁哄懏绻堥弻銊╂偄閸撲胶鐓撻悗瑙勬礃閻熲晠骞冮埡鍐＜婵☆垳鍘у鎶芥⒒娴ｈ櫣甯涙繛鍙夌墵瀹曟劙宕烽銊﹀婵鍋撶�氾拷?
					boolean ret = RoleAnYeTask.getRoleAnYeTask(roleId, displayinfo.roleid, displayinfo.uniqid, displayinfo.teamid, tips);
					if(ret) {
						psendWhileCommit(roleId, tips);
						return true;
					} else {
						psendWhileRollback(roleId, new SChatItemTips(displayinfo, new Octets()));
						return false;
					}
				}
			}.submit();
		} else {
			new mkdb.Procedure(){
				@Override
				protected boolean process(){
					SChatItemTips tips = new SChatItemTips();
					tips.tips = ChatChannel.getInstance().getOctets(roleId, displayinfo);
					if (tips.tips == null)
						return false;
					tips.displayinfo = displayinfo;
					psendWhileCommit(roleId, tips);
					//gnet.link.Onlines.getInstance().send(roleId, tips);
					return true;
				}
			}.submit();
		}
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 792445;

	public int getType() {
		return 792445;
	}

	public fire.pb.talk.DisplayInfo displayinfo;

	public CChatItemTips() {
		displayinfo = new fire.pb.talk.DisplayInfo();
	}

	public CChatItemTips(fire.pb.talk.DisplayInfo _displayinfo_) {
		this.displayinfo = _displayinfo_;
	}

	public final boolean _validator_() {
		if (!displayinfo._validator_()) return false;
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(displayinfo);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		displayinfo.unmarshal(_os_);
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CChatItemTips) {
			CChatItemTips _o_ = (CChatItemTips)_o1_;
			if (!displayinfo.equals(_o_.displayinfo)) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += displayinfo.hashCode();
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(displayinfo).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CChatItemTips _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = displayinfo.compareTo(_o_.displayinfo);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

