
package fire.pb;

import java.io.UnsupportedEncodingException;

import fire.pb.cross.CrossManager;
import fire.pb.role.PCreateRole;
import fire.pb.util.CheckName;

import org.apache.log4j.Logger;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CCreateRole__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}


public class CCreateRole extends __CCreateRole__ {
	public static final Logger logger = Logger.getLogger("SYSTEM");
	
	private boolean  sendError(int err){
		final SCreateRoleError res=new SCreateRoleError();
		res.err=err;
		return gnet.link.Onlines.getInstance().sendResponse(this, res);
	}
	
	@Override
	protected void process() {
		if(CrossManager.getInstance().isInCrossServer()){
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂啰绠荤�殿喗濞婇弫鍐磼濞戞艾骞堟俊鐐�ら崢浠嬪垂閸偆顩叉繝闈涱儐閻撴洘绻涢崱妤冪缂佺姴顭烽弻锛勪沪閸撗勫垱闂佺偨鍎荤粻鎾荤嵁鐎ｎ亖鏀介柛娑卞灡閺呯厧鈹戦敍鍕杭闁稿﹥鍔欏鎻掝煥閸℃劒姹楅梺鍛婂姦閸犳绮婚幒妤佲拻濞达綀娅ｇ敮娑㈡煥濮橆厺绻嗘い鏍ㄧ啲闊剛锟借娲樺ú婵堢不濞戙垹鍗抽柣妯碱暜缁辨煡姊绘担鑺ョ《闁哥姵娲橀幈銊╁Χ閸滀礁娈梺鍛婃处閸嬪棝寮抽崱娑欏�甸柨婵嗛娴滄粍銇勮箛姘【閾绘牠鏌ｅ锟藉褎绂掑鍫熺厽闊洦姊荤粻鐐碉拷瑙勬礃缁诲倿锝炲┑瀣殝闁汇垽娼ч獮宥夋⒒閸屾瑧顦﹂柣蹇旂箞椤㈡牠宕ㄧ�涙ê锟藉爼鏌熺紒銏犳灍闁绘挻鐟╅弻褑绠涢敐鍛凹閻庤娲栭惉濂告晸閸婄噥娼愭繛鍙夌矒閳ワ箓宕奸敐鍥︾胺婵犵數鍋犻幓顏嗗緤娴犲绠规い鎰跺瀹撲線鏌涢鐘插姕闁抽攱甯掗妴鎺戭潩閻愵剙顏舵繝鐢靛仒閸栫娀宕舵担鍛婂枠妞ゃ垺锕㈡慨锟介柣妯垮皺閿熺瓔鍙冨娲川婵犲嫮鐣甸柣搴㈢殰閸パ冨殤閻庡箍鍎遍ˇ浼存偂閺囥垺鐓忓鑸得弸娑橆熆瑜滈崹鍫曞蓟閿濆绠婚悹铏瑰劋閻庨箖姊洪棃娑欐悙閻庢矮鍗抽悰顔嘉熼崗鐓庣／闂佸憡绻傜�氼剟藟鎼淬垻绡�缁剧増锕幏鐑藉礃閼碱剟鐛撻梻浣筋嚃閸犳牠宕愬宀�浜卞┑鐐舵彧缁插潡骞婇幘鑸殿偨闁绘劗鍎ら悡娆撴⒑椤撱劎鐣辨鐐达耿閺屾稑鈻庤箛鏃戞闂佸疇顫夐崹鍧楀箖閳哄啰纾兼俊顖氼煼閺侇亝绻濈喊妯活潑闁稿鎳愮划娆撳箳濡わ拷閻ら箖鏌涢锝嗙闁绘帟鍋愰敓钘夌畭閸庡崬螞濞戙垹鍌ㄩ梺顒�绉甸埛鎴︽⒒閸喓銆掑褎娲熼弻鐔煎礃閺屻儱寮伴悗娈垮枟婵炲﹪寮幇顓炵窞閻庯綆鍓欓獮鎰版⒑鐠囪尙绠抽柛瀣♁閺呭爼鎸婃竟婵婃閿熻姤绋掗敃鈺佲枔娴犲鐓熼柟閭﹀灡瑜把囨煠閺夋寧鍋ラ柡宀�鍠撶划鐢稿捶椤撶姷妲囧┑鐘殿暯閿熻棄纾崺锝囷拷瑙勬礀閻栧吋淇婇幖浣规櫆闁绘劦鍓﹀褔姊婚崒姘拷鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴銏℃櫇闁跨喓鏅敓鑺ヨ壘椤︿即濡甸崟顖氱闁瑰瓨绻嶆禒楣冩⒑缁嬪潡顎楅悗娑掓櫊婵＄敻宕熼姘敤濡炪倖鍔﹀锟介柟瀵稿厴閹鎲撮崟顒�鐭紓浣藉煐瀹�绋款嚕婵犳碍鍋勯柛蹇曞帶閿熺晫绮幈銊ノ旈敓钘壩涘▎鎾村仼闁告挷鑳剁壕钘壝归敐鍛儓鐎涙繂顪冮妶搴″箻闁稿繑锚椤曪絿鎷犲ù瀣潔闂侀潧绻掓慨鍫ュ煛閸涱喚鍙嗛梺鍝勫暙閻楀﹪寮冲鍕箚濞ｅ洤宕俊鍏笺亜椤忓嫬鏆ｅ┑陇鍩栭幆鏃堝灳閼碱剛娉跨紓鍌氬�风粈渚�藝椤栨稒娅犻幖绮瑰灳閿濆绠涢柡澶庢硶椤旀帡鏌ｉ悩鍙夌┛閻忓繑鐟╅弫宥咁煥閸愶絾鏂�濡炪倖姊归弸缁樼瑹濞戙垺鐓曢柟鎯у船婵倹顨ラ悙鑼闁诡喗绮撻幐濠冨緞瀹�濠傛櫍婵犵數鍋犻幓顏嗗緤娴犲绠烘繝濠傜墛閺咁剚绻涢崱妯诲鞍闁稿鍓濈换婵囩節閸屾稑娅ｅ銈忕到閵堟悂骞冩禒瀣垫晬婵炴垶顭囬鍌滅磽娓氬洤鏋涙い顓炲槻椤曪綁宕滄担鐟扮彴闂佺粯鍔﹂崜姘端夐崼銉︾厸濞达絿鎳撴慨宥囷拷瑙勬磸閸旀垿銆佸锟介幃銏ゅ礈閹绘帗鏆㈢紓鍌氬�搁崐鎼佸磹閻戣姤鍤勯柤绋跨仛閸欏繘鏌ｉ幋锝嗩棄缂佹劖顨婇弻鈥愁吋鎼粹�崇闂佽棄鍟伴崰鏍蓟閿濆绫嶉柛銉厛娴犫晝绱掗悙顒�鍔ら柕鍫熸倐瀵寮撮敍鍕澑闂佸搫娲ㄩ崐顐︽晲婢跺鍘介棅顐㈡处閹哥偓鏅堕姀銏㈢＜閺夊牄鍔嶇亸浼存煙瀹勭増鍤囩�规洦鍋婂畷鐔煎箣椤栨粌鍩岄梺瀹狀潐閸ㄥ潡骞冨▎鎴炲珰鐟滄垿宕ラ锔藉�垫繛鍫濈仢閺嬫稒銇勯鐘插幋鐎殿噮鍋婇獮妯肩磼濡桨姹楅梻浣藉亹閳峰牓宕滃▎鎾存櫢闁伙絽鑻禒杈ㄦ叏婵犲懏顏犻柨鐔绘濠�杈ㄦ叏閻㈢违闁告劦浜炵壕濂告煥閻旇袚闁瑰嘲鎳樺畷鐑筋敇閻樻煡鐛庢繝鐢靛О閸ㄧ厧鈻斿☉婊冾杺闂備胶灏ㄩ幏宄懊归悩宸剱闁绘挸鍟撮弻锕�螣娓氼垱效濡炪們鍎茬划宀勬箒濠电姴锕ら悧蹇涙偩濞差亝鐓涚�癸拷閿熶粙宕伴弽褏鏆︽繛鍡樻尭鍥撮梺绯曞墲椤ㄥ繑瀵奸敓锟�!!!");
			return;
		}
		
		if(!fire.pb.main.ConfigManager.isCanCreateRole) {
			sendError(SCreateRoleError.CREATE_CREATE_GM_FORBID);
			logger.error("GM闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥闂佹寧绻勯崑娑㈠煘閹寸媴鎷烽敐搴′簼婵炲懎娲铏圭矙鐠恒劎鍔规繝纰橈拷铏窛缂侇喗鐟ㄧ粻娑㈠籍閸屾粎妲囬梻渚�娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡闂佺粯顨堟慨鎾偩閻戣棄绠ｉ柨鏇嫹閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゅ箹娴ｅ厜鎷洪梺纭呭亹閸嬫盯宕濆Δ鍛厸闁告侗鍠氶埥澶愭煟椤垵澧存慨濠勭帛閹峰懘鎼归悷鎵偧闂佹眹鍩勯崹杈╂暜閿熺姴鏋侀柛鎰靛枛鍞悷婊冮閻ｇ兘宕ｆ径宀�顔曢梺鐟扮摠閻熴儵鎮橀埡鍌ゆ闁绘劦浜滈悘顏勄庨崶褝韬い銏＄☉閳规垿宕堕張闈涙憢婵犵數鍋涢顓熸叏閻㈢绠伴柛鎰▕濞兼牗绻涘顔荤盎缂佺姴缍婇弻锝夊箛椤撶偟绁峰銈庡墮椤﹁京妲愰幘瀛樺缂佹稑顑呭▓顓㈡⒑缂佹﹩娈曢柟鍛婃倐椤㈡岸鏁愰崱娆戠槇濠殿喗锕╅崕鐢稿煛閸涱喚鍘撻梺鍛婄箓鐎氼剟鏁撻挊澶嬪暈缂佸倸绉撮…銊╁醇閻斿弶瀚奸梻浣告啞缁嬫垿鏁冮敂鍓т笉闁瑰墽绮崐鍨叏濮楀棗澧柛銈呮搐閳规垿顢氶崱妯侯伓闂傚倷绶氬褏鎹㈤崼銉ュ瀭濠电姵纰嶉弲顒佺節婵犲倻澧涢柍閿嬪灴閹綊骞侀幒鎴濐瀳闂佸搫顑呯粔鍓佹閹烘鏁婇柣锝呮湰閸Ｑ囨⒑娴兼瑧鎮奸柛蹇旓耿閻涱噣骞掗幊铏⒐閹峰懘妫冮埡鍌氼伓闂佺粯鍨兼慨銈夊磹閻㈠憡鐓熼柕蹇婃閸熷繘鏌ｉ幒鏂夸壕妞ゃ劊鍎甸幃娆撴嚑椤戭値鍕弿濠电姴瀚敮娑㈡煙瀹勭増鍣界紒顔炬暩閿熸枻缍嗘禍婵嬫偩娴煎瓨鈷掑ù锝堫潐閸嬬娀鏌涢弬鑳闁伙絿鍏橀、妤呭礋椤帗瀚归柨鏇炲�搁崹鍌涖亜閺傝鍔ら柛鐘查叄閸┿垺鎯旈妸锕�锟介攱銇勯幒宥堝厡婵″樊浜濠氬磼濮橆剨鎷烽幖浣哥９闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鏍箖濠婂吘鐔兼倻濮楀棗鏅┑鐘垫暩閸嬬偤宕归鐐插瀭闁革富鍘鹃惌鍡涙煕閹般劍鏉哄ù婊勭矒閺岋繝宕橀妸锔芥倷濡炪們鍎辩粔褰掑蓟閻斿吋鍤嶉柕澶涘椤︺儵姊虹�圭媭娼愰柛銊ユ健楠炲啫鈻庨幘宕囬獓闂佺懓顕慨鎶藉箣閻戣姤鈷掑ù锝堫潐閸嬬娀鏌涢弬鑳闁挎洏鍨哄蹇涘煛娴ｅ摜浜板┑鐘垫暩婵敻鎳濋崜褏涓嶆い鏇嫹闁哄被鍊濋獮渚�骞掗幋婵喰戦梻浣告啞椤洭寮拠宸綎闁惧繗顫夌�氭岸鏌嶉妷銉э紞闁跨喕妫勯…鐑藉蓟濞戞ǚ妲堥柛妤冨仜閳峰姊虹粙娆惧剱妞ゃ劌妫涢幑銏犫攽閸繃鐎冲┑鈽嗗灠閹碱偊鍩涙径鎰仭婵犲﹤瀚欢鏌ユ煕閻斿憡灏︽鐐插暢椤﹀墎绱掗悩宕囨创鐎殿喗鎸抽幃銈嗘媴閸︻厾鈼ラ梻鍌氬�峰ù鍥綖婢跺﹦鏆︽慨妤嬫嫹妞ゃ垺淇洪ˇ鏉戭熆鐟欏嫭绀嬬�规洘顨婂畷妤呮偂鎼粹�茬礋濠电姵顔栭崰妤呫�冮崨顓囨稑螖娴ｈ鐝锋俊銈忕到閸燁垶鎮″▎蹇ｆ富閻庯綆浜滈銏ゆ煟閹烘垶鍋ラ柡灞炬礋瀹曞爼濡搁妷銉綒婵°倗濮烽崑鐐垫暜閿熺姷宓侀悗锝庡枟閸嬫垿鏌ㄩ悢鍓佺煓鐎规洦鍓涢幑鍕偘閳╁啯鏉搁梺鍦劋婵炲﹤鐣烽幇顖ｆЬ閻庡灚婢橀敃銉х矉閹烘棑鎷烽敐搴濈敖闁哄苯鐗嗛—鍐Χ閸℃顫囬梺绋匡攻椤ㄥ棛绮欐径濠庡悑濠㈣泛顑囬崢浠嬫⒑閸濆嫬锟芥悂鎮樺┑瀣畺闁硅揪闄勯悡鐔兼煙閹屽殶闁瑰啿鎳愮槐鎺撴綇閵婏箑闉嶉梺鐟板槻閹虫ê螞閸愩劉妲堟慨姗嗗亝閸嬪懘姊婚崒娆戭槮闁圭⒈鍋婇、鏍幢濞嗘垹鐓撻梺瑙勫礃閸╂牠锝為弴銏＄厵闁绘垶锕╁▓鏇㈡煕鐎ｎ偄濮嶉柡灞剧洴楠炲洭顢橀悩顔间沪闂備礁鎼鍡涙偡閳轰緡娼栨繛宸簻娴肩娀鏌涢弴銊ュ箻闁告柨婀辩槐鎾存媴閾忕懓绗＄紓浣筋嚙閸婂潡骞冩ィ鍐╁�婚柦妯侯樀閸炲爼姊洪崫鍕窛闁稿鍠栧畷銏ゅ川婵犲嫮顔曢柡澶婄墕婢т粙骞冮崗绗轰簻妞ゆ挾鍋熸晶锕傛寠閻旂厧绠规繛锝庡墮閻忣喚绱掗埥鍛缂傚倷绀佹晶鑺ユ櫠濡ゅ嫭鎳屾俊鐐�ら崑鍕晝椤忓牆钃熸繛鎴炵啲閹风兘鏁愭惔鈥茬凹閻庤娲栭張顒勩�冮妷鈺傚�烽柤纰卞墰椤旀帡姊烘潪鎵妽闁圭懓娲顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷!!!");
			return;
		}
		
		// protocol handle
		final int userID=((gnet.link.Dispatch)this.getContext()).userid;		
		final xbean.User u = xtable.User.select(userID);
		// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾诲蓟閿濆鍋愰弶鍫亽閸斿懘姊虹紒妯诲碍妞わ妇鏁婚悰顔跨疀閺冩垶效闁瑰吋鐣崹褰掑几閸岀偞鈷戦柛娑橈攻婢跺嫰鏌涢幘瀵告创閽樻繈鏌曟径鍫濆姉闁猴拷娴犲鐓熼柟浼村亰閺夋椽鏌涢妶鍜佸剳缂佽鲸甯￠幃鈺呮惞椤愩垻顣叉俊鐐�栧ú鈺冪礊娴ｅ摜鏆︽俊顖欒閸熷懏銇勯弮锟介崕鍐差嚕閹惰姤鈷掑ù锝囶焾椤ュ繘鏌涚�ｎ亝顥㈢�规洑鍗抽獮妯兼嫚閼碱剛鍘梻浣告啞濞诧箓宕归柆宓ュ绻濋崘锔跨盎闂佽澹嬮弲娑㈡倶椤忓嫷鐔嗛悹鍝勬惈椤忣亞绱掔紒妯兼创鐎规洩绲惧鍕槈濠婃劖瀚归柟绋跨昂娴滄粓鏌曡箛濠傚⒉妞ゃ儱鐗撻弻鐔碱敊閸濆嫮浼堥悗瑙勬礃椤ㄥ﹪骞婇弽顓炵厸濞达絽鎽滈鐓庘攽閻樻鏆滅紒杈ㄦ礋瀹曟垵鈽夐姀鈺傛櫈闂佸憡渚楅崳顔尖枔娴犲鐓欓梻鍌氼嚟椤︼箓鏌涚仦璇插闁哄瞼鍠撶槐鎺楀閻樺磭浜堕梻浣虹帛閹稿鎮烽敃鍌毼﹂柛鏇ㄥ灠缁秹鏌ㄩ悢鍓佺煓鐎规洘娲熼獮搴ㄦ寠婢跺﹤浜堕梺璇插缁嬫帡鏁冮埡浣叉灁濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊︽そ瀵偊宕煎┑鎰瘜闂侀潧鐗嗛崯顐︽倶椤忓牊鐓熼柣鏂垮级濞呭﹥顨ラ悙璇ц含鐎殿喕绮欓、姗�鎮欓棃娑樼婵犵數鍋犻幓顏嗗緤娴犲绠烘繝濠傜墱閺佸﹪鏌ㄩ悤鍌涘?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘劙婀侀梺绋跨箰閸氬绱為幋锔界厱闁靛鍎遍敓钘夋健瀵鏁愭径濠勵啋閻庤娲栧ú銈夊传濞差亝鈷戦柛婵嗗閸庢劙鏌ｅΔ渚囨畼闁瑰箍鍨归埥澶愬閻樻鍚呮繝鐢靛仜濡鎹㈤幒妤�绀夐柟缁㈠枟閳锋垿寮堕悙鏉戭棆妞わ讣绠撻幃妤�顫濋銏犵ギ閻庢鍠涢褔鍩ユ径濞㈢喖鏌ㄧ�ｅ灚缍屽┑鐘垫暩閸嬫稑螞濞嗘挸绀夐柡鍥ュ灩缁�鍫㈡喐閻楀牆绗氶柍閿嬪灴瀵爼鎮欓弶鎴濡炪倧璁ｇ粻鎾诲蓟濞戞瑧绡�闁稿本绋戞禒鎾倵濞堝灝鏋涙い顓炲槻椤曪綁骞橀钘変簻婵＄偛顑呭ù鐑芥偘椤曪拷濮婄粯鎷呴搹骞匡拷濠囨煕閹惧绠氶柟绛嬪亰濮婅櫣绱掑Ο鑲╃暫濠电偠灏欓崰搴綖韫囨稒鎯為柛锔诲幘閿涙粌鈹戦埥鍡楃仴妞ゆ泦鍥ф辈婵°倕鎳忛埛鎴︽煕濠靛嫬鍔氶弽锟犳⒑缂佹﹩娈樺┑顔芥尦椤㈡岸鏁愰崱娆戠槇濠殿喗锕╅崜娆忕暤閸℃稒鈷戠紓浣股戦ˉ鍡樼箾閸滃啰绉い銏＄懇瀵挳濮�閳撅拷閹锋椽姊洪崨濠冨磩閻忓繑鐟╁畷銏犫槈閵忥紕鍘遍梺缁樏壕顓熸櫠椤掑嫭鐓欏〒姘仢婵′粙鏌熼娑欘棃闁糕斂鍎靛畷鍗炍熼搹瑙勑掗梻鍌氬�风欢姘焽瑜旈幃褔宕卞☉妯肩枃闂婎偄娲﹀ú婊堟儗婢舵劖鍊甸柨婵嗛閺嬬喖鏌ｉ幘瀛樼闁哄瞼鍠栭幃娆擃敆娴ｈ櫣鈻忛梻浣告啞缁诲倿骞栭锕�鐓橀柟杈鹃檮閺咁剟鏌涢弴銊ュ婵絽鐗撻幃妤冩喆閸曨剛顦梺鍝ュУ閻楃娀濡存担绯曟闁靛繆鍓濆▍婊堟⒑缁洖澧查拑閬嶆煟濠靛洨澧垫慨濠傤煼瀹曟帒鈻庨幋婵嗩瀴闂佽娴烽悷鎶藉川椤旂厧绨ラ梻浣侯焾閺堫剛鍒掗敐澶婄鐎瑰嫭澹嬪Σ鍫ユ煙閻戞ɑ灏伴柣婵囧哺濮婅櫣鎷犻垾铏亶闁诲海鐟抽崨顖滅暥闂佺粯鏌ㄩ崥瀣疾閹间焦鐓㈡俊顖欒濡牊绻涢崗鑲╁⒌闁哄睙鍡欑杸婵ê鍚嬬紞鍫ユ⒑缁嬭法绠茬紒顔芥崌瀵鈽夊Ο閿嬵潔闂佸憡顨堥崑鐐烘倶閹剧粯鍋℃繝濠傚鎯熼梺鍛婁緱閸ㄦ娊鏁嶅┑鍥╃閺夊牆澧介幃濂告煟閳╁啯顥堢�规洟娼ч埢搴ㄥ箻鐎电骞楁繝寰锋澘锟芥捇鎮為敃锟介悾椋庝沪缂併垺顔旈梺缁樺姈瑜板啴寮抽敐澶嬬厸濞达綀顫夊畷宀勬煙椤曞懍閭柡浣规尰缁傛帞锟斤綆浜濋悗顒勬⒑閸涘﹤濮﹂柛鐘愁殜閹繝濡烽埡鍌滃幐闂佸憡鍔戦崝宀勬晸閸婄喎鍚归柡渚囧枛閳藉濮�閿涘嫬骞愰梻浣告啞缁矂宕幍顔剧煋妞ゆ棁濮ら崣蹇撯攽閻樺弶鍣烘い蹇曞Х缁辨帗娼忛妸銉х懆闁句紮缍侀悡顐﹀炊妞嬪骸顕遍梻渚囧弾閸ㄥ爼寮婚悢纰辨晩闁活収鍋掓禍顏堟晲閻愭祴鏀介柛顐ゅ枎绾绢垶姊洪幆褏绠版繝锟介崡鐐垫殾闁煎摜鏁哥弧锟介梺姹囧灲濞佳勭閿曞倹鐓曟い顓熷灥閻忥妇锟借娲滈幊鎾跺弲濡炪倕绻愮�氼噣宕㈤柆宥嗏拺闁革富鍘奸崝瀣亜閵娿儲顥㈤柟顕嗙節瀵挳濮�閳ョ鎷烽崼鏇熺厽闁归偊鍘界紞鎴犵磼閿熶粙宕橀…鎴犲數闁荤喐鐟ョ�氭悂鎳撻崸妤佺厸閻忕偠顕ф慨鍌炴煙椤斿搫鐏柟椋庡Т閳绘挾锟斤綆鍋呭畷宀勬煛瀹�锟介崰鏍�佸▎鎾村亗閹兼惌鍨辩�氬綊鏌熼梻瀵稿妽闁稿鏅犻弻锝夊箣閿濆棭妫勭紓浣哄У閻╊垶寮婚埄鍐ㄧ窞濠电姴鍟禒鎾⒑閸濄儱浠滈柣鏍帶椤繐煤椤忓嫪绱堕梺鍛婃处閸撴瑧绮ｅ☉銏♀拺缂佸顑欓崕鎴︽煕閻樺磭澧虫俊顐ゅ枎椤啴濡堕崱妯尖敍闂佸綊顥撻崗姗�寮婚悢纰辨晩缂佹稑顑嗛悿渚�姊虹紒妯圭繁闁革綇绲介悾鐤亹閹烘繃鏅╅梺缁樻尭鐎垫帒顭囧☉銏♀拻闁稿本鐟︾粊鐗堛亜閺囩喓澧电�规洖缍婇弻鍡楊吋閸涱垼鍞跺┑鐘垫暩婵敻鎳濋崜褏涓嶆慨妯垮煐閻撴盯鏌涢幇鈺佸濠⒀勬礋楠炲棝鎮㈤崗灏栨嫼闂傚倸鐗婇崘鑽ゆ閿熺姵鍊堕柣鎰硾琚氶梺鍝勬閸庨潧顫忔繝姘＜婵﹩鍓ㄩ幏宄扮暋閹冲﹤缍婂畷鍫曞Ω閿曪拷瀵潡姊洪棃娑氬妞わ缚鍗冲鏌ヮ敂閸涱剛绠氶梺缁樺姦娴滄粓鏁撶粣鏍ф嫅閹风兘妫冨☉姘卞姱閻庤娲濋～澶岋拷闈涖偢楠炴牠顢橀悢鍛婄彣闂傚倷鐒︾�笛呮崲閸岀偛绠犻柟鐗堟緲濮规煡鎮楅敐搴℃灍闁抽攱鍨堕妵鍕箻閸楃偛顫囧┑锛勮檸閸ｏ綁骞冨Δ鍛棃婵炴垶姘ㄩ崝顖氣攽椤旂》鏀绘俊鐐舵铻為柛鎰╁妷濡插牊鎱ㄥ鍡楀⒒闁哄棭鍋呯换婵堝枈濡椿娼戦梺绋款儏閹虫劗鍒掑▎鎾崇婵°倧鎷烽柣銈夌畺閺屾盯顢曢敐鍡楊槱闂佽桨绀佸Λ婵嬪蓟濞戞矮娌柛鎾楀懐鍘戦梻浣瑰缁嬫垹鎹㈠Ο渚綎婵炲樊浜滄导鐘绘煕閺囩偟浠涘鍥ㄧ節閻㈤潧浠滄い锔芥緲鐓ゆ慨妤嬫嫹鐎殿喗鐓℃俊鐑藉煛閸屾粌骞楅梺鐟板悑閻ｎ亪宕愰妶鍜佺劷闁归偊鍘剧粻楣冩煕濞嗗浚妫︽い蹇撴瀵弶绻濈喊妯活潑闁搞劋鍗冲畷銉э拷锝庝簽閺嗭箓鏌涘▎蹇ｆШ缂佲槄鎷烽梻鍌氬�搁悧濠冪瑹濡ゅ懎纾块煫鍥ㄧ♁閻撶喖鏌熼柇锕�澧鹃棅顒夊墴閺岋紕浠﹂悙顒傤槰缂備胶绮惄顖氱暦瑜版帩鏁婇柣鎾冲珐閵夆晜鈷掑ù锝呮憸缁夌儤銇勯妷锔藉磳鐎规洘顨呴～婊堟晸娴犲宓侀柛鎰ㄦ櫇椤╃兘鎮楅敐搴濈盎缂佹劖绋掔换婵嬫偨闂堟刀銏ゆ倵濮樼厧澧撮柣娑卞枛铻栭柛娑卞枓閹风粯绻涢幘瀵稿暡闁圭兘鏀辩换娑欐媴閸愬弶鍣虹�规洘鐓￠弻鐔兼倻濡闉嶉梺鍛婄懃缁绘ê顫忓ú顏勫瀭妞ゆ洖鎳庨崜鍐差渻閵堝倹娅婇柡锟芥潏鈺傚床婵炴垯鍨圭粻锝嗙箾閸℃绠冲ù鐘荤畺濮婅櫣绱掑Ο璇查瀺濠电偠灏欓崰鏍ь嚕婵犳艾鍗抽柕蹇曞█閸炶泛鈹戦悩缁樻锭闁绘绻橀、娆愬緞閹邦厾鍘介柟鍏肩暘閸ㄥ吋绔熷Ο鑽ょ瘈闁跨喕濮ゅ蹇涘煛閸屻倖缍楅梻浣筋潐瀹曟﹢顢氳婢规洟宕楅崗鐓庡伎濠殿喗顨呭Λ妤佹櫠妤ｅ啯鐓欓柣鎴ｅГ閺佽鲸銇勯敂鎯ь暭闁诡垱妫冩慨锟介柍杞版缂傛捇姊婚崒娆愮グ婵炲娲熷畷浼村箻鐎涙ê寮块梺姹囧灮椤牏澹曟繝姘厱閻忕偞鍎抽崵顒勬煟閺傛寧顥㈤柡灞诲�濋獮鏍ㄦ媴鐟欏嫰鏁┑鐘愁問閸犳牕煤閵娧勵潟闁圭儤顨嗛崑鎴︽煥閻斿墎鐭欑�规洖缍婂畷濂稿即閻愯埖鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷
		final fire.pb.role.SCreateRoleConfig config = RoleConfigManager.getCreateRoleConfig(shape);
		if (config == null)
		{
			logger.error("-------------------------婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄闁诲繑宀稿畷瀹狀槾缂佽鲸鎸婚幏鍛矙濞嗙偓娈洪梻浣侯焾椤戝啴宕愬┑鍡╁殨閻犲洦绁村Σ鍫ユ煏韫囨洖顫嶉柕濠忚礋娴滄粓鏌￠崘銊ワ拷鍝ユ暜閼哥偣浜滄い鎰枑濞呭洨绱掓潏銊﹀鞍缂佹鍠愮换婵嬪礃椤垳绱﹂梻鍌氬�风粈浣圭珶婵犲洤纾婚柛鈩冪☉缁愭鏌熼幑鎰【濠殿噮鍓熼弻銊╂偄閸撲胶鐓撳┑顔硷工椤嘲鐣烽幒鎴僵闁告鍎愰弶鍝ョ磽閸屾瑧顦︽い鎴濇閺侇噣鏁撻悩鍙夌�悗骞垮劚椤︻垳鐚惧澶嬬厱妞ゆ劑鍊曢弸鏃堟煕濮楋拷缁犳牕顫忓ú顏勪紶闁告洖鐏氭瓏婵犵數鍋涢ˇ鏉棵哄Ο鑲╃焿闁圭儤顨呴～鍛存煏閸繃顥犻柛姗嗕邯濮婅櫣鍖栭弴鐐测拤闂佹寧姘ㄧ槐鎺懳旀担鍝ョ懖闂侀潧娲ょ�氫即銆侀弴銏℃櫜闁搞儮鏅濋弶浠嬫⒒娴ｇ瓔鍤冮柛鐘愁殜閹兘鍩￠崨顐嫹娴ｈ倽鏃堝川椤旇姤顏熷┑鐐差嚟婵挳顢栭幇鏉挎瀬闁稿瞼鍋為悡鐘电磼鐎ｎ亞浠㈤柟顔昏兌缁辨帞鎷犻崣澶樻＆闂佸搫鏈ú鐔风暦閻撳簶鏀介柛銉ｅ妽閸婄兘姊洪崫銉ユ瀾闁诡喖鍊搁～蹇涙惞閸︻厾鐓撳┑鐐叉閸庢娊宕滄潏鈺冪＝濞达絽澹婇崕鎰版煙閹间胶鐣虹�规洘宀搁獮鎺懳旈敓鐣岀尵瀹ュ鐓曢柕澶涚到閸旀瑦鎱ㄧ憴鍕垫疁婵﹥妞藉畷鐑筋敇閻愭彃顬嗛梻浣告惈鐞氼偊宕濇惔锝呭灊濠电姴娲﹂弲婵嬫煕鐏炲墽鈻撻柟鐤缁辨挻绗熼崶褏浠┑鐐插级閻楁寮查崼鏇炶摕闁靛濡囬崢閬嶆⒑閻熼偊鍤熷┑顔炬暬瀹曠敻鏁撴禒瀣厱婵°倧鎷风�规洦鍓熼崺鐐哄箣閿旇棄浜归悗瑙勬礀濞村倿寮抽敓鐘斥拺闁规儼濮ら弫閬嶆煕閵娿儲璐℃俊鍙夊姍楠炴锟芥稒锚椤庢捇姊洪崗鑲┿偞闁告挻绻堝畷鍦喆閸曨収娲搁梺褰掓？缁讹繝寮崶顒佺厪闊洢鍎崇壕鍧楁煕濡潡鍝虹紒缁樼箞閹粙妫冨ù韬插灲閺屾稒绻濋崒婊呅ㄩ悗瑙勬礃閸ㄦ寧淇婇悜鑺ユ櫆缂備焦锕╅崯宥夋⒒娴ｈ櫣甯涢柛鏃�鐗為妵鎰板礃椤斿吋杈堝┑鐐叉閹稿骞婂鑸电厸鐎广儱楠搁獮妤呮煟閹惧瓨绀冪紒缁樼洴楠炲鈹戦崱姘厴闂備礁鎼鍡欑矙閹达附绠掗梻浣虹帛椤牆鈻嶉弴銏犖︽繝闈涙处閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞叉鍒掗幘璇茬疇闁绘ɑ妞块弫鍡涙煥閻旂儤娅曢柡渚囧櫍婵＄兘鍩￠崒妤佸缂傚倷绀侀鍡涱敄濞嗘挸纾块煫鍥ㄧ♁閸婂灚鎱ㄥΟ鐓庡付濠⒀勬尦閺屾盯鍩為崹顔句紙濡ょ姷鍋為敋闁伙絿鍏樺畷鍫曞Ω閿旂偓娈鹃梻鍌氬�峰ù鍥р枖閺囥垹绐楅柟鎹愵嚙閻ょ偓銇勯幇銊﹀殥闁挎繂顦粻娑㈡煛婢跺孩纭舵い鏃�甯￠弻锝嗘償閵忊懇妾ㄩ梺鎸庣閵囧嫭鎯旈姀鈥崇３濠殿喖锕ら…宄扮暦閹烘埈娼╅柛妤冨剱閺夊摜绱撻崒娆戭槮妞ゆ垵妫濆畷褰掑锤濡わ拷閻忔娊鏌″鍐ㄥ缂佸墎鍋ら弻鐔兼焽閿曪拷楠炴劙鏌熼悿顖涱仩缂佽鲸鎹囧畷鎺戔枎閹存繂顬夐梺钘夊暣娴滃爼寮婚悢纰辨晬婵ê宕埅杈╃磽娴ｄ粙鍝洪悽顖滃仧濡叉劙骞掗幊宕囧枛閹虫牠鍩￠崘鈺傜钒闂傚倸鍊烽懗鍓佸垝椤栨稓鐟规俊銈呮噹闂傤垶鏌ㄥ┑鍡樺櫧闁哄棴绠撻弻娑樜旈崘銊ゆ睏濠碘剝褰冮悧濠冪┍婵犲浂鏁嶆繝褏鍋撶�氭稑鈹戦檱鐏忔瑦鏅跺Δ浣衡攳濠电姴娲﹂崐閿嬨亜韫囨挸顏甸柟椋庡厴瀵粙鈥栭浣衡檨缂佹鍠栭弫鎾绘寠婢跺本娈鹃梺纭呮彧缁犳垹绮诲☉銏＄厱闊浄绲芥禍婊勭箾瀹割喖骞栨い鏇悼閹瑰嫮鎮伴埄鍐拷濠氭⒑缂佹ê濮﹂柛鎾寸懇閹礁顭ㄩ崼鐔叉嫽婵炴挻鐔幏閿嬬箾娴ｅ啿娲﹂崑瀣煕閳╁啨浜楁繛鎴炃氬Σ鍫熺箾閸℃ê濮堥柣婵嗗槻椤啴濡堕崱妤冪懆闁诲孩鍑归崣鍐箖閿熺姵鍋愮紓浣诡焽閸樹粙姊虹紒妯荤叆闁硅绱曞▎銏ゅ蓟閵夛妇鍘撻梻浣哥仢椤戝棝藟閸儲鐓涚�癸拷閿熶粙宕伴幘璺哄灊闁哄啫鐗嗛獮銏′繆閵堝嫮顦﹂柣婵囨濮婇缚銇愰幒婵囶棖闂佺绻戦敃銏狀嚕椤愶箑绠涙い鎾跺枎閸斿懘姊洪悙钘夊姕闁告挻鑹鹃…鍥礈瑜忕壕钘壝归敐鍥ㄥ殌闁告柣鍊楅幉鎼佸箥椤旈棿鎴烽梺鍛婂笚鐢帡鍩㈡惔銊ョ閻庡湱濮甸幉鐗堢節閻㈤潧浠﹂柛銊ョ埣閹矂顢欑亸鏍ㄧ參濡炪倕绻愰悧濠囨偂濞嗘挻鍋℃繛鍡楃箰椤忊晛鈹戦鍏煎闁靛洤瀚版俊鐑芥晜閸撗呮澖婵犳鍠栭敃銉ヮ渻閽樺鏆︽い鎰剁畱缁�瀣⒒閸喓鈽夊鐟板濮婄粯鎷呮笟顖滃姼闂佹寧娲忛崕鎶藉箲閵忋倕閱囨繝鍨姇濞堛劑鏌ｉ悩鍙夊缂佷焦娼欏嵄闁割偁鍎查悡蹇涚叓閸パ岀叚闁归鍏樺畷妤呭川椤旂偓缍庨梻鍌氬�搁崐椋庣矆娴ｈ櫣绀婂┑鐘叉储閿熻棄鍊块弫鍐磼濞戞﹫鎷烽崸妤佺叆闁哄洨鍋涢敓钘夌秺瀹曟垿顢旈崟鈺嬫嫹閹烘埈娼╅柣鎰靛墮椤忓爼姊绘担绛嬪殐闁哥姵顨婇妴鍐川閺夋垹鍘洪梺瑙勫礃椤曆囧垂閸屾稏浜滈柡鍐ㄥ�瑰▍鏇灻瑰鍐煟婵﹦绮幏鍛驳鐎ｎ亝鐣伴梻浣告憸婵敻鎮ч悩鑼殾闁圭増婢樼粻鐟懊归敐鍥ㄥ殌濞寸姴銈搁幃妤呮偡閺夋浼冮梺绋款儏閿曘倝鈥﹂崶顒�惟闁冲搫鍊婚崣鍡涙⒑缂佹ɑ鐓ュ褍閰ｉ幆灞解枎閹搭垱瀚归悷娆忓缁�鍐╀繆閻愭壆鐭欑�殿噮鍋婇獮妯肩磼濡桨姹楅梻浣藉亹閳峰牓宕滈敃锟藉嵄濞寸厧鐡ㄩ埛鎺懨归敐鍫燁仩閻㈩垱鐩弻娑㈠籍閹惧墎鏆ら悗瑙勬礃缁矂鍩ユ径鎰潊闁绘ɑ鐖犻崶銊у弳闂佺粯娲栭崐鍦拷姘炬嫹?!!!--------"+shape);
			return;
		}
			
		if (!config.schools.contains(school))
		{
			logger.error("------"+shape+"-------------------婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄闁诲繑宀稿畷瀹狀槾缂佽鲸鎸婚幏鍛矙濞嗙偓娈洪梻浣侯焾椤戝啴宕愬┑鍡╁殨閻犲洦绁村Σ鍫ユ煏韫囨洖顫嶉柕濠忚礋娴滄粓鏌￠崘銊ワ拷鍝ユ暜閼哥偣浜滄い鎰枑濞呭洨绱掓潏銊﹀鞍缂佹鍠愮换婵嬪礃椤垳绱﹂梻鍌氬�风粈浣圭珶婵犲洤纾婚柛鈩冪☉缁愭鏌熼幑鎰【濠殿噮鍓熼弻銊╂偄閸撲胶鐓撳┑顔硷工椤嘲鐣烽幒鎴僵闁告鍎愰弶鍝ョ磽閸屾瑧顦︽い鎴濇閺侇噣鏁撻悩鍙夌�悗骞垮劚椤︻垳鐚惧澶嬬厱妞ゆ劑鍊曢弸鏃堟煕濮楋拷缁犳牕顫忓ú顏勪紶闁告洖鐏氭瓏婵犵數鍋涢ˇ鏉棵哄Ο鑲╃焿闁圭儤顨呴～鍛存煏閸繃顥犻柛姗嗕邯濮婅櫣鍖栭弴鐐测拤闂佹寧姘ㄧ槐鎺懳旀担鍝ョ懖闂侀潧娲ょ�氫即銆侀弴銏℃櫜闁搞儮鏅濋弶浠嬫⒒娴ｇ瓔鍤冮柛鐘愁殜閹兘鍩￠崨顐嫹娴ｈ倽鏃堝川椤旇姤顏熷┑鐐差嚟婵挳顢栭幇鏉挎瀬闁稿瞼鍋為悡鐘电磼鐎ｎ亞浠㈤柟顔昏兌缁辨帞鎷犻崣澶樻＆闂佸搫鏈ú鐔风暦閻撳簶鏀介柛銉ｅ妽閸婄兘姊洪崫銉ユ瀾闁诡喖鍊搁～蹇涙惞閸︻厾鐓撳┑鐐叉閸庢娊宕滄潏鈺冪＝濞达絽澹婇崕鎰版煙閹间胶鐣虹�规洘宀搁獮鎺懳旈敓鐣岀尵瀹ュ鐓曢柕澶涚到閸旀瑦鎱ㄧ憴鍕垫疁婵﹥妞藉畷鐑筋敇閻愭彃顬嗛梻浣告惈鐞氼偊宕濇惔锝呭灊濠电姴娲﹂弲婵嬫煕鐏炲墽鈻撻柟鐤缁辨挻绗熼崶褏浠┑鐐插级閻楁寮查崼鏇炶摕闁靛濡囬崢閬嶆⒑閻熼偊鍤熷┑顔炬暬瀹曠敻鏁撴禒瀣厱婵°倧鎷风�规洦鍓熼崺鐐哄箣閿旇棄浜归悗瑙勬礀濞村倿寮抽敓鐘斥拺闁规儼濮ら弫閬嶆煕閵娿儲璐℃俊鍙夊姍楠炴锟芥稒锚椤庢捇姊洪崗鑲┿偞闁告挻绻堝畷鍦喆閸曨収娲搁梺褰掓？缁讹繝寮崶顒佺厪闊洢鍎崇壕鍧楁煕濡潡鍝虹紒缁樼箞閹粙妫冨ù韬插灲閺屾稒绻濋崒婊呅ㄩ悗瑙勬礃閸ㄦ寧淇婇悜鑺ユ櫆缂備焦锕╅崯宥夋⒒娴ｈ櫣甯涢柛鏃�鐗為妵鎰板礃椤斿吋杈堝┑鐐叉閹稿骞婂鑸电厸鐎广儱楠搁獮妤呮煟閹惧瓨绀冪紒缁樼洴楠炲鈹戦崱姘厴闂備礁鎼鍡欑矙閹达附绠掗梻浣虹帛椤牆鈻嶉弴銏犖︽繝闈涙处閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞叉鍒掗幘璇茬疇闁绘ɑ妞块弫鍡涙煥閻旂儤娅曢柡渚囧櫍婵＄兘鍩￠崒妤佸缂傚倷绀侀鍡涱敄濞嗘挸纾块煫鍥ㄧ♁閸婂灚鎱ㄥΟ鐓庡付濠⒀勬尦閺屾盯鍩為崹顔句紙濡ょ姷鍋為敋闁伙絿鍏樺畷鍫曞Ω閿旂偓娈鹃梻鍌氬�峰ù鍥р枖閺囥垹绐楅柟鎹愵嚙閻ょ偓銇勯幇銊﹀殥闁挎繂顦粻娑㈡煛婢跺孩纭舵い鏃�甯￠弻锝嗘償閵忊懇妾ㄩ梺鎸庣閵囧嫭鎯旈姀鈥崇３濠殿喖锕ら…宄扮暦閹烘埈娼╅柛妤冨剱閺夊摜绱撻崒娆戭槮妞ゆ垵妫濆畷褰掑锤濡わ拷閻忔娊鏌″鍐ㄥ缂佸墎鍋ら弻鐔兼焽閿曪拷楠炴劙鏌熼悿顖涱仩缂佽鲸鎹囧畷鎺戔枎閹存繂顬夐梺钘夊暣娴滃爼寮婚悢纰辨晬婵ê宕埅杈╃磽娴ｄ粙鍝洪悽顖滃仧濡叉劙骞掗幊宕囧枛閹虫牠鍩￠崘鈺傜钒闂傚倸鍊烽懗鍓佸垝椤栨稓鐟规俊銈呮噹闂傤垶鏌ㄥ┑鍡樺櫧闁哄棴绠撻弻娑樜旈崘銊ゆ睏濠碘剝褰冮悧濠冪┍婵犲浂鏁嶆繝褏鍋撶�氭稑鈹戦檱鐏忔瑦鏅跺Δ浣衡攳濠电姴娲﹂崐閿嬨亜韫囨挸顏甸柟椋庡厴瀵粙鈥栭浣衡檨缂佹鍠栭弫鎾绘寠婢跺本娈鹃梺纭呮彧缁犳垹绮诲☉銏＄厱闊浄绲芥禍婊勭箾瀹割喖骞栨い鏇悼閹瑰嫮鎮伴埄鍐拷濠氭⒑缂佹ê濮﹂柛鎾寸懇閹礁顭ㄩ崼鐔叉嫽婵炴挻鐔幏閿嬬箾娴ｅ啿娲﹂崑瀣煕閳╁啨浜楁繛鎴炃氶弸搴ㄦ煙閹咃紞闁告﹢浜跺娲捶椤撶偛濡哄┑顔硷龚瀹曞灚绔熼弴銏犵缂佹妗ㄧ花濠氭⒑閸濆嫭宸濋柛瀣仱瀹曞疇銇愰幒鎾跺幗闂婎偄娲﹀ú鏍煝閸儲鐓涚�癸拷鐎ｎ剛袦闂佽桨鐒﹂崝娆忕暦閹偊妲诲Δ鐘靛仜椤戝懓鐏冮梺缁橈耿濞佳勭閿斿浜滄い鎾跺仦閸犳﹢鏌℃担瑙勫鞍缂佸倹甯為敓鏂ょ秵閸嬪懘鏌ㄩ銏♀拺缁绢厼鎳庤缂備緡鍠楅幑鍥Υ娴ｇ硶鏋庨柟鎯у暱瀹撳棝姊洪棃娑氱畾婵＄嫏鍥х婵炲樊浜濋悡鐔兼煟閺傛寧鎲搁柟鍐插暣閹顫濋悡搴＄睄閻庤娲樺ú鏍亙闂佸憡渚楅崰姘跺储闁秵鈷戦梻鍫熶緱閻掗箖鏌涢弬娆惧剶鐎规洏鍎甸、鏇㈡晜閻ｅ苯寮抽梻浣虹帛濡線顢氳椤ｅ潡姊绘担铏瑰笡婵☆偄绻樺畷婊堟偄閼测晛绁﹂棅顐㈡处缁嬫帡寮查幖浣圭叆闁绘洖鍊圭�氾拷?!!!------"+school);
			return;
		}
		
		
		//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｄ即姊洪崫鍕伇闁哥姵鐗犻妴浣糕槈濮楀棛鍙嗛梺鍛婂姉閸嬫挸袙婢跺绻嗛柣鎰典簻閿熻姤鍨垮畷鏇㈡焼瀹撱儱娲幃鐣岀矙閼愁垱鎲伴梻浣瑰缁嬫垹锟芥碍鎮傞獮蹇涙倻閼恒儲娅滈梺绋挎湰缁嬫帡鎮甸弽顐ょ＝濞达絿鎳撴慨鍫熶繆椤愩垹鏆ｇ�殿喖顭烽弫宥夊礋椤忓懎濯伴梻浣虹帛閸旓箓宕滃☉鈶哄洦瀵肩�涙ê锟界敻鎮峰▎蹇擃仾缂侊拷閸儲鐓曟俊顖滃Т濞层倝鎮″锟介弻鐔告綇閸撗呮殸缂備胶濮电粙鎺楀Φ閸曨垰绠荤紒娑樻贡绾拷闂備焦鎮堕崕顖炲礉婢舵劕绠柧蹇撴贡绾捐棄霉閿濆懎顥忛柛搴㈠姈閵囧嫰骞嬮悙鍨櫚閻庤娲樺ú鏍敇閸忕厧绶為悗锝庡墮楠炲牓姊绘担鍛婃儓闁哥姵鐩獮蹇涙倻閼恒儳鍘遍梺闈涱焾閸庤櫕绂掗姀掳浜滈柡鍥朵簽缁嬭崵绱掔紒妯肩畵妞ゎ偅绻堥、妤呮晸閽樺鏆ら柛鈩冪♁閳锋垹绱撴担鑲℃垿藟閸℃绠鹃柛婊冨暟缁夘噣鏌熼娆戠獢鐎规洖銈告俊鐑芥晜缂佹﹩妫呭┑锛勫亼閸婃牠宕濋幋锕�鍨傞柣鎴灻欢鐐烘煕閺囥劌澧扮紒鐘荤畺閺屾稑鈻庤箛锝喰ㄩ梺娲诲幗鐢偤鏁撻懞銉晱闁哥姵顨嗙换娑欑節閸パ呯暫闂佸啿鎼崯鎵閸忛棿绻嗘い鏍仦閺侀亶鎮楀鍐蹭汗缂佽鲸鎹囧畷鎺戭潩椤掑﹥瀚归柣鎴ｅГ閸婂潡鏌ㄩ弴姘卞妽闁瑰啿鐭傚铏规嫚閼碱剛顔囩紓浣虹帛鐢寮茬捄浣曟棃宕橀埡浣哥哎婵犵數鍋為崹顖炲垂濞差亜鍚归柟瀵稿亼娴滄粓鏌熼搹鐟颁沪閻庢艾缍婂娲传閸曢潧鍓辩紓浣割儐閹瑰洭寮幘缁樺殟闁靛鍠栭弲閬嶆⒑閸濄儱校闁烩晩鍨堕妴浣割潩閹颁焦鈻岄梻浣虹《閺傚倿宕曢幓鎺濆殫闁告洦鍓涚弧锟介柟鍏肩暘閸ㄥ湱绱撻幘缁樷拻濞达綀娅ｉ妴濠囨煕閹惧绠為柡浣割儔濮婅櫣绮欑捄銊ь唶闂佹寧娲忛崕鑼矚鏉堛劎绡�闁搞儯鍔岄敓浠嬫敱閵囧嫯绠涢幘鎰佷紥闂佸綊顥撻崗妯侯嚕娴犲鏁冮柨婵嗘椤斿洭姊绘担鍛婅础闁稿簺鍊濋妴鍐川椤栨凹妫滈悷婊呭鐢鎮″▎鎾粹拺妞ゆ挶鍔庨悾閬嶆煟韫囨岸鍝哄ǎ鍥э躬椤㈡稑顫濋澶夌磾婵犳鍠栭敃銉ヮ渻閽樺鏆︽い鎰剁畱缁�瀣亜閹捐泛孝濠殿喚鏅槐鎾诲磼濞嗘帒鍘＄紓渚囧櫘閸ㄦ娊骞戦姀銈呯＜闁绘劖娼欐禒濂告⒑缂佹ê鐏辨俊顐㈠濞戠敻鏁撴禒瀣拺缂備焦锚閻忋儲淇婇锝囨噰鐎规洘鎹囬幃浠嬪川婵犲嫬骞楅梻浣虹帛椤洭宕曢妶澶樻晜闁绘绮悡鏇㈠箹鐎涙鈽夐柨鐔诲Г缁诲牓鎮伴鐣岀瘈闁稿本顨嗛悗濠氭⒑閻熸澘鈷旈悶娑栧劦楠炲繒绱掑Ο鑲╊啎闁哄鐗嗘晶浠嬪箖婵傚憡鐓熼柍鈺佸暞椤ュ牏锟借娲滈弫璇茬暦濮楋拷椤㈡瑩鎮剧仦钘夌疄闂傚倷绶氬褔鈥﹂崼銉ョ？闂侇剙绉甸崵瀣喐閻楀牆绗氶柟铏哺閺岋綁骞囬鐓庡闂佺粯鎸诲ú鐔煎蓟閻旂顕遍悗娑櫳戦柨顓㈡⒑閸濆嫷鍎愰柣鈺婂灦瀵鏁嶉崟鑸靛闁挎繂鍊瑰▍鍥╃磼閹邦厽顥堥柡宀嬬磿娴狅箓宕滆濡插牓姊烘导娆戠ɑ缂佽鐗撳顐﹀箻鐎靛壊娴勯柣搴秵娴滅偤鏁嶅☉銏♀拺缂備焦锚婵洭鏌熺喊鍗炰喊鐎规洏鍎靛畷鐑筋敇閵婏箑顏跺Δ鐘靛仜閻忔繈宕濆顓滀簻闁挎柨鐏濆畵鍡涙煙椤旀瑣鍊楅悿锟介梺鐟扮仢閸熶即宕悽鍛婄厽闁绘鍎ら妴鍐偣閿熶粙鏁冮崒姘憋紵闂婎偄娲﹂幐鎾绩閼恒儯浜滈柡鍌濐嚙婵″ジ鏌熼搹顐㈠濠㈣娲樼缓浠嬪川婵犲嫬骞楁繝纰樻閸ㄨ京锟界瑳鍥ㄥ仧妞ゅ繐妫撮幏椋庢喆閸曨剛顦ラ梺娲诲墮閵堟悂寮幘缁樺殟闁靛鍠栭弲閬嶆⒑閸濄儱校闁烩晩鍨堕妴浣割潩閹颁焦鈻岄梻浣虹《閺傚倿宕曢幓鎺濆殫闁告洦鍓涚弧锟介柟鍏肩暘閸ㄥ湱绱撻幘缁樷拻濞达綀娅ｉ妴濠囨煕閹惧绠為柡浣割儔濮婅櫣绮欑捄銊ь唶闂佹寧娲︽禍婊堬綖韫囨洜纾兼俊顖濐嚙椤庢捇姊洪崨濠勨槈闁挎洏鍊濆鎶藉醇閵夛腹鎷洪梺闈╁瘜閸欏酣鎮為悙顑跨箚妞ゆ劧绲跨粻鎾绘煟閿濆洤鍘村┑鈩冩倐閸┾剝绻濋崘鈺傜彟缂傚倸鍊烽悞锔剧矙閹达富鏁勯柛娑欐綑閻ら箖鏌ｅΟ鑲╁笡闁抽攱甯￠弻娑氫沪閹规劕顥濋梺璺ㄥ枙婵倝骞冮崒姘辨殾闁归偊鍓涢弳瀣煙閸愯宸ョ紓宥咃工閻ｇ兘宕奸弴銊︽櫌婵犮垼娉涢鍡椻枍閺冨牊鈷掑ù锝呮啞閹牏绱掔�ｂ晝绐旂�规洏鍨介幊鏍煛閸愵亜绠垫繝寰锋澘锟芥洟骞婅箛娑欏亗婵炴垶鐔幏鐑界嵁閸喖濮庢俊銈囧У閹倿鎮伴鍢夋棃宕ㄩ鎯у箺闂備胶鎳撻悘婵堬拷姘煎幘閿熻姤鑹剧紞濠傤潖婵犳艾纾兼繛鍡樺灥婵′粙鏌ｆ惔锝囨嚄闁告侗鍠栨惔濠囨⒑缁嬭法鐏遍柛濠冪洴瀹曞爼顢楁径瀣珫婵犵數濮撮敃銈夊箠瀹ュ洨绠斿鑸靛姈閳锋垿鏌涘┑鍡楊伀闁宠顦甸弻娑樜熼崷顓犵厯闂佽鍣换婵囦繆閻戣棄鐓涢柛灞剧矊楠炴姊绘担鍛婃儓婵炲眰鍔戝畷鎴濃槈閵忊剝娅㈤梺鑺ッˇ鎵嫻閿熺姵鐓ラ柣鏃囶嚙琚氶梺缁樻閸撶喖鐛箛娑欐櫢闁跨噦鎷�?
		int nameLen = CheckName.nameLen();
		int length=0;
		try {
			length=(new String(name.getBytes( "gb2312"), "ISO-8859-1")).length();
		} catch (UnsupportedEncodingException e) {
			// TODO Auto-generated catch block
			sendError(SCreateRoleError.CREATE_OVERLEN);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢楅敓鐣岀棯瑜旈弻锝夊Χ閸涱収浼冨┑顔硷功缁垶骞忛崨鏉戝窛濠电姴鍊瑰▓姗�姊绘担鍛婅础妞ゎ厼鐗嗚灋婵犻潧妫涢弳锕傛煏婵炵偓娅撻柡浣哥У缁绘繃绻濋崒姘闂佸吋鎯岄崹璺侯潖婵犳艾纾兼慨姗嗗墾閹烽攱顦版惔锝囩劶婵炶揪缍佸濠氭嚀閸ф鈷戞い鎺炴嫹缂佸鏁婚獮鍡涙倷閸濆嫮顔愬┑鐑囩秵閸撴瑦淇婇懖鈺冪＜闁归偊鍙庡▓鏇炃庨崶褝韬┑鈥崇埣瀹曘劑顢欓崗纰变哗缂傚倷鑳堕崑鎾诲磿閹惰В锟斤箓鎮滈挊澶庢憰闂佸搫娲㈤崹褰掓煁閸ャ劎绡�闂傚牊绋掗幖鎰亜閿旇娅婃慨濠冩そ瀹曨偊濡烽妷鎰剁秮閺屾盯寮敓浠嬫偡閳轰緡鍤曞┑鐘崇閺呮悂鏌ｅΟ鍨毢闁挎稒绮岄埞鎴︽倷閺夋垹浠撮悗瑙勬处閸撶喎鐣峰┑鍫滄勃閻熸瑱绲鹃弬锟介梻浣虹帛閸旀牞銇愰崘顔肩畺闁硅揪闄勯悡鐔镐繆閵堝嫯鍏岄柣顓熷笚椤ㄣ儵鎮欏顔解枅濡ょ姷鍋為悧妤呭箯閸涘瓨鍋″Λ棰佽兌缂嶅秹姊婚崒娆戭槮濠㈢懓锕畷鎴﹀川椤栨稑搴婇梺鍛婃处閸ㄩ亶宕戦敓鐘崇厪濠电偟鍋撳▍鍡涙煃闁垮鐏撮柡宀�鍠栭幊鏍煛娴ｉ鎹曞┑鐘殿暯閿熺晫鍋ㄩ崑銏ゆ煛鐏炲墽鈾佺紒缁樼箞瀹曟帒顭ㄩ崨鍛妽缁绘繄鍠婃径宀�锛熼梺杞版祰椤曆囨偩閻戣姤鍋勭痪鎷岄哺閺咁剙鈹戦绛嬬劸濞存粠鍓欓…鍥ㄥ緞閹邦厸鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓涢柛顐亜婢ф挳鏌曢崱妤�鏆ｇ�规洖宕埢搴♀枎閹邦剦浼撴繝娈垮枟閿曗晠宕㈤幆顬¤櫣锟芥稒蓱閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞诧箓宕戞繝鍐х箚闁绘垼妫勫敮闂侀潧鐗嗗Λ妤呮偂閺囥垺鈷掗柛灞剧懆閸忓本銇勯鐐靛ⅱ闁煎搫宕叅妞ゅ繐瀚敍娆忊攽鎺抽崐鏇㈠箠鎼达絿涓嶉柡灞诲劜閻撳繘鐓崶銊︾鐞氥儱鈹戦埄鍐ㄧ祷闁绘鎹囧濠氬即閿涘嫮鏉搁梺鍝勬川閸婎偊濡烽敂杞扮盎闂佽鍎抽悺銊╁Φ濠靛洦鍙忓┑鐘叉噺椤忕姷绱掓潏銊ョ瑨閾伙綁鏌涘┑鍡楊伌婵炲吋姊圭换婵嬫偨闂堟稐绮堕梺鍛婅壘椤戝骞冮悿顖ｆ▌閻庤娲滄晶妤冩崲濠靛纾奸柕鍫濇噺閸婎垶姊绘担瑙勫仩闁稿寒鍣ｅ鎻掆攽鐎ｎ偅娅栧┑鐘绘涧濞层劎绮绘ィ鍐ㄧ骇闁割偅绻傞埛鏃堟煕閹烘挻绶叉い顓炴健閹鏁闂寸矗闂佸憡顨夋禍顒勫箟閹间焦鍋嬮柛顐ｇ箘閻熸煡姊虹紒妯诲鞍闁荤啿鏅犲璇测槈濡攱顫嶅┑顔筋殔閻楀棙瀵奸幇鐗堚拺鐎规洖娲ㄧ敮娑欑箾閼碱剙鏋涚�殿喖顭峰鎾閻樿尪锟藉潡姊洪崫鍕窛濠殿垼鍘煎嵄妞ゆ梻鈷堝〒濠氭煏閸繈顎楀ù婊勭箘缁辨帞鎷犻懠顒�鈪靛Δ鐘靛仜閿曘倝鈥﹂妸鈺侀唶婵犻潧妫涢敓绛嬪幖椤啴濡堕崱妤�衼缂傚倸绉村Λ娆戠矉閹烘洦妯勫┑顔硷工椤嘲鐣烽幒鎴旀瀻闁归偊鍠撻崑妯荤節閻㈤潧浠滄い锔芥緲鐓ら柣鏃堫棑閺嗭箓鏌熼幆鏉啃撻柡鍛箞閺屾稓浠﹂悙顒傛濡炪倖鏌ㄥΛ婵嗩潖閾忚宕夐柕濞垮劜閻濄垽姊洪悷鏉挎闁瑰嚖鎷�");
			return;
		} 
		
		
		if(length > nameLen){
			sendError(SCreateRoleError.CREATE_OVERLEN);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢楅敓鐣岀棯瑜旈弻锝夊Χ閸涱収浼冨┑顔硷功缁垶骞忛崨鏉戝窛濠电姴鍊瑰▓姗�姊绘担鍛婅础妞ゎ厼鐗嗚灋婵犻潧妫涢弳锕傛煏婵炵偓娅撻柡浣哥У缁绘繃绻濋崒姘闂佸吋鎯岄崹璺侯潖婵犳艾纾兼慨姗嗗墾閹烽攱顦版惔锝囩劶婵炶揪缍佸濠氭嚀閸ф鈷戞い鎺炴嫹缂佸鏁婚獮鍡涙倷閸濆嫮顔愬┑鐑囩秵閸撴瑦淇婇懖鈺冪＜闁归偊鍙庡▓鏇炃庨崶褝韬┑鈥崇埣瀹曘劑顢欓崗纰变哗缂傚倷鑳堕崑鎾诲磿閹惰В锟斤箓鎮滈挊澶庢憰闂佸搫娲㈤崹褰掓煁閸ャ劎绡�闂傚牊绋掗幖鎰亜閿旇娅婃慨濠冩そ瀹曨偊濡烽妷鎰剁秮閺屾盯寮敓浠嬫偡閳轰緡鍤曞┑鐘崇閺呮悂鏌ｅΟ鍨毢闁挎稒绮岄埞鎴︽倷閺夋垹浠撮悗瑙勬处閸撶喎鐣峰┑鍫滄勃閻熸瑱绲鹃弬锟介梻浣虹帛閸旀牞銇愰崘顔肩畺闁硅揪闄勯悡鐔镐繆閵堝嫯鍏岄柣顓熷笚椤ㄣ儵鎮欏顔解枅濡ょ姷鍋為悧妤呭箯閸涘瓨鍋″Λ棰佽兌缂嶅秹姊婚崒娆戭槮濠㈢懓锕畷鎴﹀川椤栨稑搴婇梺鍛婃处閸ㄩ亶宕戦敓鐘崇厪濠电偟鍋撳▍鍡涙煃闁垮鐏撮柡宀�鍠栭幊鏍煛娴ｉ鎹曞┑鐘殿暯閿熺晫鍋ㄩ崑銏ゆ煛鐏炲墽鈾佺紒缁樼箞瀹曟帒顭ㄩ崨鍛妽缁绘繄鍠婃径宀�锛熼梺杞版祰椤曆囨偩閻戣姤鍋勭痪鎷岄哺閺咁剙鈹戦绛嬬劸濞存粠鍓欓…鍥ㄥ緞閹邦厸鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓涢柛顐亜婢ф挳鏌曢崱妤�鏆ｇ�规洖宕埢搴♀枎閹邦剦浼撴繝娈垮枟閿曗晠宕㈤幆顬¤櫣锟芥稒蓱閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞诧箓宕戞繝鍐х箚闁绘垼妫勫敮闂侀潧鐗嗗Λ妤呮偂閺囥垺鈷掗柛灞剧懆閸忓本銇勯鐐靛ⅱ闁煎搫宕叅妞ゅ繐瀚敍娆忊攽鎺抽崐鏇㈠箠鎼达絿涓嶉柡灞诲劜閻撳繘鐓崶銊︾鐞氥儱鈹戦埄鍐ㄧ祷闁绘鎹囧濠氬即閿涘嫮鏉搁梺鍝勬川閸婎偊濡烽敂杞扮盎闂佽鍎抽悺銊╁Φ濠靛洦鍙忓┑鐘叉噺椤忕姷绱掓潏銊ョ瑨閾伙綁鏌涘┑鍡楊伌婵炲吋姊圭换婵嬫偨闂堟稐绮堕梺鍛婅壘椤戝骞冮悿顖ｆ▌閻庤娲滄晶妤冩崲濠靛纾奸柕鍫濇噺閸婎垶姊绘担瑙勫仩闁稿寒鍣ｅ鎻掆攽鐎ｎ偅娅栧┑鐘绘涧濞层劎绮绘ィ鍐ㄧ骇闁割偅绻傞埛鏃堟煕閹烘挻绶叉い顓炴健閹鏁闂寸矗闂佸憡顨夋禍顒勫箟閹间焦鍋嬮柛顐ｇ箘閻熸煡姊虹紒妯诲鞍闁荤啿鏅犲璇测槈濡攱顫嶅┑顔筋殔閻楀棙瀵奸幇鐗堚拺鐎规洖娲ㄧ敮娑欑箾閼碱剙鏋涚�殿喖顭峰鎾閻樿尪锟藉潡姊洪崫鍕窛濠殿垼鍘煎嵄妞ゆ梻鈷堝〒濠氭煏閸繈顎楀ù婊勭箘缁辨帞鎷犻懠顒�鈪靛Δ鐘靛仜閿曘倝鈥﹂妸鈺侀唶婵犻潧妫涢敓绛嬪幖椤啴濡堕崱妤�衼缂傚倸绉村Λ娆戠矉閹烘洦妯勫┑顔硷工椤嘲鐣烽幒鎴旀瀻闁归偊鍠撻崑妯荤節閻㈤潧浠滄い锔芥緲鐓ら柣鏃堫棑閺嗭箓鏌熼幆鏉啃撻柡鍛箞閺屾稓浠﹂悙顒傛濡炪倖鏌ㄥΛ婵嗩潖閾忚宕夐柕濞垮劜閻濄垽姊洪悷鏉挎闁瑰嚖鎷�");
			return;
		}
		else if (length < CCreateRole.NAMELEN_MIN){
			sendError(SCreateRoleError.CREATE_SHORTLEN);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢楅敓鐣岀棯瑜旈弻锝夊Χ閸涱収浼冨┑顔硷功缁垶骞忛崨鏉戝窛濠电姴鍊瑰▓姗�姊绘担鍛婅础妞ゎ厼鐗嗚灋婵犻潧妫涢弳锕傛煏婵炵偓娅撻柡浣哥У缁绘繃绻濋崒姘闂佸吋鎯岄崹璺侯潖婵犳艾纾兼慨姗嗗墾閹烽攱顦版惔锝囩劶婵炶揪缍佸濠氭嚀閸ф鈷戞い鎺炴嫹缂佸鏁婚獮鍡涙倷閸濆嫮顔愬┑鐑囩秵閸撴瑦淇婇懖鈺冪＜闁归偊鍙庡▓鏇炃庨崶褝韬┑鈥崇埣瀹曘劑顢欓崗纰变哗缂傚倷鑳堕崑鎾诲磿閹惰В锟斤箓鎮滈挊澶庢憰闂佸搫娲㈤崹褰掓煁閸ャ劎绡�闂傚牊绋掗幖鎰亜閿旇娅婃慨濠冩そ瀹曨偊濡烽妷鎰剁秮閺屾盯寮敓浠嬫偡閳轰緡鍤曞┑鐘崇閺呮悂鏌ｅΟ鍨毢闁挎稒绮岄埞鎴︽倷閺夋垹浠撮悗瑙勬处閸撶喎鐣峰┑鍫滄勃閻熸瑱绲鹃弬锟介梻浣虹帛閸旀牞銇愰崘顔肩畺闁硅揪闄勯悡鐔镐繆閵堝嫯鍏岄柣顓熷笚椤ㄣ儵鎮欏顔解枅濡ょ姷鍋為悧妤呭箯閸涘瓨鍋″Λ棰佽兌缂嶅秹姊婚崒娆戭槮濠㈢懓锕畷鎴﹀川椤栨稑搴婇梺鍛婃处閸ㄩ亶宕戦敓鐘崇厪濠电偟鍋撳▍鍡涙煃闁垮鐏撮柡宀�鍠栭幊鏍煛娴ｉ鎹曞┑鐘殿暯閿熺晫鍋ㄩ崑銏ゆ煛鐏炲墽鈾佺紒缁樼箞瀹曟帒顭ㄩ崨鍛妽缁绘繄鍠婃径宀�锛熼梺杞版祰椤曆囨偩閻戣姤鍋勭痪鎷岄哺閺咁剙鈹戦绛嬬劸濞存粠鍓欓…鍥ㄥ緞閹邦厸鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓涢柛顐亜婢ф挳鏌曢崱妤�鏆ｇ�规洖宕埢搴♀枎閹邦剦浼撴繝娈垮枟閿曗晠宕㈤幆顬¤櫣锟芥稒蓱閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞诧箓宕戞繝鍐х箚闁绘垼妫勫敮闂侀潧鐗嗗Λ妤呮偂閺囥垺鈷掗柛灞剧懆閸忓本銇勯鐐靛ⅱ闁煎搫宕叅妞ゅ繐瀚敍娆忊攽鎺抽崐鏇㈠箠鎼达絿涓嶉柡灞诲劜閻撳繘鐓崶銊︾鐞氥儱鈹戦埄鍐ㄧ祷闁绘鎹囧濠氬即閿涘嫮鏉搁梺鍝勬川閸婎偊濡烽敂杞扮盎闂佽鍎抽悺銊╁Φ濠靛洦鍙忓┑鐘叉噺椤忕姷绱掓潏銊ョ瑨閾伙綁鏌涘┑鍡楊伌婵炲吋姊圭换婵嬫偨闂堟稐绮堕梺鍛婅壘椤戝骞冮悿顖ｆ▌閻庤娲滄晶妤冩崲濠靛纾奸柕鍫濇噺閸婎垶姊绘担瑙勫仩闁稿寒鍣ｅ鎻掆攽鐎ｎ偅娅栧┑鐘绘涧濞层劎绮绘ィ鍐ㄧ骇闁割偅绻傞埛鏃堟煕閹烘挻绶叉い顓炴健閹鏁闂寸矗闂佸憡顨夋禍顒勫箟閹间焦鍋嬮柛顐ｇ箘閻熸煡姊虹紒妯诲鞍闁荤啿鏅犲璇测槈濡攱顫嶅┑顔筋殔閻楀棙瀵奸幇鐗堚拺鐎规洖娲ㄧ敮娑欑箾閼碱剙鏋涚�殿喖顭峰鎾閻樿尪锟藉潡姊洪崫鍕窛濠殿垼鍘煎嵄妞ゆ梻鈷堝〒濠氭煏閸繈顎楀ù婊勭箘缁辨帞鎷犻懠顒�鈪靛Δ鐘靛仜閿曘倝鈥﹂妸鈺侀唶婵犻潧妫涢敓绛嬪幖椤啴濡堕崱妤�衼缂傚倸绉村Λ娆戠矉閹烘洦妯勫┑顔硷工椤嘲鐣烽幒鎴旀瀻闁归偊鍠撻崑妯荤節閻㈤潧浠滄い锔芥緲鐓ら柣鏃堫棑閺嗭箓鏌熼幆鏉啃撻柡鍛箞閺屾稓浠﹂悙顒傛濡炪倖鏌ㄥΛ婵嗩潖閾忚宕夐柕濞垮劜閻濄垽姊洪悷鏉挎闁瑰嚖鎷�");
			return;
		}
		
		int resultCode = fire.pb.util.CheckName.checkValid(name);
		if(resultCode == CheckName.WORD_ILLEGALITY){
			sendError(SCreateRoleError.CREATE_INVALID);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢涘鍗烆槱闂備焦鐪归崹鑽ゅ垝椤栨稓鈹嶅┑鐘叉处閸婇攱銇勮箛鎾愁伒闁归鍏樺浠嬵敇閻旇渹缃曟繝寰锋澘锟芥洟宕导瀛樺剹婵炲棙鎸婚悡娆撴煟閹伴潧澧版繝锟芥禒瀣叆闁绘梻绮ˉ澶愭煙閾忣個顏堫敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄喛鎷烽柛搴″暱椤曪綁鎼归銈囩槇闂佹眹鍨藉褔鍩㈤崼鐔虹濞达絽鍟块崥妯衡槈閵忊晜鏅ｉ梺缁樺姇缁嬪嫮绱炴担鍝ユ殾妞ゆ劧绠戝敮閻熸粌绻橀弫宥咁煥閸啿鎷洪柣鐘充航閸斿矂寮稿鍥╃＜妞ゆ梻鏅幊鍐煟閿濆洤鍘存鐐村浮楠炲寮敓浠嬶綖瀹ュ應鏀介幒鎶藉磹閺囥垹鐤ù鐓庣摠閸嬧晠鏌ｉ幇闈涘幐缂佽妫濋弻锝夊箛閸忓摜鐩庨梺璺ㄥ枙婵倝鎮ч悩璇茬畺鐟滃秷鐏冮梺鍛婂姂閸斿矂鎮樻繝鍥ㄧ厵闁煎湱澧楄ぐ褏绱掗弻銉х暫鐎殿喖鍟块…銊╁礋椤撶媭鍟庨梻浣烘嚀椤曨參宕戦悙鐑樺剭闁瑰濮峰Λ顖炴煕閹炬瀚悵顏堟⒑鐠恒劌鏋欐俊顐㈠缁顓兼径濠勶紵闂備緡鍓欑粔瀵哥不閻樿崵鍙撻柛銉ｅ妿閳藉绱掗幇顓ф畷闁逛究鍔岃灃閻庯綆鍋勯鍫曟⒒娴ｅ憡鎯堝璺烘喘閺佹捇鎸婃径宀嬬礊闂佸搫妫楀Λ婵嬪蓟閵娾晜鍋勯柛鎾茶兌閻撴捇鎮楃憴鍕；闁告鍟块锝嗙鐎ｅ灚鏅ｉ梺缁橆焾鐏忔瑩濡堕敃鍌涒拻濞达綀娅ｉ妴濠囨煕閹惧绠炵�规洘鐟╅幃鐑藉箯閺冩挾绋荤紒缁樼箓椤繈顢樺☉娆忣伖闂傚倷绀侀幉锛勬崲閸屾粣鎷峰鐓庡籍閽樼喖鏌嶉妷銊滈柣鐔煎亰閻撱儵骞栫划鐧告嫹閺傘儲瀚梻鍌欐祰濡椼劑鎮為敃鍌氱闁搞儺鍓欑粻鐘绘煟閹邦剚鎯堥崬顖氼渻閵堝棙鐓ラ柛姘儏閳诲秴鈽夐姀鈾�鎷绘繛鎾寸啲閹烽攱绻涢懝鏉垮惞缂佽京鍋ゅ畷鍗炩槈濡櫣锟筋參姊洪崜鎻掍簼婵炲弶绮岄悾鍨瑹閿熶粙鎮￠锕�鐐婇柕濞э拷濡俱劑姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�2-7濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐎涙繄绱撻崒姘毙㈤柨鏇ㄤ簻椤曪絿鎷犲顔兼倯婵犮垼娉涢敃锝囨閸洘鈷戦柛娑橈攻婢跺嫰鏌涚�ｎ偅宕屾鐐茬箻閺屻劎锟斤綆鍓涢惁鍫濃攽椤旇婊堝磿婵犳艾绠柣鎴ｆ瀹告繈鏌℃径瀣仼闁绘挻鍨剁换婵嬪閿濆棛銆愰梺娲诲墮閵堟悂銆佸▎鎾冲嵆闁靛繆妾ч幏铏圭磽娓氬洤鐏℃繛鍙夌墬閺呭爼寮婚妷锕�鐝旈梻渚囧墮缁夌敻宕愰崼鏇犲彄闁搞儜鍥讹拷妤冿拷瑙勬尭濡繈寮婚敍鍕勃闁告挆鍕灡濠电姷顣介敓钘夌－閸╋絿锟借娲忛崝鎴︺�佸☉姗嗘僵闁挎繂鎳庣欢褔姊婚崒姘拷椋庣矆娓氾拷楠炴牠顢曢敂钘夊壎婵犻潧鍊婚…鍫㈢玻濡ゅ懏鐓欓梺顓ㄧ畱婢у鏌ｉ幒宥囩煓闁绘搩鍋婂畷鍫曞Ω瑜夊Σ鍫㈢磽娓氬﹥瀚归梺鍓插亖閸ㄦ椽宕伴幇鎵彄闁搞儯鍔庨埥澶嬫叏鐟欏嫮鍙�闁哄矉绲借灒闁煎鍊戦崑鐐烘⒑閻氬瓨瀚规繛瀵稿Т椤戝棝鎮￠崘顔界參婵☆垯璀﹀Σ瑙勩亜閵夛妇鐭婇棁澶嬬節婵犲倸顏紒鐘靛仱閺岋紕浠︾拠鎻掝潎閻庢鍠楀娆掔亽闂佹儳绻橀敓鑺ョ〒缁�鍕⒑鐠囨彃顒㈡い鏃�鐗犲畷鏉库槈閵忊晜鏅悷婊勬瀹曟椽濡烽敃锟界欢鐐烘煙闁箑澧绘繛鐓庯躬濮婅櫣绱掑Ο鏇熷灴閹囧箻鐠囪尙顦梺纭呮彧缁犳垿鎷戦悢鐚存嫹楠炲灝鍔氭い锔诲灡鐎靛ジ鎮╃紒妯煎幈闂佸搫娲犻敓钘夌－閸橆偊姊烘潪鎵妽闁稿孩濞婇垾鏃堝礃椤斿槈褔鏌涢幇鈺佸濠殿喗娲熷铏圭磼濮楀棙鐣风紓渚囧枛妤犵宓勯梺鍦濠㈡绮绘繝姘�甸梻鍫熺♁閹叉悂鏌熼搹顐ょ畺缂佺粯绻堥幃浠嬫濞磋翰鍨介弻娑㈡偆娴ｉ晲鍠婂銈冨灪濡啫鐣锋總绋垮嵆闁绘柨寮剁�氳棄鈹戦悙鑸靛涧缂傚稄鎷锋繝娈垮枔閸婃鈽夐悽绋块唶闁哄洨鍠撻崢閬嶆⒑閹稿海绠撶紒缁樺浮閹箖宕归顐ｎ啍闂佺粯鍔樼亸娆戠不婵犳碍鐓涘ù锝堫潐瀹曞矂鏌℃担瑙勫磳闁轰焦鎹囬弫鎾绘晸閿燂拷4-14濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐎涙繄绱撻崒姘毙㈤柨鏇ㄤ簻椤曪絿鎷犲顔兼倯婵犮垼娉涢敃锝囨閸洘鈷戦柛娑橈攻婢跺嫰鏌涚�ｎ偅宕屾鐐茬箻閺屻劎锟斤綆鍓涢惁鍫濃攽椤旇婊堝磿婵犳艾绠柣鎴ｆ瀹告繈鏌℃径瀣伇闁硅姤娲熷娲濞戣鲸顎嗘繝纰橈拷铏枠鐎规洩缍佸畷鍗烆渻缂佹ɑ鏉搁梻浣虹帛椤洨鍒掗姘ｆ鐟滃孩绌辨繝鍥舵晝闁挎繂娲﹂崳顔剧磽娓氬洤鏋涢柨鏇ㄤ邯閵嗕線寮撮姀鈩冩珕闂佷紮绲介懟顖炵嵁瀹ュ鐓熼幖杈剧稻閸わ拷闁诲孩鍑归崢濂糕�﹂崹顔ョ喐鎷呴弴顏嗘偧缂佽鲸甯掕灒闂傦拷閹邦喚娉垮┑锛勫亼閸婃牠宕濊瀵板﹦鎹勯妸褌绗夐梺缁樺姈閻ｎ亝绂嶅鍫熺厪闊洤锕ラ～澶愭煠閺夋寧鍋ラ柡宀�鍠栭、娆撴偩鐏炴儳娅氶梻浣虹《閺咁亞鎹㈠┑鍡欐殾闁圭儤鍩堥悡銉╂煥閻旂儤娅曢柤楦块哺缁傛帞锟斤綆鍋�閹风粯绻涙潏鍓ф偧闁烩剝妫冨畷闈涒枎閹炬潙锟藉灚绻涢幋鐐茬瑲婵炲懎锕ラ妵鍕閿涘嫭鍣伴悗娈垮枙缁瑩銆佸锟介幃娆撴倻濮楀牏鑸规繝纰夌磿閸嬫垿宕愰弽顬℃椽鍩￠崨顓狀唵婵＄偛顑呴崙浠嬪箯妞嬪孩鍠嗛柛鏇ㄥ墰椤︺劎绱撴笟鍥ф灍闁圭懓娲悰顕�宕橀纰辨綂闂佸疇妫勫Λ娆愭櫏闂備胶鎳撻崥瀣偩椤忓牆鍨傛繛宸憾閺佸﹪鏌￠崶銉ョ仾闁抽攱甯掗湁闁挎繂娴傞悞鐐亜閵夈儳绠婚柡灞剧〒閿熸枻缍嗘禍婵嬪闯瑜版帗鍋傞柕鍫濐槹閻撴稓锟藉箍鍎遍崯顐ｄ繆婵傚憡鐓曢柡鍐挎嫹婵☆偄鍟～蹇旂節濮橆剛锛滃┑鐐叉閸ㄥ綊鎮伴姀鐘斀闁绘劖婢樼亸鍐煕閵夛絽濡芥繛鍛墵濡懘顢曢姀鈥愁槱缂備礁顑嗛崹瑙勭珶閺囥垹绀傞柤娴嬫櫇閻﹀牊绻濋悽闈浶㈤柛濠傜秺瀹曟娊宕烽鐘碉紲闂佺粯锚閻忔岸寮抽浣瑰弿濠电姴鍋嗛悡鑲╋拷瑙勬礃鐢帡锝炲┑瀣垫晢濠电姴鍟鍫曟⒑瑜版帗锛熺紒锟芥担鍝勵棜闁荤喖鍋婂〒濠氭倵閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繐鐖奸弻锝嗘償閵堝孩缍堝┑鐐村絻缁绘ê鐣烽弴銏犵闁兼亽鍎插▍銏ゆ⒑閸濆嫬锟藉爼宕愬Δ鍐煋闂傚牊鑰介悷閭︾叆闁告劦浜滈悡鐔兼⒑鐠団�虫灁闁搞劏妫勯悾鐑藉础閻愬秶鍠撻幏鐘诲箵閹哄秶绀嬫繝鐢靛Т閻ュ寮堕崠鈩冨闁哄洢鍩勯弫鍕煕閳╁啰鎳曢柟宄板槻椤繃娼忛妸銉︾暚闂佸墽绮悧鐘诲蓟閿濆拋娼ㄩ柨鐔绘椤洩顦崇紒鍌涘笒椤劑宕奸悢鍝勫汲闂備礁鎼ú銏ゅ礉鐎ｎ喗鐒芥い鏍ㄧ玻閹峰嘲鈻撻崹顔界彯闂佺顑呴敃顏堟偘椤斿槈鐔兼嚃閳哄喛绱叉繝纰樻閸ㄥ磭鍒掗鐑嗘晜闁绘柨鍚嬮埛鎺懨归敐鍫澬撶痪顓炵埣閺屾盯鏁愯箛鏇犳殼濡ょ姷鍋涚换姗�寮幘缁樻櫢闁跨噦鎷�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐鍛傜喎鈻庨幆褎顔勭紓鍌欒兌婵挳鎮樺璺何﹂柛鏇ㄥ枤閻わ拷闂佸湱鍋撻幆灞轿涢妶鍥╃＝濞撴艾锕ョ�氳绻濋悽闈浶㈡繛璇х畵閹繝濡烽埡鍌滃幗闂佸搫鍟ù鍌炲吹濞嗘垶鍋栨慨妯垮煐閳锋垿姊婚崼鐔衡檨闁瑰吋鍔欓幃妤�顫濋銏犵ギ闂侀潧妫旂欢姘嚕閹绢喖顫呴柣娆欐嫹婵炵厧锕娲礃閸欏鍎撻梺绋匡攻閸旀瑩寮崘顔肩＜婵炴垶甯楃�氬ジ鏌ｆ惔銈庢綈婵炲弶鐗曠叅闁靛ě鍕濠电偞鍨崹娲偂濞嗘挻鐓熼柣鏂挎惈椤ｅジ鏌熼崗鐓庡闁哄矉缍侀弫鎰緞鐎ｎ偅娈哥紓鍌欐祰濞咃綁寮查銈呭灊婵炲棙鎸搁崹鍌涖亜閺冨洤浜归柕鍫櫍濮婂宕掑▎鎺戝帯缂備緡鍣崹璺侯嚕婵犳艾惟闁宠桨绀侀幆鐐烘⒑閸濆嫮鈻夐柛妯垮亹缁顢涢悙瀵稿幗闂佺鎻徊楣兯夋径鎰厱闁靛鍎遍敓钘夌秺婵＄敻宕熼姘辩杸闂佸疇妗ㄧ欢銈夊箯瀹勬嫈鏃堝椽娴ｈ娅撻梻浣告惈濞层垽宕瑰ú顏勭厱闁硅揪闄勯悡鐔兼煟閺冨倸甯跺ù婊�鍗抽弻娑㈠Χ閸パ勭亪闂佸搫鏈粙鎾绘晸閺傘倗绉甸柛鎾寸懇瀵鈽夊▎妯活啍闂佺粯鍔橀婊堢叕椤掍緡娈介柣鎰级閸犳ɑ銇勯姀鈽呰�块柟顔规櫅閳绘捇宕归鑺ョ彫闂傚倸鍊搁崐椋庣矆娴ｅ湱鐝跺┑鐘叉搐绾惧鏌涢埄鍐槈缂佹劖顨婇弻鐔煎级閸喖绲兼繝銏ｅ煐閸旀洟鏌嬮崶顒佺厪濠㈣埖绋戦々顒勬煕濡粯鍊愰柡宀嬬秬缁犳盯寮撮悙鏉挎憢婵＄偑鍊栧▔锕傚炊閵婏附顏熼梻浣稿悑娴滀粙宕曞畷鍥╀笉闁绘劖鎯屽▓浠嬫煟閹邦垼鍤嬮棅顒夊墴閺屸剝鎷呯憴鍕３闂佽鍠掗弲鐘茬暦閿濆纾奸柛鎰╁妽婢跺嫰鏌ｉ幘瀛樼缂佺粯鐩獮瀣攽閸℃艾鐓橀梻浣告惈椤戝啴宕愬┑瀣摕闁靛ň鏅滈崑鍕磽娴ｇ櫢渚涙俊顐㈠缁绘繈鍩涢敓浠嬪川椤旂晫褰ф繝纰橈拷鍐茬骇闁告梹鐟╅悰顔嘉熺涵閿嬪婵炴垶顏鍫晛闁瑰墽绮埛鎴︽煕濞戞﹫鏀婚悘蹇斿閹叉悂寮堕崹顔芥閻庤娲樼划鎾愁嚕鐠鸿　鏋庨柣鎰靛墮閻︽粓姊绘笟锟藉褔鎮ч崱娆愬床闁圭儤顨嗛崑鈺呮煕椤垵浜炵紒鐘冲劤闇夐柨婵嗘噹閺嗚鲸绻涢弶鎴濓拷鍨嚕椤愩倧鎷烽敐搴℃灍闁绘挶鍎茬换婵嬫濞戞瑱绱炲┑鈽嗗灠閻楁捇寮婚埄鍐╁闁告稑顭Λ锕傛⒑閸濆嫭婀伴柣鈺婂灠椤曪綁骞橀鍢夆晠鏌曟径鍫濓拷妤呭极閺嶃劋绻嗛柣鎰典簻閿熺獤鍜冩嫹闂堟稓鐒哥�规洩缍佸畷姗�顢欓懖鈺冩毇闁诲海鎳撶�氫即宕戞繝鍥ㄥ亗闁靛鏅滈悡鏇㈡煙閺夊灝鎮佺紒銊ㄥГ閵囧嫰寮敓鐣屾暜閹烘洜浜欓梻浣虹帛閿曘垹顭囪缁傛帒顭ㄩ崟鈺�绨婚梺鎸庢濡嫰鍩㈤弴鐐╂斀闁挎稑瀚弳顒侇殽閻愬弶鍠樼�殿喖澧庨幑鍕�﹂幋婵囨毌闂傚倸鍊风粈浣革耿闁秵鎯為幖娣妼閸ㄥ倿寮堕崼姘珨闁瑰嘲鍢查～婵嬵敄閹傚垝婵犳鍠栭敃锔惧垝椤栫偛绠柛娑樼摠閹偤鏌ｉ悢绋款棆妞ゆ劕銈稿缁樻媴閻戞ê娈岄梺纭呭Г缁捇鍨鹃敃鍌氶唶闁靛濡囬悾鎶芥⒒閸屾瑨鍏岀紒顕呭灦瀹曞綊鎮￠獮顒佺洴瀹曠喖顢涘槌栨П闂備胶绮…鍥╁垝椤栫偞鍋傞柡鍥ュ灪閻撴瑩鏌ら崜鎻掑濠德ゅГ缁绘盯宕ㄩ鐐存缂備浇椴哥敮鐐哄箯閻樿鐭楀鑸瞪戦敍渚�姊绘笟锟藉褍煤閵堝浄鎷峰顐㈠祮闁绘侗鍣ｅ畷鍫曨敆閿熶粙鎮″☉妯忓綊鏁愰崼鐔达拷鍐煙椤曞棛绋诲ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄洨浼濋悷閭︽僵閻犲搫鎼崑宥嗙箾鐎电孝妞ゆ垵鍟撮弫鎾绘寠婢跺﹥娈绘繝纰夌磿閸忔﹢宕洪敓鐘茬＜婵鍋撶�氬綊鏌ｉ幋锝呅撻柣鎾存礃缁绘盯宕卞Δ浣侯洶濠碘槅鍨伴悧濠冪┍婵犲浂鏁冩い鎺戝�婚弳銈夋⒑鐠団�虫灍妞ゃ劌鐗撻獮澶愬箻椤旇偐顦板銈嗗笒閸嬪棗危椤掑嫭鈷掑〒姘炬嫹婵炰匠鍥ㄥ亱闁糕剝绋戠粻鐔兼煃閳轰礁鏆熼柍鐟扮Т閳规垿鎮╅崣澶婎槱闂佺锕ら…鐑藉蓟閿曪拷铻ｉ柣姘嚟缁�鍡涙⒑闂堟单鍫ュ疾濠婂牊鍋傞煫鍥ㄦ惄閻斿棝鎮归崶锝忔嫹瀹曞洣鍝楅梻浣告憸閸犳劖绔熼崱娆忓灊闁哄啫鐗滈弫濠囨倶韫囨梻澧柡鍌︽嫹闂傚倷鑳剁划顖炴晪闂佽绻戝畝绋款嚕閹惰棄鐓涘ù锝呭级閺傦拷婵＄偑鍊栧Λ渚�顢氳閻ｇ敻宕卞▎娆愬閻熸瑥瀚粈澶嬨亜椤愩埄妲虹紓鍌涙崌閹儳鐣濋敓浠嬫儗濞嗘挻鐓欑紒瀣仢椤掋垻鎮敐澶嬧拻闁稿本鐟чˇ锕傛煙绾板崬浜炵紒顔界懄缁楃喖鏁撻挊澶屾殾闁靛繈鍊栭崵鍐煃閸濆嫬鏆熼柣鎺戝悑缁绘繈濮�閿濆懐鍘梺鍛婃⒐閻楃娀骞冮垾鏂ユ婵鍋撶�氳顨ラ悙鑼虎闁告梹宀搁弻娑㈡偆娴ｉ晲绨兼繛锝呮搐閿曘儳绮嬮幒鏃撴嫹閿濆骸浜為柛妯哄船閳规垿鎮欓崣澶樻缂備胶绮敮鐐靛垝婵犳碍鍤戞い鎺戝�婚敍婊呯磽閸屾瑧鍔嶆い顓炴川缁寮介銈囷紲缂傚倷鐒﹂…鍥╃不閻愮鎷风憴鍕閻㈩垱甯￠敐鐐测攽鐎ｎ偀鎷婚柣搴ㄦ涧閹芥粓鏁嶅☉姘辩＝闁稿本鑹鹃敓鑺ユ倐瀹曟劙鎮滈懞銉ユ畱闂佽偐顭堥悘姘跺矗韫囨稒鐓熼柕蹇嬪焺閻掑墽鐥幆褎鍋ラ柡宀�鍠栭獮鍡涙閼搁潧娴柡浣规崌瀵剟濡堕崪浣瑰枠闂備礁婀遍幊鎾讹拷姘卞娣囧﹪骞栨担瑙勬珖闂佽法鍠撻弲顐ｇ珶閺囥埄鏁嶆繛鎴炴皑椤旀洟姊洪崷顓炰壕婵炲吋鐟╁畷鐢割敆閸曨剛鍘遍梺闈涱焾閸婃洖鐣甸崱娆欐嫹鐟欏嫭绀冪紒顔肩Т椤洩绠涘☉妯煎幐闂佸憡鍔︽禍椋庢閸愭祴鏀介柣鎰摠鐏忎即鏌よぐ鎺旂暫闁轰礁鍟存俊鐤檪闁瑰嘲鍢查～婵嬵敆閸屾簽銊モ攽椤旂》榫氭繛鍜冪秮楠炴垿宕熼姣尖晠鏌曟径娑橆洭闁跨喎锟界喐顏犵紒杈ㄦ尰缁楃喖宕惰閻忓秹姊洪懡銈呮瀭闁稿海鏁婚弫鎰版倷閸撲胶鏉搁梺鐟板綖閻掞箑顪冩禒瀣拷渚�寮崼婵嗙獩濡炪倖鎸堕崝宥囷拷姘辨嚀閳规垿鎮╁畷鍥舵殹闂佺粯鎸搁崯鏉戭嚕閸洘鍊烽柡澶嬪焾濡棝鏌ｉ悩鍐插濠⒀勵殘閹广垹鈽夐姀鐘殿槯闂佺粯鎸告鎼佸箺闂堟稈鏀芥い鏃傘�嬮弨缁樹繆閻愯埖顥夐柣锝囧厴婵℃悂鏁傞崜褏妲囧┑鐐舵彧缂嶏拷婵炲拑绲跨划濠氬箳濡や讲鎷绘繛杈剧秬椤宕戦悩缁樼厱闁哄倽娉曟牎缂備胶绮粙鎺旀崲濠靛鐐婄憸蹇涙偩閻戞ü绻嗛柕鍫濈箳閸掍即鏌涢悤浣哥仸鐎殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�?");
			return;	
		}else if(resultCode == CheckName.SPECIAL_WORD_TOO_MANY){
			sendError(SCreateRoleError.CREATE_INVALID);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿閹崇娀顢楁径瀣撴粓姊绘担瑙勫仩闁告柨绉堕幑銏ゅ礃椤斿槈锕傛煕閺囥劌鐏犻柛鎰舵嫹婵＄偑鍊栭崝锕�顭块敓浠嬫煛婢舵ê寮慨濠呮閹瑰嫰濡搁妷锔句簽婵犵妲呴崑鍕拷姘緲閻ｇ兘顢涢悜鍡樻櫖濠殿喗顭囬崢褍鈻撻锔解拺闁告稑锕ユ径鍕煕閵婏箑顥嬬紒顔款嚙閳藉濮�閿涘嫬骞堥梻浣筋潐瀹曟浜搁鍫濈鐎癸拷閸曨剛鍘撶紓浣诡殔閹碱偊鏁撻懞銉︾闁糕晝鍋ら獮瀣晜閽樺姹楁俊鐐�栧Λ渚�宕戦幇顓烆嚤闁搞儺鍓氶埛鎴犵磼椤栨稒绀冩繛鍛閺岋絽螖閸愩剱銏ゆ煟閿濆懎妲婚柍瑙勫灩閿熸枻缍嗘禍婊堝船閵娿儺娓婚柕鍫濇鐏忕敻鏌涚�ｎ剙鏋涢柡浣哥Т閳藉濮�閳撅拷閹锋椽姊洪崨濠傚鐎殿喖鐖奸獮鍡涘醇閵夛妇鍘甸梺鍛婂姌鐏忔瑧绮绘繝姘厵妞ゆ洖妫涚弧锟介悗瑙勬礃閿曘垽銆佸▎鎾村仼閻忕偠妫勭粻鐐测攽閻樺灚鏆╁┑鐑囨嫹濠电偘鍖犻崗鐐☉铻栭柛婊�鐒﹂弲婊堟⒑閸愬弶鎯堥柟鍐茬箻閹�斥槈閵忊�筹拷鐢告煥濠靛棙鍣规い锝嗗▕閺岋綁鏁愰崶銊︽瘓闂佸搫澶囬敓钘夌－閺嗗棝鏌ㄩ悢鍓佺煓鐎规洜澧楅幆鏃堝Ω閿曪拷娴犲ジ姊虹捄銊ユ灁濠殿喖顕惀顏囶樄闁哄瞼鍠撶划娆撳垂椤旀儳绲归梻浣稿暱閹碱偊骞婅箛娑樼厱闁硅揪闄勯崐鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闁荤姴娲╃亸娆愮閹间焦鈷戠紒顖涙礃閺夋椽鏌涢妸锔姐仢妤犵偛妫濆顕�宕煎┑鍫濆Ъ闂備線娼ч敍蹇涘礃閳哄啩閭梻鍌欑濠�閬嶎敆閼碱剚宕叉繝闈涙矗缁诲棝鏌涢锝嗙妤犵偑鍨烘穱濠囶敍濮橆剚鍊銈庡亝缁诲啰鎹㈠┑瀣仺闂傚牊鍒�閵夛负浜滈柨婵嗛閺嬨倖淇婇崣澶婂鐎殿喗鎸虫慨锟介柣妯碱暜缁遍亶姊绘担渚敯闁规椿浜炵划濠氬箣閻樺樊妫滈悷婊呭鐢鎮″☉姘炬嫹楠炲灝鍔氬Δ鐘虫倐閻涱噣寮介鐔哄幈闂侀潧顭堥崕閬嶆晸閽樺鍋ョ�殿喖顭烽幃銏ゆ偂鎼达絿鏆伴梻浣告惈椤︻垶寮插┑瀣缂備焦顭囬崢杈ㄧ節閻㈤潧孝闁稿﹤缍婂畷鎴﹀Ψ閳哄倻鍘搁柣蹇曞仩椤曆勬叏閸屾粣鎷峰▓鍨灍闁瑰憡濞婇妴渚�寮崼婵嗙獩濡炪倖鎸嗛崒婊冾槱婵犵數濮烽。顔炬閺囥垹纾婚柟杈剧畱绾惧綊鏌曢崼婵愭Ц闁稿被鍔戦弻锝夊箻瀹曞洨妲忓┑鐐叉▕娴滄繈寮插鍫熺厽闁逛即娼ф晶顕�骞栭弶鎴伐闁宠鍨块幃鈺冪磼濡鏁繝纰樻閸嬫帡宕㈡總绯曪拷锕傚炊椤掞拷閻撴盯鏌涚仦涔呰偐鑺辨繝姘拺闁革富鍘奸崝瀣煕閵娧勬毈闁轰焦鎹囬幊鐐哄Ψ閿曪拷閿熻姤鍔欓弻鈩冩媴鐟欏嫬纾抽梺璇″枛婢ц姤绂掗敃鍌氱闁圭儤鎼╁鐔兼⒒閸屾瑦绁版い鏇熺墵瀹曚即寮介鐐茬哎闂佸搫琚崕顕�鏁撻弬銈囩暤濠碘剝鎮傞崺鈩冩媴娓氼垱效濠碉紕鍋戦崐鏍箰閻愵剚鍙忛柣鎴ｆ閸屻劑鏌熼幍顔碱暭闁抽攱鍨块弻娑樷枎瀹ュ懎濮㈡繛鎴炴崄鐏忔瑧妲愰幘鎰佸悑闁告洦鍘鹃悰銏ゆ倵濞堝灝鏋涙い顓㈡敱娣囧﹪骞栨担鍝ュ幐闂佺鏈惌顔捐姳娴犲鈷掑ù锝勮閻掗箖鏌￠崼顐㈠缂侇喗鐟╅獮瀣晜缂佹ɑ娅嗛梻浣芥硶閸ｏ箓骞忛敓锟�");
			return;
		}else if(resultCode == CheckName.NONE_CHARACTER){
			sendError(SCreateRoleError.CREATE_INVALID);
			logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╄兌閿熻棄绠嶉崕閬嵥囬婊呯焼閻庯綆鍋佹禍婊堟煙閹规劖纭鹃崯鎼佹⒑閸涘渚涢柛銊ㄦ硾椤繒绱掑Ο璇差�撻梺鍛婄☉閿曘儵宕曢幘鍓佺＝濞达絽澹婇崕搴ｇ磼閼搁潧鍝烘鐐插暙铻ｉ悶娑掑墲椤秴鈹戦埥鍡楃仸闁猴拷闁稄缍栫�广儱顦伴埛鎴︽⒒閸喓銆掔紒鐘插暱閳规垿顢欓幆褍骞嬮柦妯荤箞閺屸剝寰勭�ｉ潧鍔屽┑鐐存尭椤兘寮婚弴銏犻唶婵犻潧娴傚Λ銈嗙節閳凤拷鐏炶棄顫梺閫涚┒閸斿矁鐏掔紓浣割儏閻忔繈锝為崶顒佲拺閻犲洠锟借櫕鐏嶉梺绋块绾绢參宕ｉ崨顓ф富闁靛牆鎳愮粻浼存煙閸愬樊妯�妤犵偛绻愮叅妞ゅ繐鎳夐幏娲⒑閸涘﹦鈽夐柨鏇缁骞樼紒妯猴拷鍨叏濡厧甯舵鐐搭焽缁辨帡顢欑涵鐤惈濡炪們鍨哄ú鐔镐繆閸洖鐐婇柍鍝勵儑鎼村﹪姊绘担鍛婃儓妞わ富鍨堕幃褔宕熼姘鳖槷閻庡箍鍎卞ú銊╂儗閸℃稒鍊甸柨婵嗛閺嬬喖鏌ｉ幘瀵告噭闁靛洤瀚板顒勫垂椤旇棄锟筋垶姊虹粙娆惧剭闁稿海鏁诲濠氬焺閸愨晛顎撻柣鐔哥懃鐎氼剟妫勫鍥╃＝濞达絿顭堥敓钘夋贡閺侇噣鎮欓悜妯绘闂佸搫鍊堕崐妤冪矓閻㈠憡鐓曢悗锝堝煐鐎氬綊姊绘担鍝ョШ闁猴拷閸楃儐娓婚柦妯侯樈濞兼牗绻涘顔荤盎鐎瑰憡绻傞埞鎴︽偐閹绘帩浠卞┑鈩冨絻閻楁挸顫忓ú顏勭閹兼番鍨婚埞娑氱磽娴ｅ搫校闁圭懓娲ら悾宄懊洪鍛珕闂佷紮绲介惉濂稿箠濠靛鈷戦悹鎭掑妼閺嬪秶绱掗鐣屾噧妞ゆ洩绲剧换婵嗩潩椤撶喐鐝冲┑鐘灱濞夋盯顢栭崱妞绘瀺婵犲﹤鐗婇悡娆撴煟閹捐櫕鎹ｉ柟鐣屽Х缁辨帞鎷犻懠顒�鈪甸悗瑙勬礃閸ㄤ絻鐏冮梺鍛婁緱閸犳帡骞忓ú顏呯厸濠㈣泛鑻禒锕�顭块悷鐗堫棦鐎规洘绻傞鍏煎緞鐎ｎ剙骞嶉梻浣藉吹閸犳挻鏅跺Δ鍛獥婵☆垱妞垮▓浠嬫煟閹邦厽缍戝┑顔肩墢缁辨帞绱掑Ο鑲╃杽閻庤娲橀敃銏′繆濮濆矈妲鹃梺缁樹緱閸ｏ綁寮婚敐鍡樺劅闁挎繂妫禒褔姊鸿ぐ鎺濇闁稿繑锕㈠濠氬Ω閳哄倸浜滈梺鍛婃尫閼冲爼鎮￠幘鎰佹富闁靛牆鍟悘顏堟煟閻斿弶娅婇柣娑卞櫍楠炴帡骞婇搹顐ｂ拹闁瑰嘲鎳樺Λ鍐煛閸屾凹浼撻梻浣圭湽閸ㄥ綊骞夐敓鐘茬；闁斥晛鍟扮粻楣冩煕閳╁喚娈樼紒鐘靛閵囧嫯绠涢敐鍕晼缂備浇椴哥敮锟犲极閹惧顩烽悗锝庝邯閸炶泛鈹戦悩缁樻锭闁哥噥鍨跺顒勬晸娴犲鈷掑ù锝堟鐢盯鏌涢妸鈺傛锭閻撱倝鏌ㄩ弮锟介幏婵嬪箯瀹勯偊娼╂い鎺戝�绘闂備礁鎼惌澶屽緤妤ｅ啫绠氶柡鍐ㄧ墕鍥撮柟鍏肩暘閸ㄨ崵绮旈柨瀣瘈闁汇垽娼ф禒锔炬喐閺夊灝鏆熼柟骞垮灩铻ｉ柧蹇氼潐濞堟儳鈹戦悩缁樻锭妞ゆ垵鎳愮划濠氭晲婢跺鍙嗛梺鍝勫暙閸婃悂鎯冮幋锔界厵闁绘垼濮ら弫閬嶆煙瀹勭増鍤囩�规洘绮撳畷锝嗗緞婵犲嫮澶勯梻鍌氬�峰ù鍥р枖閺囥垹绐楃�广儱娲ら崹婵囩箾閸℃ɑ灏电�规挷绶氶弻娑㈠箛闂堟稒鐏堝銈庡亜閹虫﹢寮婚敐鍛傜喖鎼归柅娑氶┏婵犵數鍋涢悧濠勬崲閸繍娼栨繛宸簻娴肩娀鏌涢弴鐐典粵閺佸牊淇婇悙顏勶拷鏍垂閸洘鍋￠柕澶堝妿娴滈亶姊绘担鍝ョШ闁稿锕畷妤�顫滈敓钘夘嚕閵婏妇顩烽悗锝庡亞閸樿棄鈹戦埥鍡楃仴婵炲拑绲剧粋鎺戔槈閵忥紕鍘搁梺绯曪拷宕囩婵炲懎锕弻锛勪沪閸撗侊拷鎺楁煥閻斿憡鐏紓宥呮瀹曟粌鈻庨幇顕呮祫闁哄鐗冮弲顏堝箯妞嬪孩鍠嗛柛鏇ㄥ墰椤︻參姊虹粙璺ㄦ槀闁稿﹥顨婇獮鎴﹀閻橆偅鏂�闁诲函缍嗘禍鐐哄磹閻愮儤鍋℃繝濠傚暟缁犵粯銇勯姀锛勬噰鐎规洖宕埥澶娾枎鐏炴儳顏归梻浣藉吹婵灚绂嶆禒瀣閻忕偠袙閺嬪秹鏌熼幍顔碱暭闁绘挻鐟╅弻娑㈠箣濞嗗骏鎷烽弽顐嫹濮樼偓瀚�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐎涙繄绱撻崒姘毙㈤柨鏇ㄤ簻椤曪絿鎷犲顔兼倯婵犮垼娉涢敃锝囨閸洘鈷戦柛娑橈攻婢跺嫰鏌涚�ｎ偅宕屾鐐茬箻閺屻劎锟斤綆鍓涢惁鍫濃攽椤旇婊堝磿婵犳艾绠柣鎴ｆ瀹告繈鏌℃径瀣仼闁绘挻鍨剁换婵嬪閿濆棛銆愰梺娲诲墮閵堟悂骞嗘笟锟藉畷濂稿Ψ閿旇瀚介梻浣侯焾閺堫剙顫濋妸锔芥珷婵炴垶菧閿熻姤甯掗～婵嬵敇瑜庨悿渚�鎮楃憴鍕婵炶尙鍠栭悰顕�宕堕浣镐罕闂佸壊鍋侀崹褰掔嵁閸儲鈷戦柣鐔告緲閹垿鏌ｉ敐搴濋偗鐎规洜顢婇妵鎰板箳閹剧鎷烽崼鏇熺厵缂備降鍨归弸鐔兼煟閹惧銆掗柨鐔烘櫕濞呫垽骞忛悜鑺ュ�甸柨婵嗛婢ф壆鎮敃鍌涒拻濞达綀濮ら妴鍐煟閹虹偟鐣电�规洘绻傞埢搴ょ疀閺囩喐顔曢梻渚�娼ц墝闁哄應鏅犲顐㈩吋閸℃瑧鐦堟繝鐢靛Т閸婃悂寮冲▎鎾存喒閹兼番鍔嶉埛鎺楁煕鐏炴崘澹橀柨鐔烘櫕閸忔﹢骞婂Δ鍛唶闁哄洨鍋熼悿鍥⒑鐟欏嫬绀冩い鏇嗗嫭鍎熷┑鐘叉处閻撴盯鎮橀悙棰濆殭闁告梹宀搁獮鏍级閹搭垵鍚梺鍝勭焿缁辨洘绂掗敂鐐珰闁圭粯甯掗～鎾绘⒒娴ｈ櫣甯涢柟鍛婃尦閺佹捇鎳為妷銉ヮ潽闂佺粯鏌ㄥΛ婵嬪箖瑜版帒浼犻柛鏇ㄥ亜閳诲繘姊洪崜鎻掍簴闁稿酣浜跺畷娆撴偐鐠囪尙顔愰梺鍦拡閸樼晫娆㈠杈╃＜閻犲洤寮堕ˉ鐐烘煏閸パ冾伃鐎殿喕绮欐俊姝岊槾闁伙絿鏁诲娲川婵犲懎顥濈紓鍌氱Т閿曨亜顕ｆ繝姘櫢闁绘ɑ褰冮懓鍨渻閵堝棙灏靛┑顔惧厴瀵娊濡堕崨顏呮杸濡炪倖姊婚妴瀣礉閻旇櫣纾兼い鏇炴噹閻忥附顨ラ悙鑼鐎规洏鍔戦、娑樷槈濡崵锟筋參姊绘担鍛婂暈婵炶绠撳畷鎴﹀磼閻愯弓绱跺┑掳鍊曢幊蹇涘煕閹烘嚚褰掓晲閸涱喖鏆堥梺鍝ュ枔閸嬨倝寮婚敍鍕勃閻犲洦褰冮～鍥⒑鏉炴壆顦﹂柛鐔告尦閵嗕線寮崼婵堫槹濡炪倖鎸鹃崰鎰邦敊閺囩喓绡�闁汇垽娼ч埢鍫熺箾娴ｅ啿娴傞弫鍕煕濞戝崬鐏ｅ☉鎾崇Ч閺屻劌鈹戦崱鈺傂ч梺缁樻尪閸庣敻寮婚敓鐘茬倞闁哄牏鏁搁崙褰掓煟鎼淬垼澹樻繝锟芥潏鈺傤潟闁规儳鐡ㄦ刊鎾煕濠靛棗鐝旈柕澶堝劗閺�浠嬫煟閹存繃澶勯悗姘秺濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挾濮寸粊锕傛⒑绾懏褰х紒鐘冲灩缁鈽夐姀鈾�鎷婚梺鍓插亞閸犳捇鍩︽担骞夸簻闁哄倸鐏濋顓㈡煛瀹�瀣ɑ闁诡垱妫冮弫鎰板幢濡や胶鏆氶梻鍌欒兌椤㈠﹪顢氬鍛潟闁哄洢鍨圭粻鏌ユ煏韫囧锟芥洜绮堥崘鈹夸簻闁哄倹瀵ч～宥夋煥閺囩偛锟藉綊鎮￠弴銏＄厸闁搞儯鍎辨俊濂告煟韫囨洖啸缂佽鲸甯￠幃鈺侇啅椤旀儳鎮戦梻浣筋嚃閸犳牜绱炴繝鍥х闁革富鍘介崰鍡涙煕閺囥劌寮跨紒杈ㄧ洴濮婄粯鎷呴悷閭﹀殝缂備浇顕ч崐鑳婵炲鍘ч悺銊╁磻閸屾稓绠鹃柛鈩兩戠亸浼存煟閹捐泛孝闁宠鍨垮畷鎺戭潩椤掑顥戦梻浣告惈椤︽澘顪冩禒瀣摕婵炴垯鍨瑰洿闂佺硶鍓濋悷锕傚闯娴煎瓨鈷戦柛婵嗗鐎氭壆绱掓径濠勫煟妤犵偛顦甸獮姗�顢欓懖鈺婃Ч婵＄偑鍊栭崝鎴﹀磹閹捐埖顫曟繝闈涙矗缁诲棝鏌ｉ幇鍏哥盎闁跨喕濮ら崹鍨暦瑜版帒浼犻柛鏇ㄥ幗濞堟洜绱撴担鍓插創婵炲娲熷鎶芥晝閸屾稓鍘卞┑掳鍊曢崯顐︽晸閺傘倗绉柟顔哄灲瀹曨偊濡疯閸ゅ本淇婇悙顏勶拷鏍偋濡ゅ懏鍋＄憸搴☆嚗閸曨垱鏅搁柨鐕傛嫹?");
			return;
		}
		

		if(null != u){
			int roleNum = 0;
			for (Long rid : u.getIdlist()) {
				xbean.Properties prop = xtable.Properties.select(rid);
				if (prop.getDeletetime()==0)
					roleNum++;
			}
			if(roleNum >= PCreateRole.maxCreateRoleNum){
				logger.error("-----------------------闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂啰绠荤�殿喗濞婇弫鍐磼濞戞艾骞楅梻渚�娼х换鍫ュ春閸曨垱鍊块柛鎾楀懐锛滈梺褰掑亰閸欏骸鈻撳鍫熺厸鐎癸拷閿熶粙宕伴弽顓犲祦鐎广儱顦介弫濠勭棯閹峰矂鍝烘慨锝咁樀濮婄粯鎷呮笟顖滃姼濡炪倖鍨堕崹褰掑箲閵忕姭鏀介悗锝庝海閹芥洟姊洪棃娴ュ牓寮插☉姘卞暗鐎广儱顦伴悡鏇㈡倶閻愭彃鈷旈柣鎿冨灠椤法鎲撮崟顒傤槹濠殿喖锕ュ钘夌暦椤愶箑绀嬫い鎺戭槹閿涗胶绱撻崒娆戣窗闁哥姵顨婇獮鎴﹀炊瑜滈崵鏇炩攽閻樺磭顣查柡鍛絻椤法鎹勯悮瀛樻暰濡炪們鍎茬换鍫濐潖濞差亜鎹舵い鎾楀懎濮奸梺璇插缁嬪牓寮查悩鑼殾濞村吋娼欑粻娑㈡煟濡わ拷閻楀啴骞忛搹鍦＝闁稿本鐟ч崝宥嗐亜椤撶偞宸濈紒顔款嚙椤繈顢橀悩娈垮晭濠电姰鍨煎▔娑㈩敄閸ヮ灐娲箻椤旂晫鍘遍梺鍐叉惈閸燁偅绂掓潏顭戞闁绘劕妯婇崕鏃堟煛娴ｇ锟藉潡骞愭繝鍐ㄧ窞濠㈣泛顑囧鏍⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樺啿浠梺闈涱槴閺侊繝宕堕妸銉殼闂佸搫顦伴崹褰掓偩閸濆嫧鏀介柣鎰级椤ョ偤鏌涢妸銉﹁础濠㈣娲熼幐濠冨緞閸剚瀚归柟鐑樺焾濞尖晜銇勯幒鎴敾闁轰線绠栭弻锝嗘償閵忥絽顥濈紓鍌氱Т閿曘倝锝炶箛娑欐優闁荤喐婢橀褔姊洪崫鍕窛闁稿鐩崺娑欏緞婵犲孩瀵岄梺闈涚墕妤犳悂鐛弽銊х閻忕偛鍊告俊鍧楁煕閹烘挸绗х紒杈ㄥ笒铻ｇ紒瀣仒缁ㄥジ姊绘担鍛婂暈闁告柨绻樺鎻掆攽鐎ｎ亜鍋嶉梺姹囧灩閹诧繝鎮￠悢鐓庣閺夊牆澧界粙濠氭煛閸″繑娅嗛柕鍥у椤㈡﹢鎮欓棃娑掑徍闁诲氦顫夊ú妯煎垝閹捐钃熼柛鈩冾殢閸氬鏌涢埄鍐噧妤犵偞顨婂缁樻媴閸涘﹨纭�闂佺绨洪崐鏇綖韫囨稒鍋￠柟浣冩珪閻庢椽姊洪崫鍕窛濠殿噣顥撴竟鏇熺附缁嬭法楠囬梺鍓插亝缁嬫垶淇婇崗鑲╃闁圭⒈鍘奸弸鐔搞亜閵婏絽鍔﹂柟顔界懃椤斿繘顢欓崣顐犲姂濮婅櫣鎹勯妸銉︾�鹃梺鍝勵儓瀹曠數妲愰悙鍝勫耿婵☆垳鈷堝ú鎼佹煟閻樺弶鎯堥柕鍫ｆ鐓ゆい蹇撶У閺咃綁姊洪棃娑氱畾婵＄嫏鍥х婵炲樊浜濋悡鐔兼煟濡搫甯犻柤鍓蹭邯閺屾盯寮捄銊у姱閻庢鍠栭幉锟犲箚閺冨牆惟闁挎梹鍎冲鎶芥⒒娴ｈ櫣甯涙慨濠傤煼瀹曟洟濡堕崨顏呯�洪梺鍝勬储閸ㄦ椽鎮￠弴銏＄叆婵犻潧妫楅弳娆撴煕閺冿拷绾板秹濡甸崟顖ｆ晣闁绘劖娼欓弸鐘参旈悩闈涗粶婵炲樊鍙冮獮鍐樄鐎规洖銈告慨锟介柣妯垮皺椤旀垿姊婚崒姘拷鐑芥倿閿曞倸鍑犲┑鍌滎焾閻ょ偓绻涢幋娆忕仼闁汇値鍠楅妵鍕冀閵娧呯厒闂佹椿鍘煎Λ婵嬪蓟濞戙埄鏁冮柨婵嗘穿缁屽潡姊洪懡銈呮灈闁稿锕幃锟犲Ψ閳哄倻鍘卞┑鐘差煭閹风兘鏌ら崘鑼煟鐎规洘绻堥獮鏍ㄦ媴閸忓瀚奸梺璇查濠�杈ㄥ垔椤撱垹鍚规繛鍡樻尰閳锋垿鎮介锝呮灓缂佸鍣ｉ弻锝呪槈閸楃偞鐏撻梺璺ㄥ枑閺嬭崵绱為崱妯碱洸闁哄稁鍘肩紒鈺伱归悩宸剱闁绘挻娲熼弻宥夊煛娴ｅ憡娈堕梺鐟板帠缁舵岸寮诲☉銏″亹閻犲泧鍡楁儓婵犳鍠栭敃銈夆�﹀畡鎵殾闁圭儤鍨熼弸搴ㄦ煙鐎涙绠撴い顒�顦靛缁樻媴閸涘﹥鍎撳銈嗗灥閹虫ɑ淇婇崜浣虹煓婵炲棙鍎冲▓銊╂⒑閸︻厾甯涚�规瓕顕у嵄闁割偁鍎查悡蹇涚叓閸ャ劍绀�閸熸悂姊洪崫鍕闁绘妫濋垾鏃堝礃椤斿槈褔鏌涢埄鍐噧妞ゎ値鍛＝濞撴艾娲ら弸娑欑箾閹绢噮妫戦柛鎺撳浮瀹曞ジ鎮㈤搹鍦闂備焦鎮堕崕顖炲礉鎼淬劌鍌ㄩ梺顒�绉甸埛鎴︽⒒閸喍绶辨俊顖氱墦閺屾盯鎮╁畷鍥ь潷闂佸搫鎳庨悥濂搞�佸☉銏″�烽悗鐢殿焾楠炴姊绘担绛嬫綈闁稿孩濞婇、姘额敇閵忕姷鐤囬梺鍛婃处閸ㄩ亶鎮¤箛娑欑厱闁靛鍨甸崰姘閸愵喗鍊垫繛鍫濈仢閺嬫盯鏌ㄩ悢鐑樻珪闁革絻鍎卞嵄闁绘挸瀵掑〒濠氭煏閸繂鏆欓柛鏃�绮庣槐鎺楊敊閼恒儱纾抽悗娈垮枦椤曆囧煡婢舵劕顫呴柍銉ュ帠缁ㄥ姊洪懡銈呅㈤柟纰卞亰楠炴牠顢曢妶鍥╃劸濡炪倖娲╅幏鐑芥煙椤旂瓔娈橀柟鍙夋尦瀹曠喖顢楅崒锔惧枠闂傚倷鐒﹂幃鍫曞礉鐎ｎ剙鍨濇繛鍡樻尰閸嬫ɑ銇勯弴顏呭濡ょ姷鍋炵敮锟犵嵁婵犲洦鎯炴い鎰剁岛閹峰綊姊洪悷鏉挎Щ闁硅櫕锚閻ｇ兘鏁愰崱妤冪獮婵犵數濮寸花鑲╂椤忓牊鈷掗柛灞捐壘閿熻姤鎮傚畷鎰版倻閼恒儱娈戦梺鍛婃尫缁�渚�宕瑰┑鍥ヤ簻闁哄稁鍋勬禒锕傛煕閵堝懓瀚伴摶鏍煥濠靛棙鍣归柡鍡欏仱閺屾稓锟斤絻鍔岄敓鑺ョ箞瀵寮撮悢铏诡啎閻熸粌绉剁划鏃堟偨绾板瀚规慨妯诲墯濞兼劙鏌熸笟鍨閾伙綁鏌ｉ幘宕囧嚬濠㈣娲熼弻锝嗘償閵忋垹鏆￠梺鐟板殩閹凤拷?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮诲☉妯锋婵鐗婇弫楣冩⒑閸涘﹦鎳冪紒缁樺姍濠�渚�姊虹粙璺ㄧ闁告艾顑囩槐鐐哄箣閿旂晫鍘遍梺闈涱焾閸庨亶鏁撻挊澶樼吋妤犵偛顦甸獮鏍ㄦ媴閻熼缃曢梻浣稿閸嬪懐鎹㈤崟顖涘仭闁哄被鍎查埛鎴犵磼鐎ｎ偒鍎ラ柛搴＄箲閵囧嫰鏁傞悙顒佹瘓閻庢鍠栭…宄邦嚕閹绢喗鏅柛鏇ㄥ幗濠㈡垿姊虹拠鎻掑毐缂傚秴妫欑粋宥夋倻閽樺顔嗛梺缁樺灱濡嫰宕￠幎鑺ョ厽婵☆垰鍚嬮弳鈺呮煟閹烘垯鍋㈤柡宀嬬稻閹棃顢涘鍛咃綁姊虹粙娆惧剮闁绘帪濡囩划瀣吋閸滀胶鍙嗛梺鍓插亞閸犳捇宕㈤悽鍛娾拺闁告稑锕︾粻鎾绘倵濮樼厧鏋﹂柛濠冩尦濮婃椽鎳￠妶鍛咃綁鏌涢弮锟界敮鈥崇暦閿熺姴绠柦妯侯槼閹芥洖鈹戦悙鏉戠仧闁搞劍妞藉畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷");
				sendError(SCreateRoleError.CREATE_OVERCOUNT);
				return;
			}
		}
		
		
		
		final PCreateRole proc = new PCreateRole(this, userID, config.initequip);
		proc.submit();	
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 786435;

	public int getType() {
		return 786435;
	}

	public final static int NAMELEN_MAX = 14; // 名字的最大长度
	public final static int NAMELEN_MIN = 4; // 名字的最短长度

	public java.lang.String name; // 名称
	public int school; // 职业
	public int shape; // 角色id
	public java.lang.String code; // 招募码

	public CCreateRole() {
		name = "";
		code = "";
	}

	public CCreateRole(java.lang.String _name_, int _school_, int _shape_, java.lang.String _code_) {
		this.name = _name_;
		this.school = _school_;
		this.shape = _shape_;
		this.code = _code_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(name, "UTF-16LE");
		_os_.marshal(school);
		_os_.marshal(shape);
		_os_.marshal(code, "UTF-16LE");
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		name = _os_.unmarshal_String("UTF-16LE");
		school = _os_.unmarshal_int();
		shape = _os_.unmarshal_int();
		code = _os_.unmarshal_String("UTF-16LE");
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CCreateRole) {
			CCreateRole _o_ = (CCreateRole)_o1_;
			if (!name.equals(_o_.name)) return false;
			if (school != _o_.school) return false;
			if (shape != _o_.shape) return false;
			if (!code.equals(_o_.code)) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += name.hashCode();
		_h_ += school;
		_h_ += shape;
		_h_ += code.hashCode();
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append("T").append(name.length()).append(",");
		_sb_.append(school).append(",");
		_sb_.append(shape).append(",");
		_sb_.append("T").append(code.length()).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

