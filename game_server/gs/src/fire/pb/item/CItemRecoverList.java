
package fire.pb.item;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CItemRecoverList__ extends mkio.Protocol { }

/** 客户端请求道具找回列表
*/
// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CItemRecoverList extends __CItemRecoverList__ {
	@Override
	protected void process() {
		final long roleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleId < 0)
			return;

		new mkdb.Procedure() {
			@Override
			protected boolean process() {
				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺绋款儏鐎氼參濡甸崟顖氱闁瑰瓨绻嶆禒鑲╃磽娴ｅ搫顎岄柛銊﹀▕閺佹捇鎮剧仦鎯ф畬闁诲孩鍑归崣鍐ㄧ暦閹惰棄绠绘い鏃囨娴狀參姊绘笟鍥у伎濠碘�虫喘瀹曪綁宕卞☉娆屾嫼闂佸憡鎸昏ぐ鍐╃閺嶎厽鐓曢柕濞垮労閻撹偐锟芥鍠楁繛濠囥�侀弴銏℃櫆闁芥ê顧�閹风兘鎮介崨濠備画濠电偛妫楃换鎰邦敂椤忓棛纾奸柨鐔剁矙瀹曟﹢鍩炴径鍝ョ泿闂備線娼ч…鍫ュ磿婵犳氨鍙曟い鎺戝亰閹峰嘲鈻撻崹顔界亪濡炪値鍙冮弨杈ㄧ┍婵犲偆娼扮�癸拷婵犲喚锟藉姊绘担鍝ョШ妞ゃ儲鎹囧畷妤�顫滈敓钘夘嚕椤愶箑绠涙い鎾跺枎閸斿懎鈹戦悩缁樻锭婵炲眰鍊濆鎼佸Χ閸℃瑧鐦堢紒鍓у钃辨い顐躬閺屾稓锟斤綆浜濋ˉ銏拷瑙勬磻閸楀啿顕ｉ崐鐕佹濠电偛鍚嬮悧妤冩崲濞戞﹩鍟呮い鏃囧吹閻╁海绱撴担鍝勑㈢紓宥咃躬瀵鏁愭径濠勭杸濡炪倖鎸鹃崑鐔虹矈闁垮绡�婵炲牆鐏濋弸鏃堟煕閵娿劍顥夋い顐㈢箻閹煎綊宕烽鐘靛幆婵犵數鍋涘Λ娆撳磿閹惰棄绀堥梺顒�绉甸埛鎴︽煟閹存梹娅嗘繛鍛崌閺屾盯濡搁妶鍛ギ闂佽鍣ｇ粻鏍箖閸ф鏁嶆俊顖濐潐閻繘姊绘担鍛婅础闁稿簺鍊楅幑銏ゅ礃椤旇偐鏌у┑鐘诧工閻楀﹪鍩涢幋鐘电＜妞ゆ牗绋掔粈锟芥繝鈷�鍕弨闁哄被鍔岄～婵嬵敄閻愯尙绉洪柟顕呬邯瀹曘劑顢欑喊鍙樼处?
				SItemRecoverList send = new SItemRecoverList();

				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄被鍔戦幃銏ゅ传閸曟垯鍨婚惀顏堝箚瑜滈悡濂告煛鐏炲墽鈽夐柍钘夘樀瀹曪繝鎮欑�甸晲澹曢梻鍌欑绾绢參骞婇幘鍓佺煋鐟滅増甯掗拑鐔烘喐閹寸姷涓嶆繛鎴烇供濞尖晠鏌涜箛姘汗缂佸鍏橀弻锝嗘償閵堝孩缍堝┑鐐插级閿曘垽骞冮敓鐘虫櫢闁绘灏幗鏇炩攽閻愭潙鐏﹂柨鏇楁櫊瀹曘儳锟斤綆鍠楅悡鏇㈡煏婢舵稓鍒板┑陇娉曢幉鎼佸箥椤旂偓鐦堕梻鍌氬�搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笂缁瑩寮婚妶鍡樺弿闁归偊鍓ㄩ幏鐑藉冀椤愵剚瀚规慨姗嗗墻閻撳ジ鏌″畝瀣М鐎殿噮鍣ｅ畷鎺戭潩椤戣法甯涚紓鍌氬�风欢銈夊箯瀹勯偊鐔嗛柤鎼佹涧婵牓鏌涙繝鍌滃煟闁哄矉缍侀獮鍥敊閼恒儲鐦庨梻浣告啞閻燂箓骞愰懡銈嗗床婵炴垶锕╅崯鍛亜閺冨洤鍚归柣鈺侀叄濮婃椽宕ㄦ繝鍌毿侀梺鍦厴閺�杈ㄧ┍婵犲洦鍊锋い蹇撳閹风兘寮介鐐殿唶婵°倧绲介崯顐ゅ婵犳碍鐓熼柡鍐ㄥ�哥敮璺好归懖鈺佇ｅǎ鍥э躬婵″爼宕ㄩ鍏碱仭闂備焦濞婇弨閬嶅垂閸ф钃熸繛鎴炃氬Σ鍫熸叏濡わ拷閻楀﹪寮ィ鍐╃厽闊洦鎸荤粋瀣煕鐎ｎ亷韬�殿喖顭锋俊鑸靛緞鐎ｎ偄鍔掓俊鐐�栭崝鎴﹀垂鐟欏嫭鍙忛柟闂寸劍閳锋垿姊婚崼鐔衡檨濠㈣泛瀚伴弻娑㈠籍閿熶粙鎮烽埡鍛仒妞ゆ洩鎷锋鐐搭焽閹风娀鎳犻澶婃暯闂傚倷鑳剁涵鍫曞礈濠靛鏅濋柍杞扮贰閻掍粙鏌￠崘銊у闁抽攱甯掗湁闁挎繂娲ら崝瀣煕閵堝繑瀚归梻鍌欐祰椤曆呮崲閹寸姵宕查柛顐ｇ箘閺嗭附銇勯弽顐㈠壉闁轰礁鍟撮弻銊╁籍閿熶粙宕曞畷鍥╃焾闁挎洩鎷烽柍瑙勫灦楠炲﹪鏌涙繛褍娲ょ粻顖炴⒑閸噮鍎嶅ù婊勭矋閵囧嫰骞橀姘拤缂佺虎鍘奸悥濂稿蓟閻旂厧鐭楀璺侯儏閸炲鎮楃憴鍕闁哥姵鐗犻悰顕�宕卞▎鎰濡炪倖妫佸Λ鍕敂閸洘鐓熼柣妯跨簿椤掔喖鏌ｉ幘鎰佹█妤犵偛绻戦ˇ鐗堟償閵忕姵鐎梻浣告啞濞诧箓宕滃☉鈶哄洭濡搁埡鍌氾拷鐢告煟瑜嶉幉锛勶拷姘贡缁辨挻鎷呴崜鎻掑壉濡炪倖鍨堕悷鈺佺暦閻㈢鍗抽柕蹇婏拷鍏呭寲濠德板�х粻鎺楁晸閵夆晜鏅搁柡鍌樺�栫�氬綊姊绘担鍛婃儓妞ゆ垵鎳橀弻濠囨晲婢跺﹨鎽曢梺缁樻⒒閳峰牓寮澶嬬厱闁斥晛鍠氬▓鏃�銇勮箛鏃�灏﹂柡灞剧洴閹垽鏌ㄧ�ｎ亝鐣绘繝娈垮枛閿曪妇鍒掗鐐茬闁告稒娼欏婵嗏攽閻樺弶鍣芥い銏犳嚇濮婄粯鎷呴崨濠傛殘濡炪値鍘煎Λ婵嗙暦閸洖惟闁靛鍊栭～鏇㈡⒒閸屾瑧绐旀繛浣冲洠锟斤箓宕奸妷銉э紵闂佸憡绻傜�氱兘鎮炴禒瀣厸鐎广儱楠搁獮妤呮煕鐎ｅ墎绉柡灞剧洴婵＄兘鏁愰崨顓х�烽梻渚�娼ч悧濠囧箰閹惰棄钃熼柨娑樺閹风兘鏁愭惔鈥茬凹濡炪們鍎遍悧鎾诲蓟閳ュ磭鏆嗛柨鐔剁矙瀹曚即骞囬澶屽姺闂婎偄娲﹂弻锝夊磻閸涘瓨鐓曢柟鑸妽濞呮捇鏌ㄩ悢缁橆棄缂佸鎳撻～蹇涙惞閸︻厾锛滃┑鈽嗗灥濞咃綁鎮烽妸鈺傗拺闂傚牊绋撴晶娑㈡煙椤旂厧锟芥悂顢氶敐鍡欑瘈婵﹩鍘兼禍婊堟⒑缂佹ɑ灏繛瀵稿厴閹偓銈ｉ崘鈺佷画濠电姴锕ら崯鐗堟櫏闁诲孩顔栭崰娑樷枍閺囩儐鐒介煫鍥ㄧ☉閻撴盯鎮楅敐搴′簻妞ゅ繐鐖煎濠氬磼濮樺崬顤�缂備礁顑嗛崹褰掓嚍鏉堛劎绡�婵﹩鍘鹃崢鐢告⒑閸涘﹤鐏熼柛濠冪墱閿熻姤鐔幏锟�
				xbean.Itemrecoverlist itemRecoverList = xtable.Itemrecover.get(roleId);
				if (itemRecoverList != null) {
					long now = System.currentTimeMillis();
					java.util.List<Long> removeList = new java.util.LinkedList<Long>();
					for (Long uniqId : itemRecoverList.getUniqids()) {
						xbean.DiscardItem ditem = xtable.Itemrecyclebin.select(uniqId);
						if (ditem != null) {
//							// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬪銈冨灪閻熲晠骞冮埄鍐╁劅妞ゆ梹鍨濆锕傛⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樺啿浠梺闈涱槴閺呮粓寮插┑瀣厪濠㈣泛妫欏▍鍛浖閸涘瓨鈷戦柛娑橈攻婢跺嫰鏌涢妸銈呭祮鐎规洘锕㈤弫鎾寸鐎ｎ偀鎷洪梻鍌氱墛娑撶懓鈽夊顐ｅ媰闂佺粯鍔﹂崜锕傚疮閸ヮ剚鈷掗柛灞捐壘閿熺晫鍏橀幊妤呭醇閺囨鎷烽敃鍌氶唶闁绘洑鐒﹂鏃堟⒑瑜版帗锛熼柣鎺炵畵瀵彃鈹戦崶銉ょ盎闂婎偄娲﹂幐鎼侇敂閹绢喗鐓曢柕鍫濇缁�瀣煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌缁垶骞愰懡銈囩煓闁硅揪闄勭粻鎺楁⒒娴ｇ懓顕滅紒璇插�哥叅闁挎洖鍊搁崥褰掓煥閻旂粯顥夋い顏勫暣婵℃儼绠涘顒佸�曢梻浣告惈閹冲繘鎯勯鐐叉槬闁绘劕鎼粻锝夋煥閺冨洦顥夊ù婊冦偢濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸悧鐘汇�侀弮鍫濋唶闁哄洨鍟块幏缁樼箾鏉堝墽绉┑顔哄�楀☉鐢稿醇閺囩喓鍘遍梺鎸庣箓缁绘帡鎮鹃崹顐闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夋偂閻旂厧绠归柟纰卞幖閻忥絿绱掓径灞炬毈闁哄本绋撻敓鏂ょ秵娴滄粓鏁撻懞銉﹀�愰柨婵堝仜閳规垹锟斤綆鍋呭▍鍥⒑缁嬫寧婀扮紒瀣墦楠炲繐煤椤忓應鎷虹紒缁㈠幖閹冲孩绂嶈ぐ鎺撶厱閻庯綆鍋嗗ú瀵革拷瑙勬礃缁诲倿锝炲鍫熸櫢濞寸姴顑呴拑鐔哥箾閹存瑥鐏╂俊顐ｏ耿閹綊骞侀幒鎴濐棊閻熸粌绻橀弫鎾诲磹閻曚焦缍堝┑鐐插级閿氭い顏勫暣閹稿﹥寰勭仦鐐啎闂備礁婀遍崕銈夈�冮崱娑樼９闁绘垼濮ら悡娑橆熆鐠轰警鍎忛柣鎿勬嫹闂備礁缍婇ˉ鎾诲礂濡櫣鏆﹀┑鍌滎焾閸楁娊鏌ｅΟ璇茬祷缂佹彃銈稿缁樻媴鐟欏嫬浠╅梺绋垮瘨閸ㄨ泛鐣峰┑鍡╁悑闁搞儻濡囬崜銊ヮ渻閵堝棙灏靛┑顕�顥撴竟鏇㈡偩瀹�瀣妤犵偛鐏濋崝姘舵倵濮樼厧鐏︾�规洘顨呴悾婵嬫晸閻ｅ本顫曢柟鐑樻尰缂嶅洭鏌曟繛鍨姢闁荤喆鍔戦弻褏绱掑Ο鐓庘拰闂佸搫琚崝鎴﹀箖閵忋倕绀堝ù锝堟閸橆垶姊洪懞銉夋垹鎹㈤崼婵愭綎濠电姵鑹鹃柋鍥煟閺冿拷娴滀粙鏁撻懞銉ユ诞闁哄矉绻濆畷閬嶎敇閻樺灚娈奸梻浣告惈鐞氼偊宕濋幋锕�绠栭柕鍫濐槸绾惧吋绻涢幋鐑囦緵濞寸》鎷�?
//							fire.pb.item.ItemShuXing attr = Module.getInstance().getItemManager().getAttr(ditem.getItem().getId());
//							if (attr == null) {
//								Module.logger.error("[CItemRecoverList] roleId:" + roleId
//										+ " itemId:" + ditem.getItem().getId()
//										+ " uniqId:" + ditem.getItem().getUniqueid()
//										+ " ItemShuXing not found!");
//								continue;
//							}
//							long day = attr.getRecycletime(); // 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ュ钘夌暦閵婏妇绡�闁告劦鐓堝Σ閬嶆⒒娴ｈ鍋犻柛鏂跨Т椤灝螣缂佹ɑ鐝￠梻鍌欑閹碱偆鎮锕�纾块柡灞诲劜閸嬪倿鏌曟径鍡樻珕闁绘挾鍠栭弻锟犲磼濮樺彉铏庡銈忕稻婵炲﹪寮婚敐澶樻晣闁绘梻鍎ら崳浼存⒑閸濆嫬顦柨鐔绘绾绢參寮抽崱娑欏�甸柨婵嗛婢т即鏌ｉ敃锟介悧鎾诲箖濡ゅ啯鍠嗛柛鏇ㄥ墰椤︺劑姊洪幐搴㈢８闁搞劎鍎ょ粚杈ㄧ節閸屻倖妗ㄩ悗鐧告嫹濠电姴鍞埡鍛拻濞达綀娅ｇ敮娑㈡煙閹间胶鐣虹�规洜澧楅幆鏃堝Ω閵壯冨箣闂備胶顢婇幓顏嗙不閹达附鍋傞柨鐔哄У閻撴洟鏌嶉埡浣告殧濞寸媴绠戦…璺ㄦ喆閸曨剛顦板┑顔硷攻濡炰粙骞冮悜钘夌骇闁圭瀵掗崬銊╂⒒娴ｇ儤鍤�闁搞倖鐗犻獮蹇涙晸閿燂拷:濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉骞夐幖浣瑰亱闁割偅绻勯悷鏌ユ⒑缁嬪尅宸ラ柣鏍с偢瀵鈽夐姀鈺傛櫇闂佺粯蓱瑜板啯鎱ㄦ惔銊︹拺婵懓娲ら敓鑺ヮ殜瀹曟垿骞橀懜闈涘簥濠电娀娼уú銊у姬閿熶粙姊虹粙鎸庢拱缂侇喖鐭傞妴鍌炲传閸曘劍鏂�濡炪倖姊归娆忣焽閹扮増鐓熼柟鍨缁★拷閻庢鍠栭…閿嬩繆閹间礁鐓涢柛灞剧煯缁ㄤ粙姊绘担渚劸闁哄牜鍓涚划娆撳箣閿旂粯鏅滈梺璺ㄥ櫐閹凤拷
//							long validTime = day * 24L * 3600L * 1000L; // 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ュ钘夌暦閵婏妇绡�闁告劦鐓堝Σ閬嶆⒒娴ｈ鍋犻柛鏂跨Т椤灝螣缂佹ɑ鐝￠梻鍌欑閹碱偆鎮锕�纾块柡灞诲劜閸嬪倿鏌曟径鍡樻珕闁绘挾鍠栭弻锟犲磼濮樺彉铏庡銈忕稻婵炲﹪寮婚敐澶樻晣闁绘梻鍎ら崳浼存⒑閸濆嫬顦柨鐔绘绾绢參寮抽崱娑欏�甸柨婵嗛婢т即鏌ｉ敃锟介悧鎾诲箖濡ゅ啯鍠嗛柛鏇ㄥ墰椤︺劑姊洪幐搴㈢８闁搞劎鍎ょ粚杈ㄧ節閸屻倖妗ㄩ悗鐧告嫹濠电姴鍞埡鍛拻濞达綀娅ｇ敮娑㈡煙閹间胶鐣虹�规洜澧楅幆鏃堝Ω閵壯冨箣闂備胶顢婇幓顏嗙不閹达附鍋傞柨鐔哄У閻撴洟鏌嶉埡浣告殧濞寸媴绠戦…璺ㄦ喆閸曨剛顦板┑顔硷攻濡炰粙骞冮悜钘夌骇闁圭瀵掗崬銊╂⒒娴ｇ儤鍤�闁搞倖鐗犻獮蹇涙晸閿燂拷:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ姀鐘差棌闁轰礁锕弻鈥愁吋鎼粹�崇闂傚倸鍋嗛崹閬嶅Φ閸曨垰鍐�闁靛ě鍛帓缂傚倷绶ら幏宄扳攽閻樺弶澶勯柣鎾存礋閺屽秹鍩℃担鍛婃闂佸疇妫勯ˇ閬嶆儉椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔濞叉挳鏌涢埡浣割伃鐎规洘锕㈡俊鎼佸Ψ閿斿彞绨界紓鍌氬�搁崐鎼佸磹閸濄儳鐭撻柣銏犳啞閸嬪淇婇妶鍕厡闁崇懓绉撮埞鎴︽偐閸欏鎮欓柛銉︽尦濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸悧鏇㈠煝瀹ュ鏅插璺侯儌閹锋椽姊洪崨濠勭畵閻庢氨鍏樺畷鏇烆煥閸喓鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�?
//							long elapseTime = now - ditem.getDeletedate(); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繛鎴欏灩缁狅綁鏌ｉ幇銊︽珕闁挎稑鐗嗛埞鎴︽倷閸欏鏋欐繛瀛樼矋缁苯煤閸喒鏀介柣姗嗗枛閻忚鲸绻涙径瀣创闁瑰磭鍠栭、娑橆煥閸涱垳鍔搁梻浣瑰濞叉牠宕愯ぐ鎺戠厱闁硅揪闄勯崑鈩冪箾閸℃绠版い蹇婃櫇缁辨帡鏁撴禒瀣闁崇懓銇樼花濠氭⒑閸濆嫭鎼愭俊顐ｎ殜楠炲﹪骞囬鑽ゅ墾闂佹眹鍨婚。顕�骞忛悜鐣屽祦闁割煈鍠栨慨搴☆渻閵堝繒绱伴柛妤佸▕楠炲啴鏁撻悩鎻掑祮闂佺粯姊荤换婵堣姳婵犳碍鈷戦悷娆忓缁舵彃顭胯濞撮鍒掑▎鎾村殥闁靛牆娲ㄩ敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｅ嘲顫滈敓浠嬨�佸▎鎾村仼閻忕偠妫勫Ч鎻掆攽閻樺灚鏆╅柛瀣仱瀹曞綊鎮℃惔妯荤�洪梺鍝勬川婵挳骞忓畡閭︽僵闁绘劦鍓欓锟�:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ姀鐘差棌闁轰礁锕弻鈥愁吋鎼粹�崇闂傚倸鍋嗛崹閬嶅Φ閸曨垰鍐�闁靛ě鍛帓缂傚倷绶ら幏宄扳攽閻樺弶澶勯柣鎾存礋閺屽秹鍩℃担鍛婃闂佸疇妫勯ˇ閬嶆儉椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔濞叉挳鏌涢埡浣割伃鐎规洘锕㈡俊鎼佸Ψ閿斿彞绨界紓鍌氬�搁崐鎼佸磹閸濄儳鐭撻柣銏犳啞閸嬪淇婇妶鍕厡闁崇懓绉撮埞鎴︽偐閸欏鎮欓柛銉︽尦濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸悧鏇㈠煝瀹ュ鏅插璺侯儌閹锋椽姊洪崨濠勭畵閻庢氨鍏樺畷鏇烆煥閸喓鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�?
//							long remainTime = validTime - elapseTime; // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌ょ喊鍗炲⒒闁哥偛鐖煎缁樻媴閸涘﹨纭�闂佹儳绻愰柊锝呯暦娴兼潙鍐�妞ゆ挾鍠庢禒楣冩⒑缂佹ê濮﹂柛鎾寸〒缁粯銈ｉ崘鈺冨幈闂佹枼鏅涢崢楣冾敂閸喎锟藉爼鏌嶉崫鍕殶缁炬儳銈搁弻銊╂偄鐠囨畫鎾剁磼缂佹绠炵�规洖鐖兼俊姝岊槻妤犵偛绉瑰娲传閸曞灚笑闂佺粯顨呭Λ娆撳疾閼哥數顩烽悗锝庡亜娴犲ジ鏌℃径濠勫闁哄懏绻勬竟鏇㈠礂缁楄桨绨婚梺瑙勫閺呮盯鎮橀锟藉顐﹀醇閵夛腹鎷洪梺鍛婄箓鐎氼厼锕㈡导瀛樼厽闁冲搫锕ら悘锕傛煏閸℃洜绐旂�殿喗鎸虫慨锟介柍鈺佸暞閻濇娊姊绘担铏广�婇柛鎾寸箞閹兘顢涘В纭风稻鐎佃偐锟芥稒菤閹风粯绻涙潏鍓ф偧闁硅櫕鎹囬、姘煥閸喓鍘遍梺褰掑亰閸擄箓鎮￠崗纰辨闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ姀鐘差棌闁轰礁锕弻鈥愁吋鎼粹�崇闂傚倸鍋嗛崹閬嶅Φ閸曨垰鍐�闁靛ě鍛帓缂傚倷绶ら幏宄扳攽閻樺弶澶勯柣鎾存礋閺屽秹鍩℃担鍛婃闂佸疇妫勯ˇ閬嶆儉椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔濞叉挳鏌涢埡浣割伃鐎规洘锕㈡俊鎼佸Ψ閿斿彞绨界紓鍌氬�搁崐鎼佸磹閸濄儳鐭撻柣銏犳啞閸嬪淇婇妶鍕厡闁崇懓绉撮埞鎴︽偐閸欏鎮欓柛銉︽尦濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸悧鏇㈠煝瀹ュ鏅插璺侯儌閹锋椽姊洪崨濠勭畵閻庢氨鍏樺畷鏇烆煥閸喓鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�?
							long remainTime = ditem.getDeletedate() - now;
							if (remainTime > 0) {
								int cost = -1; // -1:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敊閼恒儲鐦庨梻浣规た閸樹粙鎮烽埡鍛亗妞ゆ劧绠戦悙濠囨煏婵炑嶆嫹婵℃彃鐗忕槐鎾寸瑹婵犲啫顏跺┑鐘灱閸╂牠宕濋弴鐘典笉閻熸瑥瀚粻楣冩煥濠靛棝顎楀褜鍠栭埞鎴︽晬閸曨偄浠樺銈傛櫅閵堢鐣烽妸鈺婃晣婵炴垶鐟﹂弶鍛婁繆閻愵亜锟芥牕顫忚ぐ鎺戝嚑缂備焦顭囬悷瑙勭箾閹存瑥鐏柣鎾存礋閻擃偊宕堕妸锔绘闂佸吋濯藉▔鏇㈡晸閼恒儺鍟忛柛鐘崇墵閳ワ箓鎮滈挊澶嬬�梺鍛婂姦閸犳牜澹曢崗鑲╃闁瑰鍋犳竟姗�鎮介娑辨疁婵﹦绮幏鍛村传閵夛妇锟筋喖鈹戦埄鍐︿粻闁告柨娴烽崚鎺楀醇閻旇櫣鎳濋梺璺ㄥ枙濡嫰顢氶敐澶婄闁兼亽鍎遍敓鐣屽厴閺岋綁濮�閵忊剝姣勯梺鎸庣♁缁挸顫忛搹鍦＜婵☆垰娴氭禍顏勭暦椤栫偛鍨傛い鏃�鑹剧紞濠囥�佸▎鎾崇闁告侗鍠栭璺衡攽閻愯尙澧曢柣蹇旂箞瀵鈽夐姀锛勫幗闂佸搫璇炴担闀愬垝闁诲氦顫夊ú妯侯渻娴犲鏋侀柟鍓х帛閸嬫劙鏌ょ喊鍗炲⒕缂佸崬寮剁换婵嬫偨闂堟刀銏ゆ煥閺囨ê锟芥鏁撻懞銉ュ毈闁告挻鐟╅崺銏狀吋閸垻鏉稿┑鐐村灦閻熴垽骞忔繝姘拺缂佸瀵у﹢浼存煟閻旀繂娉氶崶顒佹櫆闁规儳鎳忕�氳绻涢崼婵堜虎闁哄绋戦…鑳槻闂佸府绲介悾宄邦潩鐠鸿櫣顔婂┑掳鍊ч幏椋庣磼閻樺樊鐓奸柟顔肩秺瀹曞爼顢旈崟顔芥毐闂備胶顢婃慨銈吤洪悢濂夋綎闁惧繒鎳撶�垫煡鏌￠崶鈺佷粶闁冲嘲顦辩槐鎾存媴閸撴彃鍓遍梺鎼炲妼濠�閬嶅礆閹烘梻纾兼俊顖濆亹閻﹀牆鈹戦鏂や緵闁告﹢绠栧畷銏ゆ焼瀹ュ棌鎷洪悷婊呭鐢帗绂嶆导瀛樼厱婵☆垰鐏濇禍鍦拷鍨緲閿曨亪骞婇敓鐘参ч柛銉㈡櫔缁辨彃鈹戦埥鍡椾簽濠⒀勵殘閹广垽宕掑锝嗙�洪悗骞垮劚濡瑩宕ｈ箛鎾斀闁绘ɑ褰冮敓钘夌秺楠炲棝宕奸妷銉︾�梺鍓插亖閸庢煡鎮￠弴銏＄厪濠㈣泛顑呴悘銉╂煕閻樺啿鍝洪柟顔筋殜楠炲酣鎳為妷銏″闂佽崵濮村ú锕併亹閸愵噮鏁嗛柕蹇嬪�栭悡鐔搞亜閹炬鍟悵婵嬫倵鐟欏嫭绌跨紒缁樼箓閻ｅ嘲顫滈敓浠嬪箠閻樻椿鏁嗗ù锝堫嚃閸熷酣姊婚崒娆戠獢婵炰匠鍛床闁割偁鍎辩壕褰掓煛閸モ晛浠︾紒缁㈠灦濮婂宕掑▎鎴濆闂佽鍠栭悥鐓庣暦閺囥埄鏁嬮柨鐔绘椤曪綁骞撻幒鍡樻杸闁诲函缍嗛崑鍛枍閺嶎厽鈷戦悹鎭掑妼濞呮劙鏌熼崙銈嗗?
								ItemShuXing itemAttrConf = Module.getInstance().getItemManager().getAttr(ditem.getItem().getId());
								if (itemAttrConf != null) {
									cost = itemAttrConf.getRecovercost();
								}
								ItemRecoverInfoBean info = new ItemRecoverInfoBean();
								info.itemid = ditem.getItem().getId();
								info.uniqid = uniqId;
								info.remaintime = (int) (remainTime / 1000); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌ょ喊鍗炲⒒闁哥偛鐖煎缁樻媴閸涘﹨纭�闂佹儳绻愰柊锝呯暦娴兼潙鍐�妞ゆ挾鍠庢禒楣冩⒑缂佹ê濮﹂柛鎾寸〒缁粯銈ｉ崘鈺冨幈闂佹枼鏅涢崢楣冾敂閸喎锟藉爼鏌嶉崫鍕殶缁炬儳銈搁弻銊╂偄鐠囨畫鎾剁磼缂佹绠炵�规洖鐖兼俊姝岊槻妤犵偛绉瑰娲传閸曞灚笑闂佺粯顨呭Λ娆撳疾閼哥數顩烽悗锝庡亜娴犲ジ鏌℃径濠勫闁哄懏绻勬竟鏇㈠礂缁楄桨绨婚梺瑙勫閺呮盯鎮橀锟藉顐﹀醇閵夛腹鎷洪梺鍛婄箓鐎氼厼锕㈡导瀛樼厽闁冲搫锕ら悘锕傛煏閸℃洜绐旂�殿喗鎸虫慨锟介柍鈺佸暞閻濇娊姊绘担铏广�婇柛鎾寸箞閹兘顢涘В纭风稻鐎佃偐锟芥稒菤閹风粯绻涙潏鍓ф偧闁硅櫕鎹囬、姘煥閸喓鍘遍梺褰掑亰閸擄箓鎮￠崗纰辨闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�:缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崼銉ヨ摕闁绘柨鐨濋弸鏃堟煕椤垵鏋熼柣蹇撶Ч濮婃椽宕崟顒夋！缂備緡鍠栫粔鐢电矚鏉堛劎绡�闁搞儺鐏涜閺屾稑鈽夐崡鐐寸亪濠电偛鎷戠徊浠嬪煘閹达富鏁婃繛鍡欏亾缂嶅牓姊虹紒妯绘儓缂佺粯绻傞锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�
								info.cost = cost;
								send.items.add(info);
							}
						} else {
							// 缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷濡炪倖鍔﹀锟芥慨瑙勵殜濮婅櫣鎹勯妸銉︾�鹃梺鍝勵儓瀹曠數鍒掓繝姘闁挎棁妫勬禒濂告⒑鐠恒劌鏋斿┑顔碱嚟缁濡烽埡鍌滃弰闂婎偄娴勭徊鑺ョ閻愮儤鐓ラ柣鏃囶嚙琚氬┑锛勫仒缁瑥顕ｆ繝姘亜闁绘挸娴烽ˇ褔姊洪崗鑲┿偞闁哄懏绮岄埢鎾活敆閸曨兘鎷洪梺鍛婄☉閿曘儵鎮￠妷鈺傜厽妞ゆ帪鎷烽柕鍫熸倐楠炲啴顢氶敓浠嬬嵁閸℃凹妾ㄩ梺鍛婅壘椤戝懘鈥︾捄銊﹀磯濞撴凹鍨伴崜鎶芥⒑閸涘鐒炬俊顐㈠閸╃偤骞嬮敃锟介悡锟犳煕閳╁喚娈樺ù鐙�鍙冮弻锝嗘償閿濆洦鍤勯梺鎼炲劘閸斿本绂掕椤啴濡堕崨顖滎唶闂佺娅曢崝妤冨垝缂佹ǜ鍋呴柛鎰ㄦ櫇閸樺崬鈹戦悙鏉戠仴鐎规洦鍓熼悰顔嘉熼懖鈺冿紲闂佺粯锚濡﹪鎮℃總鍛婄厸閻忕偤娼婚幏宄扮暦閸ャ劍鐣烽梺璇插嚱缂嶅棝宕滃☉婧惧徍闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦?
							removeList.add(uniqId);
						}
					}
					// 缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷濡炪倖鍔﹀锟芥慨瑙勵殜濮婅櫣鎹勯妸銉︾�鹃梺鍝勵儓瀹曠數鍒掓繝姘闁挎棁妫勬禒濂告⒑鐠恒劌鏋斿┑顔碱嚟缁濡烽埡鍌滃弰闂婎偄娴勭徊鑺ョ閻愮儤鐓ラ柣鏃囶嚙琚氬┑锛勫仒缁瑥顕ｆ繝姘亜闁绘挸娴烽ˇ褔姊洪崗鑲┿偞闁哄懏绮岄埢鎾活敆閸曨兘鎷洪梺鍛婄☉閿曘儵鎮￠妷鈺傜厽妞ゆ帪鎷烽柕鍫熸倐楠炲啴顢氶敓浠嬬嵁閸℃凹妾ㄩ梺鍛婅壘椤戝懘鈥︾捄銊﹀磯濞撴凹鍨伴崜鎶芥⒑閸涘鐒炬俊顐㈠閸╃偤骞嬮敃锟介悡锟犳煕閳╁喚娈樺ù鐙�鍙冮弻锝嗘償閿濆洦鍤勯梺鎼炲劘閸斿本绂掕椤啴濡堕崨顖滎唶闂佺娅曢崝妤冨垝缂佹ǜ鍋呴柛鎰ㄦ櫇閸樺崬鈹戦悙鏉戠仴鐎规洦鍓熼悰顔嘉熼懖鈺冿紲闂佺粯锚濡﹪鎮℃總鍛婄厸閻忕偤娼婚幏宄扮暦閸ャ劍鐣烽梺璇插嚱缂嶅棝宕滃☉婧惧徍濠电姷鏁告慨鐑姐�傛禒瀣婵犻潧顑呯粻鏍煕鐏炲墽鈼ョ紒璇叉閺岋綁骞嬮敐鍡╂闁哥儐鍨伴—鍐Χ閸℃ǚ鎷荤紓渚囧櫘閸ㄨ泛鐣烽幋锕�宸濋悗娑櫱氶幏濠氭⒑缁嬫寧婀伴柣鐔濆泚鍥晝閿熶粙鈥﹂崸妤佸仭閻㈩垼鍠涢崥顐︽⒑鐠団�虫珯缂佺粯绻傞悾閿嬬附閸涘﹤浜滄繛鎾村嚬閸ㄩ亶鏌ㄩ妶澶嬧拻濞达綀娅ｇ敮娑㈡煕閺冿拷濞茬喖鐛弽顓ф晝闁靛牆娲ｇ粭澶愭⒑閸濆嫮鈻夐柛妯圭矙閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?
					itemRecoverList.getUniqids().removeAll(removeList);
				}
				mkdb.Procedure.psendWhileCommit(roleId, send);
				return true;
			}
		}.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 787793;

	public int getType() {
		return 787793;
	}


	public CItemRecoverList() {
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CItemRecoverList) {
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CItemRecoverList _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

