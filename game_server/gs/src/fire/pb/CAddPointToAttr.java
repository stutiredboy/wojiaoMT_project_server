
package fire.pb;


import fire.pb.buff.BuffConstant;
import fire.pb.common.SCommon;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CAddPointToAttr__ extends mkio.Protocol { }

/** 客户端请求属性加点
*/
// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CAddPointToAttr extends __CAddPointToAttr__ {
	@Override
	protected void process() {
		// protocol handle
		
		// TODO: 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｇ拠娴嬫婵☆垶鏀遍弬锟介梻浣告啞濞诧箓宕戦崟顒佸弿闁靛繈鍊栭埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠栭…鐑藉极閹邦厼绶炲┑鐘插閸氬懘姊绘担鐟邦嚋缂佽鍊歌灋妞ゆ挾鍊ｅ☉銏犵妞ゆ挾濮烽敍婵囩箾閹剧澹橀柨鏇樺劤閿熻姤鑹剧紞濠傤潖閾忓湱鐭欓柟绋垮閹疯京绱撴担鍓插剱閻㈩垪锟藉磭鏆﹂柨婵嗙墢閻わ拷闂佸搫鍊告晶鐣岀不濮樿埖鈷戦梻鍫熺〒婢ф洟鏌熷畡閭﹀剶鐎规洘娲熼獮鍥偋閸繐鎷烽崹顐ｅ弿婵妫楁晶鎵磼婢跺銇濋柡宀�鍠栭、娆戠驳鐎ｎ偆鏆梻浣烘嚀瀵爼骞愰崘鑼殾闁绘梻鈷堥弫鍡涙煕鐏炶锟芥牞鈪风紓鍌氬�搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊勬楠炲啳顦规鐐达耿閹筹繝濡堕崨顖樺亰闂傚倷绀侀幉锟犲礉閿曞倸绐楅柡宥庡幗閸嬪倹绻涢幋娆忕仾闁绘挻娲樼换娑㈠箣濠靛棜鍩炲┑鐐叉噺钃卞ǎ鍥э躬椤㈡洟濮�閻樿櫕顔勯梻浣哥枃椤宕归崸妤�绠栨繛鍡樻尭缁狙囨煙鐎电小婵℃鎸绘穱濠囨倷椤忓嫸鎷烽幋锕�绀夌�癸拷閸曨偆鐤囬梺瑙勫婢ф寮查幖浣圭參婵☆垯璀﹀Σ鍝劽归悩宕囨创闁哄矉缍侀獮姗�顢涢妶鍡楊伓闂佸綊顣﹂悞锔剧礊鎼达絿纾介柛灞剧懅閸斿秹鎷戦崡鐐╂斀妞ゆ牗绋掔亸锕傛煛鐏炲墽娲撮柡浣稿�婚幏鐘诲箵閹烘棏鍟堥梻鍌欒兌閸樠囨倶濠靛枹娲敇閻戝棙缍庡┑鐐叉▕娴滄粌顔忓┑鍡忔斀闁绘ɑ褰冮弳鐔兼煕濞嗗繑顥㈡慨濠傛惈鐓ら悹鍥ㄥ絻椤晠姊洪棃娑氬闁诡喖鍊搁锝夘敃閿曪拷缁犺崵绱撴担濮戭亜鈻撻悢鍏尖拺闂傚牊渚楀Σ鍫曟煕鎼粹�宠埞鐞氭瑩鏌涢鐘插姕闁抽攱鍨块弻娑樷攽閸曨偄濮庨柡宥侊拷鎰佹富闁靛牆鍟俊濂告煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾濠靛倻顭堝敮闂侀潧顦花鍫曞疾閻樿钃熺�广儱妫欐慨婊堟煙瀹勬媽瀚伴柛妯凤拷鎰佹富闁靛牆妫欓埛鎰版煕閺冿拷閻楁粓骞戦姀鐘婵炲棙鍔楃粔鍫曟⒑閸涘﹥瀵欓柛鎰╁妿閸樻帡姊婚崒娆掑厡妞ゃ垹锕ラ幈銊╁Χ閸パ冪亰闂佽宕橀褏绮婚弽顓熺厽闁逛即娼ф晶顖滅磽瀹ュ懏鍠橀柡灞炬礃缁绘稖顦查柟宄邦儔瀹曨垱鎯旈妸锔规嫼闂佸憡绻傜�氬嘲危閹间焦鐓熸俊銈忔嫹婵☆偅鐟╁鏌ュ醇閺囩喎浠奸悗鐧告嫹闁跨喍绮欓幆宀勫箻濞ｎ兛绨婚梺鐟版惈缁夌懓顬婂畡鎳婄懓顭ㄩ崟顓犵厑闂侀潧娲ょ�氫即鐛崶顒�鐓涘ù锝呮惈婵埖绻濈喊妯活潑闁搞劋绮欓獮蹇涙倻閼恒儮鎷绘繛杈剧悼閸庛倝宕甸敓浠嬫⒑閹肩偛鐏遍悘蹇旂懇楠炴垿濮�閵堝懐顔婂┑掳鍊撻悞锕�鈻嶉姀銈嗏拺闁告繂瀚敓钘夌埣瀹曟劕螖閸愵亞鐓嬮梺姹囧灩閹诧繝鎮￠妷鈺傜厽闁哄倹顑欏▓鐘崇箾閼测晛鏋涢柡灞剧洴婵℃悂濡烽敃浣侯攨缂傚倷娴囨禍顒勫磻閻愬灚宕叉繝闈涱儏閻愬﹦鎲歌箛娑欏仼婵炲樊浜濋埛鎴︽煕閹邦剙绾ч柟顖氱墦閺岀喖宕橀懠顒傤啋閻庤娲橀崝妤冩閹烘嚦鐔煎捶椤撶姷鏆板┑锛勫亼閸婃牠鎮уΔ鍐ㄥ灊闁绘顕х壕鍧楁煟濡偐甯涢柣鎾卞劦閺岋綁寮崶璺烘閻炴碍宀稿娲川婵犲啠鎷归梺鑽ゅ枂閸庣敻鏁愰悙鍓佺杸闁瑰彞鐒﹀浠嬨�侀弮鍫濈妞ゆ挆鍐╂珝闂傚倸鍊烽懗鍓佸垝椤栫偛绀夐柡宥庡厵娴滃綊鏌涢幇闈涙灀闁跨喕濮ら悧鐘茬暦閸楃偐鏋庨柟瀵稿缁卞啿鈹戦悙瀛樺鞍闁艰鍎崇叅闁靛牆顦崙鐘绘煟閺傚灝鎮戦柣鎾跺枛閺岋綁寮敓钘夘焽濞嗘挸绀夐柨鏂款潟娴滄粓鏌曡箛濠忔嫹閸愬弶鎳欓梻浣芥〃閻掞箓宕濋弽褜鍤楅柛鏇ㄥ弿閹风兘鏁愭惔鈥茬凹濡炪倕绻掗崰鏍ь潖缂佹ɑ濯撮柤鎭掑劤閵嗗﹪姊洪棃鈺冪Ф缂佺姵鎹囬悰顔跨疀濞戞瑦娅㈤梺璺ㄥ櫐閹凤拷?:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿纭锋嫹娴ｅ壊娼╅柤绋跨仛濞呫垺绻涚�电孝妞ゆ垵娲ら悾鍨瑹閿熶粙鎮￠锕�鐐婇柕濞э拷濡俱劑姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮诲☉姘炬嫹閿濆啫濡奸柨鐔诲Г缁诲牆顕ｆ繝姘嵆闁绘棁娅ｉ鏇㈡⒑閸撹尙鍘涢柛鐘崇墵閳ユ牗寰勯幇顓涙嫼闂佽崵鍠愬姗�寮抽柆宥嗙厽妞ゆ挾鍋涢敓鑺ユ倐閿濈偠绠涢弴鐘碉紲濠碘槅鍨甸褔顢撻幘缁樷拺闁告稑锕﹂埥澶愭煥閺囨ê鍔︾�规洘娲熼獮姗�骞囨担鐟扮槣闂備線娼ч悧鍡椢涘Δ鍛�堕柕澶涘缁犲墽锟界懓澹婇崰鏍嵁閺嶎厽鐓熼柨婵嗩槹閺侀亶鎮楅棃娑栧仮鐎殿喖鐖奸獮瀣偐閸偅绶繝纰夌磿閸嬫垿宕愰弽顓炶摕闁靛闄勫▍鐘裁归悩宸剱闁稿鍊块弻鐔煎礈瑜忕敮娑㈡煃闁垮鐏撮柟顔肩秺楠炰線骞掗幋婵愮�虫繝鐢靛仜閹冲繘宕濆▎鎾宠摕闁绘梻鍘х粈鍕煏閸繃顥滄い蹇ユ嫹?
		
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓棃娑楀濠电偛鎳庡Λ婵嬪蓟濞戙垹围闁告侗鍙庢导鍐⒑閸濆嫯顫﹂柛濠冾殘閸掓帒鈻庨幋鐐茬／闂侀潧顭堥崐妤併仚閾忣偆绡�闁汇垽娼ф禒婊堟煙閾忣偄濮堥柟渚垮姂瀹曞綊顢曢妶鍌涙暤濠电姷鏁告慨鏉懨洪妶鍛函闂傚倸顭崑鍕洪敃鍌氳摕闁靛ň鏅╅弫鍌炴煕椤愶絾绀冮柍閿嬪笒闇夐柨婵嗩樈濡垵鈽夐幘鐟扮毢缂佽鲸甯￠悡顐︻敇閻樼數鍘梻浣筋嚃閸犳鏁嬪銈庡亝缁诲啫顭囪箛娑樼厸闁告劦浜濆▓浠嬫⒒閸屾瑨鍏岀紒顕呭灦瀵濡搁埡浣叫曢柣搴秵閸犳牠鎮挎ィ鍐╃厵闂傚倸顕崝宥夋煟閹惧崬鐏ǎ鍥э躬椤㈡稑鈻庨幒婵嗗Τ婵犵锟藉啿绾ф俊鐐扮矙瀵鏁撻悩鎻掕�垮銈嗘尵婵兘寮抽妶澶嬧拺闁告繂瀚﹢鐗堢箾閸欏顏堫敋閵夆晛绀嬫い鏍ㄨ壘閼板灝鈹戦埥鍡楃仴鐎规洑绲婚妵鎰板川鐎涙ǚ鎷婚梺绋挎湰閻熝囁囬敂鎾呮嫹鐟欏嫭澶勯柛鎾寸懅閸欏懎顪冮妶鍡樺蔼闁搞劌缍婇幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閸濄儳纾兼い鎰╁灮鏁堥梺鍝勮閸旀垿骞冮姀銏″珰婵炲牆顑嗛幐鍓ф閹烘纾兼慨妯荤樂閿濆洨纾奸柛灞剧☉缁椦囨煥閻斿憡鐏紓宥呮瀹曟垿宕ㄩ娑欑�洪梺闈涚箞閸婃牠鍩涢幋锔界厾闁诡厽甯掗崜顓熴亜韫囨挾鍙掗柕濞炬櫆閺呯霉閻樺樊鍎愭い銉ワ攻閵囧嫰骞掗幋顓熜︽繝鈷�鍕唉闁哄矉绱曟禒锕傛閳哄倸顏堕悗瑙勬礀濞诧箑鈻撻弴銏♀拺閻犳亽鍔岄弸宥囩磼椤旂晫鎳冮柣锝夋敱鐎靛ジ寮堕幋婵嗘暏婵＄偑鍊栭幐鑽ゅ垝閿濆绠梺鍨儑閻熷綊鏌ㄩ悢缁橆棄妞ゆ洩绲剧粋鎺旓拷锝呯仛閺咃綁鎮峰鍐弰鐎殿喗鐓℃慨锟介柕鍫濇閹锋椽鏌ｉ悩鍏呰埅闁告柨鐭傚鎼佸籍閸喓鍘搁梺鍛婄矆缁�浣圭娴煎瓨鐓涘ù锝堫潐瀹曞矂鏌熷畷鍥т槐濠碉紕鍏樻俊鎼佸Ψ椤旂瓔妫ㄩ梻鍌氬�烽悞锕傚箖閸洖鍨傛繛宸簼閸嬪倿鏌ㄩ悢鍝勑ｉ柡鍛叀閺岋綁骞囬锟介。鎶芥煟閵堝繑瀚归梻鍌欑閹碱偊宕愭禒瀣垫晪鐟滃海绮嬪鍛斀閻庯綆鍋�閹锋椽姊洪崨濠勨槈闁挎洏鍊栭幈銊╂晸娴犲鈷戦柛婵嗗閸ｈ櫣绱掔拠鑼闁伙絿鍏樻慨锟介柕鍫濇噽椤旀劖绻涙潏鍓у埌闁告ɑ绮撻獮蹇撁洪鍛幗闂佺粯锚閸樻牠鎳滈鍫熺厱闁哄倽鍎荤�氫即鏌嶇拠鑼ф鐐叉喘閹囧醇閵忕姴绠ラ梻鍌欑閹诧繝宕归鐐茬９闁哄稁鍋撻幏宄邦潩閻愵剙顏�?
		long roleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleId == -1)
			return;
		
		if(fire.pb.buff.Module.existState(roleId, BuffConstant.StateType.STATE_BATTLE_FIGHTER))
			return;

		if (cons < 0 || iq < 0 
				|| str < 0 || agi < 0
				|| endu < 0){
			return;
		}
		if (cons == 0 && iq == 0 && str ==0
				&& agi == 0 && endu == 0)
			return;
		final xbean.Properties prop = xtable.Properties.select(roleId);
		if (null == prop)
			return;
		
		final SCommon cc = RoleConfigManager.getRoleCommonConfig(DataInit.COMMEN_ROLE_ADDPOINT);
		if (prop.getLevel() < Integer.parseInt(cc.getValue()))
			return;
		
		final long sum = cons + str + agi + endu + iq;
		if (sum > prop.getPoint().get(prop.getScheme()))
			return;
		
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閸ㄥ倸螖閿濆懎鏆欑紒鐘崇☉闇夐柨婵嗘噺鐠愶紕绱掔�ｂ晞鍏岀紒杈ㄦ崌瀹曟帒顫濋濠冨闁绘垼濮ら崐鍧楁煥閺囨氨鍔嶉柟鍐茬焸濮婄粯鎷呴崨濠傛殘闂佽崵鍠嗛崕鎶藉箲閵忕媭娼ㄩ柨鐔绘椤曪絾绻濆顓熸珳婵犮垼娉涢敃锕傤敇濞差亝鈷戦柟绋挎捣缁犳挻淇婇顐㈠箹閾荤偤鏌涢弴銊ュ箻缁炬儳銈搁弻锝夊箛闂堟稑顫╅梺鍛婃煟閸婃牠濡甸崟顖ｆ晣闁绘ɑ褰冮獮瀣倵濞堝灝鏋涙い顓㈡敱娣囧﹪骞栨担鑲濄劑鏌曡箛濠傚⒉闁哄鎮傚缁樻媴閾忓箍锟藉﹥淇婇悪娆忔搐閻ょ偓绻濇繝鍌涘櫧闁瑰啿鎳愮槐鎾诲磼濮橆剨鎷烽幖浣哥９闁绘垼濮ら崵鍕煠缁嬭法浠涢柛娆忕箰铻栭柨婵嗘噹閺嗘瑧鐥幆褜鐓奸柡宀�鍠栭獮宥夘敊绾拌鲸姣夐梻浣告惈閹冲繘骞冮崒鐐茶摕闁挎洩鎷烽摶锝呫�掑鐓庣仭濡ゆ棃姊绘担椋庝覆缂傚秴妫濆畷锝夊礃椤旇壈鎽曞┑鐐村灦閻燂箓宕曢悢鍏肩厪闁割偅绻傞鈺呮煙椤栨氨澧︽慨濠呮閹瑰嫰濡搁妷锔句簽濠电姵顔栭崰鎾诲磹濠靛棛鏆︽繛鍡樺竾娴滃綊鏌熼悜妯虹仼闁绘稏鍎遍埞鎴︻敊閻偒浜滈悾鐑筋敆閸曨偄鐎┑鐘绘涧濞层劎绮绘ィ鍐╃厱闁斥晛鍙愰幋鐘辩剨濞寸厧鐡ㄩ悡娑㈡煕濞戝崬鏋熼柛濠冨姍閺岋紕浠︾拠鎻掝潎闂佽鍠撻崐婵嗙暦閹烘垟妲堟慨妤�妫旂槐锟�
		final PAddPointProc addpoint = new PAddPointProc(roleId, this);
		addpoint.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 786444;

	public int getType() {
		return 786444;
	}

	public int cons; // 体质
	public int iq; // 智力
	public int str; // 力量
	public int agi; // 敏捷
	public int endu; // 耐力

	public CAddPointToAttr() {
	}

	public CAddPointToAttr(int _cons_, int _iq_, int _str_, int _agi_, int _endu_) {
		this.cons = _cons_;
		this.iq = _iq_;
		this.str = _str_;
		this.agi = _agi_;
		this.endu = _endu_;
	}

	public final boolean _validator_() {
		if (cons < 0) return false;
		if (iq < 0) return false;
		if (str < 0) return false;
		if (agi < 0) return false;
		if (endu < 0) return false;
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(cons);
		_os_.marshal(iq);
		_os_.marshal(str);
		_os_.marshal(agi);
		_os_.marshal(endu);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		cons = _os_.unmarshal_int();
		iq = _os_.unmarshal_int();
		str = _os_.unmarshal_int();
		agi = _os_.unmarshal_int();
		endu = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CAddPointToAttr) {
			CAddPointToAttr _o_ = (CAddPointToAttr)_o1_;
			if (cons != _o_.cons) return false;
			if (iq != _o_.iq) return false;
			if (str != _o_.str) return false;
			if (agi != _o_.agi) return false;
			if (endu != _o_.endu) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += cons;
		_h_ += iq;
		_h_ += str;
		_h_ += agi;
		_h_ += endu;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(cons).append(",");
		_sb_.append(iq).append(",");
		_sb_.append(str).append(",");
		_sb_.append(agi).append(",");
		_sb_.append(endu).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CAddPointToAttr _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = cons - _o_.cons;
		if (0 != _c_) return _c_;
		_c_ = iq - _o_.iq;
		if (0 != _c_) return _c_;
		_c_ = str - _o_.str;
		if (0 != _c_) return _c_;
		_c_ = agi - _o_.agi;
		if (0 != _c_) return _c_;
		_c_ = endu - _o_.endu;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

