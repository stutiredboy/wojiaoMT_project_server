
package fire.pb.fushi;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CGrabChargeReturnProfitReward__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴濐潟閿熻棄鍊块幐濠冪珶閳哄绉�规洏鍔戝鍫曞箣閻欏懐骞㈤梻鍌欑閹测剝绗熷Δ鍛煑閹兼番鍔嶉崑鍕煕閳╁厾鑲╂崲閸℃ǜ浜滈柡宥冨妿閹冲懐绱掓径瀣嚋缂佺粯鐩獮瀣倻閸℃瑥濮遍梻浣告惈閸燁偊鎮ч崱娆戠焼閻庯綆鍠楅悡鍐煟濮橆剛鎽犻悗姘辨嚀閳规垿顢欏▎鐐秷濡炪們鍔岄敃銈夛綖韫囨拋娲敂閸曨収鍟囬梻浣虹帛閸旀牞銇愰崘鈺傚弿闁割偅娲橀埛鎴︽煕濞戞﹫鏀婚悘蹇庡嵆閺岋綁鎮㈠┑鍡樺櫣闁搞劍绻堥弻娑㈩敃閻樻彃濮庣紒鐐劤閵堟悂寮婚敐澶婄疀妞ゆ帒顦▓鍫曟⒑閸涘♁顏勭暦椤掑嫬鐓橀柟杈鹃檮閸婄兘鏌℃径瀣仼濞寸厧娲ら埞鎴︽倷閸欏娅ゅ┑鐐插级缁捇寮幘缁樺殟闁靛／鍐╂闂備胶鎳撻崵鏍箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞闁靛ě鍛獎闂備礁澹婇崑渚�宕曢懡銈囩闁哄诞宀�鍞甸柣鐘烘〃鐠�锕傚磿閹达附鐓熸繝闈涙閸╋綁鏌＄仦鍓ф创闁糕晛瀚板畷姗�顢旈崨顓熺彯婵犵數鍋為崹鍫曞箰閸濄儳鐭撶憸鐗堝笒閽冪喖鏌ㄥ☉妯侯仹婵炲矈浜幃褰掑炊閵娿儳绁锋繝娈垮枟濞茬喎顫忛搹鍦＜婵☆垵顕ч棄宥呪攽閻愯泛鐨洪柛鐘崇墪椤曪絾绻濆顓炰簻闂佺粯鎸哥花鑲╂閸洘鈷戦柛娑橈攻婢跺嫰鏌涢幙鍕暠閾荤偤鏌嶉妷锔界伇闁猴拷娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆懐绉洪柡宀�鍠栧畷姗�鎳犻鍌ゅ晪濠电姷顣槐鏇㈠极鐠囪尙鏆﹂柣鏃傗拡閺佸秵鎱ㄩ敐鍛癁闁哄懐濞�瀵濡搁埡浣虹潉闂佺鏈惌顔界珶閺囥垺鈷戦柛娑橈工缁楁岸鏌ｉ埡濠傜仸妤犵偛鍟灃闁告劏鏅涢弸鍌炴⒑閸涘﹥澶勯柛鎾寸洴閸╃偛鈽夐姀鈾�鎷洪梺鑽ゅ枑濠㈡ê鈻撻埡鍛厵闁告垯鍊栫�氾拷?
 * @author changhao
 *
 */
public class CGrabChargeReturnProfitReward extends __CGrabChargeReturnProfitReward__ {
	@Override
	protected void process() {
		// protocol handle
		
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		
		mkdb.Procedure grabchargereturnprofitreward = new mkdb.Procedure()
		{
			@Override
			protected boolean process()
			{
				xbean.EChargeReturnProfit profits = xtable.Roleid2chargereturnprofit.get(roleid);
				
				if (profits == null)
				{
					FushiManager.logger.info("婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鎯у⒔缁垳鎹㈠☉銏犵闁绘劕鐏氶崳褏绱撴担绋款暢闁稿鍊濆璇测槈閵忕姈銊︺亜閺冨倸甯舵い顐邯濮婃椽宕崟顒�娅ら梺璇″枛閸婂灝顕ｆ繝姘櫇闁跨喎锟界喓浜藉┑鐐存尰閸戝綊宕规潏鈺冩噮闂傚倸鍊风粈渚�骞栭鈶芥稑鈹戦崶鈺婃锤闂佸壊鍋呭ú鏍不閺嶎灐褰掓偐瀹割喖鍓鹃梺杞扮缁夌數鎹㈠┑鍥╃瘈闁稿本纰嶅▓婊堟⒑閸濆嫷鍎忛柟铏～蹇撁洪鍕炊闂佸憡娲﹂崜姘跺箯鏉堚晝纾藉ù锝呭閸庢劙鎮介婊冧槐妤犵偞鍨挎慨锟介柣姗嗗亝閺傦拷闂佽鍑界紞鍡樼閻愬搫纾归柣鎰▕濞撳鏌曢崼婵嬵�楁鐐搭殜閹粙顢涘鍐ф閻庤娲忛崕闈涚暦閻戠瓔鏁囬柣妯碱暜缁辨娊姊绘担渚劸闁哄牜鍓熼幃鐤樄鐎规洘绻傞濂稿幢閹邦亞鐩庨梻渚�娼ч…鍫ュ磿閺屻儱鍚归柛銉墯鐎电姵绻濋棃娑卞剱闁绘挾鍠栭弻鏇＄疀鐎ｎ亞鍔撮梺缁樺笒婢х晫妲愰幒妤佸亹闂傚牊鍒�閿濆惓搴ㄥ炊瑜濋煬顒�鈹戦垾宕囧煟鐎规洜鍠栭、娆撴偂鎼绰ゅ帿婵犵绱曢崑鎴﹀磹閹版澘鐤炬繝闈涱儏缁�鍌涙叏濡ゅ瀚瑰Δ鐘靛仜閸燁偉鐏冮梺鍛婁緱閸犳鈻嶅鍫熲拺闁告稑锕ｇ欢閬嶆煕椤垵鐏ｉ柛鎺撳浮濡啫鈽夐幒鎾存澑闂備胶绮崝妯间焊濞嗘劖娅犻梺顒�绉甸悡鏇熺箾閸℃绠伴柡鍡樼懄閵囧嫰顢曢姀銏㈩唶闁绘挶鍊栭妵鍕疀閹炬潙顎涘┑鈽嗗亜閸熸潙顫忓ú顏勭闁告瑥顦伴崕鎾绘⒑缁嬪尅鏀婚柟顔煎�块妴渚�寮崼鐔告闂佽法鍣﹂幏锟�?");
					return true;
				}
				
				xbean.ChargeReturnProfit profit = profits.getReturnprofitmap().get(id);
				if (profit == null)
				{
					FushiManager.logger.info("婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鎯у⒔缁垳鎹㈠☉銏犵闁绘劕鐏氶崳褏绱撴担绋款暢闁稿鍊濆璇测槈閵忕姈銊︺亜閺冨倸甯舵い顐熸櫇缁辨挻绗熸繝鍐伓闂備礁澹婇崑鍡涘窗閹捐泛濮柨鐔剁矙濮婂宕掑鍗烆杸缂備礁顑嗙敮锟犲极瀹ュ绫嶉柛顐ゅ枔閸橀箖姊洪崫鍕垫Ъ婵炲娲樼粋鎺楀閵堝棭姊挎繝銏ｅ煐閸旀牠鎮￠妷锔剧瘈闂傚牊绋掗ˉ鐘差熆瑜戞ご鍝ユ崲濞戙垹绀傞柣鎾抽椤矂姊婚崶褜妲圭紒缁樼箚椤︽煡鏌ｈ箛鏃傜疄闁轰焦鎹囬幊鐐哄Ψ瑜嶉埛鍫ユ⒑閻熸壆鐣柛銊ョ秺閸┿儲寰勯幇顒夋綂闂佺粯顭堢亸顏堟晸閽樺浠㈤柍瑙勫灦楠炲﹪鏌涙繝鍐╃妤犵偛锕ラ幆鏃堝煡閸℃顓垮┑鐐差嚟閸樠囨偤閵娾晛鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮撻弻銊╂偄鐠囨畫鎾寸箾閼碱剙鏋涢柕鍡曠窔瀵粙濡搁妷褏鐛梻浣哥秺閸嬪﹪宕滃┑瀣闁哄洨鍋愰弨浠嬫煟閹邦厽缍戦柣蹇ュ缁辨帡顢欐總绋垮及闂佽鍠栧锟犲极閹惧顩烽悗锝庡亐閹锋椽姊洪棃鈺佺槣闁告ê鍚嬬粋宥夋倷椤掑倻顔曢梺绋跨箺閸嬫劙骞婇崘顔界厓閻犲洩灏欐晥闂佽桨鐒﹂幑鍥极閹剧粯鏅搁柨鐕傛嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞闁靛ě鍛獎闂備礁澹婇崑渚�宕曢懡銈囩闁哄诞宀�鍞甸柣鐘烘〃鐠�锕傚磿閹达附鐓熸繝闈涙閸╋綁鏌＄仦鍓ф创闁糕晛瀚板畷姗�顢旈崨顓熺彯婵犵數鍋為崹鍫曞箰閸濄儳鐭撶憸鐗堝笒閽冪喖鏌ㄥ☉妯侯仹婵炲矈浜幃褰掑炊閵娿儳绁锋繝娈垮枟濞茬喎顫忛搹鍦＜婵☆垵顕ч棄宥呪攽閻愯泛鐨洪柛鐘崇墪椤曪絾绻濆顓炰簻闂佺粯鎸哥花鑲╂閸洘鈷戦柛娑橈攻婢跺嫰鏌涢幙鍕暠閾荤偤鏌嶉妷锔界伇闁猴拷娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆懐绉洪柡灞诲姂瀵挳濡搁妶澶婁粣闁诲孩顔栭崰鏍�﹀畡閭﹀殨闁圭虎鍠栭～鍛存煟濡灝钄奸柨鐔绘閻忔繈鍩為幋鐐茬疇闂佺锕ュú鐔风暦椤掑嫷鏁囬柍钘夋閳诲矂姊绘担鍛婃儓闁活剙銈稿畷浼村冀椤撴粣鎷锋担绯曟闁靛繒濮堣閺屾盯鍩勯崘鐐吂婵炲銆嬮幏锟�?");
					return true;					
				}
				
				SChargeReturnProfit config = fire.pb.main.ConfigManager.getInstance().getConf(SChargeReturnProfit.class).get(id);
				if (config == null)
				{
					FushiManager.logger.info("婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鎯у⒔缁垳鎹㈠☉銏犵闁绘劕鐏氶崳褏绱撴担绋款暢闁稿鍊濆璇测槈閵忕姈銊︺亜閺冨倸甯舵い顐熸櫇缁辨挻绗熸繝鍐伓闂備礁澹婇崑鍡涘窗閹捐泛濮柨鐔剁矙濮婂宕掑鍗烆杸缂備礁顑嗙敮锟犲极瀹ュ绫嶉柛顐ゅ枔閸橀箖姊洪崫鍕垫Ъ婵炲娲樼粋鎺楀閵堝棭姊挎繝銏ｅ煐閸旀牠鎮￠妷锔剧瘈闂傚牊绋掗ˉ鐘差熆瑜戞ご鍝ユ崲濞戙垹绀傞柣鎾抽椤矂姊婚崶褜妲圭紒缁樼箚椤︽煡鏌ｈ箛鏃傜疄闁轰焦鎹囬幊鐐哄Ψ瑜嶉埛鍫ユ⒑閻熸壆鐣柛銊ョ秺閸┿儲寰勯幇顒夋綂闂佺粯顭堢亸顏堟晸閽樺浠㈤柍瑙勫灦楠炲﹪鏌涙繝鍐╃妤犵偛锕ラ幆鏃堝煡閸℃顓垮┑鐐差嚟閸樠囨偤閵娾晛鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮撻弻銊╂偄鐠囨畫鎾寸箾閼碱剙鏋涢柕鍡曠窔瀵粙濡搁妷褏鐛梻浣哥秺閸嬪﹪宕滃┑瀣闁哄洨鍋愰弨浠嬫煟閹邦厽缍戦柣蹇ュ缁辨帡顢欐總绋垮及闂佽鍠栧锟犲极閹惧顩烽悗锝庡亐閹锋椽姊洪棃鈺佺槣闁告ê鍚嬬粋宥夋倷椤掑倻顔曢梺绋跨箺閸嬫劙骞婇崘顔界厓閻犲洩灏欐晥闂佽桨鐒﹂幑鍥极閹剧粯鏅搁柨鐕傛嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞闁靛ě鍛獎闂備礁澹婇崑渚�宕曢懡銈囩闁哄诞宀�鍞甸柣鐘烘〃鐠�锕傚磿閹达附鐓熸繝闈涙閸╋綁鏌＄仦鍓ф创闁糕晛瀚板畷姗�顢旈崨顓熺彯婵犵數鍋為崹鍫曞箰閸濄儳鐭撶憸鐗堝笒閽冪喖鏌ㄥ☉妯侯仹婵炲矈浜幃褰掑炊閵娿儳绁锋繝娈垮枟濞茬喎顫忛搹鍦＜婵☆垵顕ч棄宥呪攽閻愯泛鐨洪柛鐘崇墪椤曪絾绻濆顓炰簻闂佺粯鎸哥花鑲╂閸洘鈷戦柛娑橈攻婢跺嫰鏌涢幙鍕暠閾荤偤鏌嶉妷锔界伇闁猴拷娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆懐绉洪柡灞诲姂瀵挳濡搁妶澶婁粣闁诲孩顔栭崰鏍�﹀畡閭﹀殨闁圭虎鍠栭～鍛存煟濡灝钄奸柨鐔绘閻忔繈鍩為幋鐐茬疇闂佺锕ュú鐔风暦椤掑嫷鏁囬柍钘夋閳诲矂姊绘担鍛婃儓闁活剙銈稿畷浼村冀椤撴粣鎷锋担绯曟闁靛繒濮堣閺屾盯鍩勯崘鐐吂婵炲銆嬮幏锟�?");
					return true;						
				}
				
				if (profit.getStatus() == 1) // 
				{
					int c = 0;
					for (Integer id : config.getRewarditems())
					{	
						int c1 = 0; //缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇悙顏勶拷鎴﹀垂濞差亝鍋嬮柣妯垮皺閺嗭箓鏌曟繛鐐珦闁轰礁绉电换婵囩節閸屾稑娅ч梺鍛婎焽婵烇拷婵﹨娅ｉ幏鐘诲箵閹烘繂濡风紓鍌欑椤戝棛鏁敓鐘茬伋闁挎洖鍊搁悙濠冦亜閹寸偞瀚曢柟椋庡厴瀹曘劑寮堕幋锝嗘啺闂備線娼ч¨锟藉┑鈥虫喘瀹曘垽骞栨担鍏夋嫼闂佺鍋愰崑娑㈠礉濮楋拷閺屾稒鎯旈妸銈嗗枤闂佽鍠楅敃銏ゅ春閿熺姴宸濇い鏃傘�嬮幏鐑藉垂椤愶絽寮垮┑顔筋殔濡鏅剁紒妯圭箚闁圭粯甯楅崯鐐烘煏閸パ冾伃妞ゃ垺锕㈤崺鍕礃椤忓偊鎷锋繝鍥ㄢ拺闁革富鍘介崵锟介柣搴㈠嚬閸欏啯淇婇崼鏇熸櫇闁稿本鑹鹃悗顓烆渻閵堝棙绀�闁瑰啿绉跺Σ鎰板籍閿熺晫鎹㈠┑瀣仺闂傚牊绋愮划璺侯渻閵堝棙澶勯柛妯圭矙瀹曟碍绻濋崶鑸垫櫍闂侀潧绻掓慨鎾倵椤撱垺鈷戦柛鎾村絻娴滄繃绻涢崣澶屽⒌闁归攱鍨块幃銏ゅ礂閼测晛寮抽梻浣虹帛閺屻劑骞栭銏㈡懃濠电姷顣槐鏇㈠磻濡厧鍨濇繛鍡樻尭閽冪喐绻涢幋娆忕仼缂佺姵鐩濠氬醇閻旇　妾ㄩ梺璇茬箰缁夋挳鈥旈崘顔嘉ч柛娑欐儗閿熻姤顨堢槐鎺撳緞婵犲嫮楔閻庢鍠栭…鐑藉极閹邦厼绶為悗锝庝簷濮规姊洪崫鍕垫Ц闁绘鍟村鎻掆攽鐎ｎ偄浠卞┑顔筋殣閹烽攱鎱ㄦ繝鍐┿仢闁诡喚鍏樺鍫曞箰鎼搭喖鏁ら梻鍌欒兌閹虫捇宕甸弽顓炵闁跨噦鎷� by changhao
						for (Integer num : config.getRewarditemnums())
						{
							if (c == c1) //闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪Ч濠�渚�姊虹紒妯虹伇婵☆偄瀚板鍛婄瑹閿熶粙寮诲☉妯锋婵鐗婇弫鎯р攽閻愬弶鍣藉┑顔肩仛缁岃鲸绻濋崶顬囨煕濞戝崬鏋涙繛鍜冪節濮婅櫣鎹勯妸銉︾亞濠碘槅鍋勭�氭澘鐣烽鐐茬骇闁瑰濮靛▓楣冩⒑闂堟单鍫ュ疾濞戞氨妫憸鏃堝蓟閻旂尨鎷烽悽娈跨劸濞寸媴濡囬幃顕�鏁愭径瀣ф嫽婵炶揪绲块悺鏃堝吹濞嗘垹纾肩紓浣姑ù顔撅拷瑙勬礃閸ㄧ敻鍩ユ径濞炬瀻闁归偊鍘捐ぐ鍨攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕卞☉妯煎幈闂佸搫鍟悧濠囨偂閺囥垺鐓涢柛銉ｅ劚婵″ジ鏌ｈ箛銉х瘈闁哄矉缍侀獮妯硷拷鍨偠閿熻姤甯￠弻銊╂偄閸戙倖瀚归柣鏇氱劍缂嶅牓姊洪悷鎵癁闁哄懐濮撮悾閿嬪閺夋垵鍞ㄥ銈嗘尵閸嬬娀宕洪悙宸富闁靛牆妫欑亸顏堟煕閵婏附銇濈�殿喗鐓￠獮鏍ㄦ媴閸︻厼骞楁繝纰樻閸ㄤ即骞栭锕�姹查梺顒�绉甸悡銉╂煟閺冨倸鍔嬫繛鍛礋閺屸剝鎷呴崜鑼悑閻庢鍠栭…鐑藉极閹邦厼绶炲┑鐘插缂嶅倿姊绘担铏瑰笡闁挎岸鏌涘鐐缂傚倷绶￠崰姘跺极鐠囧樊娼栨繛宸簻缁犲綊鏌ｉ幇顖ｅ殝闁归鏌夐ˇ瑙勵殽閻愯尙绠叉い锔惧閹棃鏁愰崶椋庨棷闂傚倷鑳堕…鍫ュ嫉椤掑嫭鍋￠柍杞扮贰閻庡爼鏌ｉ幋锝呅撻柣鎾存礋閺岋繝宕掑┑鍥┿�婇柡浣哥墦濮婅櫣鎷犻垾铏彲缂備胶绮换鍫濐嚕椤愶箑绠荤紓浣姑禍褰掓⒑閼测斁鎷￠柛鎾寸洴瀵櫕瀵肩�涙ǚ鎷绘繛杈剧到閹诧繝宕悙鐑樼厱闁哄啯鎸鹃悾鐢碉拷瑙勬磻閸楀啿顕ｆ禒瀣垫晝闁靛牆娲ㄩ崝鍫曟⒑鐠囨彃鍤辩紓宥呮瀹曟垶鎷呴崷顓ф锤濠电姴锕ら悧濠囨偂濞嗘挻鐓曟繝闈涙椤忣偊鎳栭弽顓熲拺闁告稑锕ラ悡銉х磼婢跺本鏆┑锛勬暬瀹曠喖顢涘顓ф闂佽崵濮垫禍浠嬪礈鏉堫偒妲奸梺閫涚┒閸斿秶鎹㈠┑瀣妞ゆ挾鍋熼鑲╃磽閸屾瑧鍔嶆い銊ョ墦瀹曚即骞囬钘夊簥濠电娀娼ч鍛矆閸愨斂浜滄い鎾跺枎閻忥絿绱掗幉瀣? by changhao
							{
								int added = fire.pb.util.BagUtil.addItem(roleid, id, num, fire.pb.skill.liveskill.LiveSkillManager.ChargetGrab, fire.log.enums.YYLoggerTuJingEnum.tujing_Value_chongzhifanli, 1, true);
								
								if (num != added)
								{
									FushiManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝寮撮悢缈犵盎闂佽婢樻晶搴ｇ矙閼姐倗纾奸柨鐔剁矙閺佹捇鎸婃径鍡樻杸闂佸疇妫勫Λ妤佺濠靛鐓ユ慨妯垮煐椤ュ棗顭块懜闈涘闁绘挶鍎茬换婵嬫濞戞瑯妫￠梺闈╃稻濡炰粙骞冭ぐ鎺戠疀闁告挷鑳堕惁鍫濃攽椤旂》宸ユい顓炲槻閻ｇ兘鎮㈢喊杈ㄦ櫇闂侀潧绻嗛弲娆戞閺冨牊鈷掑ù锝呮啞閹牆顭跨捄鐑樺枠闁轰焦鎹囬幐濠冨緞瀹�瀣闂備礁鎼Λ搴ㄥ磹閺嶎厼桅闁告洦鍨扮猾宥夋煕鐏炴崘澹樺ù鐘筹耿濮婄儤娼幍顔跨獥婵炲瓨绮犳禍顏勵嚕鐠囧樊鍚嬪璺好￠妸鈺傜叆闁哄浂浜濈�氳绻濋埛锟界仦鐣屼桓闂佸搫鐭夌紞浣割嚕椤掑嫬绠伴幖鎼枟閿涘棝姊绘担鍛婃儓闁活剙銈稿畷浼村冀椤撴粣鎷锋担绯曟婵☆垶鏀遍～宥呪攽椤旂瓔娈旀俊顐ｇ懇钘熼悗锝庡墰绾句粙鏌涚仦鍓ф噰婵″墽鍏橀弻娑㈠棘閼愁垰顏銈庡幖濞差參寮幘缁樺亹闁肩⒈鍓涢弳顐︽煟鎼达絾鍤�閻庢凹鍘界粩鐔猴拷锝庡枛閸戠娀骞栧ǎ顒�鐏紒鐘荤畺閺屾盯鍩勯崗鐙�浜幃姗�鍩￠崨顔惧幐闂佺硶鍓濋崝鏇㈡晸閼恒儳绠炴鐐插暙铻栭柛鎰ㄦ櫅閺嬪倿姊洪崨濠冨闁告挻鐩崺鐐测槈濮樿京锛濋梺绋挎湰濮樸劌鐨紓鍌欐祰閸╂牕鐣濋崨濠佺箚閻庢稒蓱婵绱掗娑欑妞ゎ偄绉撮埞鎴﹀煡閸℃浠搁梺鐚存嫹闂侇剙绉村Λ姗�鏌ㄩ悢鍓佺煓婵﹦绮幏鍛存惞楠炲尅鎷锋繝鍥ㄧ厱闁规儳顕粻鐐烘煏閸℃鏆ｇ�规洏鍔戦、娑橆煥閿熺晫绮径鎰拺闁圭娴风粻鎾淬亜閿斿灝宓嗛柛鈺傜洴楠炴帡骞婇妸銉хШ闁轰焦鍔欏畷銊╊敊閸忓吋鐣奸梻鍌欐祰椤曟牠宕规导瀛樺亱闁规崘顕х粻鏍ㄤ繆閵堝繑瀚瑰銈庡亝缁诲牆鐣烽敓鐘冲�烽柟缁樺笧椤撴椽姊虹拠鍙夊攭妞ゎ偄顦叅闁哄稁鍋嗙粈濠傗攽閻樺弶鎼愮紒鐘崇墵閺岋綁鏁愰崨顖滀紘闂佹椿鍘介悷鈺呭箖鐟欏嫮鐟规い鏍ㄧ矊鐢劎绱撴担绋胯埞闁诲繑姘ㄩ幑銏犫攽閸♀晛娈梻浣哥仢椤戝棛娆㈤弻銉︾叆闁绘棁顕ц濠电偠灏欓崰鏍偘椤旂晫绡�闁告劏鏅涢崝鍛存⒑閹稿海绠撴繛灞傚姂閹偞绺介崨濠傦拷鐢告煟瑜嶉幉锛勶拷姘秺濮婃椽宕ㄦ繝鍐槱闂佸憡鎸婚惄顖氱暦閵忋倕纭�闁绘劏鏅滈弬锟介梻浣虹帛閸旀牕顭囧▎鎾村�堕柕澹秵瀚归悷娆忓婢跺嫰鏌涢幘璺烘瀻妞ゆ洩绲跨划娆愭償閹炬惌娼旀繝纰樻閸ㄥ爼寮ㄩ柆宥呮闁跨喕濮ゆ穱濠囨倷椤忓嫸鎷烽弽顬℃椽寮介鐐电枃闁瑰吋鐣崹鍝勨枍閻樼偨浜滈柡鍥朵簼鐎氱懓鈹戦埥鍡椾簵闁绘帪绠戦銉╁礋椤栨氨鐤�濡炪倖鎸炬慨鏉戭嚕閹惰姤鈷掑ù锝堟鐢稒绻涢崣澶屽⒌鐎规洘鍔欏畷鐑筋敇閵婏箑顏跺┑顔筋焽閸嬫挾锟芥熬鎷�?");
									fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 140655, null);
									return false;						
								}									
							}							
							
							c1 ++;
						}
						
						c ++;
					}
					 
					profit.setStatus(0); //闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠抽柨鐔凤拷鐕佹綈婵炲弶鐗曠叅闁靛ň鏅滈崕妤呮煕閳╁喚妯呯憸鐗堝笚閺呮煡鏌涢顐簼缂傚秴鐗嗛埞鎴︽倷閸欏娅ф繝娈垮枟閹稿啿锕㈡笟锟藉铏圭磼濡浚浜滆灒濠电姴娲ょ壕鍧楁煙閹殿喖顣奸柣鎾存礋閹鏁愰崨顓熷�庨梻渚囧弾閸ㄥ爼寮婚敍鍕勃闁告挆鍕灡闂備胶纭堕弲娑氾拷姘緲閻ｅ嘲顫滈敓钘夌暦濠婂棭妲绘繝娈垮枟濡炶棄顫忕紒妯诲闁告縿鍎荤槐鐐电磽娓氬洤娅橀柛銊﹀閻忓姊洪崨濠傚Е闁哥姵鐗犻幏鎴︽偄閸濄儳顔曢梺鐟邦嚟閸婃垵顫濈捄铏瑰摋婵炲濮撮鍡涙偂閺囥垺鐓冮柍杞扮閺嬨倖绻涢崼娑樼仼闂囧鏌ｅΟ铏规勾闁稿鍨洪幈銊︾節閸愨斂浠㈠Δ鐘靛仦閻楃娀骞冨▎鎴炲珰鐟滃海锟芥艾缍婇弻鈥愁吋鎼粹�茬凹闂佸搫妫欑划鎾诲蓟閻斿吋鍊绘俊顖濆吹椤︻厽绻涚�涙鐭掑ù婊嗘硾椤繒绱掑Ο璇差�撻梺鍛婄☉閿曘儵宕曢幘鎰佹富闁靛牆绻樺顔碱熆閻熺増顥㈤柡浣规崌閹儳鐣濋敓浠嬪箠濡ゅ懏鐓曢柕澶堝�楅ˇ锔姐亜閿旇鐏﹂柍銉畵婵℃悂鍩℃担鍝ョ崺婵＄偑鍊栭弻銊╁触鐎ｎ喗鍊靛Δ锝呭暞閳锋帒霉閿濆懏鍟為柟顖氱墛閵囧嫰鏁傞挊澶樻闂佽法鍠撻弲顐︽偡閹惰棄鐐婄憸蹇涙偘閵夈儮鏀芥い鏃傜摂濞堬綁鏌熸搴″幋闁哄备锟藉磭鏆嗛柨鐔剁矙瀹曚即寮介婊愭嫹娴ｇ硶鏋庨柟瀵稿仜閺嬪倿姊洪崨濠冨闁告挻绋栭妵鎰拷锝庡枟閳锋帒霉閿濆嫯顒熼柡锟介悧鍫㈢闁告侗鍠楃粈鍫ユ煕閹烘挸娴鐐搭焽閹风娀宕ｆ径宀嬫嫹椤掑嫭鈷戦柣鐔告緲閳锋梻绱掗鍛仸鐎殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�?? by changhao
					SGrabChargeReturnProfitReward msg = new SGrabChargeReturnProfitReward();
					msg.id = profit.getId();
					msg.status = 0;
					
					mkdb.Procedure.psendWhileCommit(roleid, msg);
					
					fire.pb.talk.MessageMgr.psendMsgNotifyWhileCommit(roleid, 160009, null);
				}
				
				return true;
			};
		};
		
		grabchargereturnprofitreward.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 812481;

	public int getType() {
		return 812481;
	}

	public int id; // 充值返利项目ID by changhao

	public CGrabChargeReturnProfitReward() {
	}

	public CGrabChargeReturnProfitReward(int _id_) {
		this.id = _id_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(id);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		id = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CGrabChargeReturnProfitReward) {
			CGrabChargeReturnProfitReward _o_ = (CGrabChargeReturnProfitReward)_o1_;
			if (id != _o_.id) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += id;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(id).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CGrabChargeReturnProfitReward _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = id - _o_.id;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

