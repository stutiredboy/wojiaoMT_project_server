
package fire.pb.fushi;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CGrabChargeReturnProfitReward__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋婵愭綗闁跨喕妫勯崐鍧楀箰婵犲啰鐝堕柍鍝勵儑缁夘喚锟借娲忛崝鎴濐嚕閸洖绠ｉ柣娆忔噽楠炪垽姊婚崒娆戭槮闁规祴鍓濈粭鐔肺旈崨顓犵厬闁瑰吋鐣崝宥夊磻閸曨垱鐓曢柍鈺佸幘閼测晜宕查柛鈩兦滄禍婊堟煛瀹ュ啫濡块柟鍐叉噽缁辨帗寰勭�ｎ亶鍤嬬紓浣虹帛閻╊垶鐛�ｎ喗鍊婚柛鈩冪懃婵亶姊绘担鍛婃儓闁哥噥鍋婇幃褔宕卞▎鎴犵劶闁诲函缍嗛崰妤呮偂閸愵喗鐓熸慨姗嗗墰閹界娀鎮楀杈ㄥ殌闁宠鍨块、娆忊枎閻愵剛绉锋俊鐐�戦崝宀勬晝閵堝缍栭煫鍥ㄦ媼濞差亶鏁傞柛鏇ㄥ弾閸熷洭姊绘担铏瑰笡闁告梹鐗為妵鎰板礃閳哄倸寮块梺鍓插亝濞叉﹢鍩涢幋锔界厱婵炴垶锕弨濠氭倶韫囧骸宓嗛柡宀嬬秮閹垹鈹戦崱妯烘闂佹悶鍔嶇换鍫ュ蓟濞戙埄鏁冮柣妯诲絻婵海绱掗悙顒�鍔ら柕鍫熸倐瀵鏁愭径濠勭杸濡炪倖甯掗ˇ顖氣枔閸洘鈷戦柛娑樷檨椤忓嫮鏆︽い鎺戝閻撴﹢鏌熸潏楣冩闁稿﹦鍏橀弻鈩冨緞鐎ｎ亞浠兼繛瀵稿帶濞层倝鍩為幋锔藉�烽柛娆忣槸濞呫倕鈹戦悙鎻掔骇缂侇喗鎹囧顐﹀箻缂佹ê娈熼梺闈涳紡閸愨晜顔愰梻鍌欒兌閹虫捇宕甸弽顓炵闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為梺闈浤涢崨顓㈢崕闂傚倷绀佹竟濠囧磻娓氾拷瀹曟洟鎳￠妶鍥╊槸闂佸搫璇炲畝锟介崬鐢告煟閻樼儤銆冮悹锟介敃鍌氱？闁硅揪闄勯悡鐔哥節闂堟稒顥犻柛鈺嬬秮閺岋紕浠﹂崜褎鍒涢梺绯曟櫅鐎氭澘鐣峰锟介、鏃堝川椤撶喓褰┑鐘垫暩閸嬬偤宕归崼鏇炵闁告縿鍎抽惌鎾舵喐閻楀牆绗掗柦鍐枛閺屻劌鈽夊Ο渚还濠电偛鐭堟禍顏堝箖瑜版帒鐐婇柕濞垮劤缁侀攱绻濆▓鍨灍婵炶尙鍠庨～蹇涙惞閸︻厾锛滃┑鈽嗗灥椤曆囨瀹ュ應鏀介柣鎰硾閻ㄦ椽鏌涢悩宕囧ⅹ妞ゆ洩绲剧换婵嗩潩椤撶偘绨婚梻浣虹帛閹稿摜鑺遍懖鈺傤潟闁割偅娲橀埛鎴︽煕濞戞﹫鏀诲璺哄閺屾盯骞欓崟顓犳殸闁捐崵鍋ら弻宥夊Ψ閿旂晫浼囬梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑澧紒鐙欏洦鐓曢柨婵嗘噽缁夋椽鏌″畝锟介崰鏍х暦濮楋拷閹崇娀顢楅崒銈呮櫔婵犵數濮烽。顔炬閺囥垹鏋侀悹鍥皺閺嗭箓鏌ｉ弮鍌楁嫛闁轰礁绉甸幈銊╂晲閸涱垱鐧侀梺鍝勬噽婵烇拷鐎殿喖顭锋俊鎼佸煛娴ｈ櫣娼夐梻浣侯焾閺堫剟鎯岄鐣岀彾闁哄洢鍨洪埛鎴︽煕濞戞﹫宸ョ紒妤佸哺閺岋綁鍩℃繝鍌滀桓濡ょ姷鍋涢崯顐ョ亙闂佸憡鍔忛弲娑㈠几閸岀偞鈷戦柛娑橈攻婢跺嫰鏌涢幘瀵告创闁糕晝鍋涢埥澶愬閳撅拷閹锋椽姊洪懡銈呮瀾婵犮垺锚閳绘捇鍩￠崨顔惧幍闂佸憡鍨崐鏍拷姘炬嫹?
 * @author changhao
 *
 */
public class CGrabChargeReturnProfitReward extends __CGrabChargeReturnProfitReward__ {
	@Override
	protected void process() {
		// protocol handle
		
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		
		mkdb.Procedure grabchargereturnprofitreward = new mkdb.Procedure()
		{
			@Override
			protected boolean process()
			{
				xbean.EChargeReturnProfit profits = xtable.Roleid2chargereturnprofit.get(roleid);
				
				if (profits == null)
				{
					FushiManager.logger.info("濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愵偂閭慨濠冩そ瀹曨偊宕熼锟藉▍銈夋⒑鐠団�虫灈闁稿﹤鐏濋锝嗙節濮橆厽娅囬梺璺ㄥ枎閿熺晫鍠撴禍钘夆攽閻愬瓨灏伴柛鎴濈秺瀹曡娼忛埡鍐╁櫘闂傚倸鍊搁崐椋庣矆娓氾拷楠炴牠顢曢埗鑺ョ☉閳规垿宕堕埡濠冮敜闂備礁澹婇崑鍛洪弽顐や笉闁哄稁鐏愯ぐ鎺撳亹鐎瑰壊鍠栭崜楣冩⒑鏉炴壆顦︾紒澶屾暩閹广垹鈹戦崶鈺冪槇闂佺鏈喊宥呪枔濠婂牊鈷戦柛婵嗗閸庡繘鏌熼搹顐�顏堬綖韫囨拋娲敂閸曨亞鐐婇梻浣告啞濞诧箓宕滃璺虹閺夊牃鏅濈壕钘壝归敐鍛棌闁稿孩鍔欓幃浠嬵敍濠婂啩妲愬Δ鐘靛仦閸ㄦ寧鎱ㄩ敓浠嬫煟濮楀棗浜濋柡鍌︽嫹闂備浇顕ч崙鐣岀礊閸℃顩查柣鎰惈绾惧綊鏌ｉ幇顒佲枙婵炴挸顭烽弻鏇㈠醇濠靛锟芥顨ラ悙鎼疁闁诡喕绮欓、娑橆煥閸愌勵潟闁诲氦顫夊ú蹇涘磿闂堟稓鏆﹂柣鎴犵摂閺佸洭鏌ｅΟ纰辨殰缂佽鲸濞婂缁樻媴娓氼垳鍔搁梺鍝勭墱閸撶喖骞冮悿顖ｆ▌閻庤娲樼换鍌烆敇婵傜骞㈤柟閭︿簽閻╁酣姊绘笟锟藉褔鈥﹂崼銉ョ？闁哄被鍎遍崥褰掓煕閵夘喖澧悗鐢靛У缁绘繈妫冨☉鍗炲壉闂佺粯鎸鹃崰鏍蓟閺囷紕鐤�閻庯綆浜為崝鎾⒑缂佹ê绗掑褏鏅Σ鎰板箳濡や礁浜归梻鍌氱墛閸掞拷闁挎繂鎯撴惔銊ョ倞鐟滄繈鐓锟介埞鎴﹀灳瀹曞洤鐓熼悗瑙勬礈閸犳牠銆佸▎鎾村亗閹肩话銈呭缚濠电姷顣槐鏇㈠磻閹达箑纾归柟鐗堟緲閻ょ偓绻濋棃娑卞剰缂侊拷閸屾稒鍙忔俊銈咁儐鐎氱懓螖閻橀潧浠滈柛鐕佸亯閻忓啴姊洪崨濠佺繁闁哥姵顨呴埢宥咁煥閸啿鎷洪梺鍛婄☉閿曪絿娆㈤柆宥嗙厱妞ゎ厽鍨甸悘锝夋煕閹烘挸娴俊顐㈠暙閳藉骞掗幘瀛樻緫闂傚倷鑳剁划顖炲礉濡棿鐒婃繛鍡樺姈濞呯娀姊洪锟界粔鐢告偂閺囩喓绠鹃柛鈩冾殘缁犱即鏌￠崱妯兼噭闁靛洤瀚伴、鏇㈠閵忋埄鍞堕梺缁樻尪閸婃牠濡甸崟顔剧杸闁圭偓娼欓娑樷攽閳藉棗浜滈柛鐔告綑椤繐煤椤忓嫮顦ㄩ梺鍛婄懃椤︿即宕曢幘缁樷拺缂佸灏呴弨濠氭煙椤旂厧锟藉潡濡存笟锟藉顕�宕奸悢鍛婎仧闂備浇娉曢崳锕傚箯閿燂拷?");
					return true;
				}
				
				xbean.ChargeReturnProfit profit = profits.getReturnprofitmap().get(id);
				if (profit == null)
				{
					FushiManager.logger.info("濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愮喐娅囩紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀佹竟濠囧磻閸℃稑绐楅柟鎹愭硾婵剟鏌ㄩ悢鍓佺煓婵﹤顭峰畷鎺戭潩閸楃儐鏉哥紓鍌欑椤戝棛鏁敓鐘叉瀬鐎广儱顦猾宥夋煕椤愩倕鏋旈柛姗�绠栧娲传閸曞灚歇濠电偛顦板ú妯肩矉閹烘顫呴柕鍫濇－濮婃寧绻濋姀锝呯厫闁告梹鐗犻幃锟犲Ψ閿斿墽鐦堥梻鍌氱墛缁嬫帡藟閻樺樊鐔嗙憸鎴炪仈閸濄儲宕叉繛鎴欏灩缁�鍌炴煟閹炬娊顎楁い顐㈢焸濮婂宕惰濡插湱绱掔紒妯肩畾妞わ附鐓￠弻锝堢疀閺冨倻鐤勯梺杞扮劍閹瑰洭骞婇悙鍝勎ㄧ憸宥夊煕閸儲鈷戦柣鐔稿閻ｎ參鏌涢妸銉хШ闁糕斂鍎插鍕箛椤掑缍傞梻浣虹帛椤牏浜搁鍫熸櫢闁芥ê顦辨禒銏ゆ煃鐟欏嫬鐏︽鐐诧躬閺屾稒绻濋崘鈺冾槹濡ょ姷鍋涢敃銉╁箚閺冨牆鐓￠柛鈩冾殕椤撳灝鈹戦悙宸殶闁告鍥ㄥ仱闁靛ň鏅涢悡鏇㈡煙鏉堥箖妾柣鎾寸懇閺屻倕霉鐎ｎ偅鐝旀繛瀵稿У缁捇寮婚妸鈺傚亜閻犲洦鐣幘瀵哥闁肩⒈鍓欓弸娑㈡煏閸℃洜绐旂�殿喕绮欐俊鎼佸Ψ瑜忛悰顕�姊绘担鍝ョШ闁稿锕畷婊冣攽鐎ｎ亞顔戦梺鍝勬川閸嬫劙寮ㄦ禒瀣厽闁归偊鍘界紞鎴︽煟韫囥儱顩紒杈ㄥ浮椤㈡瑦绺界粙鍨強闂備浇顕栭崰鏍ь焽閿熺姴鏋侀柟鎯ь嚟椤╃兘鎮楅敐搴′簮闁归攱妞藉娲閳轰胶妲ｉ梺鍛娒崥瀣矉瀹ュ鍊锋い鎺戝�婚鏇㈡⒑缁嬭法绠洪柛瀣姍楠炲﹪宕橀鐣屽帗闁荤姴娲╃亸娆愭櫏闂備浇妗ㄩ悞锕傚箲閸ヮ剙鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為梺闈浤涢崨顓㈢崕闂傚倷绀佹竟濠囧磻娓氾拷瀹曟洟鎳￠妶鍥╊槸闂佸搫璇炲畝锟介崬鐢告煟閻樼儤銆冮悹锟介敃鍌氱？闁硅揪闄勯悡鐔哥節闂堟稒顥犻柛鈺嬬秮閺岋紕浠﹂崜褎鍒涢梺绯曟櫅鐎氭澘鐣峰锟介、鏃堝川椤撶喓褰┑鐘垫暩閸嬬偤宕归崼鏇炵闁告縿鍎抽惌鎾舵喐閻楀牆绗掗柦鍐枛閺屻劌鈽夊Ο渚还濠电偛鐭堟禍顏堝箖瑜版帒鐐婇柕濞垮劤缁侀攱绻濆▓鍨灍婵炶尙鍠庨～蹇涙惞閸︻厾锛滃┑鈽嗗灥椤曆囨瀹ュ應鏀介柣鎰硾閻ㄦ椽鏌涢悩宕囧ⅹ妞ゆ洩绲剧换婵嗩潩椤撶偘绨婚梻浣虹帛閹稿摜鑺遍懖鈺傤潟闁割偅娲橀埛鎴︽煕濞戞﹫鏀诲璺哄閺屾盯骞欓崟顓犳殸闁捐崵鍋ら弻宥夊Ψ閿旂晫浼囬梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑澧紒鐙欏洦鐓曢柨婵嗘噽缁夋椽鏌＄仦璇插鐎殿喗鎸虫俊鎼佸Χ婢跺﹣绮ｉ梺璇插椤旀牠宕伴弽顓涳拷锕�鐣￠柇锕�娈ㄩ梺鍦檸閸犳牠锝為崨瀛樼厽婵☆垰鐏濋拕濂告煥閻旂粯顥夐柣蹇旂箞閸╃偤骞嬮悙鑼枃闂備胶顭堥敃銉ッ洪悢椋庢殾妞ゆ帒瀚烽弫鍥煃閽樺顥為柍璇茬焸濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挻绮ｉ幏閿嬫媴缁洘顫嶉梺闈涚箳婵牐顦归柡灞剧洴閸╁嫰宕橀悙顒夊悅濠电偛顕妴瀣箯閿燂拷?");
					return true;					
				}
				
				SChargeReturnProfit config = fire.pb.main.ConfigManager.getInstance().getConf(SChargeReturnProfit.class).get(id);
				if (config == null)
				{
					FushiManager.logger.info("濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愮喐娅囩紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀佹竟濠囧磻閸℃稑绐楅柟鎹愭硾婵剟鏌ㄩ悢鍓佺煓婵﹤顭峰畷鎺戭潩閸楃儐鏉哥紓鍌欑椤戝棛鏁敓鐘叉瀬鐎广儱顦猾宥夋煕椤愩倕鏋旈柛姗�绠栧娲传閸曞灚歇濠电偛顦板ú妯肩矉閹烘顫呴柕鍫濇－濮婃寧绻濋姀锝呯厫闁告梹鐗犻幃锟犲Ψ閿斿墽鐦堥梻鍌氱墛缁嬫帡藟閻樺樊鐔嗙憸鎴炪仈閸濄儲宕叉繛鎴欏灩缁�鍌炴煟閹炬娊顎楁い顐㈢焸濮婂宕惰濡插湱绱掔紒妯肩畾妞わ附鐓￠弻锝堢疀閺冨倻鐤勯梺杞扮劍閹瑰洭骞婇悙鍝勎ㄧ憸宥夊煕閸儲鈷戦柣鐔稿閻ｎ參鏌涢妸銉хШ闁糕斂鍎插鍕箛椤掑缍傞梻浣虹帛椤牏浜搁鍫熸櫢闁芥ê顦辨禒銏ゆ煃鐟欏嫬鐏︽鐐诧躬閺屾稒绻濋崘鈺冾槹濡ょ姷鍋涢敃銉╁箚閺冨牆鐓￠柛鈩冾殕椤撳灝鈹戦悙宸殶闁告鍥ㄥ仱闁靛ň鏅涢悡鏇㈡煙鏉堥箖妾柣鎾寸懇閺屻倕霉鐎ｎ偅鐝旀繛瀵稿У缁捇寮婚妸鈺傚亜閻犲洦鐣幘瀵哥闁肩⒈鍓欓弸娑㈡煏閸℃洜绐旂�殿喕绮欐俊鎼佸Ψ瑜忛悰顕�姊绘担鍝ョШ闁稿锕畷婊冣攽鐎ｎ亞顔戦梺鍝勬川閸嬫劙寮ㄦ禒瀣厽闁归偊鍘界紞鎴︽煟韫囥儱顩紒杈ㄥ浮椤㈡瑦绺界粙鍨強闂備浇顕栭崰鏍ь焽閿熺姴鏋侀柟鎯ь嚟椤╃兘鎮楅敐搴′簮闁归攱妞藉娲閳轰胶妲ｉ梺鍛娒崥瀣矉瀹ュ鍊锋い鎺戝�婚鏇㈡⒑缁嬭法绠洪柛瀣姍楠炲﹪宕橀鐣屽帗闁荤姴娲╃亸娆愭櫏闂備浇妗ㄩ悞锕傚箲閸ヮ剙鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為梺闈浤涢崨顓㈢崕闂傚倷绀佹竟濠囧磻娓氾拷瀹曟洟鎳￠妶鍥╊槸闂佸搫璇炲畝锟介崬鐢告煟閻樼儤銆冮悹锟介敃鍌氱？闁硅揪闄勯悡鐔哥節闂堟稒顥犻柛鈺嬬秮閺岋紕浠﹂崜褎鍒涢梺绯曟櫅鐎氭澘鐣峰锟介、鏃堝川椤撶喓褰┑鐘垫暩閸嬬偤宕归崼鏇炵闁告縿鍎抽惌鎾舵喐閻楀牆绗掗柦鍐枛閺屻劌鈽夊Ο渚还濠电偛鐭堟禍顏堝箖瑜版帒鐐婇柕濞垮劤缁侀攱绻濆▓鍨灍婵炶尙鍠庨～蹇涙惞閸︻厾锛滃┑鈽嗗灥椤曆囨瀹ュ應鏀介柣鎰硾閻ㄦ椽鏌涢悩宕囧ⅹ妞ゆ洩绲剧换婵嗩潩椤撶偘绨婚梻浣虹帛閹稿摜鑺遍懖鈺傤潟闁割偅娲橀埛鎴︽煕濞戞﹫鏀诲璺哄閺屾盯骞欓崟顓犳殸闁捐崵鍋ら弻宥夊Ψ閿旂晫浼囬梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑澧紒鐙欏洦鐓曢柨婵嗘噽缁夋椽鏌＄仦璇插鐎殿喗鎸虫俊鎼佸Χ婢跺﹣绮ｉ梺璇插椤旀牠宕伴弽顓涳拷锕�鐣￠柇锕�娈ㄩ梺鍦檸閸犳牠锝為崨瀛樼厽婵☆垰鐏濋拕濂告煥閻旂粯顥夐柣蹇旂箞閸╃偤骞嬮悙鑼枃闂備胶顭堥敃銉ッ洪悢椋庢殾妞ゆ帒瀚烽弫鍥煃閽樺顥為柍璇茬焸濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挻绮ｉ幏閿嬫媴缁洘顫嶉梺闈涚箳婵牐顦归柡灞剧洴閸╁嫰宕橀悙顒夊悅濠电偛顕妴瀣箯閿燂拷?");
					return true;						
				}
				
				if (profit.getStatus() == 1) // 
				{
					int c = 0;
					for (Integer id : config.getRewarditems())
					{	
						int c1 = 0; //缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囨倷椤忓嫸鎷烽幋锕�鍨傛繛宸簼閸嬪鏌ｅΟ鍨毢闁哄棴绠撻弻鏇熺箾閻愵剚鐝﹂梺杞扮缁夌數鎹㈠┑鍥╃瘈闁稿本绋戝▍褔姊洪崨濠庣劷濠电儑鎷峰┑顔硷龚濞咃綁骞忛悩璇茬闁圭儤绻傛俊椋庣磽閸屾瑧顦︽い鎴濇閺侇噣鏁撻悩鑼紜闂佹寧娲栭崐鎼佹倷婵犲啨浜滈柟瀵稿仦鐎氭洟鏌熸搴″幋鐎规洏鍔戝鍫曞箣閿濆棙鍟洪梻鍌欑窔濞佳嚶ㄩ敓钘夆攽閳ヨ櫕鍠樼�规洏鍨介獮鏍ㄦ媴閸忓瀚奸梻浣侯攰閸嬫劙宕戝☉銏犵婵鎷烽柡灞剧♁閹棃濡搁妶鍡楁灓闂備浇顕栭崰妤呮晝閵忋倕鏄ラ柨鐔哄Т瀹告繃銇勯弮鍌橈拷瀣箯閻戣棄鍨傛い鎰剁到瀵灝鈹戦绛嬫當婵☆偅顨嗛弲鍓佺磼濡湱绠氶梺鍦帛鐢宕悙鐑樼厪闁搞儜鍐句純濡炪們鍨洪敃銏ゅ春閸曨垰绀冩い蹇撳亰閹烽攱绻濋崶銊㈡嫼闂侀潻瀵岄崢浠嬪吹閿熶粙鏌ｆ惔銏犲毈闁告瑥鍟穱濠囧醇閺囩喐娅囬梺绋挎湰閼归箖鎮楅鐑嗘富闁靛牆妫欑粈锟介梺鐟板暱缁夎泛危閹版澘绫嶉柨鐔烘櫕閹广垹鈹戠�ｎ偄浠洪梻鍌氱墛缁嬫劗鍒掔捄渚富闁靛牆妫欐径鍕煕濡湱鐭欑�规洘纰嶇换婵嬪炊閼稿灚娅嶉梻渚�娼х换鎺撴叏閹绢喗鍊垫い鎾卞灪閳锋垿鏌涢幘鏉戠祷濞存粍绻冪换娑㈠矗婢跺苯鈷岄梺褰掓敱閸ㄥ潡骞冮姀銈呯闁兼祴鏅涘鎶芥⒒娴ｈ櫣甯涢柡灞诲姂楠炴牠顢曢姀銏℃噧婵犵數濮烽。顔炬閺囥垹纾绘俊顖滃帶閸ㄦ繃绻涢崱妯诲碍闁藉啰鍠愮换娑㈠箣濞嗗繒浠肩紓浣哄У閻╊垰顫忔繝姘唶闁绘棁銆�濡俱劑姊虹拠鑼缂佸鎸抽垾鏃堝礃椤斿槈褔鏌涘☉娆愬剹闁跨喕濮ら〃鍫㈡閹烘挸绶炲┑鐘插妤旈柣搴㈩問閸犳牠鈥﹂悜钘夋瀬闁归偊鍘肩欢鐐烘倵閿濆簼绨锋慨瑙勵殜濮婃椽宕崟鍨﹂梺缁橆殔閸熸潙顕ｉ幓鎺嗘斀閻庯綆鍋勬禒鍗炩攽椤旂瓔娈ｉ柟鐑芥敱閹便劍绻濋崘鈹夸虎闂佽鍠氶崗妯侯嚕閸洖绠伴幖鎼枛閺併倝姊婚崒娆掑厡闁硅櫕鎹囧畷鐢稿冀椤撶偟顔嗛梺璺ㄥ櫐閹凤拷 by changhao
						for (Integer num : config.getRewarditemnums())
						{
							if (c == c1) //闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰效婵狅拷娓氾拷濮婅櫣绱掑Ο铏逛紘濠碘槅鍋勭�氭澘顕ｉ崨濠勭懝闁跨喍绮欏璇测槈濡攱顫嶅┑顔筋殔閻楀﹪寮幆褉鏀介柣鎰级閸ｈ棄鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸滃啰绡�婵﹨娅ｉ幑鍕Ω閵夛妇浜炴繝纰樻閸嬪嫮锟芥碍婢橀悾鐑筋敍閻愯尙楠囬梺鐟邦嚟婵潧鈻撴ィ鍐┾拺闂傚牊鍗曢崼銉ョ柧婵炴垶姘ㄥΛ顖滄喐閺冨牆钃熼柣鏃傚皑閹风兘鎮藉▓璺ㄥ姼婵炲濯存俊鍥箖椤曪拷閺佹劖寰勭�Ｑ勫濠电偠鎻徊鍧楁偤閺冨牆鍚规繛鍡樺灩绾捐偐绱撴担濮戭亜霉椤旀拝鎷风憴鍕闁搞劎鏁婚崺銉﹀緞婵炵偓鐎婚梺褰掑亰閸樻崘銇愰崹顔规斀闁绘劕妯婇崵鐔封攽椤旇姤灏︽い銏＄墵瀹曞崬鈽夊Ο鐓庡箞闂備礁鎼崯顐︽偋婵犲洦鍋傞柡鍥ュ灪閻撴盯鏌涢妷锝呭姎濠碘�炽偢閺岋綀绠涢妷褏鐦堥梺鍝勭焿缂嶄線鐛Ο纭锋嫹閸偅鍋犻柨鐔诲Г鐢繝寮婚妸鈺傚亜闁告垯鍊栫�氬綊鏌ｉ弴姘卞妽缂傚秴鐗撳娲偡閹殿喗鐧侀梺鍝勬噽婵挳鎮鹃柨瀣嚤闁哄鍨甸崬銊ヮ渻閵堝棙灏甸柛瀣█瀹曟椽鎮欏顔藉瘜闂侀潧鐗嗗Λ娆戜焊椤忓牊鐓曢柕濠忛檮閵囨繄锟芥鍠楅悡锟犵嵁閺嶃劍濯撮柛锔诲幖楠炴绻濈喊妯活潑闁搞劋鍗抽獮鏍敃閿曪拷濮规煡姊洪锟界粔鐢告偂閵夆晜鐓熼柡鍐ㄥ�搁崝瀣箾閸涱喗绀嬮柡灞稿墲閹峰懘宕滈懠顒�鎮戦柣搴㈩問閸犳牠鈥﹂悜钘夋瀬闁归偊鍘肩欢鐐测攽閻樻彃顒㈢紓宥呭�垮缁樻媴閾忕懓绗￠梺鎸庡哺閺屾稑顫濋悙顒�顏剁紓鍌氬�风欢锟犲窗濮樿泛鏋侀悹鍥ф▕濞兼牗绻涘顔荤盎缂佺姴缍婇弻锝夊箛椤栵絽娈濋梺褰掝棑閺屽藝鐟欏嫷娈介柣鎰皺缁犲弶銇勯敂鎯ь暭闁诡垱妫冮弫鎰板炊妞嬪酣妫烽梻鍌氬�烽懗鍫曗�﹂崼銉ュ珘妞ゆ帒瀚崑锟犳煃鏉炴壆璐伴柣搴＄埣閺岋綁骞嬮敐鍛呮捇鏌ｉ幘瀛樼闁哄矉绻濆畷鎺戔攽閸モ斂锟藉﹪鏌℃担鍝ュⅵ婵﹨娅ｉ幏鐘诲灳閾忣偆褰茬紓鍌欒兌缁垳鎹㈤崼婵愬殨妞ゆ劧绠戠粻鑽ょ磽娴ｅ顏呯瑜版帗鈷戦柤娴嬫杹閹凤繝鏌涢幘瀵告创鐎殿喛娅曠�佃偐锟芥稒菤閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘遍梺鍝勫暞閹搁箖鎮鹃悽纰夋嫹鐟欏嫭纾婚柛妤�鍟块锝嗙鐎ｅ灚鏅濋梺闈涚墕濞层劑宕濋崼鏇熲拺閻犲洦褰冮崵杈╃磽瀹ュ懏顥㈢�规洘鍨堕幏鍛村捶椤撗勯敜婵犵數濮撮敃銈夋偋婵犲洦鍋傛繛鍡樻尰閻撴洘绻濋棃娑欘棞妞ゅ浚鍋婇幊鏍冀椤撶啿鎷洪梺鍛婄☉閿曘儵鎮￠妷褏纾煎璺烘湰閺嗩剙鈹戦敍鍕毈鐎规洜鍠栭、娑橆潩椤撗勵棨闂備浇宕垫慨鍨娴犲绀堥弶鍫亽濡插ジ姊洪柅娑氣敀闁告柨绉堕幑銏犫攽鐎ｎ亞顦板銈嗘尵閸嬬喖顢曢懖鈺冪＝闁稿本鐟ч崝宥嗐亜閵娿儳澧︾�规洑鍗抽獮鍥敊閽樺绨ユ繝鐢靛█濞佳囶敄閸涱垳鐭嗛柛鎰ㄦ杺娴滄粍銇勯幘璺烘瀻闁诲骏绲跨槐鎺楀箟鐎ｎ偄顏�? by changhao
							{
								int added = fire.pb.util.BagUtil.addItem(roleid, id, num, fire.pb.skill.liveskill.LiveSkillManager.ChargetGrab, fire.log.enums.YYLoggerTuJingEnum.tujing_Value_chongzhifanli, 1, true);
								
								if (num != added)
								{
									FushiManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛閺夎法顔愭繛杈剧悼椤牓鎮楅銏♀拺缂佸娉曢悘閬嶆煕鐎ｎ剙浠遍柟顕嗙節瀵挳鎮㈢紙鐘电泿闂備浇顫夊妯绘櫠鎼达絿鐭欓柤濮愬�楃壕濂告煥閻斿墎鐭欓柡浣规崌閹稿﹥寰勯崱妯绘澑闂備礁鐤囧Λ鍕涘Δ浣侯洸婵犻潧顑嗛悡銉︽叏濡灝鐓愭い銉ユ椤潡鎳滈棃娑橆潔闂佺粯鎸堕崕鑼崲濠靛顥堟繛鎴炵懐濡繝姊洪棃鈺冪ɑ婵＄偘绮欓獮鍐亹閹烘垹鐤�闂佸憡鎸烽懗鍫曟儊閸績鏀芥い鏃傘�嬪銉︺亜椤撶偛妲婚柣锝囧厴閹垻鍠婃潏銊︽珖闂備線娼х换鍡涘疾濞嗘垶顫曢柡鍐ㄧ墛閳锋帒霉閿濆懏鍟為柟顖氱墕椤法鎹勯悜妯烘灎闂佽桨鐒﹂幑鍥箰婵犲啫绶炵�癸拷鐎ｎ剛顦梻鍌欑閹碱偄螞鎼淬劌纾归柡宥庡幖妗呴梺鍛婃处閸ㄦ壆鐚惧澶嬬厱閻忕偞宕樻竟妯好归悩绛硅�挎慨濠勫劋濞碱亪骞嶉璺ㄧ崶濠电偛鐡ㄧ划鐘崇椤忓嫷鍤曢悹鍥ф▕閸氬顭跨捄濂斤繝濡搁埡鍌滃弳闂佸搫娴傛禍婵堬拷姘愁潐缁绘繈鍩涢敓鐣屼沪閻ｅ奔妗撻梻浣告惈閻绱炴担鍓插殨妞ゆ帒瀚粻浼村箹閹碱厼鏋熼柨娑樻濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挻绮ｉ幏閿嬫媴缁洘顫嶅┑鈽嗗灦閺�閬嶏綖瀹ュ應鏀芥い鏃傜摂濞堟梹淇婇锝囨噰閽樼喖鎮楅敐搴″缁惧彞绮欓弻娑氫沪閸撗勫櫚濠碘�冲⒔閸忔﹢寮诲☉銏犳闁兼剚鍨伴顓烆渻閵堝骸骞栨繛宸弮瀵偊骞樼紒妯轰汗闂佽偐鈷堥崜娑㈠汲椤愶附鐓熼幖杈剧稻閸わ拷闁诲孩鍑归崢鐣岀博閻旂尨鎷烽敐搴℃灈闁告垹濞�楠炴牕菐椤掞拷閻忣喚绱掗悩鑽ょ暫闁哄本鐩崺鍕礂閻欙拷娴滎亪骞冨锟介崺锟犲川椤旀儳骞愰梻浣虹《閸撴繈宕濋弴銏℃櫢闁兼亽鍎崇粻鐐搭殽閻愭彃鏆欓摶鏍煕閹般劍娅呴柡瀣�垮娲川婵犲啫顦╅梺鍛婃尰閻╊垶宕洪悙娴嬫婵浜敍婵嬫⒑缁嬫寧婀版慨妯稿妼閻剛绱撻崒娆愮グ闁糕晜鐗曢悾婵嬪川婵犱胶绠氶柣搴㈢♁钃卞┑顖氼嚟缁辨帡顢涘☉娆戭槰濡炪値鍋勭粔鎾煘閹达箑鐓￠柛鈩冾殘娴犳悂姊洪悮瀛樺闂備緡鍓欑粔鏉懳涘锟介弻銊╂偄閸撲胶鐓撳┑顔硷功缁垶骞忛崨瀛樻優妤犵偛灏呴幏閿嬬節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮婚悙鐑樼厪闁糕剝顨呴弳锝囷拷瑙勬磸閸旀垿銆佸☉姗嗙叆闁跨喓鏅划顓熷緞閹邦厸鎷洪梺鍦焾濞撮绮婚幘娣簻闁挎柨鐏濆畵鍡涙煕閳哄倻娲存鐐村浮楠炲﹪濡搁妷褏楔闂佽桨鐒﹂崝娆忕暦閵娾晩鏁婇柛蹇撳悑閻ｅジ姊婚崒娆愮グ妞ゆ洘鐗犲畷瑙勫鐎涙ê浜遍梺瑙勫礃椤曆呯不閺嶃劋绻嗛柕鍫濈箲鐎氱懓顪冮妶搴′簼缂佽鐗嗛悾鐑芥晸閻樺啿锟界兘鏌熺紒妯虹妞ゆ挻妞藉铏规嫚閸欏鏀銈庡亜椤︻垳鍙呴梺鍝勭▉閸嬪棛绮堟繝鍌楁斀闁绘ê寮堕幖鎰磼閻樺磭澧甸柡宀嬬秮閺佹劙宕ㄩ婊�绱橀梻浣规た閸樹粙鎮烽埡鍛畺閻熸瑥瀚悷瑙勩亜閺嶃劎鐭婇悽顖樺妿缁辨挻鎷呯粙鑳煘闂佽绻戝銊╁箲閵忕姭鏀介柛鈾�鏅涘▓顐︽⒒娴ｅ摜浠㈡い鎴濇濞嗐垽寮婚妷锔惧弳闂佺粯妫侀褑顣挎繝鐢靛仩鐏忔瑩宕伴弽顓熷仒妞ゆ梻鏅弧锟介梺鍛婂姀閺呮盯宕濋崨瀛樷拺闁圭娴风粻鎾寸箾鐏炲倸濮傞柟顔惧仦缁轰粙宕ㄦ繝鍌︽嫹閻㈠憡鐓熺憸宥夊箟閿涘嫸鎷峰顒傜Ш婵﹥妞藉畷銊︾節閸愵煈妲遍梻浣告啞閹稿鎯勯姘辨殾闁靛繈鍊曠涵锟介梺缁樺姀閺呮粓寮敓浠嬫⒒娴ｈ櫣甯涢柛鏃�鐗曢…鍥р枎閹炬潙锟藉爼鏌曟竟顖氱У鐎氬綊鎮峰▎蹇擃仾濠㈣泛瀚伴弻娑㈠箻鐠虹儤鐎诲銈嗘穿缁茶法鍒掑▎鎰劅闁圭偓鎯屽鏃�绻濈喊妯活潑闁搞劌鐖煎銊╂焼瀹ュ懏顥濋梺璺ㄥ枙婵倖绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮介‖鈩冩そ瀵粙顢橀悙鐢垫瀮闂佺懓鍚嬮悾顏堝垂閸濆嫧鏋嶉柣妯煎仺娴滄粓鏌￠崶鏈电凹閻庢氨鎳撻埞鎴﹀煡閸℃ぞ绨甸梺缁樺釜缁犳垿顢氶妷鈺佺妞ゆ牗姘ㄩ悿锟芥俊鐐�栭幐鐐叏閺夋埈鍤曢柟鎯板Г閳锋帒霉閿濆牊顏犻悽顖涚♁缁绘盯宕ｆ径灞解拰閻庤娲橀崝娆忕暦閻戠瓔鏁囬柕濠忕畱椤忚泛鈹戦绛嬬劷闁稿鎸鹃敓鑺ョ啲閹凤拷?");
									fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 140655, null);
									return false;						
								}									
							}							
							
							c1 ++;
						}
						
						c ++;
					}
					 
					profit.setStatus(0); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幈濡炪値鍘介崹鍨濠靛鐓曟繛鍡楃箳缁犳娊鏌ㄩ悢鍑ゆ嫹閻曚焦缍堝┑鐐插级閻楁洜鍙呴梺闈浥堥弲婊堝磿濡ゅ懏鐓曢柍鈺佸枤濡懐鎲搁悧鍫濈瑲闁哄懏鐓￠弻娑㈩敃椤愵澀绨肩紓鍌氱Т閻楀棝鍩為幋锔藉�烽柛娆忣槸濞呇勭節濞堝灝鏋熼柟绋垮暱閿曘垺绗熼敓钘夘潖閾忓湱纾兼俊顖氭禋娴滄粏鐏掓繝鐢靛Т濞层倗澹曢崸妤佺厵闁规鍠栭。濂告煟閹惧瓨绀嬮柟顔筋殜閺佹劙宕ㄩ鐔凤拷搴ㄦ⒒娓氬洤寮鹃柛銊ョ埣瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂傚倷鑳剁涵鍫曞疾濞戞熬鎷峰顓熺凡闁伙絽鍢查～婊堟晸閽樺鏆︽繝濠傛－濡茬粯绻濆▓鍨灍婵＄偠妫勯～蹇曠磼濡顎撻梺鍛婄缚閸庤崵妲愰悙鐢电＝濞撴艾娲ゅ▍姗�鏌涢妸锕�顎滈柣蹇擃儔濮婃椽宕ㄦ繝鍌毿曢梺鍝ュУ閻楃娀骞忛幋锔藉亜闁告縿鍎抽鏇㈡⒑閻熼偊鍤熼柛濠冨灥椤繄鎹勯搹鐟版憢濠电偛顕慨鎾敄閸℃稒鍋傞柡鍥ュ灪閻撳啴鏌嶆潪鎵槮闁哄鍊栫换娑㈠醇濞戞浠奸梻鍥ь樀閺岋絽螣閾忚鍕鹃梺绋款儍閸ㄦ椽骞堥妸锔剧瘈闁告劏鏂傛禒銏犖旈悩闈涗沪闁绘濞�楠炲啫鈻庨幋鐐茬彴閻熸粌娴烽敓鑺ヨ壘缂嶅﹪寮婚垾鎰佸悑閹肩补锟借尙鍑归梻浣告惈濡瑧鍒掗幘璇茶摕闁绘柨鍚嬮崐缁樹繆椤栨繂鍚规い锔诲幗缁绘稓锟芥稒顭囬惌鎺懨瑰鍡樼【妞ゎ偄绻掔槐鎺懳熺拠宸拷鎾绘⒑閸涘﹦鈽夐柨鏇樺劦瀹曟洟骞橀幇浣瑰瘜闂侀潧鐗嗙换妯侯瀶椤旂⒈鐔嗛柣鐔哄椤ャ垽鏌℃担瑙勫磳闁诡喗鍎抽悾婵嬫晸娴犲绠犳俊銈呮噺閻撴洟鏌曟径鍫濓拷妤吽囬敂濮愪簻闁挎棁顕ч悘锕傛煃閵夘垳鐣靛┑鈩冩倐閸┾剝鎷呴崫銉у春濠碉紕鍋戦崐鏍蓟閵娾晛瑙﹂悗锝庡枟閸婇潧螖閿濆懎鏆為柍閿嬪笒闇夐柨婵嗘噺閸熺偤鏌熼姘卞闁靛洤瀚伴弫鍌炴寠婢舵ɑ顥嬮梻浣芥硶閸犳捇寮查锔藉仭闁规儼妫勯悙濠勬喐韫囨稒鍋橀柕澶堝劗閺�鑺ャ亜閺冨倻鎽傛繛鍫秮閺岀喐顦版惔鈥冲箣闂佸搫澶囬敓钘夌－閺嗗棝鏌ㄩ悢鍓佺煓鐎规洑鍗冲浠嬵敇濠婃劖瀚瑰ù锝囩《閺嬪酣鏌熺�电浠滈柡瀣�垮娲川婵犲啫顦╅梺鍛婃尰缁嬫牠濡甸幇顕嗘嫹閿濆骸鏋熼柍閿嬪笒闇夐柨婵嗗椤掔喖鏌￠敓浠嬫偋閸垻顔曢梺鍛婁緱閸犳绮堥崼銉︾厱闁圭儤鎸稿ù顔筋殽閻愭惌鐒介柟椋庡█瀹曪絾寰勫畝瀣妞ゆ帒瀚埛鎴︽煟閻斿憡绶查柍閿嬫⒒缁辨帡顢氶崨顓犱桓閻庢鍠楅悡锟犵嵁閺嶃劍濯撮柛锔诲幖瀵娊姊绘担铏瑰笡婵炲弶鐗犲畷鎰板捶椤撱劍瀚规慨妯煎亾鐎氾拷?? by changhao
					SGrabChargeReturnProfitReward msg = new SGrabChargeReturnProfitReward();
					msg.id = profit.getId();
					msg.status = 0;
					
					mkdb.Procedure.psendWhileCommit(roleid, msg);
					
					fire.pb.talk.MessageMgr.psendMsgNotifyWhileCommit(roleid, 160009, null);
				}
				
				return true;
			};
		};
		
		grabchargereturnprofitreward.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 812481;

	public int getType() {
		return 812481;
	}

	public int id; // 充值返利项目ID by changhao

	public CGrabChargeReturnProfitReward() {
	}

	public CGrabChargeReturnProfitReward(int _id_) {
		this.id = _id_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(id);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		id = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CGrabChargeReturnProfitReward) {
			CGrabChargeReturnProfitReward _o_ = (CGrabChargeReturnProfitReward)_o1_;
			if (id != _o_.id) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += id;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(id).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CGrabChargeReturnProfitReward _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = id - _o_.id;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

