
package fire.pb.fushi.monthcard;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CGrabMonthCardReward__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/**
 * 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愰崨鍌滃枎閳诲酣骞嗚椤斿嫮绱撻崒娆掑厡濠殿喗鎸抽幃妯侯潩鐠轰綍锕傛煕閺囥劌鏋ら柣銈忔嫹闂備礁婀遍崑鎾诲箚鐏炶娇娑㈠Χ閸モ晝锛濇繛鎾磋壘閿曘儳锟芥俺顫夌换婵嬫偨闂堟刀銏＄箾鐠囇呯暤闁诡噯绻濇俊鐑藉煛閸屾粌骞楅梻浣告惈閸燁偄霉閸岀偛鍚规繛鍡樺灦閸嬫牗鎱ㄥΟ澶稿惈缁炬崘妫勯湁闁挎繂鐗婇鐘绘偨椤栨稓銆掔紒杈ㄥ笧閿熸枻缍嗛崑鍕箔閹烘挶浜滈柡鍥崝锔撅拷瑙勬礈閸犳牠銆佸锟芥俊鎼佹晝閿熶粙顢旈崼鏇熲拺闁圭娴风粻鎾澄旈悩鍙夊暈缂佸倸绉归幃娆徢庨璺ㄧ泿闂備焦瀵ч弻銊╂倶濠靛棛鏆ら柛鈩冪♁閻撴瑦銇勯弮鍌滄憘婵炲牊妫冮弻宥囩磼濡纾抽悗瑙勬礀缂嶅﹪銆佸▎鎾村仼閻忕偛锟界喐瀚梻鍌氬�搁崐鐑芥嚄閸洍锟斤箓宕奸妷顔芥櫈闂佸憡绋戦悺銊╁疾濠靛鐓忓鑸电☉椤╊剟鏌嶉悷鎵㈤柍瑙勫灴閹晠宕ｆ径濠庢П闂備焦鎮堕崐鏇㈩敄婢跺娼栧┑鐘宠壘闁卞洭鏌ｉ弮锟芥禍浠嬫晸閼恒儱绗х紒杈ㄥ浮楠炲洭顢欓梻瀛橆潟闂備礁鎼惌澶屽緤妤ｅ啫绠氶柡鍐ㄧ墱閺佸秵绻濇繝鍌涘晽闁挎繂妫涚粻楣冩倵濞戞瑯鐒介柣顓烆儑缁辨帞鎷犻懠顒�鈪靛Δ鐘靛仜閸熸挳鐛幇顓熷劅闁靛繒濯敓鑺ユ崌濮婄粯绗熼崶褌绨肩紓浣割儐閹稿墽鍒掔拠宸僵闁煎摜顣介幏铏圭磽閸屾瑧鍔嶉柨姘攽椤曞棛鐣遍棁澶嬬節婵犲倸顏柣顓熷浮閺屸剝鎷呯憴鍕３闂佺懓纾崑銈嗕繆閻戣姤鏅滅紓浣靛灪鑲栭梻鍌氬�烽懗鍫曞箠閹惧墎涓嶇�广儱顦崹鍌毭归悩宸剳鐎规挷绶氶弻娑㈠Ψ椤旂厧鈷掗梺杞扮鐎氫即寮诲澶婁紶闁告洦鍋撻幏閿嬬節濮橆剛鍙�婵犮垼鍩栭崝鏍偂閸愵喗鍋ｉ柛銉ｅ妿閸欙拷闂佸憡鐟ョ�氼參銆冮妷鈺傚�烽弶鍫熷礃閿熻棄娼￠弻鐔兼偂鎼达絿楔濡炪們鍨哄ú鐔镐繆閻ゎ垼妲婚悷婊勬緲閸婂灝顫忔繝姘＜婵﹩鍓ㄩ幏鐑芥倻閼恒儱娈戦梺鍛婃尫缁�渚�宕瑰┑鍥ヤ簻闁哄稁鍋勬禍褰掓煥閻斿憡鐏紒鐘虫尭閻ｇ兘宕奸弴鐐靛幐婵炶揪绲介幗婊勭閻楀牅绻嗛柣鎰典簻閿熻姤鐗犻幃褍顭ㄩ崼婵堬紱闂佺粯鍔曢幖顐ゅ婵犳碍鐓曠�癸拷閿熶粙宕戦悙鐑樺亗婵炴垯鍨洪悡鏇㈡煏婢舵稓鍒伴柛鏃�宀搁弻锝堢疀閿濆嫰鍋楅梺鍝勭焿缂嶄線鐛Ο纭锋嫹闂堟稒鍟為柛锝勫嵆濮婃椽宕崟顓犲姽缂傚倸绉崇欢姘舵偘椤旀拝鎷烽敐搴℃灍闁稿﹨鍩栫换娑㈡嚑妫版繂鏁介梻渚囧弾閸ㄥ爼寮婚悢纰辨晩闁哄倶鍊涢敓钘夋健閺屸剝鎷呯粙鍖℃嫹瑜版帒绠為柕濞炬櫅缁犳稒銇勮箛鎾搭棤婵炲娼″濠氬磼濞嗘垹鐛㈠┑鐐板尃閸よ翰鍔戦弫鎾绘偩瀹�锟界壕濂告椤愵偄骞橀柣顓熺懇閺岀喖顢欓弬銈堬拷璺拷娈垮枛椤攱淇婇悜鑺ユ櫆闁诡垎鍐唶闂傚倷娴囬褏鎹㈤幒妤�纾绘繛鎴炵懄濞呯姴霉閻樺樊鍎忛柣鎾拷鎰佺唵闁兼悂娼ф慨鍫ユ煙閾忣偄鍝洪柡灞诲妼閳规垿宕卞Ο铏圭崺缂備胶鍋撻崕鎶藉Χ閹间礁绠栨俊銈呮噺閺呮煡骞栫�涙绠橀柣鈺侀叄濮婂搫煤閼姐倕甯ㄧ紓浣虹帛缁诲牆顕ｆ繝姘亜濡炲瀛╁▓婵嬫⒑閸濆嫷妲归悗绗涘倻鏄傞梻鍌氬�风粈渚�鎮块崶顒婄稏濠㈣埖鍔曢崹鍌滄喐閻楀牆绗氶柡鍛倐閺岋繝宕掑Ο鐚存嫹濡ゅ啰鐭撻梻鍫熻�介悷閭︾叆闁归偊鍠氳ⅵ婵°倗濮烽崑鐐恒�冩繝鍌ゅ殨闁圭虎鍠栭～鍛存煃閹惧懏瀚归梺鍦焿濞咃絿妲愰幘瀵哥懝闁搞儜鍛敾婵犵數鍋涘鍫曟偋濡ゅ懎鐤鹃柛顐ｆ礃閸ゆ垶銇勯幒鎴濓拷濠氭晬濠婂牊鐓熼幖鎼灣缁夌敻鏌涚�ｎ亜顏柟顔斤耿閸╋繝宕橀鍡床婵＄偑鍊栭弻銊︽櫠閻ｅ本鏆滄繛鎴炴皑绾捐偐绱撴担璇＄劷缂佺姵鎸婚妵鍕敃閿濆洨鐤勫銈冨灪閿曘垽骞冮埡鍛闁圭儤姊婚弶浠嬫⒒閸屾艾锟芥悂宕愭搴ｇ焼濞达綀娅ｇ粈濠傗攽閻樺弶鎼愮痪鎹愵嚙閳规垿鎮╅崣澶嬫倷闂佺琚崝鎴﹀蓟閵堝悿鍦拷锝庡亝閻濇梻绱撴担鐣屽牚闁稿﹥绻堝濠氬Χ閸℃ê寮块梺褰掑亰閸撱劑骞忓畡鎷旀棃宕橀…鎴烆棥濠电娀娼ч崐鎼佸箟閿熺姴纾婚柨婵嗘偪瑜版帗鏅查柛銉㈡櫆閹叉ê鈹戦悙鎻掓倯闁告梹鐟╅獮鍐ㄎ旈敓浠嬶綖濠靛鍊锋い鎺炴嫹妞ゅ骏鎷� by changhao
 * @author Administrator
 *
 */
public class CGrabMonthCardReward extends __CGrabMonthCardReward__ {
	@Override
	protected void process() {
		// protocol handle
		
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
		{
			return;
		}
		
		mkdb.Procedure grabmonthcardreward = new mkdb.Procedure()
		{
			@Override
			protected boolean process()
			{
				//xbean.EMonthCard monthcard = xtable.Roleid2monthcard.get(roleid);
				if (true)
				{
					xbean.Properties prop = xtable.Properties.select(roleid);
					if (prop == null)
					{
						return false;
					}
					
					fire.pb.item.Pack bag = (fire.pb.item.Pack)fire.pb.item.Module.getInstance().getItemMaps(roleid, fire.pb.item.BagTypes.BAG, false);
					int num = bag.removeItemById(itemid, 1, fire.log.enums.YYLoggerTuJingEnum.tujing_Value_monthcard, 0, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽柟缁樺笧妤犲洭姊虹拠鈥虫灈闁稿﹥鎮傞敐鐐剁疀濞戞瑦鍎梺闈╁瘜閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘鐘绘煙绾板崬浜伴柨婵堝仜閻ｆ繈宕熼鑺ュ闂備線娼荤�靛矂宕㈤幖浣哥闁跨喓濮甸悡鏇㈡倵閿濆簼鎮嶇�规悶鍎查妵鍕即椤忓棛袦閻庤娲忛崝宥囨崲濠靛绀嬫い鎾跺枎濞堢偤姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍閵堝洨鈼ら梻濠庡亜濞诧箓骞忕�ｎ�㈡椽顢斿鍡樻珕闁诲骸绠嶉崕鍗炍涘▎蹇婃瀺鐎癸拷閸曨兘鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁绘娅曞畷宀�锟芥鍠楅悡锟犮�侀弴銏犖ч柛娑卞幘娴滀即姊绘担鍛婃儓闁哥噥鍋婂畷鎴炵節閸パ咁唵闂佺粯鍨兼慨銈壦夐崼鐔虹闁瑰鍋熼幊鍕煕閻樺啿濮嶆慨濠傛惈鐓ら悹鍥ㄥ絻缁犵懓鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨锕�霉濠婂嫮澧い顒�锕俊鎼佸煛閸屾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掓晶妤冩崲濞戙垺鍤戞い鎺炴嫹闁哄绋撻敓鑺ヮ問閸犳盯顢氳椤㈡﹢宕楅悡搴ｇ獮婵犵數濮寸�氼剟鐛幇顑芥斀闁绘劘鍩栬ぐ褏绱掗煫顓犵煓妤犵偛顦甸崹楣冨棘閵夛妇浜栭梻浣稿閸嬪懎煤濮楋拷閸╂盯骞嬮敂钘夛拷鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闂佺粯鍔﹂崜姘掗崼婢棃鎮╅棃娑楃捕闂佸摜鍣ラ崹宕囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽娴ｇ顫╅梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾绘⒑閼瑰府楠忛柛濠冪箞瀵鏁嶉崟鑸靛闁挎繂楠告禍鐐烘煙閸愭彃鏆ｉ柡灞界Ф閹叉挳宕熼銈勭礉婵＄偑鍊戦崹娲偡瑜嶉埥澶愭偨閸涘﹦鍙嗛柣搴秵閸嬪懎袙鎼粹檧鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨佃灒闁绘挸楠搁悘濠傗攽閻愬弶顥為柟鍛婄摃缁绘艾鈹戦悙鑸靛涧缂傚稄鎷烽梺绋匡梗缁瑥顕ｉ锟介弫鎾寸鐎ｎ亞顔嗛梺鍛婄☉閻°劑宕戦敓鐘斥拺妞ゆ挶鍔忛娲煙妞嬪骸鍘存鐐搭焽缁辨帒螣闁垮顏归梻鍌欒兌閸樠囷綖閺囥垹纾归柡鍥ュ灩閸戠娀鏌熺�涙绠ラ柣鏂挎閺岋綁鎮㈤崫鍕垫毉濡炪們鍎崹浠嬪蓟閺囥垹骞㈡俊銈忔嫹闁跨喕妫勯悘婵嬵敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄啫娴傚鎰版倵濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮敓鐘冲亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柣妤�锕弫宥夋偄閸忚偐鍘甸梺鑲┾拡閸撴瑦绂嶉悙顑句簻闁靛绲介崝锕傛煙椤旂晫鎳囬柟宕囧█椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦");
					if (num != 1)
					{
						return false;
					}

					if (fire.pb.fushi.Module.GetPayServiceType() == 1) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿閹崇娀顢楁径瀣撴粓姊绘担瑙勫仩闁告柨绉堕幑銏ゅ礃椤斿槈锕傛煕閺囥劌鐏犻柛鎰舵嫹婵＄偑鍊栭崝锕�顭块敓鐣岀磼椤旂厧顣崇紒杈ㄦ尰缁楃喐绻濋崘顭戜紦婵犵數濮伴崹鐓庘枖濞戙埄鏁勯柛鏇ㄥ幗瀹曟煡鏌涢埄鍐檨闁绘挸绻橀弻娑㈩敃閿濆洨鐣洪梺闈╃稻濡炰粙寮诲☉銏℃櫜闁告侗鍠涚涵锟界紓鍌欐祰妞村摜鏁敓鐘茬畺闁冲搫鎳忛ˉ鍫熺箾閹寸偛绗氶柣搴濆嵆濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挾濮寸粊锕傛⒑缁洖澧查柛鎴犳嚀鍗卞Δ锝呭暞閳锋垿鏌熺粙鎸庢崳闁宠棄顦辩槐鎺撳緞婵犲嫮楔閻庢鍠栭…鐑藉极閹剧粯鍋愰柟缁樺笩閿熻棄鐏濋—鍐Χ閸℃ê鏆楁繝娈垮枤閸忔ê顕ｉ幎钘壩ч柛娑变簼閺傦拷婵＄偑鍊栧濠氬Υ鐎ｎ喖缁╃紓浣姑肩换鍡涙煟閹邦厼顥嬮柣顓熺懇閺屾洟宕遍弴鐙�妲柧缁樼墵閺屾稑鈽夐崡鐐寸亶濠电偛鎳岄崹钘夘潖閻戞ê顕辨繛鍡樺灥閸╁矂姊哄ú璇插闁靛牊鎮傞獮鍡楃暆閸曨偆顔掔紓鍌欑劍閿氶柨鐔烘櫕閺佸寮婚敐澶婎潊闁绘ê鍟块弳鍫熺箾鐎涙ê娈犻柛濠冪箞瀵鎮㈡搴㈡疂闂佸搫顦扮�笛傜昂濠碉紕鍋戦崐銈夊磻閸涱垱宕查柛顐犲劘閿熸垝绀佽灃濞达絽鎽滅粣鐐烘煟鎼搭垳绋婚柟绋跨埣瀹曟繈骞嬪┑鎰稁闂佹儳绻楅～澶婄暦婢舵劖鐓忓┑鐐茬仢閸旀粓鏌ｈ箛鎾搭棞闁宠鍨块崺銉╁幢濡炲墽鐩庨梺璇插閸戝綊宕板璺虹闁圭儤姊圭�氭氨锟界懓澹婇崰鏍箖閹寸偟绡�闁靛骏绲剧涵楣冩煥閺囶亞鐣甸柡浣哥Ч閹垽宕楃亸鏍ㄥ濠电偞鎸婚懝鎯洪妶鍡樻珷妞ゆ柨澧界壕鐓庮熆鐠轰警鐓柛銈囧枔缁辨帡顢欑喊杈╁悑闂佽鍠掗弲婵嬪箯閻樼粯鍤戞い鎺戭槸閺咃綁姊婚崒娆戭槮婵狅拷闁秴鐓曢柛顐犲劚閸屻劌螖閿濆懎鏆欓柛灞诲妽缁绘繃绻濋崒娑樻缂佹儳澧介弲顐︽晸閽樺鐣柛搴″船铻炴繛鎴炵懄濞呯娀鏌ｉ姀鐘冲暈闁绘挻鐩幃姗�鎮欓棃娑楀缂備緤鎷烽悗锝庡墾閹烽鎲撮崟顒傤槶闂佸憡顭嗛崶褏鍘撮梺纭呮彧缁犳垹绮诲☉娆嶄簻闁瑰墽顒茬槐锟犳煕閵夛絽濡烽柟鐤缁辨捇宕掑▎鎴濆闁藉啴浜堕幃妯跨疀閺囩儐鏆紓浣虹帛閻╊垶骞婇悩娲绘晢闁跨喍绮欏绋库槈濮樼偓瀚规繛鍫濈仢閺嬫稒銇勯銏℃暠濞ｅ洤锕獮鏍ㄦ媴閸濄儱骞愰梻浣侯焾閺堫剟鎯岄鎹愬С濞寸姴顑嗛埛鎺懨归敐鍕劅闁绘帡绠栭弻锟犲醇椤愩垹顫紓渚囧枟閻熲晠鐛�ｎ喗鏅滅紓浣股戝▍鍡涙⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�? by changhao
					{
						fire.pb.fushi.SFreeDisRewardConfigDayPay e = fire.pb.main.ConfigManager.getInstance().getConf(fire.pb.fushi.SFreeDisRewardConfigDayPay.class).get(itemid);
						if (e == null)
						{
							return false;
						}
						
						int count = 0;
						for (Integer id : e.itemids)
						{
							Integer itemnum = rewarddistribution.get(id);
							if (itemnum != null)
							{
								if (bag.isFull())
								{
									fire.pb.item.ItemMaps tempBag = fire.pb.item.Module.getInstance().getItemMaps(roleid, fire.pb.item.BagTypes.TEMP, false);
									
									if (tempBag.doAddItem(id, itemnum, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽柟缁樺笧妤犲洭姊虹拠鈥虫灈闁稿﹥鎮傞敐鐐剁疀濞戞瑦鍎梺闈╁瘜閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘鐘绘煙绾板崬浜伴柨婵堝仜閻ｆ繈宕熼鑺ュ闂備線娼荤�靛矂宕㈤幖浣哥闁跨喓濮甸悡鏇㈡倵閿濆簼鎮嶇�规悶鍎查妵鍕即椤忓棛袦閻庤娲忛崝宥囨崲濠靛绀嬫い鎾跺枎濞堢偤姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍閵堝洨鈼ら梻濠庡亜濞诧箓骞忕�ｎ�㈡椽顢斿鍡樻珕闁诲骸绠嶉崕鍗炍涘▎蹇婃瀺鐎癸拷閸曨兘鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁绘娅曞畷宀�锟芥鍠楅悡锟犮�侀弴銏犖ч柛娑卞幘娴滀即姊绘担鍛婃儓闁哥噥鍋婂畷鎴炵節閸パ咁唵闂佺粯鍨兼慨銈壦夐崼鐔虹闁瑰鍋熼幊鍕煕閻樺啿濮嶆慨濠傛惈鐓ら悹鍥ㄥ絻缁犵懓鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨锕�霉濠婂嫮澧い顒�锕俊鎼佸煛閸屾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掓晶妤冩崲濞戙垺鍤戞い鎺炴嫹闁哄绋撻敓鑺ヮ問閸犳盯顢氳椤㈡﹢宕楅悡搴ｇ獮婵犵數濮寸�氼剟鐛幇顑芥斀闁绘劘鍩栬ぐ褏绱掗煫顓犵煓妤犵偛顦甸崹楣冨棘閵夛妇浜栭梻浣稿閸嬪懎煤濮楋拷閸╂盯骞嬮敂钘夛拷鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闂佺粯鍔﹂崜姘掗崼婢棃鎮╅棃娑楃捕闂佸摜鍣ラ崹宕囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽娴ｇ顫╅梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾绘⒑閼瑰府楠忛柛濠冪箞瀵鏁嶉崟鑸靛闁挎繂楠告禍鐐烘煙閸愭彃鏆ｉ柡灞界Ф閹叉挳宕熼銈勭礉婵＄偑鍊戦崹娲偡瑜嶉埥澶愭偨閸涘﹦鍙嗛柣搴秵閸嬪懎袙鎼粹檧鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨佃灒闁绘挸楠搁悘濠傗攽閻愬弶顥為柟鍛婄摃缁绘艾鈹戦悙鑸靛涧缂傚稄鎷烽梺绋匡梗缁瑥顕ｉ锟介弫鎾寸鐎ｎ亞顔嗛梺鍛婄☉閻°劑宕戦敓鐘斥拺妞ゆ挶鍔忛娲煙妞嬪骸鍘存鐐搭焽缁辨帒螣闁垮顏归梻鍌欒兌閸樠囷綖閺囥垹纾归柡鍥ュ灩閸戠娀鏌熺�涙绠ラ柣鏂挎閺岋綁鎮㈤崫鍕垫毉濡炪們鍎崹浠嬪蓟閺囥垹骞㈡俊銈忔嫹闁跨喕妫勯悘婵嬵敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄啫娴傚鎰版倵濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮敓鐘冲亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柣妤�锕弫宥夋偄閸忚偐鍘甸梺鑲┾拡閸撴瑦绂嶉悙顑句簻闁靛绲介崝锕傛煙椤旂晫鎳囬柟宕囧█椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_monthcard_reward, 2) != itemnum)
									{
										return false;
									}
								}
								else
								{
									if (bag.doAddItem(id, itemnum, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽柟缁樺笧妤犲洭姊虹拠鈥虫灈闁稿﹥鎮傞敐鐐剁疀濞戞瑦鍎梺闈╁瘜閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘鐘绘煙绾板崬浜伴柨婵堝仜閻ｆ繈宕熼鑺ュ闂備線娼荤�靛矂宕㈤幖浣哥闁跨喓濮甸悡鏇㈡倵閿濆簼鎮嶇�规悶鍎查妵鍕即椤忓棛袦閻庤娲忛崝宥囨崲濠靛绀嬫い鎾跺枎濞堢偤姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍閵堝洨鈼ら梻濠庡亜濞诧箓骞忕�ｎ�㈡椽顢斿鍡樻珕闁诲骸绠嶉崕鍗炍涘▎蹇婃瀺鐎癸拷閸曨兘鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁绘娅曞畷宀�锟芥鍠楅悡锟犮�侀弴銏犖ч柛娑卞幘娴滀即姊绘担鍛婃儓闁哥噥鍋婂畷鎴炵節閸パ咁唵闂佺粯鍨兼慨銈壦夐崼鐔虹闁瑰鍋熼幊鍕煕閻樺啿濮嶆慨濠傛惈鐓ら悹鍥ㄥ絻缁犵懓鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨锕�霉濠婂嫮澧い顒�锕俊鎼佸煛閸屾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掓晶妤冩崲濞戙垺鍤戞い鎺炴嫹闁哄绋撻敓鑺ヮ問閸犳盯顢氳椤㈡﹢宕楅悡搴ｇ獮婵犵數濮寸�氼剟鐛幇顑芥斀闁绘劘鍩栬ぐ褏绱掗煫顓犵煓妤犵偛顦甸崹楣冨棘閵夛妇浜栭梻浣稿閸嬪懎煤濮楋拷閸╂盯骞嬮敂钘夛拷鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闂佺粯鍔﹂崜姘掗崼婢棃鎮╅棃娑楃捕闂佸摜鍣ラ崹宕囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽娴ｇ顫╅梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾绘⒑閼瑰府楠忛柛濠冪箞瀵鏁嶉崟鑸靛闁挎繂楠告禍鐐烘煙閸愭彃鏆ｉ柡灞界Ф閹叉挳宕熼銈勭礉婵＄偑鍊戦崹娲偡瑜嶉埥澶愭偨閸涘﹦鍙嗛柣搴秵閸嬪懎袙鎼粹檧鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨佃灒闁绘挸楠搁悘濠傗攽閻愬弶顥為柟鍛婄摃缁绘艾鈹戦悙鑸靛涧缂傚稄鎷烽梺绋匡梗缁瑥顕ｉ锟介弫鎾寸鐎ｎ亞顔嗛梺鍛婄☉閻°劑宕戦敓鐘斥拺妞ゆ挶鍔忛娲煙妞嬪骸鍘存鐐搭焽缁辨帒螣闁垮顏归梻鍌欒兌閸樠囷綖閺囥垹纾归柡鍥ュ灩閸戠娀鏌熺�涙绠ラ柣鏂挎閺岋綁鎮㈤崫鍕垫毉濡炪們鍎崹浠嬪蓟閺囥垹骞㈡俊銈忔嫹闁跨喕妫勯悘婵嬵敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄啫娴傚鎰版倵濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮敓鐘冲亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柣妤�锕弫宥夋偄閸忚偐鍘甸梺鑲┾拡閸撴瑦绂嶉悙顑句簻闁靛绲介崝锕傛煙椤旂晫鎳囬柟宕囧█椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_monthcard_reward, 2) != itemnum)
									{
										return false;
									}
								}												
							}
						}
						
						if (count > e.getNum()) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤濠�閬嶆晸閻ｅ本鍤�閻庢凹鍙冨畷宕囧鐎ｃ劋姹楅梺鍦劋閸ㄥ綊宕愰悙鐑樺仭婵犲﹤瀚惌濠囨婢舵劖鐓涚�广儱楠搁獮妤呮煟閹惧磭绠伴柍瑙勫灴閹瑩鎳犻鑳闂備礁鎲￠弻銊╂偤閵娧勫床婵炴垯鍨圭粻濠氭煙妫颁浇鍏岄柛姘儔濮婃椽宕崟顓犱紘闂佸摜濮甸悧鐘荤嵁閸愵煈鐓ラ柛鎰亾瀵ゆ椽姊虹化鏇炲⒉妞ゎ厼娲鎶藉Ψ瑜忕壕钘壝归敐澶岀窗婵＄偓鎮傞弻娑樷枎韫囨洜顔掑Δ鐘靛仜缁绘﹢骞冨鍫熷殟闁靛鍨虹�氳棄鈹戦悙鑸靛涧缂佹彃娼￠幃娲棘濞嗗墽鍔烽梺瑙勫婢ф鎮￠弴銏犵閺夊牆澧介崚浼存偨椤栨氨鍩ｉ柟钘夌埣閹瑩鎮滃Ο鐓庡箞闂備礁鎼ú銏ゅ礉瀹�鍕�堕柨鐔哄У閻撳啴姊洪崹顕呭剰缂佹宀搁弻鏇㈠炊瑜嶉顓狅拷娈垮枙缁瑩銆侀弴顫稏妞ゆ挾鍠庢刊浼存⒒閸屾瑨鍏岀紒顕呭灦楠炴牠顢曢妶鍥╊槸婵炴挻鐔幏鐑芥煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘叉处閻撳繐鈹戦悙鑼虎闁告梹纰嶉幈銊╂晲閸涱垰顣洪梺瀹狀潐閸ㄥ潡骞冨▎鎾崇闁圭儤鎸搁敓绛嬪灦濮婃椽宕ㄦ繝鍐ｆ嫻闂佽崵鍟块弲娑㈩敋閿濆棛绡�婵﹩鍘兼禍婊呯磼閻愵剙顎滃瀛樻倐瀵煡顢楅敓浠嬪煘閹达箑鐓￠柛鈩冾殘娴犫晠姊洪崷顓涙嫛闁稿鎳橀獮鍫ュΩ閳哄倹娅囬梺绋挎湰缁嬪牓骞忓ú顏呪拺闁告稑锕︾粻鎾绘倵濮樼厧骞栭柨鏇樺灲楠炲秹顢欓崜褝绱查梺璇插嚱缂嶅棝宕戦崟顖涘�堕柟缁㈠枟閻撴洟鏌嶉悷鎵虎闁告梹绮庨敓钘夌仛濠㈡锟芥凹鍘鹃幑銏犫槈閵忕媭娼婇梺闈涚箳婵敻鎮橀崼銉﹀�甸悷娆忓缁�鍐┿亜閵娿儻宸ラ柣锝呭槻铻栭柛娑卞枛娴滄鏌熼崗鑲╂殬闁搞劎绮粋宥夘敂閸曘劍鏂�闂佺粯蓱椤旀牠寮冲鍛＜閺夊牄鍔嶇粈瀣拷瑙勬礃閸ㄥ潡鐛�ｎ喗鏅濋柨鐔烘櫕婢规洝銇愰幒鎾跺幐闂佹悶鍎弲娑㈩敁閹剧粯鐓欑�瑰嫭婢樺Σ濠氭煃閽樺妯�妤犵偞甯￠獮妯硷拷鐢殿焾缂嶅啴姊婚崒娆愮グ妞ゆ洘鐗犲畷鏉款潩鐠鸿櫣顦у┑顔筋殣閹烽锟借娲樺浠嬪极閹剧粯鍋愰柟缁樺笧閻涒晜淇婇悙顏勶拷鏍箰閹绢喖绀堟繝闈涱儏缁犵喖鏌ｅΔ锟介悧蹇曞姬閿熶粙姊哄Ч鍥х伈婵炰匠鍕浄闁挎洖鍊归悡鏇熴亜椤撶喎鐏ラ柣蹇ュ閿熷�燁潐濞叉粓骞婇幘璺哄疾婵＄偑鍊曠换鎰拷姘煎櫍瀵槒顦规慨濠囩細閵囨劙骞掗幙鍕惞闂備胶绮敮顏嗙不閹捐绠栭柨鐔哄Т鍞梺鍐叉惈閸婂宕㈡禒瀣拺闁告繂瀚婵嬫煕鐎ｎ偆娲撮柡浣规崌閹稿﹥寰勭�ｎ厾顢呴梻浣芥硶閸犳洘鎱ㄩ妶澶嬪亜妞ゆ帒瀚粻顖炴煥閻曞倹瀚�? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姢濞戞挸绉归弻鈥愁吋鎼粹�崇闂佺粯鎸诲ú姗�濡甸崟顖氱疀闁告挷鑳惰摫缂傚倷绶ら幏鐑芥煥閻旂儤娅曠紒杈ㄥ浮閹瑩顢楅敓浠嬪礉閵堝棛绠剧痪顓㈩棑缁★拷閻庢鍠栭…鐑藉箖閵忋倖鍋傞幖杈剧悼閺嗕即姊绘担铏瑰笡妞ゃ劌鎳橀幃褍顭ㄩ崗鐐洴瀹曠喖顢橀悩纰夌床闂備胶绮崝锕傚礈濞嗘挸绀夐柕鍫濇娴滄粍銇勯幘璺盒㈤柛妯侯嚟閿熻姤顔栭崰鏍�﹂悜钘夋瀬闁归偊鍘肩欢鐐测攽閻樻彃顏柡澶嬫倐濮婄粯鎷呴搹鐟扮濡炪們鍔岄幊姗�骞冭缁绘繈宕堕妸褍寮虫俊鐐�栭幐鍫曞垂濞差亜鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮岄埞鎴︽晬閸曨剚鐝紓浣介哺鐢偤骞忛悩缁樺殤妞ゆ帪鎷烽柍顏嗘暬閹鈻撻崹顔界亪濡炪値鍙冮弨杈ㄧ┍婵犲洤绠瑰ù锝呮憸閸樻悂姊虹粙鎸庢拱闁活収鍠氶懞杈ㄧ鐎ｎ偀鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓涢柛顐亜婢ф壆绱掗鐣屾噰妤犵偛顑夐弫鍌滅磼濡粯鐝曢梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷� by changhao
						{
							return false;
						}
					}
					else
					{
						fire.pb.fushi.SFreeDisRewardConfig e = fire.pb.main.ConfigManager.getInstance().getConf(fire.pb.fushi.SFreeDisRewardConfig.class).get(itemid);
						if (e == null)
						{
							return false;
						}
						
						int count = 0;
						for (Integer id : e.itemids)
						{
							Integer itemnum = rewarddistribution.get(id);
							if (itemnum != null && itemnum > 0)
							{	
								count += itemnum;
								
								if (bag.isFull())
								{
									fire.pb.item.ItemMaps tempBag = fire.pb.item.Module.getInstance().getItemMaps(roleid, fire.pb.item.BagTypes.TEMP, false);
									
									if (tempBag.doAddItem(id, itemnum, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽柟缁樺笧妤犲洭姊虹拠鈥虫灈闁稿﹥鎮傞敐鐐剁疀濞戞瑦鍎梺闈╁瘜閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘鐘绘煙绾板崬浜伴柨婵堝仜閻ｆ繈宕熼鑺ュ闂備線娼荤�靛矂宕㈤幖浣哥闁跨喓濮甸悡鏇㈡倵閿濆簼鎮嶇�规悶鍎查妵鍕即椤忓棛袦閻庤娲忛崝宥囨崲濠靛绀嬫い鎾跺枎濞堢偤姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍閵堝洨鈼ら梻濠庡亜濞诧箓骞忕�ｎ�㈡椽顢斿鍡樻珕闁诲骸绠嶉崕鍗炍涘▎蹇婃瀺鐎癸拷閸曨兘鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁绘娅曞畷宀�锟芥鍠楅悡锟犮�侀弴銏犖ч柛娑卞幘娴滀即姊绘担鍛婃儓闁哥噥鍋婂畷鎴炵節閸パ咁唵闂佺粯鍨兼慨銈壦夐崼鐔虹闁瑰鍋熼幊鍕煕閻樺啿濮嶆慨濠傛惈鐓ら悹鍥ㄥ絻缁犵懓鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨锕�霉濠婂嫮澧い顒�锕俊鎼佸煛閸屾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掓晶妤冩崲濞戙垺鍤戞い鎺炴嫹闁哄绋撻敓鑺ヮ問閸犳盯顢氳椤㈡﹢宕楅悡搴ｇ獮婵犵數濮寸�氼剟鐛幇顑芥斀闁绘劘鍩栬ぐ褏绱掗煫顓犵煓妤犵偛顦甸崹楣冨棘閵夛妇浜栭梻浣稿閸嬪懎煤濮楋拷閸╂盯骞嬮敂钘夛拷鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闂佺粯鍔﹂崜姘掗崼婢棃鎮╅棃娑楃捕闂佸摜鍣ラ崹宕囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽娴ｇ顫╅梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾绘⒑閼瑰府楠忛柛濠冪箞瀵鏁嶉崟鑸靛闁挎繂楠告禍鐐烘煙閸愭彃鏆ｉ柡灞界Ф閹叉挳宕熼銈勭礉婵＄偑鍊戦崹娲偡瑜嶉埥澶愭偨閸涘﹦鍙嗛柣搴秵閸嬪懎袙鎼粹檧鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨佃灒闁绘挸楠搁悘濠傗攽閻愬弶顥為柟鍛婄摃缁绘艾鈹戦悙鑸靛涧缂傚稄鎷烽梺绋匡梗缁瑥顕ｉ锟介弫鎾寸鐎ｎ亞顔嗛梺鍛婄☉閻°劑宕戦敓鐘斥拺妞ゆ挶鍔忛娲煙妞嬪骸鍘存鐐搭焽缁辨帒螣闁垮顏归梻鍌欒兌閸樠囷綖閺囥垹纾归柡鍥ュ灩閸戠娀鏌熺�涙绠ラ柣鏂挎閺岋綁鎮㈤崫鍕垫毉濡炪們鍎崹浠嬪蓟閺囥垹骞㈡俊銈忔嫹闁跨喕妫勯悘婵嬵敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄啫娴傚鎰版倵濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮敓鐘冲亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柣妤�锕弫宥夋偄閸忚偐鍘甸梺鑲┾拡閸撴瑦绂嶉悙顑句簻闁靛绲介崝锕傛煙椤旂晫鎳囬柟宕囧█椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_monthcard_reward, 2) != itemnum)
									{
										return false;
									}
								}
								else
								{
									if (bag.doAddItem(id, itemnum, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽柟缁樺笧妤犲洭姊虹拠鈥虫灈闁稿﹥鎮傞敐鐐剁疀濞戞瑦鍎梺闈╁瘜閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘鐘绘煙绾板崬浜伴柨婵堝仜閻ｆ繈宕熼鑺ュ闂備線娼荤�靛矂宕㈤幖浣哥闁跨喓濮甸悡鏇㈡倵閿濆簼鎮嶇�规悶鍎查妵鍕即椤忓棛袦閻庤娲忛崝宥囨崲濠靛绀嬫い鎾跺枎濞堢偤姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍閵堝洨鈼ら梻濠庡亜濞诧箓骞忕�ｎ�㈡椽顢斿鍡樻珕闁诲骸绠嶉崕鍗炍涘▎蹇婃瀺鐎癸拷閸曨兘鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁绘娅曞畷宀�锟芥鍠楅悡锟犮�侀弴銏犖ч柛娑卞幘娴滀即姊绘担鍛婃儓闁哥噥鍋婂畷鎴炵節閸パ咁唵闂佺粯鍨兼慨銈壦夐崼鐔虹闁瑰鍋熼幊鍕煕閻樺啿濮嶆慨濠傛惈鐓ら悹鍥ㄥ絻缁犵懓鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨锕�霉濠婂嫮澧い顒�锕俊鎼佸煛閸屾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掓晶妤冩崲濞戙垺鍤戞い鎺炴嫹闁哄绋撻敓鑺ヮ問閸犳盯顢氳椤㈡﹢宕楅悡搴ｇ獮婵犵數濮寸�氼剟鐛幇顑芥斀闁绘劘鍩栬ぐ褏绱掗煫顓犵煓妤犵偛顦甸崹楣冨棘閵夛妇浜栭梻浣稿閸嬪懎煤濮楋拷閸╂盯骞嬮敂钘夛拷鐢告煕閿旇骞栭弽鈥愁渻閵堝啫鍔氭い锔垮嵆婵＄敻宕熼娑欐珕闂佺粯鍔﹂崜姘掗崼婢棃鎮╅棃娑楃捕闂佸摜鍣ラ崹宕囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽娴ｇ顫╅梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾绘⒑閼瑰府楠忛柛濠冪箞瀵鏁嶉崟鑸靛闁挎繂楠告禍鐐烘煙閸愭彃鏆ｉ柡灞界Ф閹叉挳宕熼銈勭礉婵＄偑鍊戦崹娲偡瑜嶉埥澶愭偨閸涘﹦鍙嗛柣搴秵閸嬪懎袙鎼粹檧鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨佃灒闁绘挸楠搁悘濠傗攽閻愬弶顥為柟鍛婄摃缁绘艾鈹戦悙鑸靛涧缂傚稄鎷烽梺绋匡梗缁瑥顕ｉ锟介弫鎾寸鐎ｎ亞顔嗛梺鍛婄☉閻°劑宕戦敓鐘斥拺妞ゆ挶鍔忛娲煙妞嬪骸鍘存鐐搭焽缁辨帒螣闁垮顏归梻鍌欒兌閸樠囷綖閺囥垹纾归柡鍥ュ灩閸戠娀鏌熺�涙绠ラ柣鏂挎閺岋綁鎮㈤崫鍕垫毉濡炪們鍎崹浠嬪蓟閺囥垹骞㈡俊銈忔嫹闁跨喕妫勯悘婵嬵敋閿濆棛绡�婵﹩鍎甸妸鈺傜叆闁哄啫娴傚鎰版倵濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮敓鐘冲亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柣妤�锕弫宥夋偄閸忚偐鍘甸梺鑲┾拡閸撴瑦绂嶉悙顑句簻闁靛绲介崝锕傛煙椤旂晫鎳囬柟宕囧█椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_monthcard_reward, 2) != itemnum)
									{
										return false;
									}
								}												
							}
						}	
						
						if (count > e.getNum()) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤濠�閬嶆晸閻ｅ本鍤�閻庢凹鍙冨畷宕囧鐎ｃ劋姹楅梺鍦劋閸ㄥ綊宕愰悙鐑樺仭婵犲﹤瀚惌濠囨婢舵劖鐓涚�广儱楠搁獮妤呮煟閹惧磭绠伴柍瑙勫灴閹瑩鎳犻鑳闂備礁鎲￠弻銊╂偤閵娧勫床婵炴垯鍨圭粻濠氭煙妫颁浇鍏岄柛姘儔濮婃椽宕崟顓犱紘闂佸摜濮甸悧鐘荤嵁閸愵煈鐓ラ柛鎰亾瀵ゆ椽姊虹化鏇炲⒉妞ゎ厼娲鎶藉Ψ瑜忕壕钘壝归敐澶岀窗婵＄偓鎮傞弻娑樷枎韫囨洜顔掑Δ鐘靛仜缁绘﹢骞冨鍫熷殟闁靛鍨虹�氳棄鈹戦悙鑸靛涧缂佹彃娼￠幃娲棘濞嗗墽鍔烽梺瑙勫婢ф鎮￠弴銏犵閺夊牆澧介崚浼存偨椤栨氨鍩ｉ柟钘夌埣閹瑩鎮滃Ο鐓庡箞闂備礁鎼ú銏ゅ礉瀹�鍕�堕柨鐔哄У閻撳啴姊洪崹顕呭剰缂佹宀搁弻鏇㈠炊瑜嶉顓狅拷娈垮枙缁瑩銆侀弴顫稏妞ゆ挾鍠庢刊浼存⒒閸屾瑨鍏岀紒顕呭灦楠炴牠顢曢妶鍥╊槸婵炴挻鐔幏鐑芥煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘叉处閻撳繐鈹戦悙鑼虎闁告梹纰嶉幈銊╂晲閸涱垰顣洪梺瀹狀潐閸ㄥ潡骞冨▎鎾崇闁圭儤鎸搁敓绛嬪灦濮婃椽宕ㄦ繝鍐ｆ嫻闂佽崵鍟块弲娑㈩敋閿濆棛绡�婵﹩鍘兼禍婊呯磼閻愵剙顎滃瀛樻倐瀵煡顢楅敓浠嬪煘閹达箑鐓￠柛鈩冾殘娴犫晠姊洪崷顓涙嫛闁稿鎳橀獮鍫ュΩ閳哄倹娅囬梺绋挎湰缁嬪牓骞忓ú顏呪拺闁告稑锕︾粻鎾绘倵濮樼厧骞栭柨鏇樺灲楠炲秹顢欓崜褝绱查梺璇插嚱缂嶅棝宕戦崟顖涘�堕柟缁㈠枟閻撴洟鏌嶉悷鎵虎闁告梹绮庨敓钘夌仛濠㈡锟芥凹鍘鹃幑銏犫槈閵忕媭娼婇梺闈涚箳婵敻鎮橀崼銉﹀�甸悷娆忓缁�鍐┿亜閵娿儻宸ラ柣锝呭槻铻栭柛娑卞枛娴滄鏌熼崗鑲╂殬闁搞劎绮粋宥夘敂閸曘劍鏂�闂佺粯蓱椤旀牠寮冲鍛＜閺夊牄鍔嶇粈瀣拷瑙勬礃閸ㄥ潡鐛�ｎ喗鏅濋柨鐔烘櫕婢规洝銇愰幒鎾跺幐闂佹悶鍎弲娑㈩敁閹剧粯鐓欑�瑰嫭婢樺Σ濠氭煃閽樺妯�妤犵偞甯￠獮妯硷拷鐢殿焾缂嶅啴姊婚崒娆愮グ妞ゆ洘鐗犲畷鏉款潩鐠鸿櫣顦у┑顔筋殣閹烽锟借娲樺浠嬪极閹剧粯鍋愰柟缁樺笧閻涒晜淇婇悙顏勶拷鏍箰閹绢喖绀堟繝闈涱儏缁犵喖鏌ｅΔ锟介悧蹇曞姬閿熶粙姊哄Ч鍥х伈婵炰匠鍕浄闁挎洖鍊归悡鏇熴亜椤撶喎鐏ラ柣蹇ュ閿熷�燁潐濞叉粓骞婇幘璺哄疾婵＄偑鍊曠换鎰拷姘煎櫍瀵槒顦规慨濠囩細閵囨劙骞掗幙鍕惞闂備胶绮敮顏嗙不閹捐绠栭柨鐔哄Т鍞梺鍐叉惈閸婂宕㈡禒瀣拺闁告繂瀚婵嬫煕鐎ｎ偆娲撮柡浣规崌閹稿﹥寰勭�ｎ厾顢呴梻浣芥硶閸犳洘鎱ㄩ妶澶嬪亜妞ゆ帒瀚粻顖炴煥閻曞倹瀚�? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姢濞戞挸绉归弻鈥愁吋鎼粹�崇闂佺粯鎸诲ú姗�濡甸崟顖氱疀闁告挷鑳惰摫缂傚倷绶ら幏鐑芥煥閻旂儤娅曠紒杈ㄥ浮閹瑩顢楅敓浠嬪礉閵堝棛绠剧痪顓㈩棑缁★拷閻庢鍠栭…鐑藉箖閵忋倖鍋傞幖杈剧悼閺嗕即姊绘担铏瑰笡妞ゃ劌鎳橀幃褍顭ㄩ崗鐐洴瀹曠喖顢橀悩纰夌床闂備胶绮崝锕傚礈濞嗘挸绀夐柕鍫濇娴滄粍銇勯幘璺盒㈤柛妯侯嚟閿熻姤顔栭崰鏍�﹂悜钘夋瀬闁归偊鍘肩欢鐐测攽閻樻彃顏柡澶嬫倐濮婄粯鎷呴搹鐟扮濡炪們鍔岄幊姗�骞冭缁绘繈宕堕妸褍寮虫俊鐐�栭幐鍫曞垂濞差亜鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮岄埞鎴︽晬閸曨剚鐝紓浣介哺鐢偤骞忛悩缁樺殤妞ゆ帪鎷烽柍顏嗘暬閹鈻撻崹顔界亪濡炪値鍙冮弨杈ㄧ┍婵犲洤绠瑰ù锝呮憸閸樻悂姊虹粙鎸庢拱闁活収鍠氶懞杈ㄧ鐎ｎ偀鎷绘繛杈剧导鐠�锕傛倿妤ｅ啯鐓涢柛顐亜婢ф壆绱掗鐣屾噰妤犵偛顑夐弫鍌滅磼濡粯鐝曢梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷� by changhao
						{
							return false;
						}
					}
				}
				
				return true;
			}
		};
		grabmonthcardreward.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 812689;

	public int getType() {
		return 812689;
	}

	public int itemid; // 自由分配道具id by changhao
	public java.util.HashMap<Integer,Integer> rewarddistribution; // 道具分配 道具id value数量 by changhao

	public CGrabMonthCardReward() {
		rewarddistribution = new java.util.HashMap<Integer,Integer>();
	}

	public CGrabMonthCardReward(int _itemid_, java.util.HashMap<Integer,Integer> _rewarddistribution_) {
		this.itemid = _itemid_;
		this.rewarddistribution = _rewarddistribution_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(itemid);
		_os_.compact_uint32(rewarddistribution.size());
		for (java.util.Map.Entry<Integer, Integer> _e_ : rewarddistribution.entrySet()) {
			_os_.marshal(_e_.getKey());
			_os_.marshal(_e_.getValue());
		}
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		itemid = _os_.unmarshal_int();
		for (int size = _os_.uncompact_uint32(); size > 0; --size) {
			int _k_;
			_k_ = _os_.unmarshal_int();
			int _v_;
			_v_ = _os_.unmarshal_int();
			rewarddistribution.put(_k_, _v_);
		}
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CGrabMonthCardReward) {
			CGrabMonthCardReward _o_ = (CGrabMonthCardReward)_o1_;
			if (itemid != _o_.itemid) return false;
			if (!rewarddistribution.equals(_o_.rewarddistribution)) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += itemid;
		_h_ += rewarddistribution.hashCode();
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(itemid).append(",");
		_sb_.append(rewarddistribution).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

