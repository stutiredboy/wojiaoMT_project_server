
package fire.pb.battle.livedie;

import org.apache.log4j.Logger;

import fire.pb.PropRole;
import fire.pb.talk.MessageMgr;
import gnet.link.Onlines;

import java.util.ArrayList;
import java.util.Arrays;


import java.util.List;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CAcceptInvitationLiveDieBattle__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CAcceptInvitationLiveDieBattle extends __CAcceptInvitationLiveDieBattle__ {
	@Override
	protected void process() {
		//缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槰闂佽鍨抽崑銈夌嵁閺嶎灔搴敆閿熻姤淇婃總鍛婄厽妞ゆ挾鍣ュ▓婊勵殽閻愬澧懣鎰亜閹虹偞瀚规繝寰枫倕浜圭紒杈ㄥ浮楠炲洭顢樿閻や線姊洪崫鍕槵闁跨喕濮ら崜姘跺触鐎ｎ喖绠圭紒顔炬閹峰嘲鐣烽崶璺烘櫏闂傚倸鍊烽懗鍫曗�﹂崼銉晞闁稿瞼鍋涢悿鐐箾閹寸偟鐭屽ù婊勭懇濮婄粯鎷呴悷閭﹀殝缂備浇顕ч崐鍧楃嵁婵犲啯鍎熼柕濞垮劜鏉堝牆鈹戦悙鍙夘棡闁圭顭烽幃锟犲即閻旇櫣顔曢梺绯曞墲椤ㄥ﹪鎮板鍫熺厸闁跨喕濮ょ换婵嗩潩椤撶姴甯鹃梻浣规偠閸庢粓宕橀崣銉х＞闂佽瀛╅鏍窗閺囩姴鍨濇繛鍡樺姃缁诲棙鎱ㄥ┑鍡欑劸婵′勘鍔戝娲传閸曨剨绱ㄧ紓浣虹帛缁诲倿锝炶箛娑欐優闁革富鍘鹃悡鎾绘⒑缁夊棗瀚峰▓銏ゆ煥閻旇袚妞ゃ劌锕濠氬Ω閳轰礁宓嗛梺闈涱焾閸婃繈宕戝Δ鍛�垫繛鍫濈仢閺嬫稒銇勯鐘插幋妤犵偛鍟存慨锟介柕鍫濇娴滄鏌熼懝鐗堝涧缂佹彃娼″鎶藉閵堝棌鎷绘繛杈剧到閹诧紕鎷归敓鐘崇厱閹煎瓨绋戦敓鑺ョ箓閻ｇ柉銇愰幒鎴濈�銈嗗姧缁茶棄顕ｉ崸妤佺厵闁稿繗鍋愰弳姗�鏌涢弬璺ㄐх�规洘鍨块崺鍕礃椤忓棛妲囧┑鐘垫暩婵挳宕愰幖渚囨晜妞ゅ繐妫涚壕濂告煠閸濄儲鏆╅柛娆欐嫹闂備礁鎼惌澶屽緤閸婄喓浜欏┑鐐舵彧缁插潡骞婇幘璺侯棜闁规儼濮ら埛鎴犵磽娴ｅ鑲╂闁秵鐓曢柣妯哄暱閸濇椽鏌℃担瑙勫磳鐎殿噮鍓熸俊鍫曞炊閳诡剨缍佸铏规崉閵娿儲鐏侀梺鐑╁墲濡啫鐣烽姀掳鍋呴柛鎰╁妿閻涖儵姊洪崫鍕枆闁告鍋愮划濠氬冀椤撶喓鍘介梺纭呮彧缁查箖藟婢跺瞼纾奸柣娆愮懃鐎氼喚绮绘ィ鍐╃厱闁斥晛鍟伴幊鍐瑰鍛壕缂佺粯绋掑蹇涙倷椤掞拷椤忥拷
		final long guestid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (guestid <= 0)
			return;
		
		new mkdb.Procedure() {
			protected boolean process() throws Exception {
				Long hostid=xtable.Livedie2key.select(guestid);
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬪銈冨灪閻熲晠骞冮埄鍐╁劅妞ゆ梹鍨濆锕傛⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樺啿浠梺闈涱槴閺呮粓寮插┑瀣厪濠㈣泛妫欏▍鍛浖閸涘瓨鈷戦柛娑橈攻婢跺嫰鏌涢妸銈呭祮鐎规洘锕㈤弫鎾寸鐎ｎ偀鎷洪梻鍌氱墛娑撶懓鈽夊顐ｅ媰闂佺粯鍔﹂崜锕傚疮閸ヮ剚鈷掗柛灞捐壘閿熺晫鍏橀幊妤呭醇閺囨鎷烽敃鍌氶唶闁绘洑鐒﹂鏃堟⒑瑜版帗锛熼柣鎺炵畵瀵彃鈹戦崶銉ょ盎闂婎偄娲﹂幐鐐櫠閺囥垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦璇插闁诡喓鍨藉畷顐﹀礋閹存瑥鐏叉慨濠冩そ瀹曪繝鎮欓弶鎴П缂傚倷鑳剁划顖滄崲閸繄鏆︾憸鐗堝俯閺佸啴鏌曡箛鏇烆�屾繛鍏兼濮婃椽宕妷銉︾�婚梺纭呭Г缁骸危閹版澘绠婚悹鍥皺閿涙粌鈹戦悙鍙夘棡闁搞劌鐏氭穱濠囨寠婢舵ɑ瀵岄梺闈涚墕閸燁偅淇婃總鍛婄厵闁惧浚鍋撻懓鍧楁煟濞戝崬鏋熺紒缁樼箞瀹曟帡濡堕崱妤冪处闂傚倷娴囧▔鏇㈠窗瀹ュ洤鍨濇繛鍡樻尭缁犳牕霉閸忓吋鍎楅柡浣革躬閺岀喖骞嗚閸ｆ椽鎮楀顒傜Ш闁哄被鍔岄埞鎴﹀幢濡わ拷濮ｆ劙姊鸿ぐ鎺濇闁稿繑锕㈤妴浣割潨閿熶粙骞冮埡鍛煑濠㈣泛濂旈柇顖炴⒒閸屾瑦绁版い鏇熺墵瀹曟澘顫濈捄铏诡槯濠碘槅鍨拃锕傚吹閺囥垺鍋ｅΔ锕侊骏閿熸枻鎷烽梺鍝勵儏闁帮綁寮婚敐澶婄疀闂傚牊绋戦～顏嗙磽娴ｉ璐伴柛锝忕到椤繑绻濆顒傦紲濠殿喗锕╅崜銊╁箯閻戣姤鍊婚柤鎭掑劚閿熻棄娼￠弻銊╁即閻愯鎷疯ぐ鎺戠？闁瑰濮甸崰鎰版煟濡わ拷閻楀棛绮幒鏃傜＜闁跨喕濮ゅ鍕暆鐎ｎ偄顏堕梺璋庡啯鍟為悗姘秺濮婅櫣鎹勯妸銉︾�虹紓渚囧枟閻熲晛顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐ゅ枔缁犻箖鎮楀☉娆樼劷闁活厼顑囩槐鎺楊敊閼测敩褏锟芥鍠楅悡鈩冧繆閻戣棄鐓涢柛灞绢殕鐎氬ジ姊洪懡銈呅ｅù婊�绮欏畷婵堜沪鐟欙絾鐎洪梺瑙勫婢ф鎮″▎鎾寸厱闁瑰瓨鐟ラ敓鑺ョ墱閿熻姤鐔幏锟�
				if(hostid==null){
					return false;
				}
				String hostname=new PropRole(hostid,true).getName();
				String guestname=new PropRole(guestid,true).getName();
				if(hostname==null||guestname==null){
					return false;
				}
				List<Long> list = new ArrayList<Long>();
				list.add(hostid);
				list.add(guestid);
				mkdb.Lockeys.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK, list));
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏堕柣搴ゎ潐濞插繘宕曢幎鑺ユ櫢闁哄倶鍊楃粔鐢告煕閻樺磭澧卞瑙勬礋瀹曠螖娴ｅ搫骞嶉梻浣筋嚃閸ㄨ櫕鏅跺Δ鍚藉寰勯幇顒傤啇闂佸搫顦伴崺濠囩叕椤掑嫭鐓涢悘鐐额嚙閿熻姤顨婂畷鐗堢節閸パ咁攨闂佺粯鍔曞Ο濠傤焽閼恒儰绻嗛柣鎰典簻閿熻姤鐗犲畷婵嬪箳閺傚灝鐏婂┑鐐叉濞存岸宕甸弴銏＄厱妞ゆ劧绲剧粈锟介梻浣稿船濞诧妇鎹㈠☉銏犵闁诲繑妞挎禍顏堝灳閺嶎偓鎷烽敐搴℃灍闁抽攱鍨归敓鍊燁潐濞叉牕煤閵娧勬殰婵炴垶鐟ょ换鍡樸亜閹扳晛鐏╅柡鍡稻椤ㄣ儵鎮欓幓鎺撴闁剧粯鐗犻弻娑樷槈閸楃偞鐏嶅┑鐐叉噺缁捇寮婚悢鍏煎殐闁冲搫濯绘径鎰叆闁绘柨鍤栭幏鐑芥偄妞嬪孩顕楅梻浣哄劦閺呮盯鏌婇敐鍜佹綎缂備焦蓱婵绱掑☉姗嗗剰婵炲牜鍘剧槐鎾存媴閾忕懓绗￠梺鎼炲妼濠�閬嶅礆閹烘垟鏋庨柟鎯х－椤撴椽姊洪幐搴㈢┛闁归鍏橀弻锝夊箻椤栥倖瀚归柟棰佽兌閸炵敻姊洪崗鍏煎�愭繛浣冲嫭鍙忛柛銉㈡櫇绾惧吋銇勯幇鈺佺伄閺佸牓姊洪崫鍕伇闁哥姵鐗犻悰顕�宕卞鍏夹╂俊鐐�х徊鐣屽椤撶姵顫曢柟鐑橆殔缁犳稒銇勯幘妤�瀚弳锔剧磽閸屾瑨鍏岀紒顕呭灦閹嫰顢涢悙鍙夌�梺鍦濠㈡ê顔忓┑鍥ヤ簻闁哄啫娲よ闂佺锕﹂崗妯侯潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙棰濆殝闂傚嫬瀚划瀣吋婢舵ɑ鏅滈梺鍓插亞閸犲孩绂掗幒鎴富闁靛牆妫欓埛鎺楁煛閸滀礁浜伴柟顔炬焿閵囨劙骞掗幘璺哄汲闂備胶绮弻銊︽櫠鎼淬劍鍎楁繛鍡樻尰閻撳繘鏌涢埄鍐╃妞わ讣绠撻弻宥夋寠婢舵ɑ鈻堟繝娈垮櫙閹风兘姊虹紒妯曟垿鎮ラ悩璇茬倞闁靛ě鍐ㄧ疄闂傚倷绶氬褔藝椤撱垹鍨傞柛婵嗗閺嬪秹鏌熼崜褏绡�缂佽妫濋弻銈囧枈閸楃偛顫╅梺鍛娒悺銊╁箞閵婏妇绡�闁告洦鍘肩粭锟犳⒑閻熸澘妲婚柟铏悾鐑藉Ω閿斿墽鐦堥梺绋挎湰缁嬫帡鎮炬總鍛娾拻濞达絽婀卞﹢浠嬫煕閳轰礁顏�规洖缍婂璺何涢崹顐ｃ仢妞ゃ垺锕㈤幃娆撳垂椤愶綆鍟庨梻鍌欑濠�杈ㄦ櫠濡わ拷椤灝顫滈敓钘夌暦濮楋拷閺佹捇鎸婃径妯诲瘜闂侀潧鐗嗗Λ娆戜焊閻㈠憡鐓曢悗锝庡墮閳诲牊顨ラ悙鎼疁鐎殿喗鎸虫慨锟介柍鎾呮嫹闁归攱妞藉铏规兜閸涱厺姹楅梺绋款儐閻╊垰鐣峰┑瀣妞ゆ梻鏅崢閬嶆⒑鐟欏嫬鍔ゆい鏇ㄥ弮楠炲﹪宕堕埡瀣閻熸瑥瀚粚璺ㄧ磼閹绘帒鈷旈柟骞垮灩閳规垹锟斤綆浜為ˇ銊╂⒑閹稿孩顥嗘繛澶嬫礋閹嫭鎯旈妸锔规嫽婵炶揪绲介幉锟犲箚閸垻纾煎璺侯儑閸欙拷閻庤娲樼换鍐箚閺冨牆惟闁挎繂绻戠�氬綊鏌涘畝锟介崑娑㈡嫅閻斿吋鐓忓鑸电☉椤╊剟鏌涘锟芥禍鍫曞蓟閻斿吋鍤冮柍鍝勫婢跺绻嗛柟缁樺笒椤忣參鏌ｉ幙鍐ㄥ⒋妞ゃ垺顨婂畷鎺楁晜閽樺浼撴繝鐢靛仜閻楀棝鎮樺┑瀣嚑婵炴垯鍨洪悡鐔兼煛瀹擃喕绀佹禒顕�鎮楃憴鍕婵＄偘绮欏畷娲礋椤栨氨顦ㄩ梺瀹犳〃缁讹繝鏁撻懞銉﹀磳婵﹥妞介幊锟犲Χ閸涱喚浜梻浣侯焾椤戝懘鏁冮妶鍛カ闂佸搫顦悧鍕礉鎼达絽濮柨鐔剁矙濮婂搫效閸パ呬紙濠电偘鍖犻崶鑸垫櫅闂佺懓澧界划顖炴偂濞嗗浚娓婚悗锝庝邯椤庢鏌涘Ο缁樺唉闁哄矉绱曟禒锔炬嫚閹绘帩娼庨梻浣筋嚃閸犳捇宕愬┑鍡欐殾闁圭儤鍨熷Σ鍫熸叏濡わ拷濡梻妲愰敓锟�
				xbean.LiveDieRoleInfo hostliveDieRoleInfo=xtable.Livedieroleinfotab.get(hostid);
				if(hostliveDieRoleInfo==null){
					return false;
				}
				if(System.currentTimeMillis()-hostliveDieRoleInfo.getInvitationtime()>LiveDieMange.getLiveDieTime()){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂備胶濮锋繛锟介柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻娑氾拷锝冨妼閿熻姤绻堝濠氬即閻旇櫣顔曢悷婊冪Ф閿熻姤鍑归崳锝夊箖妤ｅ啫绠柤鎭掑劗閹峰姊虹粙鎸庢拱闁荤啙鍥佸洭鏁冮崒娑氬幍濠电偞娼欓鎴﹀箯閻戣棄绠涘ù锝呮贡缁嬩礁鈹戦悩鍨毄濠殿喚鏁婚幊婵嬪礈瑜忛悳缁樹繆閵堝懏鍣圭紒鐘茬秺閺岀喓鍠婇崡鐐茬闂佸憡蓱閻╊垶寮婚埄鍐╁闂傚牃鏅為崥顐︽⒑缂佹ɑ鎯勯柛瀣工閻ｇ兘宕奸弴鐐嶁晝鎲告径濠庣�堕柕濞炬櫆閳锋垿鏌熼懖鈺佷粶闁跨喕濮ら悧鐘茬暦瑜版帒閱囬柡鍥╁�ｉ敃鍌涚厱闁哄洢鍔岄悘鐘电磼閻樺啿鈻曢柡宀�鍠撻敓鑺ョ♁椤洨绮绘导瀛樼厵闁绘垹鐡斿Λ鎴︽煙妞嬪骸孝妞ゆ柨绻橀、娆撴偩瀹�锟介埢澶嬬節瀵伴攱婢橀敓绐栧懎绶ゅù鐘差儏閻ゎ喗銇勯弽顐沪闁稿鍊圭换娑㈠箣閻戝洣绶甸梺缁樻煥濡繈骞冭ぐ鎺撴優闁荤喐婢樻俊鍝勵渻閵堝啫鍔ら柛瀣仧閹广垹鈽夐姀鐘茬獩濡炪倖鎸鹃崰搴♀枍閵堝洨纾藉ù锝堟鐢稓绱掔�ｎ偅宕屾鐐茬箻閹晜绗熼娴额剟姊绘担椋庝覆缂傚秳鐒︾粋宥夊醇閺囩偠鎽曢梺闈浥堥弲娑㈠础閾忣偂绻嗘い鏍ㄧ箖椤忕姴霉閻撳海澧︽慨濠呮閸栨牠寮撮悢鍝ュ絽闂佽瀛╃喊宥咁熆濮楋拷閹儳鐣￠柇锔藉缓闂佽法鍠嶇划娆撳Υ娓氾拷瀵剙鈻庨幆褎鍊梻浣虹《閸撴繄绮欓幒妤�姹查柨鐕傛嫹?");
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熼鍡楃灱閸氬姊洪崫鍕拱缂佸鍨块崺銉﹀緞閹邦剛顢呴梺缁樺姇閸氾拷缂佽鲸鐟╁缁樻媴閻戞ê娈岄梺鎼炲灪閻撯�崇暦閺屻儱钃熼柕澶堝劤閸樻椽姊虹憴鍕妞ゆ泦鍥у瀭闁稿本绋忔禍婊堟煛閸愩劍绁╅柛銈嗙懇閺岋紕锟斤綆浜炴晶娑樓庨崶褝韬┑鈥崇埣瀹曞爼鈥栭鍝勫姦闁哄本绋撻敓鏂ょ秵閸嬪棗煤鐎涙ǜ浜滈柕蹇ョ磿婢х數锟借娲忛崝鎴︾嵁瀹ュ鏁婇柡鍕箰閻掑姊婚崒姘拷鎼佸磹閻戣姤鍤勯柛鎾茬閸ㄦ繃銇勯弽顐粶缂佺姵澹嗙槐鎺旓拷锝庡亽閸庛儲绻涚亸鏍ㄦ珚闁哄被鍔戝顒勫垂椤旇瀵栭梻浣规た閸樼厧螞濠靛绠栨俊銈呮噺閺呮煡骞栫划鐟板⒉闁诲繐绉瑰铏圭磼濡鏆楅梺鍝ュУ閻楃娀鎮伴锟藉浠嬪Ω閿斿墽肖闂備礁鎲￠幐鍡涘川閸滃啰绉慨濠冩そ閹喚锟芥稒锚椤忓爼姊绘担铏瑰笡妞ゃ劌鎳橀幃褑绠涢弴鐘辩瑝闂佽鍨庡畝锟介崬鐢告煟閻樼儤銆冮悹锟介敃鍌氱？闁瑰鍋熺粻楣冩煕濞嗗浚妲归悘蹇ョ畵閺岋紕浠﹂悙顒傤槹閻庤娲栧畷顒冪亙婵炶揪绲介幉锟犳偩椤掍椒绻嗛柣鎰典簻閿熺獤鍛笉闁瑰瓨绻愰懓鍧楁⒑椤掞拷缁夌敻寮查幖浣圭厾闁诡厽甯掗崝鎾煕閻旈绠婚柡灞剧洴閹晠宕橀幓鎺撴嚈闂備胶鍋ㄩ崕鑽ょ不閹惧磭鏆﹀┑鍌滎焾鍞銈庡亽閸犳锟芥艾缍婇弻銊╁即閻愯鎷烽崨濠傚姅闂傚倷绀侀悿鍥ь浖閵娾晜鍤勯柛顐ｆ硻閸ヮ剙绾ф繛鍡欏亾鐎靛矂姊洪棃娑氬婵☆偅顨嗛幈銊╁磼閻愬鍘辨繝鐢靛Т閸燁垳绮堥崼顫嫹閸偅绶查柨鏇ㄤ簻閻ｅ嘲顭ㄩ崱鈺傂紓浣瑰劤瑜扮偟鍒掑▎鎾宠摕婵炴垶鐭▽顏堟煙鐟欏嫬濮囨い銉︾箞濮婅櫣鎹勯妸銉︾亖闂佸搫鎷嬮崑濠傜暦濡わ拷椤粓鏁撴禒瀣祦闁告劦鍠楅崐鐑芥煟閹寸倖鎴濃枍閸℃稒鈷戠紓浣姑慨锕傛煕閹惧鎳勯柟顖涙⒐缁绘繈宕堕妸銏″闂備礁鎲＄粙鎴︽晝閵堝棙鍙忛柨鏇嫹闂囧绻濇繝鍌涘櫣闁告ê鐡ㄩ〃銉╂倷閼碱剛顔囬梺浼欑秶缁绘繈鐛澶嬫優妞ゆ劑鍊撶花鎾⒒閸屾瑧顦﹀鐟帮躬閹繝宕奸妷銉х崶闂佸搫娲㈤崹鍦玻濡わ拷閳规垿鎮╅煫顓℃姉闂佸搫鍟悧濠囧磻閹扮増鈷掗柛顐ゅ枔閳笺儳绱掗鎸庣【妞ゎ亜鍟存俊鍫曞幢濡ゅ啩娣梻浣侯攰濞呮洟鏁冮姀銈呮瀬闁规壆澧楅崐椋庯拷鐟板閸犳岸宕ｉ崱娑欌拺闁告挻褰冩禍婵堢磼鐠囪尙澧︾�规洦鍓熷畷濂稿即閻斿弶瀚奸梻鍌氬�搁悧濠勭矙閹惧墎涓嶉柣鎰劋閻撴洟鏌嶆潪鎵槮妞ゅ繆鏅犲畷鈩冩綇閳哄瀚归柣鐔告緲椤忣亜顭块悷閭﹀剶鐎殿喓鍔嶇粋鎺旓拷锝庡亞閸樹粙姊鸿ぐ鎺戜喊闁告挻鐩獮妤呮偐閻㈢數锛濋悗骞垮劚濡鎮橀幘顔界厸閻忕偛澧介埥澶嬨亜椤愶絿绠炴い銏☆殕瀵板嫭绻濋崒姘兼闂傚倸鍊烽懗鍫曘�佹繝鍌楁瀺闁哄洨濮靛畷鏌ユ煕閹伴潧鏋涢崶鎾⒑閹稿海绠撴い锔诲灣缁牓宕橀鐣屽帗闁哄鍋炴竟鍡涘礉瀹ュ鐓熼柨婵嗙墱閸ゆ瑩鏌嶇憴鍕伌闁诡喒鏅犲畷褰掝敃閿濆棛妲戞繝鐢靛У椤旀牠宕板Δ锟介…鍥р枎閹存繂鐤鹃梻鍌欑窔濞佳囨偋閸℃娲Ω閳哄倸鍓归梺绯曞墲缁嬫帡鎮￠弴銏＄厸闁搞儯鍎辨俊濂告煟韫囥儳绡�闁哄矉缍侀獮娆撳礋椤撶姌婊堟⒑缂佹ɑ鎯勯柛瀣工閻ｇ兘宕奸弴鐐嶁晠鏌ㄩ弴顏呭闂佸搫妫欓〃鍫㈡閹惧瓨濯撮柛鎾冲级鏁堟繝纰夌磿閸嬫鍒掑▎蹇ｅ殨閻犲洦绁村Σ鍫熺節婵犲倹鍣介柡澶嬫倐濮婃椽宕烽鐐板濠电偛鍚嬮悷褏鍒掗敐鍛婵浜敍婵囩箾鏉堝墽瀵肩紒顔界懇瀹曨偄煤椤忓懐鍘电紓浣割儐椤戞瑩鎮￠崗纰辨闁绘劘灏欑粻鑽わ拷瑙勬磸閸旀垵顕ｉ崼鏇炵婵犲﹤鎳愰崐鐐烘⒒閸屾瑧顦﹂柟娴嬶拷瓒佹椽鏁冮崒姘鳖槶濠电偞鍨堕悷褔銆呴崣澶堜簻闊洦鎸婚崳鍝ョ磼鐠囧弶顥㈤柡宀嬬秮楠炲洭宕楅崫銉ф晨闂備浇娉曢崰鎾绘偘閵堝宸濇い鎾跺Х閻℃ê鈹戦悙宸殶濠殿喗鎸抽、鏍幢濞戞锛涙繝銏ｆ硾鑹岄柡锟芥禒瀣厱閻忕偛澧介惌銈夋煟閹烘鐣洪柡宀嬬畵瀹曟﹢顢旈崟顒備邯闂備礁鎼張顒勬儎椤栫偛鏄ラ柛鏇ㄥ灠缁�鍐┿亜韫囧海鍔嶆い顐㈢Ф缁辨捇宕掑▎鎺戝帯婵犳鍠楅幐鎶藉灳閿曞倹鍊婚柦妯侯槼閹芥洟姊洪弬銉︽珔闁哥噥鍋嗗▎銏ゆ倷閻戞ê锟界敻鏌ㄥ┑鍡欏嚬缂併劏妫勯湁闁绘ê鐪伴崑銏℃叏婵犲懏顏犵紒顔界懇瀹曠娀鍩勯崘鈺傛瘞闂備焦鐪归崺鍕垂閹惰棄纾婚柣鏃囧仱閿濆绠涢柡澶庢硶椤旀帡鏌ｆ惔銊︽锭闁硅姤绮撻獮濠傗攽閸モ晝鐦堥梺姹囧灲濞佳冪摥闂備礁鎽滈崳銉╁磻婵犲洢锟戒線寮崼婵堫槶婵炶揪缍�濞咃綁鏁嶅┑瀣拺缂佸瀵у﹢浼存煟閻旀潙濮傛い銏＄懄瀵板嫮锟斤絺鏅濈粻姘舵⒑缂佹鎳勯柣鐔村劚鐓ら柕鍫濐槹閸嬵亪鏌涢幘妤�鎳愰敍婊冣攽閻愭潙鐏﹂柣鐔濆洤绠犻柛銉ｅ妽閸欏繐鈹戦悩鎻掝伀閻㈩垱鐩弻鐔风暋閻楀牆娈楅悗瑙勬处閸嬪﹤鐣烽悢纰辨晝闁挎稑瀚粭锟犳⒒閸屾艾锟介绮堟笟锟介獮妤�顭ㄩ崼婵堢崶闁瑰吋鐣崝宥夊磹閼哥數绡�闂傚牊鍐婚崝鐔访瑰鍫滄喚婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑闂堚晝绉剁紒鐘虫崌閻涱喛绠涘☉娆愭闂佽法鍣﹂幏锟�?濠电姷鏁告慨鐑姐�傞鐐潟闁哄洢鍨圭壕濠氭煙鏉堝墽鐣辩痪鎯х秺閺屸�愁吋鎼粹�崇闂佺顑呴鍡樼┍婵犲洤围闁告侗鍠栧▍銈夋⒑缁嬫鍎滅紒杈ㄦ礋楠炲骞栨担鍛婎棟闁荤姵浜介崝宥呪枔閹屾富闁靛牆妫涙晶顒傜磼鐎ｎ偅灏电�殿啫鍥ㄦ櫢濞寸姴顑嗛埛鎴犵磼鐎ｎ偄顕滄繝锟介悧鍫涗簻闁靛鍎查ˉ銏ゆ煥濠靛牆浠滄い鎾冲悑瀵板嫮锟斤急鍕伖闂備浇宕甸崰鎰版偡閵壯嶆嫹濮樼厧澧寸�规洘绻堟俊鍫曞炊閳哄偊绱＄紓鍌氬�烽梽宥夊垂瑜版帞宓佹俊銈呮噺閻撶喐淇婇妶蹇斿闂備礁搴滅徊浠嬶綖韫囨洜纾兼俊顖濐嚙椤庢捇姊洪崨濠勨槈闁挎洏鍎靛畷鏇㈠箻閺傘儲鏂�闂佸疇妫勫Λ妤佺濠靛洢浜滈柕濞垮劤婢с垽鏌涢幒鎾虫诞鐎殿噮鍣ｅ畷濂告偄閾氬倻绱﹂梻鍌欑劍閻綊宕规繝姘瀬闁归棿鐒﹂崑鍌炴煙閹屽殶缂佲槄鎷烽梻渚�娼ф蹇曞緤閸撗勫厹闁绘劦鍏欐禍婊勩亜閹炬鍟埛瀣倵鐟欏嫭纾搁柛搴㈠▕閺佹捇寮妶鍥┬ｉ梺鍛婃尰缁嬫挻绔熼弴銏犵缂佹妗ㄧ花濠氭⒑鐟欏嫭绶插褍閰ｉ獮鍐嚃閳哄啰锛滈梺璺ㄥ枔閺咁偊鏁撻弬銈囩У闁稿妫涘褔鏁撴禒瀣拺婵懓娲ら悘鍙夌箾娴ｅ啿瀚々鐑芥煥閺囩偛锟藉綊鎮￠弴銏＄厓閺夌偞澹嗙粵蹇涙椤掑澧い銊ｅ劦閹瑩鎳犻鍌ゅ晪闂備浇妗ㄩ悞锕傚箲閸ヮ剙鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂備胶濮锋繛锟介柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻娑氾拷锝冨妼閿熻姤绻堝濠氬即閻旇櫣顔曢梺缁樺姦閸撴岸鎮甸弴銏♀拺闁告繂瀚崳铏圭磼鐠囨彃鏆ｅ┑锛勬暬瀹曠喖顢涘杈╂澑闂備礁鐤囧銊ф閵堝绠柣鎴ｆ閸愶拷濡炪倖鎸堕崝搴ｇ矙韫囨稒鈷戦柛婵嗗瀹告繈鏌涢悩铏暗鐎殿啫鍥ㄦ櫢濞寸姴顑嗛埛鎺楁煕鐏炵偓鐨戝褎绋撶槐鎺旓拷锝庡亜濞搭噣鏌熼姘冲閾绘牠鏌涢幇鍏哥敖闁挎稒绮撻弻锝夋偐閸欏鎮欓悗娈垮枛閻栬壈妫㈤梺闈涚箞閸婃牠鎮″☉銏″�堕柣鎰絻閳锋棃鏌曢崱妯虹瑨闂囧鏌ｅ▎蹇斿櫧闁伙絿鏁搁敓鍊燁潐濞叉鍒掕箛娴板洦瀵肩�涙鍙嗛梺缁樻椤曆嗩暱闂佹眹鍩勯崹杈╂暜閳ョ鑰垮ù锝囩《閺�浠嬫煟濡鍤嬬�规悶鍎辫灃闁绘娅曢崐鎰版煙椤旀枻鑰块柡浣稿暣瀹曟帒鈽夊顒�绠伴梺璇叉捣濞呫垽骞忛悜鑺ョ叆闁绘柨澧庨惌娆戯拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣闁绘灏欓妶锕�鈹戦悙瀛樺鞍闁绘棏鍓熼獮蹇涙煥鐎ｅ灚顔旈梺缁樺姈濞兼瑥霉椤旂瓔娈介柣鎰▕閸庡繘鏌嶇憴鍕伌鐎规洟浜堕崺锟犲磼濠婂應鏋栭梻鍌氬�搁崐宄懊归崶褏鏆﹂柣銏㈩焾缁愭鏌熼柇锕�鏋涢柛銊︾箘閿熻棄绠嶉崕閬嶅箯鐎ｎ喗鍋勯柛鈩兩戦崣蹇斾繆閵堝拋鍎愰悗姘秺濮婅櫣鎷犻垾铏闂佹悶鍎滈崪浣告櫔闂傚倷鑳堕崢褔锝為弴銏犵９闁哄洨濮烽惌鍫ユ煥閺囩偛锟藉綊鍩涢幋锔界厱闁挎棁顕ч獮鏍ㄣ亜閿濆懎鎮戠紒缁樼箞婵拷闁宠棄妫涢崝椋庣磽娓氬洤鏋涙い顓犲厴瀵偊骞囬鐐电獮闁诲函缍嗛崜娆撶嵁濡ゅ懏鈷掑ù锝呮憸缁夋椽鏌涚�ｎ亷韬�规洝顫夌�佃偐锟芥稒锚閸擃參姊洪崨濠勭畵濠电偛锕ㄩ妵鎰板箳閹惧厖姹楅柣搴ゎ潐濞叉牕煤閵娾晜鍋傚璺号堥弨鑺ャ亜閺冨倶锟藉寮ㄧ紒妯圭箚闁绘劖澹嗛惌娆撴煟濞戝崬娅嶆鐐叉喘椤㈡﹢鎮㈠畡鏉课ら梻鍌欑劍鐎笛呮崲閸岀偛纾圭憸鐗堝釜缂嶆牜锟藉箍鍎遍ˇ浼村煕閹烘嚚褰掓晲閸ュ墎鍔搁梺璇″枟閸ㄨ埖绌辨繝鍥ㄥ�烽柛娆忣槸娴犳挳鎮楃憴鍕婵狅拷闁秴绠查柛鏇ㄥ灡閹偤鎮峰▎蹇擃仾妞ゆ梹娲熼弻锝夋偄閸濄儳鐓傛繝鈷�鍕垫畼闁轰緡鍣ｉ崺锟犲川椤撶喓锟筋剟鎮楅獮鍨姎婵☆偅鐟╁畷锝堢疀閺傚墽绠氬銈嗙墬缁瞼鏁崼鏇熷仺妞ゆ牗绻傞悡鎰磼缂佹娲寸�规洜鍘ч埥澶娢熸笟顖涚秵濠电姵顔栭崰鏍晝閵夈儺娓诲ù鐘差儏缁犵娀鏌ㄩ悢鍝勑㈤崶鎾⒑閸涘﹣绶遍柛鐘冲哺閺佹捇鎳為妷銉ュБ闂佸疇顫夐崹鍧楀箖閳哄拋鏁婇柤娴嬫櫃閻ヮ亪姊绘担鐟邦嚋婵ǜ鍔戦獮鍐敊鐏忔牗鐎婚棅顐㈡祫缁插潡宕悽鍛婄厽闁绘宕电槐鐗堢箾閸滃啰绉柟顔缴戝蹇涘煛閸愨晪绱￠梻浣筋嚃閸ㄥ酣宕橀埡渚婃嫹椤栫偞鈷戦梻鍫熺♁閹兼劙鎮楀顓熺凡妞ゆ洩绲剧粋鎺旓拷锝庯拷顓涙櫇閹叉瓕绠涘☉娆忎患闂佹眹鍨归幉锟犲煕閹达附鐓曟繛鎴烇公姒艾顭跨憴鍕嗘垹鎹㈠┑瀣櫢闁兼亽鍎茬紞鍥煃閸濆嫬浜炴繛鑲╁枛濮婃椽宕烽鐐插濡炪們鍔岀换妯侯嚕椤愶絿绡�闁搞儯鍔庨崢闈涱渻閵堝棛澧俊顐ｎ殜瀹曨垶顢曢敂鐧告嫹閺嶎厼骞㈡繛鎴炵憿閹风粯绻涙潏鍓ф偧闁硅櫕鎹囬、姘煥閸涱垳锛滈柣搴秵閸嬪嫬霉椤旀拝鎷风憴鍕缂佽鍊块崺銏℃償閵娿儳顔掗柣鐘荤細濞咃綁濡堕敃鍌涒拺閻犲洦褰冮崵杈╃磽瀹ュ懏顥㈢�规洘婢樿灃闁告侗鍘鹃弻褍鈹戦悩璇у伐闁绘锕幃锟犲即閻旂繝绨诲銈嗘尵閸犲酣鎮橀妷锔剧闁告侗鍟濋幋鐐碘攳濠电姴娴傞弫鍐煥濠靛棙宸濋柣鎾愁槸閳规垿顢欑涵宄板缂備緡鍣崹鍫曠嵁韫囨稑宸濋柡澶嬪灥缁愭稒绻濋悽闈浶㈤柟铏姍閵嗕線宕ㄩ婊咃紳闂佺鏈悷褏鎷规导瀛樼厱闁挎繂楠稿▍宥囷拷瑙勬礀濠�閬嶅箲閸曨垱鎯為悷娆忓椤旀洘绻濋悽闈涒枅婵炰匠鍥ц摕闁割偁鍎辩猾宥夋煕椤愶絿绠撶紒鎰☉椤啴濡堕崱妯虹濠电偞娼欑�氭澘顫忔禒瀣妞ゆ牗姘ㄩ悿鍕⒑闂堟侗鐒鹃柛搴櫍瀵劍绂掔�ｎ偆鍘遍梺闈涱槹閸ㄧ敻宕导鏉戠９闁归潧顭峰濠氬磼濮橆剨鎷烽幖浣哥９闁归棿绀佺壕鍦拷鐟板閸ｇ銇愰幒鎴犲�炲銈嗗笒閿曪妇绮欒箛鏃傜瘈闁靛骏绲剧涵鐐亜閹存繃鍠橀柕鍡楁嚇楠炴捇骞戝Δ锟界紞濠囧箖閳轰緡鍟呮い鏃傚帶婢瑰牏绱撴担鍝勪壕闁稿骸鍟块…鍥灳閹颁礁娈ㄩ梺鍓插亝濞叉牠鏌嬮崶銊ｄ簻闁规澘鐏氱欢姘辩磼閵娿儳鎽犵紒缁樼〒閿熻姤绋掗…鍥儗婵犲嫮纾界�广儱鎷戦煬顒傦拷娈垮枦椤曆囧煡婢舵劕顫呴柍鍝勫�瑰▍鍥⒒娓氾拷濞佳囨偋閸℃稑绠犻煫鍥ㄧ♁閸婅泛霉閿濆懎顥忔繛鎾愁煼閺屾洟宕煎┑鍡嫹閻熸壋鏋嶉柛鈩冪♁閻撶喖鏌熼崹顔碱伀缂佲槄鎷烽柣搴㈩問閸犳盯顢氳閸┿儲寰勬繛銏㈠枛閺屻劎锟斤綆鍋呭鎴︽⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕卞☉妯肩崶闁瑰吋鐣崹濠氥�呴懠顒傜＜婵炴垶鐟ч惌鎺撴叏婵犲偆鐓肩�规洘甯掗～婵嬵敆婵犲啫顏堕梺缁樺灱婵倝宕愰崸妤佺叆闁哄洨鍋涢敓钘夌秺瀹曟洟骞嬮悩鍐叉瀾闂佺粯顨呴悧鍡欑箔閹烘梻纾奸柨鐔诲Г瀵板嫬鐣濈�ｎ偄顏堕梺璋庡啯鍟為悗姘秺濮婅櫣鎹勯妸銉︾�虹紓渚囧枟閻熲晛顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐犲劜閳锋垿鏌涘☉姗嗙叚闁兼媽娉曠槐鎺楁偐瀹曞洤鈷岄悗娈垮櫘閸嬪﹪鐛Ο鑲╃＜婵☆垳鍎ら悿鍛存⒒娓氾拷濞佳囁囨禒瀣獥闁哄稁鍘奸悿楣冩⒑椤掞拷缁夌敻鍩涢幋鐘电＜閻庯綆鍋掗崕銉╂煕鎼达紕绠婚柡灞诲姂瀵挳濡搁妶澶婁粣闂備浇顕栭崰鏇㈠础閹跺锟戒礁鈻庨幘宕囶啋闂佸憡渚楅崰鏍敂閸洘鈷戦柟绋挎捣缁犳挾绱掗妸銉ｅ仮妤犵偛顦甸幃娆擃敆閸屾粠鍟庣紓鍌欑劍椤ㄥ懘骞栭锝嗗弿闁稿瞼鍋為悡娑㈡倶閻愭彃鈷旀繛鎻掔摠閵囧嫰濮�閳╁啰顦伴梺璇″枓閺呯娀骞婇悩娲绘晞閻犳亽鍔庨敍鐔哥節绾板纾块柛瀣灴瀹曟劘顦撮柨鐔剁矙濞佳囨儗閸屾氨鏆﹂柡澶庮嚦閺冨牆绀冮柍杞扮缁ㄣ儲绻濋悽闈涗沪闁割煈鍨跺畷褰掑捶椤撶姳绗夐梺鎸庣箓椤︿即鎮￠悢鍏肩厵闂侇叏绠戦獮妤冪磽瀹ュ棗鐏╅柣銉邯瀵墎鎹勯妸鎰╁�楃槐鎺撴綇閵婏箑闉嶉梺鐟板槻閹虫ê螞閸愩劉妲堟慨妤�妫欑紞鍌炴⒒閸屾瑨鍏屾い顓炵墦椤㈡牠宕卞☉妯碱槷濠电偛妫楃换鎺楀汲閿旇姤鍙忔俊顖涘绾墽绱掗悩鐑樼彧濞ｅ洤锕俊鍫曞椽閸愨晜鏆伴梻浣告惈閹冲矂宕归搹瑙勫床婵炴垶鐟︾紞鍥煕閹炬鎲涘鑸碘拺闂傚牊绋掗敍鏃堟煙妞嬪骸鍘存慨濠冩そ瀹曨偊宕熼棃娑樺Η闂備胶鎳撻崵鏍箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閹銈︾憗銈忔嫹閿熶粙鏌＄�ｎ亞效闁哄本娲濈粻娑氾拷锝庝悍閹风兘寮撮悩鍏哥瑝濡炪倖鐗滈崑鐐烘偂閵夆晜鐓熼柡鍥╁仜閿熻棄婀遍敓鑺ョ啲閹凤拷?
				if(acceptresult==1){//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒閿曪妇绮欒箛鏃傜瘈闁靛骏绲剧涵鐐亜閹存繃鍠橀柕鍡楁嚇楠炴捇骞戝Δ锟界紞濠囧箖閳轰緡鍟呮い鏃傚帶婢瑰牏绱撴担鍝勪壕闁稿骸鍟块…鍥灳閹颁礁娈ㄩ梺鍓插亝濞叉牠鏌嬮崶銊ｄ簻闁规澘鐏氱欢姘辩磼閵娿儳鎽犵紒缁樼〒閿熻姤绋掗…鍥儗婵犲嫮纾界�广儱鎷戦煬顒傦拷娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�
					hostliveDieRoleInfo.setAcceptflag(1);
					MessageMgr.sendSystemMsg(162067,Arrays.asList(guestname,hostname));
					SAcceptInvitationLiveDieBattle sAcceptInvitationLiveDieBattle=new SAcceptInvitationLiveDieBattle();
					Onlines.getInstance().send(guestid, sAcceptInvitationLiveDieBattle);
					//缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬湱鎲搁悧鍫濈瑨缁炬儳顭烽弻銊╂偄閸濆嫅锝夋煟閹惧磭绠版い顓℃硶閹瑰嫰鎮滃鍡橈紒婵犵數鍋涢幊搴ㄥ箠濡櫣鏆﹂柛鎾茬筏閹峰嘲鈽夊▎妯煎姺缂備胶濞�缁犳牠骞冨Δ鍛仺婵炲牐娉曢崝鎼佹倵濞戞瑧绠撴い顏勫暣婵″爼宕卞Δ鍐ф樊闂備胶顢婂▍鏇㈡晝閵忋倗宓侀柛鈩冪懁濞岊亪寮堕悙鏉戭嚋婵☆偄鍟悾鐑藉Ω閳哄﹥鏅╃紒缁㈠弮閺�杈╋拷姘秺閺岋綁濮�閻樺啿鏆堥梺缁樻尪閸庤尙鎹㈠┑瀣棃婵炴垶鐟Λ锕�顪冮妶鍛劉妞ゃ劌鎳樺﹢浣糕攽閻樿宸ラ悗姘煎櫍閹苯鐣濋敓鐣屾閹烘挻缍囬柕濞垮劜鐠囩偛螖閻橀潧浠﹂柟鐟版喘閻涱噣骞掑Δ锟界粻濠氭煕閿旇寮鹃柡锟介妸褏纾介柛灞捐壘閿熻棄鍢查湁闁搞儯鍔婃禒鍫ユ煕濠靛嫬鍔滈柡鍡樼矒閺屻劑鎮㈤崫鍕戙垽鏌＄�ｂ晝绐旈柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻锟犲川椤旇棄锟芥劙鏌＄仦璇插闁诡喓鍊濆畷鎺戔槈濮楀棔绱�?
					MessageMgr.psendSystemMessageToRole(hostid,162115, Arrays.asList(guestname));
					fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162114, Arrays.asList(guestname));
					//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤濞硷繝寮婚悢鐚存嫹閻㈡鐒鹃崯鍝ョ磽娓氬﹥瀚规繝鐢靛Т濞诧箓鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿埖鈷戦梻鍫熺♁閹兼劙鎮楀顓熺凡妞ゆ洩缍侀獮姗�顢欓悡搴わ拷鍨攽鎺抽崐褔骞忛柨瀣ㄤ簻闊浄绲奸柇顖炴煛鐏炲墽鈽夐柍璇叉唉缁犳盯寮撮悪锟介崯瀣⒒娴ｅ憡鎯堥柣顓烆槺缁辩偞绗熼敓浠嬫偘椤曪拷瀹曞爼顢楁径瀣珜濠电偠鎻徊鍧楀箠閹捐绀堥柣銏㈡暩绾句粙鏌涚仦鍓ф噯闁稿繐鑻埞鎴︻敍濮樼厧娈堕悗鍨緲閿曨亪骞冨▎鎿冩晢闁稿本顨嗛弫闈涒攽閻樺灚鏆╁┑顔芥綑闇夐柛宀�鍋涢弸浣猴拷骞垮劚濡稓寮ч敓鑺ョ節閻㈤潧孝闁稿﹤缍婂畷鎶藉捶椤撶姷锛滃┑掳鍊曢鍥╁姬閿熻棄鈹戦纭烽練婵炲拑缍侀獮蹇涙偐鐠囪尪鎽曢梺闈涳紡閸愨斂浠㈤梻鍌氬�烽懗鍫曞箠閹捐鍚归柡宥庡幖缁狀垶鏌ㄩ悤鍌涘
					LiveDieMange.liveDieRoleids.put(hostid, guestid);
				}else{
					xtable.Livedie2key.remove(guestid);
					xtable.Livedieroleinfotab.remove(hostid);
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆戝幘闂佸綊妫块悞锕�鈽夎閳规垿顢欓崗鐓庢灎闂佸搫鐭夌粻鎾崇暦濮楋拷椤㈡棃宕熼鍌欓偗闂傚倷绀侀幖顐︽儗婢跺瞼绀婂ù锝呭閸ゆ洘銇勯幒鎴濐仼缂佺姳鍗抽獮鏍庨锟介悘鈺呮煛鐎ｎ偄鐏存慨濠勭帛閹峰懘宕妷顖滅缂傚倷绶￠崳顕�宕规导杈剧稏闊洦姊荤弧锟藉┑顔斤供閸樿棄鈻嶉姀銈嗏拺闁兼亽鍎嶉鍩跺洭鏌嗗鍡椾患濡炪倖鎸堕崹娲偂閺囥垹绠圭紒顔炬閹烽锟藉湱濮撮悡姗�姊洪幑鎰惞闁稿鍋熼幑銏犫槈閵忕姴鑰垮┑掳鍊曢崯浼存偩妤ｅ啯鈷戦柛婵嗗閸庢劖淇婇銏犳殻鐎殿喖顭烽弫鎰緞婵犲嫮娼夐梻浣侯焾閺堫剟鎳濋悙顒傤浄婵☆垵鍋愮壕钘壝归敐鍛儓闁绘繐绻濋弻娑㈠Ψ閿濆懎顬嬮梺鍛娚戦幑鍥蓟閳╁啫绶為悘鐐村灊濞岊亝绻濋姀銏″殌婵☆偅绻嗗Λ鐔兼⒑閹稿孩鐓ユい顐ｆ礃缁傚秴顭ㄩ崼鐔哄幍闂佸憡绻傜�氱兘宕曡箛娑欑厽闊洦姊婚崣锟介梺鍝勭焿缁辨洘绂掗敃鍌氱鐟滃酣宕氬☉銏♀拺闁绘劘妫勯崝鐢电磼閻樿櫕宕岄柣娑卞枤閿熸枻缍嗘禍鏍绩娴犲鐓曢柍銉ョ－缁犳煡鎮楀鐓庡⒋婵﹨娅ｉ幏鐘诲矗婢跺﹥鏁俊鐐�ら崑鍕囬婊冨疾婵犳鍠楅〃鎰板箯閻戣姤鐓欓柧蹇ｅ亞缁犳牠鏌曢崼顒傜М鐎规洘锕㈡俊姝岊槻妤犵偞甯″娲偡閺夋寧鍊梺浼欑秵娴滎亜鐣峰┑鍡欐殕闁跨喓鏅崚鎺旀嫚濞村顫嶅┑鐐叉缁夊磭鑺辨繝姘拺闁荤喐澹嗛幗鐘虫叏婵犲倻绉虹�殿喗鍎奸妵鎰板箳閹捐泛骞愰梻浣告啞娓氭宕归弶璺ㄦ懃濠碉紕鍋戦崐銈夊磻閸曨厽宕查柟閭﹀枛瀵弶淇婇悙顏勶拷鏇犳崲閹邦噯鎷峰鐓庢珝闁轰礁绉撮埢搴ㄥ箻缁瀚肩紓鍌氬�烽悞锕佹懌濡炪們鍎卞Λ娆戞崲濞戙垹妞介柛鎰典簼閸嬔呯磽娴ｄ粙鍝洪柣鐕傜畱椤洩绠涘☉妯煎幐闂佸憡鍔︽禍椋庢閸愭祴鏀介柣鎰煐瑜把呯磽瀹ュ繑瀚规繝鐢靛仜閹锋垹寰婇崸妤�鏋佹い鏂跨毞濡插牊绻涢崱妯虹仼妞ゆ梹娲熷娲川婵犲嫭鍣у銈忕畵娴滃爼骞嗗畝锟芥禒锕傚矗閵壯呯暰闂備礁鎲￠悷銉┧囬娑欏弿鐎广儱妫▓浠嬫煟閹邦厽缍戞繛鎼枟椤ㄣ儵鎮欏顔煎壎閻庢鍣崳锝夊极閹惧顩烽悗锝庡亜閿熶粙娼ч埞鎴︽偐瀹曞浂鏆″銈冨劚閿曘儵濡甸崟顖氱疀闁宠桨鑳舵禒楣冩⒑閻熸澘鎮戦柛鏃�鐗犳俊鐢稿礋椤栨氨顓哄┑鐘绘涧濞层倕鈻嶉妶鍥╃＝濞达絿顭堥敓钘夋贡閺侇噣鏁撻悩鍙夌�梺鐟板⒔缁垶寮查幖浣圭叆闁绘洖鍊圭�氾拷
					fire.pb.item.Pack bag = new fire.pb.item.Pack(hostid, false);
					int cost=LiveDieMange.getLiveDieCostMoney();
					bag.addSysMoney(cost, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻姤鎮傞崺鐐哄箣閿旇棄浜归柣搴℃贡婵挳藟濠靛牏纾藉ù锝囨嚀婵牊銇勯妸銉含鐎殿喖顭烽幃銏㈢矙濞嗘儳娈奸梻浣告惈椤︿即宕归幎钘夌獥濠电姴娲﹂埛鎴﹀级閻愭潙顥嬫い锔奸檮娣囧﹪顢曢敐鍥╃杽閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍫曟煕椤愮姴鐏痪鎹愭闇夐柨婵嗘噺閹牊銇勬惔銏″暗缂佽鲸甯″濠氬Ψ瑜忛弳顐⑽旈悩闈涗粶闁绘鎸绘穱濠囧箹娴ｈ倽銊╁箹濞ｎ剙鐏柍閿嬪浮閺屻劑鎮㈤崨濠勪紕缂傚倸绉村Λ婵嗙暦閹达箑绀嬫い鏍电稻閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�??闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰緞婵犲嫮鏉告俊鐐�栫敮鎺椝囬姘ｆ灁闁告挷鑳剁壕钘壝归敐鍛儓闁宠鐗忕槐鎺楁偐瀹曞洤鈷岄悗娈垮枦椤曆囧煡婢跺á鐔煎礂閸忚偐鏆﹂梻鍌欐祰濞夋洟宕板鍥у灊婵炲棗绻掗弳锕傛煙鏉堥箖妾柛濠勫厴閺岋綁骞嬮悘娲讳簼缁傚秴螖閸涱喒鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷?", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_shengsizhanyajin, 0);
					//缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬湱鎲搁悧鍫濈瑨缁炬儳顭烽弻銊╂偄閸濆嫅锝夋煟閹惧磭绠版い顓℃硶閹瑰嫰鎮滃鍡橈紒婵犵數鍋涢幊搴ㄥ箠濡櫣鏆﹂柛鎾茬筏閹峰嘲鈽夊▎妯煎姺缂備胶濞�缁犳牠骞冨Δ鍛仺婵炲牐娉曢崝鎼佹倵濞戞瑧绠撴い顏勫暣婵″爼宕卞Δ鍐ф樊闂備胶顢婂▍鏇㈡晝閵忋倗宓侀柛鈩冪懁濞岊亪寮堕悙鏉戭嚋婵☆偄鍟悾鐑藉Ω閳哄﹥鏅╃紒缁㈠弮閺�杈╋拷姘秺閺岋綁濮�閻樺啿鏆堥梺缁樻尪閸庤尙鎹㈠┑瀣棃婵炴垶鐟Λ锕�顪冮妶鍛劉妞ゃ劌鎳樺﹢浣糕攽閻樿宸ラ悗姘煎櫍閹苯鐣濋敓鐣屾閹烘挻缍囬柕濞垮劜鐠囩偛螖閻橀潧浠﹂柟鐟版喘閻涱噣骞掑Δ锟界粻濠氭煕閿旇寮鹃柡锟介妸褏纾介柛灞捐壘閿熻棄鍢查湁闁搞儯鍔婃禒鍫ユ煕濠靛嫬鍔滈柡鍡樼矒閺屻劑鎮㈤崫鍕戙垽鏌＄�ｂ晝绐旈柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻锟犲川椤旇棄锟芥劙鏌＄仦璇插闁诡喓鍊濆畷鎺戔槈濮楀棔绱�?
					MessageMgr.psendSystemMessageToRole(hostid, 162087, Arrays.asList(guestname));
					MessageMgr.sendSystemMsg(162068,Arrays.asList(guestname,hostname));
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻姤鎮傞崺鐐哄箣閿旇棄浜归柣搴℃贡婵挳藟濠靛牏纾藉ù锝囨嚀婵牊銇勯妸銉含鐎殿喖顭烽幃銏㈢矙濞嗘儳娈奸梻浣告惈椤︿即宕归幎钘夌獥濠电姴娲﹂埛鎴﹀级閻愭潙顥嬫い锔奸檮娣囧﹪顢曢敐鍥╃杽閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍫曟煕椤愮姴鐏痪鎹愭闇夐柨婵嗘噺閹牊銇勬惔銏″暗缂佽鲸甯″濠氬Ψ瑜忛弳顐⑽旈悩闈涗粶闁绘鎸绘穱濠囧箹娴ｈ倽銊╁箹濞ｎ剙鐏い銉ョ墦閺屸剝鎷呯憴鍕瀺缂備礁鍊圭敮鐐烘晸閺傘倗绉甸柛瀣缁傚秹鏌嗗鍡╂濡炪倖鍔戦崹鐑樺緞閸曨剛绠鹃柛娆忣槺閻帡鏌熼姘辩劯鐎规洖宕灃濠电姴瀚弫鎼佹⒒娴ｇ鎮戦柟顔煎�搁…鍥槼闁逛究鍔戝畷濂稿Ψ閿旀儳骞堝┑鐘垫暩婵潙煤閿曪拷閳藉顦规俊顐＄劍瀵板嫰骞囬鐘插汲婵犵數濞�濞佳兾涘▎鎾抽棷鐟滅増甯楅悡娑㈡倵閿濆啫濡奸柨鐔诲Г閻楁粓骞戦姀鐘闁靛繒濮烽ˇ褔姊虹紒妯诲碍濡ょ姵鎮傞敐鐐典沪缁涘瀵岄梺闈涚墕妤犵顕ｉ妸鈺傜厱閹肩补妲呴悡濂告寠濠靛牞鎷风憴鍕婵炲眰鍔庢竟鏇㈠礂缁楄桨绨婚梺鍝勫暙濞层倛顣块柣搴ゎ潐濞叉牠鎯岄崒鐐茶摕闁挎繂鎳夊Σ鍫ユ煕濡ゅ啫浠﹂柣蹇旀礈缁辨挻鎷呴崫鍕戯絿绱掔�ｎ偄鐏撮柛鈹垮劜瀵板嫭绻涢姀銏犳灁闁哥姴锕畷锟犳倷鐎涙ɑ鐦滈梻鍌氬�搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偞鐗犻、鏇㈡晝閿熶粙鎮块濮愪簻闁规澘澧庨悾杈╃棯閹勮础缂佽鲸甯為敓鏂ょ秵閸樼晫娑甸崼鏇熺厸闁糕槅鍙冨顕�鏌曢崶褍顏紒鐘崇洴楠炴鎹勬笟顖涙緫闂傚倷鐒︽繛濠囧绩闁秴鍨傞柛褎顨呴拑鐔兼煥濠靛棭妲归柛瀣閺屾稑鈹戦崱妤婁紝闂佸搫妫崣鍐潖濞差亜浼犻柕澶堝劜閻忎線姊虹粙娆惧剭闁稿﹥绻傞锝囨嫚濞村顫嶉梺闈涚箳婵牓鍩￠崨顔惧帾婵犮垼顕栭崹浼村疮娴兼潙鍌ㄥù鐘差儐閻撶喖骞栧ǎ顒�锟姐倕顭囬幇顓犵闁告瑥顦辨晶杈╃磼鏉堚晛浠︾紒缁樼箞瀹曞爼濡烽娑橆伓婵炶揪缍�閸婁粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墱閺侇喗绻濋崶銊ワ拷鍧楁煥閺囩偛锟藉綊宕戦悢鎼炰簻闁规澘鐖煎顕�鏌ｉ幘璺烘灈妤犵偞鐗楀蹇涘礈瑜忚摫婵＄偑鍊曠换鎺楀窗閺嶎厼钃熼柣鏂垮濡插綊骞栫划鐧告嫹閸愯尙顓洪梻鍌欑閹碱偆鎮锕�绀夐柟杈剧畱缁犳牠鏌曢崼婵愭Ц缁炬儳鍚嬬换娑㈠箣閻戝洣绶垫繛瀵搞�嬮幏锟�??闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰緞婵犲嫮鏉告俊鐐�栫敮鎺椝囬姘ｆ灁闁告挷鑳剁壕钘壝归敐鍛儓闁宠鐗忕槐鎺楁偐瀹曞洤鈷岄悗娈垮枦椤曆囧煡婢跺á鐔煎礂閸忚偐鏆﹂梻鍌欐祰濞夋洟宕板鍥у灊婵炲棗绻掗弳锕傛煙鏉堥箖妾柛濠勫厴閺岋綁骞嬮悘娲讳簼缁傚秴螖閸涱喒鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷?,闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭獮宥夘敊绾拌鲸姣夐梻浣侯焾椤戞垹鎹㈠┑瀣摕闁靛ň鏅涚猾宥夋煕鐏炲墽鐓瑙勬礋濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鏅插璺猴攻椤ユ繈姊洪崷顓х劸閻庢稈鏅犲畷浼村箛閻楀牃鎷虹紓鍌欑劍椤洨绮诲顓犵濠㈣泛顑囧ú鎾煕閳哄啫浠辨鐐差儔閺佸啴鏁撻悾灞筋棜闁稿繗鍋愮弧锟芥繝鐢靛Т閸婅鍒婃總鍛婄厱閹兼惌鍨辩�氾拷"+hostid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑㈠Χ閸℃顦伴梺鍝勬湰閻╊垶銆侀弴銏℃櫜闁糕剝鐟Σ顒勬⒒娴ｈ鍋犻柛鏂跨焸瀹曟劙宕稿Δ锟介拑鐔哥箾閹寸偟鐭ゆ俊鑼帶椤啴濡堕崘銊ヮ瀳闂佺娅曢崝妤呭礆閹烘梻纾兼俊顖欒閸ゃ倝鏌ｆ惔銏⑩檨妞ゎ厼娲畷銏ゅ础閻戝棙瀵岄梺闈涚墕濡鎱ㄨ缁辨帡骞撻幒鎴旀寖缂備緡鍠栭悧鎾诲极閹惧顩烽悗锝庡亐閹锋椽姊洪崨濠勭畵閻庢氨鍏樺畷鏇熸償閿濆洨锛滈梺璺ㄥ枙婵倗绮悢鍏兼櫢闁芥ê顧�閼板灝銆掑鐐濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у苯鏁归梻鍌欑閹诧繝鎳濇ィ鍐炬晞闁搞儮鏅滈～鏇㈡煟閹邦剚鎯堢紒鐙呯秮閺岋綁骞囬鑺ユ瘎濡炪倖姊瑰ú鐔奉潖濞差亜宸濆┑鐘插閻擄拷闂備礁鎽滈崳銉╁垂閹惰姤鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗"+cost);
				}
				return true;
			};
		}.submit();
	}
	public static final Logger logger = Logger.getLogger("BATTLE");
	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 793837;

	public int getType() {
		return 793837;
	}

	public long sourceid; // 目标玩家id
	public int acceptresult; // 0拒绝  1接受

	public CAcceptInvitationLiveDieBattle() {
	}

	public CAcceptInvitationLiveDieBattle(long _sourceid_, int _acceptresult_) {
		this.sourceid = _sourceid_;
		this.acceptresult = _acceptresult_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(sourceid);
		_os_.marshal(acceptresult);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		sourceid = _os_.unmarshal_long();
		acceptresult = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CAcceptInvitationLiveDieBattle) {
			CAcceptInvitationLiveDieBattle _o_ = (CAcceptInvitationLiveDieBattle)_o1_;
			if (sourceid != _o_.sourceid) return false;
			if (acceptresult != _o_.acceptresult) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)sourceid;
		_h_ += acceptresult;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(sourceid).append(",");
		_sb_.append(acceptresult).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CAcceptInvitationLiveDieBattle _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(sourceid - _o_.sourceid);
		if (0 != _c_) return _c_;
		_c_ = acceptresult - _o_.acceptresult;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

