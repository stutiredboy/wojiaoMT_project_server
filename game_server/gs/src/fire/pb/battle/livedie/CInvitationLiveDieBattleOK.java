
package fire.pb.battle.livedie;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import org.apache.log4j.Logger;

import fire.pb.PropRole;
import fire.pb.map.Role;
import fire.pb.map.RoleManager;
import fire.pb.talk.MessageMgr;
import fire.pb.title.COffTitle;
import gnet.link.Onlines;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CInvitationLiveDieBattleOK__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CInvitationLiveDieBattleOK extends __CInvitationLiveDieBattleOK__ {
	public static final Logger logger = Logger.getLogger("BATTLE");
	@Override
	protected void process() {
		//缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槰闂佽鍨抽崑銈夌嵁閺嶎灔搴敆閿熻姤淇婃總鍛婄厽妞ゆ挾鍣ュ▓婊勵殽閻愬澧懣鎰亜閹虹偞瀚规繝寰枫倕浜圭紒杈ㄥ浮楠炲洭顢樿閻や線姊洪崫鍕槵闁跨喕濮ら崜姘跺触鐎ｎ喖绠圭紒顔炬閹峰嘲鐣烽崶璺烘櫏闂傚倸鍊烽懗鍫曗�﹂崼銉晞闁稿瞼鍋涢悿鐐箾閹寸偟鐭屽ù婊勭懇濮婄粯鎷呴悷閭﹀殝缂備浇顕ч崐鍧楃嵁婵犲啯鍎熼柕濞垮劜鏉堝牆鈹戦悙鍙夘棡闁圭顭烽幃锟犲即閻旇櫣顔曢梺绯曞墲椤ㄥ﹪鎮板鍫熺厸闁跨喕濮ょ换婵嗩潩椤撶姴甯鹃梻浣规偠閸庢粓宕橀崣銉х＞闂佽瀛╅鏍窗閺囩姴鍨濇繛鍡樺姃缁诲棙鎱ㄥ┑鍡欑劸婵′勘鍔戝娲传閸曨剨绱ㄧ紓浣虹帛缁诲倿锝炶箛娑欐優闁革富鍘鹃悡鎾绘⒑缁夊棗瀚峰▓銏ゆ煥閻旇袚妞ゃ劌锕濠氬Ω閳轰礁宓嗗┑鈽嗗灣鐏忋劑骞忓畡鎵虫斀閻庯綆浜濆Σ顒勬⒑闂堟侗妾х紒鐘冲灩濞嗐垽鎮欓悜妯煎幍闂備緡鍙忕粻鎴炴櫠閻楀牄浜滈柡鍐挎嫹閻㈩垪锟芥剚娼栧Δ锕侊骏娴滃綊鏌熼悜妯肩畺婵炲牄鍎崇槐鎾寸瑹婵犲啫顏跺┑鐐存尰閻旑剟骞忔搴嫹鐟欏嫭绀冪紒顔芥崌瀵宕卞Δ濠傛倯闂佺硶锟藉磭绠查悗姘偢濮婄粯鎷呴崨濠傛殘闂佸綊锟芥稖鍏屽ù婊咁焾閳诲酣骞橀崘鎻掍憾婵犵數鍋為崹顖炲垂濞差亝鍋傞柡鍥ュ灪閻撴瑩鏌熼鍡楁噺閹插ジ姊哄Ч鍥у闁搞劌婀卞Σ鎰板箳濡ゅ﹥鏅╅梺浼欑到閺堫剟宕虫导瀛樷拺閺夌偞澹嗛崝宥夋煙閻熺増鍠樼�殿噮鍋婇獮妯肩磼濡粯顏熼梻浣芥硶閸ｏ箓骞忛敓锟�?
		final long hostid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (hostid <= 0)
			return;
		new mkdb.Procedure() {
			protected boolean process() throws Exception {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬪銈冨灪閻熲晠骞冮埄鍐╁劅妞ゆ棁濮ょ粊浼存⒒閸屾艾锟界兘鎳楅崼鏇楋拷锕傚醇閻曚焦顔旈梺鍛婄缚閸庡骞忓畡鎵虫闁圭儤鎸婚悵姘節绾板纾块柡浣筋嚙閻ｇ兘鎮㈢喊杈ㄦ櫖濠殿喗顭堟禍顒�顭囨径鎰拻濞达絼璀﹂悞楣冩煛閸偄澧扮紒顔界懇楠炴帒螖娴ｉ晲鎴锋俊鐐�曠换鎰版偋婵犲洤鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮岄埞鎴﹀灳閻愯棄浠梺鍝勬湰濞茬喎鐣锋總鍛婂亜缂佸灏呴幏鐑藉箛椤曞棙瀚规繛鍫濈仢閺嬫稒銇勯鐘插幋鐎殿噮鍋婇獮鍥级閸喚鐛╂俊鐐�曠换鎰板箠韫囨稑姹插┑鐘叉处閳锋帒霉閿濆牊顏犻悽顖涚洴閺屾盯寮幘鍓佹殼閻庤娲樼划宀勶綖濠靛鍤嬮梻鍫熺◥閹寸兘姊绘担鍛婃儓闁稿﹤缍婇、鏍р枎韫囧鎷烽幒鎾剁瘈婵﹩鍘鹃崢顏堟⒑閸撴彃浜濈紒璇插暣钘熼柣鎰劋閻撶喖鏌熼幆褍鑸归柛鏂诲�楃槐鎺撴綇閵娿儳鐟查悗鍨緲鐎氼喗绂掗敃鍌氱畾鐟滃酣鎮鹃浣风箚闁绘劦浜滈敓鑺ョ墪鐓ら柍鍝勫暙缁躲倝鏌涢幘妤�绉电�氬綊姊婚崼鐔衡棨闁稿鍨洪〃銉╂倷鐎电鈷屽銈冨灪閿曘垽骞冮姀銈呭窛濠电姴瀚鍝勨攽閻樺灚鏆╁┑顔炬暬椤㈡瑩寮介鐐电崶濠德板�曢幊蹇涘疾濠靛鐓冮柛婵嗗閸ｅ綊鏌涚仦璇插闁宠鍨垮畷鎺戭煥鎼达絽濮肩紓鍌欑筏閹风兘鏌涢鐘插姕闁绘挸绻愰埞鎴︽倷闂堟稐澹曞┑鐐叉噹濡繈寮诲澶嬬叆閻庯綆浜炴导灞解攽椤旂》宸ユい顓炲槻閻ｇ兘鎮℃惔顔藉兊濡炪倖鎸鹃崰鎾广亹閸垻纾介柛灞剧懅缁涘繘鏌熸搴″幋闁诡喗顨婇弫鎰償閳╁啰浜堕梻浣虹帛閹歌煤閻旂厧钃熼柨鐔哄Т绾惧吋鎱ㄥ鍡楀箹濞寸姵鎸冲娲川婵犲嫭鍣ч柣搴㈠嚬閸ｏ綁寮幘璇茬９闁绘洑鐒︾紞鍫濃攽閻愭彃绾х紒顔芥尭椤曪綁顢曢敐鍥╃槇濠殿喗锕╅崜姘舵倵椤掑嫭鈷戦柣鐔告緲閳锋梻绱掗鍛仸鐎殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�
				Role gRole = RoleManager.getInstance().getRoleByID(objectid);
				if (gRole == null){
					fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 145001, null);
					return false;
				}
				xbean.Properties guestprop=xtable.Properties.select(objectid);
				if(guestprop==null){
					fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 145001, null);
					return false;
				}
				//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞鐔兼偂鎼粹�茬帛闂備礁纾划顖炲箰閹间讲锟斤箓濡搁埡浣侯槰闂佺粯鍔﹂崜娆撴儊濠婂牊鈷掑〒姘炬嫹婵炰匠鍥ㄥ亱闁糕剝绋戠粻鐘绘煙闁箑鏋ゅ☉鎾崇Т闇夐柣鎾虫捣閹界娀鏌涙繝鍌滀粵闁逛究鍔岃灒闁绘挸楠告禒姗�姊洪崫鍕靛剭闁稿﹥顨堝Σ鎰板箳濡ゅ﹥鏅╃紒鐐娴滎剟宕ョ�ｎ�棃鎮╅棃娑楁勃闁汇埄鍨辩敮鐔兼倶閸愨晝绠鹃柟鍓ь棎婢规ɑ绻涚拠褏鐣甸挊鐔封攽閻樻彃鏆曠紒璇叉閺岋綁骞囬崗鍝ョ泿闂佽法鍠曟慨銈夋偋濠婂牆鏋佹い鏇嫹妤犵偞甯掗—鍐ㄢ攽閸℃ê鏋犲銈冨灪缁嬫垿鍩ユ径濠庢僵闁稿繐銈搁弫婊冣攽閻樿尙妫勯柡澶婂皡閹风兘寮撮姀鐘垫焾闂佽顔栭崰鏍夊鑸电厱闊洦绋掗敍鐔虹磼鐠囧弶顥㈤柡灞炬礋瀹曠厧鈹戦崼銏╁敼闂佽瀛╅懝鍓х礊婵犲偆娼栭柧蹇撴贡閻瑩鏌涢弽銈忔嫹閸忓懐鐭楅梻鍌欐祰椤曆呮崲閹寸姵宕查柛顐犲劘閿熸垝绀侀～婵嬫嚋閸偅鐝冲┑鐘灱濞夋盯鏁冮妶澶嬪�垫い鎾跺剱濞撳鏌曢崼婵囶棞濠殿喖鍊块弻娑㈠Ω閵娿儱鎯炵紓渚囧櫙缂嶄線骞冨▎鎾村�绘俊顖滃帶楠炴姊绘繝搴′簻婵炶绠戠叅闁哄秲鍔庨々椋庢喐閺冨牆钃熸繛鎴炵啲閹风兘鏁愭惔鈥茬凹闁诲繐娴氶崣鍐蓟瀹ュ洦瀚氶柤纰卞劮瑜嶉埞鎴︻敋閸℃ê顏堕梻鍌欒兌缁垶鏁冮埡鍛；闁告稒娼欏Λ姗�鏌ㄩ悢璇残撳ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄诞灞剧稁婵犵數濮甸懝楣冩偪閻愵兙浜滈柟鎵虫櫅閿熻姤顨嗙粙澶婎吋閸℃洜绠氬銈嗙墬缁诲倹绂嶉崷顓犳／闁诡垎鍐╁�梺闈涙搐鐎氭澘顕ｉ幘顔藉�烽柡澶嬪灦椤忕娀姊绘担绛嬪殭濡ょ姴绻戞穱濠囧炊椤掍焦娅㈤梺绋匡功閸ｃ儱顭囬幇顓犵闁告瑥顦辨晶杈╃磼鏉堚晛浠︾紒缁樼箞瀹曞爼濡烽娑橆伓婵炶揪缍�閸婁粙寮崼婵嗙獩濡炪倖鎸炬刊瀵告閸欏绡�闁汇垽娼у瓭闂佹寧娲忛崐婵嬬嵁婵犲洤绠涢柡澶婄仢閸嬪秹姊虹紒姗嗙劷缂侇噮鍨堕崺娑㈠箳閹炽劌缍婇弫鎰板川椤斿吋娈橀梻浣筋嚃閸ㄤ即鎮ф繝鍥﹂柛鏇ㄥ灡閺呮粓鎮归崶顏勭毢濞寸姵鎮傚铏规嫚閳ヨ櫕鐏嶉梺鎸庡哺閺屽秶鎲撮崟顐や紝閻庤娲栭悥濂稿春閿熺姴绀冮柟顖嗗嫭鐝梻鍌氬�搁崐鐑芥倿閿曞倸绠栭柛顐ｆ礀绾炬寧绻涘顔荤盎缂侊拷閸喐鍙忔俊顖氱仢閻撴劙鏌涚�ｎ亜锟藉潡寮婚弴鐔风窞婵炴垶锕╁ú顓犵磽娴ｅ搫鈻堢紒鐘崇墵瀵鎮㈤悮瀛樺闁汇垹鎲″▍婊呯磼鏉堫偅鐝柕鍥у缁犳盯骞樼捄渚殽闂備浇娉曢崰鏇炍涢崟顖氱柈妞ゆ劧绠戦悡婵嬪箹濞ｎ剙濡肩紒鐙呯秮閺岋絽螣绾拌鲸娈扮紓浣稿船瀵墎鎹㈠┑鍡╁殫闂佸灝顑嗙欢鏌ユ煥閻旇櫣宕甸柛銉戝拋鍞甸梻鍌欑閻忔繈顢栭崘鈺冾洸婵犲﹤鐗婇悡銉╂煛閸愩劌锟藉憡绂嶆ィ鍐╃厸闁糕檧鏅涙晶顖涖亜閵婏絽鍔﹂柟顔界懅閹风姾顦插ù鍏煎姍閺屟呯磼濡厧鈷岄梺鍝勬湰缁嬫垿鍩ユ径鎰闁绘劘灏欓鎺撲繆閻愵亜锟芥牠骞愮拠宸富闁芥ê顦藉鏍ㄧ箾瀹割喕绨婚柟纭呭煐閵囧嫰骞樼捄杞扮捕婵犵锟借櫕鎯堥柍瑙勫灴椤㈡瑧娑靛畡棰佺矗婵＄偑鍊ら崢楣冨礂濮楋拷閹即顢欓挊澶岀獮闂佽婢橀悘姘跺疾椤忓牊鈷戦悹鎭掑妼閺嬫瑦淇婇銏狀伃闁挎繄鍋犵粻娑㈠箻娴ｈ銇濇い銏℃瀹曘劑顢樺┑鍫熸毎闂傚倸鍊峰ù鍥綖婢舵劦鏁婇柡宥庡幖缁愭淇婇妶鍛櫣缂佺姷鍠庨埞鎴﹀磼濮橆厼鏆堥梺缁樻尵閸犳劙濡甸崟顔剧杸闁圭偓鍓氭导灞解攽閳藉棗鐏查柟椋庡厴濮婄粯鎷呴崨濠冨創闂佸搫鐗滈崜鐔煎箚閸曨垼鏁嶆慨妯煎帶濞堛劌顪冮妶鍡樼┛闁圭兘鏀遍〃銉╂倷鏉堟崘锟借法锟芥鍠栭悥濂哥嵁鐎ｎ噮鏁囨繝闈涚墕椤︼拷
				fire.pb.PropRole hostprole = new fire.pb.PropRole(hostid, true);
				Role hostrole = RoleManager.getInstance().getRoleByID(hostid);
				if(hostrole != null){
					if(COffTitle.isLiveDieTitle(hostprole)){
						fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162088, null);
						return false;
					}
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀劼烽敓浠嬫⒒娴ｄ警鐒炬い鎴炲灩閹广垹鈹戠�ｎ亣鎽曢悗骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰绉慨濠傤煼瀹曟帒顫濋璺ㄦ晼闂備焦鎮堕崝宀勬偉閻撳寒鍤曞┑鐘崇閺呮彃顭跨捄鐚村姛妞ゆ挻妞藉娲箰鎼达絿鐣甸梺鐟板级閻╊垶鐛Ο鍛靛酣顢栫捄銊ф晨闂傚倷绶氬褔藝娴犲鍨傞弶鍫氭櫔閹峰嘲顫濋悙顒�顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙宕濋幒鎾剁鐎瑰壊鍠曠花鑽ょ磼閻欏懐绉柡宀嬬到铻ｉ柛蹇撳悑濮ｅ嫰姊虹紒妯虹瑨闁告艾顑囬幑銏犫槈閵忕姷顔掗柣搴ｆ暩椤牓寮抽敓鐘斥拺闁革富鍘奸崢瀛樸亜閵夛附宕岄柡浣规崌瀹曟劙鎮ゆ担鍦Х婵犵數鍋涘鍓佹崲閸儲鏅查柣鎰綑缁剁偟锟界櫢鎷烽柨鐔剁矙閹本寰勯幇顓犲幍闂佺粯鍨惰摫妞ゃ儲鐗犻弻鐔割槹鎼粹�冲箣闂佽桨鐒﹂崝鏍箚閺傚簱鏀介柛顐ｇ箓濮ｅ牆鈹戦敍鍕杭闁稿﹥鍨垮畷鏇㈡嚑椤掍礁搴婇梺绋跨灱閸嬫劙鏁撻懞銉︻棃鐎规洘锕㈤、娆撳床婢诡垰娲﹂悡鏇㈡煃閳轰礁骞樻い蹇撶墕濮瑰弶淇婇妶鍛櫤闁抽攱鍨块弻娑樷攽閸曨偄濮庨悗娑欑箞濮婄粯鎷呯粙璺ㄧ泿缂傚倸绉崇欢姘舵偘椤曪拷瀹曟﹢濡告惔锝呮灁闁归濞�閹崇娀顢楅崒婊冪ウ闂傚倸鍊风粈浣虹礊婵犲洤纾诲┑鐘叉搐閸屻劌螖閿濆懎鏆欓柛灞诲姂閺岀喖姊荤�电濡介梺鎶芥敱閸ㄥ潡寮诲☉妯锋婵鐗婇弫鍓х磽娓氬﹥瀚归柣搴秵閸嬪棛绮婚幆顬″綊鏁愰崨顓熸瘣濠电偠顕滅粻鎾崇暦閹版澘閱囬柡鍥╁枔閸樿棄鈹戦埥鍡楃仴闁稿鍔楅弫顔尖槈閵忥紕鍘介梺瑙勫劤椤曨參骞婇崟顖涚厪闁搞儜鍐句純閻庢鍠曠划娆愪繆濮濆矈妲奸梺闈╃秵閸犳牠鈥旈崘顔嘉ч煫鍥ㄥ嚬閸氬懘姊婚崒姘仼閻庢氨澧楁穱濠囨偨缁嬭法顦板銈嗙墬绾板秹藟濠靛鐓熼柣妯哄帠閼割亪鏌涢弬鍧楀弰妞ゃ垺鐟╅獮鎺懳旀担鍙夊闂備浇宕甸崰鎰珶閸℃稒鏅�广儱鎳夐弨浠嬫煟閹存繃澶勯悗姘愁潐娣囧﹪鎮欓鍕舵嫹閹达箑鍨傛繛宸簵閿熻棄鍟换婵嬪磼濠婂嫭顔曢梻浣告贡閸庛倝宕洪崼銉﹀亗闁靛鏅滈悡鏇㈡煛閸ヮ煁顏呬繆娴犲鍊甸柛顭戝亽濞堟棃鏌嶇憴鍕伌闁诡喒鏅犲畷褰掝敃閿濆棛妲戦梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭妇鎲搁悧鍫濈瑨闂佸崬娲弻锟犲炊閳轰椒鎴峰銈嗘煥濞差厼顫忔ウ瑁や汗闁圭儤鎼槐鐢电磽娴ｇ瓔鍟囩紒缁樼箓椤曪綁顢曢敃锟界粈瀣亜閺嶃劎銆掗柛妯哄船椤啴濡堕崱妤�顫庢繝娈垮枟閹告娊骞冨锟介、鏃堝幢椤撶喎顏堕柣鐔哥懃鐎氼厾绮堥崘顔界厽闁瑰灝瀚弧锟介悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊婚崒姘拷鎼佹偋婵犲嫮鐭欓柟鐑橆殕閸婂爼鏌涢鐘茬伄缁炬崘妫勯湁闁挎繂鎳忛幆鍫熴亜鎼淬垺灏电紒杈ㄥ浮閹崇娀顢楅敓鑺ョ閸撗呯＜鐎癸拷閸愵喖鎽电紓浣虹帛缁诲牆鐣烽崼鏇熷殝闁割煈鍋呴悵顐⑩攽閻樺灚鏆╁┑顔芥尦閺佸啴濡堕崶閿嬪婵鍘ф晶顕�鏌嶇紒妯诲暗濞寸媴绠撳畷婊嗩槾闁伙箑鐗嗛埞鎴︽倷閼碱剙顣洪梺璇茬箲缁诲倿鍩㈠鍛瀻闁规儳顕崢鐢告⒑閸涘﹤鐏熼柛濠冪墱閿熻姤鐔幏锟�
				xbean.LiveDieRoleInfo hostliveDieRoleInfo=xtable.Livedieroleinfotab.select(hostid);
				if(hostliveDieRoleInfo!=null){
					if(System.currentTimeMillis()-hostliveDieRoleInfo.getInvitationtime()<LiveDieMange.getLiveDieTime()){
						String name=new PropRole(hostliveDieRoleInfo.getObjectid(),true).getName();
						if(objectid==hostliveDieRoleInfo.getObjectid()){
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴鐎殿喖鐖煎畷鐓庮潩椤撶喓褰呴梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷濡炪倖鍔﹀锟界紒顔煎缁辨挻绗熸繝鍐伓濠电姰鍨煎▔娑㈩敄閸曨厽宕查柛鈩冪♁閻撳繘鏌涢锝囩畺闁革絾妞介弻娑㈡晲閸ャ劌娈屽銈傛櫅閵堢鐣烽妸鈺婃晣婵炴垶鐟﹂弶鍛婁繆閻愵亜锟芥牕顫忚ぐ鎺戝嚑缂備焦顭囬悷瑙勭箾閹存瑥鐏柣鎾存礋閺岀喖宕归纰变紑闂佷紮绲块弫鎼佹晸閸婄噥娼愭繛璇х畵瀹曞湱鎹勯搹瑙勬闂侀潧臎瀹ュ棗顏跺┑鐐村灦閻燁垶鎮炴禒瀣厱婵☆垰鎼埛鏃傜磼鏉堛劌娴柟顔界懇椤㈡鎷呴崫鍕闂佽姘﹂～澶娒洪敃鍌氱婵娉涢悿楣冩煠閹间焦娑фい鏇憾閹鈽夊▎妯煎姺闂佸憡眉缁瑥顫忓ú顏咁棃婵炴垼椴歌倴闂備胶顭堢�涒晠鎮￠垾宕囨殾闁汇垻顭堥悙濠冦亜閹哄秷鍏岄柛妯绘倐閺岋綀绠涢弴鐐扮捕婵犫拃鍌滅煓闁糕斂鍎插鍕箛椤撶姴甯楅梺鑽ゅТ濞诧箓鎮￠敓鐘茬煑闁告洦鍓﹀▓浠嬫煟閹邦剙绾ч柛鐘成戦妵鍕閳藉棙鐤侀悗瑙勬礃鐢帡鍩㈡惔銊ョ闁绘瑱鎷锋俊璇ф嫹?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮诲☉婊庢Ъ濡炪們鍔岄幊姗�骞冮崸妤佸�锋い鎴濆綖缁ㄥ姊虹憴鍕棎闁哄懏鐩弫鎾绘嚍閵夘喗鐣风紓浣割儏椤︻垶顢橀崗鐓庣窞閻庯綆鍓欏鎶芥⒒娴ｈ櫣甯涙繛鍙夌墵瀹曟劙宕烽銊﹀婵鍋撶�氾拷162073
							fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162073, Arrays.asList(name));
						}else{
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴鐎殿喖鐖煎畷鐓庮潩椤撶喓褰呴梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷濡炪倖鍔﹀锟界紒顔煎缁辨挻绗熸繝鍐伓濠电姰鍨煎▔娑㈩敄閸曨厽宕查柛鈩冪♁閻撳繘鏌涢锝囩畺闁革絾妞介弻娑㈡晲閸ャ劌娈屽銈傛櫅閵堢鐣烽妸鈺婃晣婵炴垶鐟﹂弶鍛婁繆閻愵亜锟芥牕顫忚ぐ鎺戝嚑缂備焦顭囬悷瑙勭箾閹存瑥鐏柣鎾存礋閺岀喖宕归纰变紑闂佷紮绲块弫鎼佹晸閸婄噥娼愭繛璇х畵瀹曞湱鎹勯搹瑙勬闂侀潧臎瀹ュ棗顏跺┑鐐村灦閻燁垶鎮炴禒瀣厱婵☆垰鎼埛鏃傜磼鏉堛劌娴柟顔界懇椤㈡鎷呴崫鍕闂佽姘﹂～澶娒洪敃鍌氱婵娉涢悿楣冩煠閹间焦娑фい鏇憾閹鈽夊▎妯煎姺闂佸憡眉缁瑥顫忓ú顏咁棃婵炴垼椴歌倴闂備胶顭堢�涒晠鎮￠垾宕囨殾闁汇垻顭堥悙濠冦亜閹哄秷鍏岄柛妯绘倐閺岋綀绠涢弴鐐扮捕婵犫拃鍌滅煓闁糕斂鍎插鍕箛椤撶姴甯楅梺鑽ゅТ濞诧箓鎮￠敓鐘茬煑闁告洦鍓﹀▓浠嬫煟閹邦剙绾ч柛鐘成戦妵鍕閳藉棙鐤侀悗瑙勬礃鐢帡鍩㈡惔銊ョ闁绘瑱鎷锋俊璇ф嫹?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮诲☉婊庢Ъ濡炪們鍔岄幊姗�骞冮崸妤佸�锋い鎴濆綖缁ㄥ姊虹憴鍕棎闁哄懏鐩弫鎾绘嚍閵夘喗鐣风紓浣割儏椤︻垶顢橀崗鐓庣窞閻庯綆鍓欏鎶芥⒒娴ｈ櫣甯涙繛鍙夌墵瀹曟劙宕烽銊﹀婵鍋撶�氾拷162074
							fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162074, Arrays.asList(name));
						}
						return false;
					}
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬪銈冨灪閻熲晠骞冮埄鍐╁劅妞ゆ梹鍨濆锔剧磽閸屾艾锟芥悂宕愰悜鑺ュ殑闁兼悂娼ч崹鏃堟倵闂堟稒鎲哥紒锟芥繝鍌橈拷鎺戭潩閻愵剙顏堕柣搴㈩問閸犳牠鈥﹂悜钘夌畺闁靛繈鍊栭崑鏍倵濞戞顏堫敂閸洘鈷戞慨鐟版搐閻忣亝銇勯弮锟介悧鐘诲箖閻愬搫绠氭い顑斤拷宕囩Ш闁诡噮浜畷銊╊敇瑜庨崰妯肩磽閸屾瑧璐伴柛锝庡櫍瀹曪綁宕橀鎯хウ闁诲函缍嗛崰妤呭疾濠婂牊鍋℃繛鍡樼懅缁嬪鎮楀顑惧仮婵﹦绮幏鍛村川婵犲倹娈樼紓鍌欑椤戝棝宕归崸妤�鏋侀柛鎰靛枟閺呮繈鏌涚仦鐐殤闁哄苯鐗撳娲嚃閳圭偓瀚涢梺鍛婃尰缁嬫挻绔熼弴鐔洪檮闁告稑锕﹂崢钘夆攽閳藉棗鐏犻柟纰卞亰瀵娊鏌嗗鍡欏幗闂婎偄娲﹂幖鈺呭吹閻斿吋鐓ラ柣鏂垮殩閹风兘鎮ゆ担鍦Х婵犵數鍋涘鍫曟晝閵忋倕绠栭柣鎴ｆ閻撴盯鏌涘☉鍗炲箺闁诲寒鍓熼幃妤呯嵁閸喖濮庡銈忓瘜閸ㄥ磭鍒掗崼顫嫹閿濆骸浜栧ù婊勭矒閺岀喖骞戦幇顓犮�愬銈呭閹稿墽妲愰幒鎾寸秶闁靛ě鍐ㄧ哗婵犳鍠栭敃锔惧垝椤栨粍宕叉繝闈涙处閸庣喖鏌嶉妷銊ョ毢闁烩晛瀛╃换婵嬫偨闂堟稐鍝楀銈嗘礃缁海鍒掓繝姘闁归绀佸▓銊︾節閻㈤潧校闁煎湱鍋撻崕顐︽⒒娴ｇ懓顕滄繛娴嬫櫊楠炲繑顦版惔锝囷紲闂佸憡鎸风粈浣圭瑜旈弻銊╂偄缂佹﹩妫勭紓浣哄Т缁夌懓鐣烽弴銏＄劶鐎规挶鍎卞ú锔撅拷浣冨亹閿熻姤绋掗敋濞存粍顨婂娲传閸曨剙绐涢梺鍝ュУ閹稿墽鍒掔紒妯稿亝闁告劏鏅濋崢閬嶆⒑閺傘儲娅呴柛姗�绠栭、鏃堝川椤旂厧浼庨梻浣瑰濮婂寮查銈囦笉濡わ絽鍟悡鏇熴亜閹扳晛锟芥洟寮搁弮鍫熺厵闁告劕寮堕崳鐣岀磼鏉堛劌绗氭繛鐓庣箻婵℃悂濡疯閸庡矂姊绘担鍝ョШ妞ゃ儲鎸荤换娑㈡晸閼恒儺娈介柣鎰摠瀹曞本顨ラ悙鏉戞诞妤犵偞锕㈤獮鏍敇閻愬瓨鐝ㄩ梻鍌氬�峰ù鍥敋瑜嶉～婵嬫晝閸岋妇绋忔繝銏ｆ硾閳句線宕崟搴ｅ枛閹煎湱鎲撮崟顒傛殾闂傚倷绀佺紞濠偽涢崸妤佲挃鐎广儱顦伴弲鎼佹煙鐎涙ê绗х紒鎰⒒閿熻姤顔栭崰妤呭箰閾忣偅鍙忛柨鐔剁矙閺岋絽顫滈敓钘夘焽瑜庨幈銊╁醇閺囩啿鎷绘繛杈剧到閹诧繝宕悙鐑樼厱闁哄啯鎹囧顔剧磼閸屾氨孝闁宠鍨垮畷濂告晲閸涘拑绻濆铏圭磼濡搫顫庨梺绋跨昂閸婃繈宕哄☉銏犵闁圭偨鍔岀紞濠囧极閹版澘宸濇い鏃囨硶椤㈠懏绻濋悽闈涱�撻柟宄板槻闇夐柣妯烘▕閸庢劙鏌ｉ幘瀛樼闁哄矉绻濆畷鎺戔攽閸モ斂锟藉﹪姊虹拠鑼濞存粌鐖煎濠氬Ω閳哄倸浜滈柣鐘叉处閻ｎ偊骞樼紒妯煎幈闂佺懓鐡ㄧ换鍕矓閾忕櫢鎷风憴鍕┛缂傚秳绀侀悾宄邦潨閿熻姤淇婂宀婃Ъ濠电偛鐗撶粻鏍箖瀹勯偊鐓ラ柛娑卞弾閺嗩參鏌ｉ姀鈺佺仚闁哄懐濮撮锝夘敃閿曪拷楠炪垺淇婇悙瀛樼缂傚秴锕顐﹀箛閺夊潡鍞跺┑鐐村灱濞呮洜锟芥艾缍婇弻銊╂偄閸撲胶鐓撻梺鍝勭焿缁辨洟鏁撻弬銈囩К闁糕晜鐗滈敓鑺ョ啲閹凤拷?
				Long selfid=xtable.Livedie2key.select(hostid);
				if(selfid!=null){
					xbean.LiveDieRoleInfo otherLiveDieRoleInfo=xtable.Livedieroleinfotab.select(selfid);
					if(otherLiveDieRoleInfo!=null&&System.currentTimeMillis()-otherLiveDieRoleInfo.getInvitationtime()<LiveDieMange.getLiveDieTime()){
						String name=new PropRole(selfid,true).getName();
						fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162076, Arrays.asList(name));
						return false;
					}
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂佺偓鍎冲锟犲蓟閿濆顫呴柕蹇婃櫇閸旀悂姊哄Ч鍥э拷婵堢不閺嶎厼钃熺�广儱顦导鐘绘煕閺囥劌澧繛鍜冪悼缁辨挻鎷呴悷鏉款潔濡炪們鍔屽Λ娆戠矚鏉堛劎绡�闁搞儺鐏涜閺屾稑鈽夐崡鐐寸亪濠电偛鎳岄崐婵嗩潖閾忓湱鐭欐繛鍡樺劤閸撴澘顪冮妶蹇擃洭闁轰浇顕ч锝嗙節濮橆儵鈺呮煏婢跺牆鐏柡鍌︽嫹闂傚倷鑳剁涵璺侯瀶瑜斿鎻掝煥閸曞灚顔勯梻鍌氬�搁崐椋庣矆娓氾拷楠炲鏁撻悩鍐蹭画闂佹寧娲╅幏鐑芥偂閵堝棙鍙忔俊銈咁儐鐎氳绻濈喊澶岀？闁轰浇顕ч悾鐑芥偄绾拌鲸鏅┑顔筋焾娴滎剟寮堕幖浣光拻濞达絽鎲￠崯鐐烘煙閸濄儱鍘撮柟铏殜瀹曞ジ寮撮悢鍛婄彨闂備胶绮弻銊╁触鐎ｎ喖鐓曢柟杈鹃檮閻撶姴鈹戦钘夊闁跨喕濮ゅú鐔奉嚕閹间礁绠ｉ柨鏃傛櫕閸橀亶姊洪崫鍕灕闁归鍏橀弻锝夋偄閸欏鐝斿銈嗘穿缁插墽鎹㈠┑鍡╂僵妞ゆ挾鍠愰鐔兼⒒娴ｈ櫣甯涢拑閬嶆煟閹垮嫮绡�鐎规洦鍓涢幑鍕偘閳╁啯鏉搁梻浣虹帛椤牏浜稿▎鎰浄婵炴垯鍨洪悡鏇㈡煛閸愭寧瀚归梺缁橆殕椤ㄥ﹪濡撮崘銊㈡瀻闁瑰墽琛ラ幏濠氭⒑缁嬫寧婀伴柣鐕傚缁﹪鎮ч崼婊呯畾濠碉紕鍋熼崢褎鎱ㄩ崒鐐寸厵妞ゆ梹鍎虫禒閬嶆煛娴ｇ鏆ｇ�规洘甯掗～婵囶潙閺嵮勬毆闂傚倸鍊风粈浣虹礊婵犲伣娑氭崉閵婏富鍋ㄩ梺闈涚墕濞层劎绮堟繝鍥ㄧ厸鐎广儱楠搁獮妤呮煟閹惧磭绠婚柣鎿冨亰瀹曟儼顧侀柛搴＄箻閺岋綀绠涢敐鍛亾闂佹眹鍎烘禍顏堢嵁閸℃凹妲婚梺璇″枟閸ㄤ絻褰侀梺鎼炲劀瀹ュ牆鎯堟俊鐐�戦崹铏圭矙閹达箑鐓橀柟杈剧畱閻愬﹪鏌￠崼銉︽锭闁硅棄顑嗙换婵嬫偨闂堟稐绮跺銈嗘处閸樹粙骞堥妸鈺傚仺闂傚牊绋戦悘濠囨煙閼圭増褰х紒鏌ョ畺閿濈偤寮撮姀锛勫幍闂佽鍨庨崨顔藉枛濠电姵顔栭崹閬嶅箰閹惰棄钃熸繛鎴欏灩缁犲鏌涢幇顖氱毢濡ょ姴娲弻鈩冩媴閸濄儱顤�缂備胶绮换鍫ュ箖娴犲顥堟繛鏉戝閸嬨倝寮诲☉銏犖╅柨鏂款潟娴犮垽姊洪悙钘夊姷缂佺姵鎸搁悾閿嬬附缁嬭銊╂煏婢跺﹤鍤辩紒鐘虫崌瀵鎮㈤崗鐓庝罕闂佸壊鍋嗛崰鎾诲礄閿熺姵鈷掑ù锝嗘灮妤犲繘鏌涙繝鍐缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱闁哄洢鍔岄獮鏍р攽闄囧Λ鍕煘閹达附鍊烽柛娆忣槸濞呫倝姊虹紒姗嗘畼濠电儑鎷烽悗娈垮枛椤兘寮幇鏉块唶闁靛繈鍨哄鎴︽⒒娴ｅ憡鎯堟繛灞傚姂瀹曟垵顫滈敓钘夌暦椤愨懡鏃堝川椤旇瀚肩紓鍌欑椤戝棝顢栧▎鎾崇？闁规壆澧楅悡鏇㈡煛閸愭寧瀚归梺鑽ゅ暱閺呯娀鎮伴锟藉畷姗�濡歌濞堟繈姊洪柅娑氱シ婵炲懏娲熷顒勬晸娴犲鈷戦悹鍥ㄥ絻閸よ京绱撳鍛棦鐎规洘鍨垮畷鍗炩槈濡搫浜跺┑掳鍊х徊浠嬪疮椤栫偛鐓曢柟杈鹃檮閻撴瑦銇勯弽褎顥滈悗姘煎櫍閵嗗懏瀵肩�涙ǚ鎷虹紓浣割儐椤戞瑩宕曡箛娑欏�垫慨姗嗗亜瀹撳棙顨ラ悙鎻掓殭閾伙綁鏌ゆ慨鎰拷妤呮儊閸儲鈷戦柛娑橈攻婢跺嫰鏌涘锟界粻鏍极瀹ュ拋鐓ラ柛鎰剁稻閺傦拷闂佸湱鍎ゆ繛濠傜暦閹邦垼妯勫Δ鐘靛仜缁绘﹢骞冨鍫熷殟闁靛／鍐ㄧ闂傚倷鐒﹂崕鍐裁瑰璺虹；闁瑰墽绮崵锟介梺绉嗗嫷娈曢柣鎾跺枑缁绘盯骞嬪┑鍡氬煘闂佸搫顑冮崐婵嬪蓟閵娾晜鍋勯柛娑橈功娴煎嫮绱撻崒姘毙㈡俊顐ｇ箞瀵偊骞橀崜渚�鈹忛柣搴秵娴滄粎绮绘繝姘拺闁告縿鍎辨牎闂佺粯顨堟繛锟介柣娑卞櫍瀹曟﹢顢欓挊澶涙嫹婵犳碍鐓㈡俊顖欒濡插搫螖閻樺弶鎼愰柍瑙勫灴閹瑩宕ｆ径妯伙骏闂備胶顭堥鍡涘箰閹间焦绠掗梻浣芥硶閸ｏ箓骞忛敓锟�
				fire.pb.PropRole guestprole = new fire.pb.PropRole(objectid, true);
				if(COffTitle.isLiveDieTitle(guestprole)){
					fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162089, null);
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬪銈冨灪閻熲晠骞冮埄鍐╁劅妞ゆ棁濮ょ粊浼存⒒閸屾艾锟界兘鎳楅崼鏇楋拷锕傚醇閻曚焦顔旈梺鍛婄缚閸庡骞忓畡鎵虫闁圭儤鎸婚悵姘節绾板纾块柡浣筋嚙閻ｇ兘鎮㈢喊杈ㄦ櫖濠殿喗顭堟禍顒�顭囨径鎰拻濞达絼璀﹂悞楣冩煛閸偄澧扮紒顔界懇楠炴帒螖娴ｉ晲鎴锋俊鐐�曠换鎰版偋婵犲洤鐓曢柟杈鹃檮閻撴瑩鏌ゅù瀣珔濞寸姵绮岄埞鎴﹀灳閻愯棄浠梺鍝勬湰濞茬喎鐣锋總鍛婂亜缂佸灏呴幏鐑藉箛椤曞棙瀚规繛鍫濈仢閺嬫稒銇勯鐘插幋鐎殿噮鍋婇獮妯肩磼濡桨姹楅梻浣藉亹閳峰牓宕滈敃锟藉嵄鐟滅増甯楅埛鎺楁煕鐏炴崘澹橀柨鐔诲Г閹倿骞冭缁绘繈宕熼鐘靛幆闂備浇顫夐崕鎶筋敋椤撯偓锟藉懘鎮滈懞銉у帗闂佸憡绻傜�氼參宕冲ú顏呯厓闂佸灝顑呴悘鎾煙椤旇偐绉虹�规洖鐖奸弫鎰疀閺傛浼撻柣搴ゎ潐濞叉牕煤閿濆绠ｉ柣鎴ｅГ閳锋帒霉閿濆牊顏犻悽顖涚洴閹粙顢涢敐鍕嚬婵烇絽娲ら敃顏勭暦閸洖鐓涘ù锝呮憸娴滅増绻濋悽闈涗粶婵☆偅鐟╁畷婵嬪即閻樻剚鍋ㄩ梺缁樺姉椤ｎ噣骞忛悜鑺ュ剬闁告稑锕ら鍫曟⒑鐠囨彃鍤辩紓宥呮瀹曟垿宕熼锝嗘櫆闂佸壊鍋呭ú姗�鍩涢幋锔界厵缂佸瀵ч幑锝囩磼閻樿櫕灏摶鏍煟濡寧鐝柛濠冨姍閺岋絽鈽夐崡鐐寸亪闁句紮缍侀弻銈吤圭�ｎ偅鐝栭梺鎸庣♁缁挸顫忛搹鍦＜婵☆垰娴氭禍鐐寸珶閺囥埄鏁囬柣鏂挎啞閻濈兘姊哄Ч鍥х仼闁硅绻濋幃鈥斥槈濮樼偓瀚归柣褍鎲＄�氬綊姊虹捄銊ユ瀺缂侇喗鐟ラ悾閿嬪閺夋垹顔掔紓鍌欑劍钃辨繛鍛灲濮婃椽宕楅梻纾嬪焻闂佺瀛╂繛濠囧春閿旂晫鐟归柨鐔剁矙瀵顓奸崶鈺冪暥闂佸憡绻傜�氭悂骞忛悜钘夊唨妞ゆ劑鍊楁径鍕⒑娴兼瑧鍒伴柣顒�銈搁幆灞解枎閹炬潙浠繛鎾村嚬閸ㄦ娊宕㈠☉娆庣箚闁肩⒈鍓欓崢瀛樻叏婵犲嫮甯涢柟宄版嚇閹崇偤濡疯閿熻棄锕娲閳哄啰肖缂備胶濮甸幑鍥偘椤旇法鐤�婵炴垶鐟﹀▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹
				xbean.LiveDieRoleInfo geustliveDieRoleInfo=xtable.Livedieroleinfotab.select(objectid);
				if(geustliveDieRoleInfo!=null){
					if(System.currentTimeMillis()-geustliveDieRoleInfo.getInvitationtime()<LiveDieMange.getLiveDieTime()){
						String name=new PropRole(objectid,true).getName();
						fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162077, Arrays.asList(name));
						return false;
					}
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂佺偓鍎冲锟犲蓟閿濆顫呴柕蹇婃櫇閸旀悂姊哄Ч鍥э拷婵堢不閺嶎厼钃熺�广儱顦导鐘绘煕閺囥劌澧繛鍜冪悼缁辨挻鎷呴悷鏉款潔濡炪們鍔屽Λ娆戠矚鏉堛劎绡�闁搞儺鐏涜閺屾稑鈽夐崡鐐寸亪濠电偛鎳岄崐婵嗩潖閾忓湱鐭欐繛鍡樺劤閸撴澘顪冮妶蹇擃洭闁轰浇顕ч锝嗙節濮橆儵鈺呮煏婢跺牆鐏柡鍌︽嫹闂傚倷鑳剁涵璺侯瀶瑜斿鎻掝煥閸涱垱鍣梻鍌氬�搁崐椋庣矆娓氾拷楠炲鏁撻悩鍐蹭画闂侀潧顦弲婊堝疾濠靛鐓忓璺烘濞呭懎顩奸崨瀛樷拺闁告稑锕ユ径鍕煕閵娿倕宓嗙�规洘锕㈤弫鎾寸鐎ｎ偀鎷洪梻鍌氱墛娑撶懓鈽夊顐ｅ媰闂佺粯鍔﹂崜锕傚疮閸ヮ剚鈷掗柛灞捐壘閿熺晫鍏橀幊妤呭醇閺囨鎷烽敃鍌氶唶闁绘洑鐒﹂鏃堟⒑瑜版帗锛熼柣鎺炵畵瀵彃鈹戦崶銉ょ盎闂婎偄娲﹂幐鐐櫠閺囥垺鐓㈤柛鎰典簻閺嬫盯鏌″畝瀣М鐎殿噮鍣ｅ畷鎺戭潩椤戣法甯涚紓鍌氬�烽懗鑸垫叏閻㈠灚鏆滈柨鐔哄Т閽冪喖鏌ｉ弬鍨倯闁稿﹦绮穱濠囶敍濠靛浂浠╂繛瀵稿Т閻°劎鎹㈠┑鍡忔灁闁割煈鍠楅悘鍫ユ⒒娴ｇ绨荤紓宥勭窔閻涱噣宕橀妸褎娈濋梻渚囧弿婵″洭宕ｉ崱娑欌拺闁告稑锕ユ径鍕煕閹惧娲寸�规洘鐟╅弫鎾绘偐閺傘儲瀚肩紓鍌氬�烽悞锕傛晝閳轰讲鏋旈柡鍐ㄧ墛閻撱儵鏌￠崶鏈电盎妞も晩鍓熼弻娑㈠箳閹惧磭顑傞梺璺ㄥ枑閺嬭崵绱為崱妯碱洸闁割偅娲栫憴锕傛倵閿濆簼鎲鹃柣鏂挎閹綊鎼归悷鎵閻庤鎮堕崕鐢稿蓟閵堝绾ч悹鎭掑妺閾忓酣姊虹�圭媭娼愰柛銊ョ埣閻涱喗绻濋崶銊у幈婵犵數鍊崘鈺傛倷缂備胶濯崹鍫曞蓟閿濆绠ｉ柨婵嗘啗閹剧粯鐓熼柟鎹愭硾閺嬫盯鏌″畝锟介崰鏍箖濠婂吘鐔兼嚒閵堝懎姹查梻浣圭湽閸╁嫰宕规导瀛樺亯闁绘挸瀹☉娆愬闁荤喐澹嗙粣鐐烘煟鎼搭垳绉甸柛鎾寸洴閹線宕奸悢铏圭槇闂佹眹鍨藉褍鐡梻浣侯焾閿曘倗绱炴繝鍛紓闂備胶绮崝鏍偩椤忓懐顩叉繝濠傜墢閸欐捇鏌涢妷锝呭缂侊拷閿熶粙鏌″蹇曠？缂佽鲸鎸婚幏鍛存惞閻熸壆顐奸梻浣哄劦閺呪晠宕规导瀛樺仼闂佸灝顑囬梽鍕煕濞戞﹫宸ュù婊勭矋娣囧﹪鎮欏顔煎壈缂備降鍔忛崑鎰ｉ幇顑芥斀闁搞儻濡囩粻姘舵⒑闂堟稓澧曟繛灞傚�曢弳鈺呮⒒娴ｄ警鐒炬い鎴濇閹嫰顢涢悙顏庢嫹娓氾拷瀵粙顢橀悙鑼崺闂備浇顫夐鏍窗閺囥垺鍤嬫い蹇撶墛閳锋帡鏌涚仦鍓ф噭缂佷焦澹嗛敓鍊燁潐濞叉粓寮拠鑼殾濞村吋娼欑粻娑欍亜閹烘埈妲洪柛鐐烘涧閳规垿顢欑粵瀣吅闂佸綊顥撻崗姗�寮婚妸銉㈡斀闁割偅绻�濡叉劙姊烘潪鎵妽闁圭懓娲顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷
				Long otherid=xtable.Livedie2key.select(objectid);
				if(otherid!=null){
					xbean.LiveDieRoleInfo otherLiveDieRoleInfo=xtable.Livedieroleinfotab.select(otherid);
					if(otherLiveDieRoleInfo!=null&&System.currentTimeMillis()-otherLiveDieRoleInfo.getInvitationtime()<LiveDieMange.getLiveDieTime()){
						if(otherLiveDieRoleInfo.getObjectid()==hostid){
							String name=new PropRole(objectid,true).getName();
							fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162075, Arrays.asList(name));
							return false;
						}else{
							String name=new PropRole(objectid,true).getName();
							fire.pb.talk.MessageMgr.sendMsgNotify(hostid, 162077, Arrays.asList(name));
							return false;
						}
					}
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐礃椤曆囧煘閹达附鍋愰柛娆忣槹閹瑧绱撴担鍝勵�岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙宕濋幒鎾剁鐎瑰壊鍠曠花鑽ょ磼閻欏懐绉柡宀嬬到铻ｉ悹鍥ㄥ絻椤亪姊虹粙娆惧剭闁告柨鐭傞崺鐐哄箣閿旂粯鏅╃紓浣圭☉椤戝洭宕濈粙搴撴斀闁绘劕妯婂Σ鍦磼鐎ｎ偅灏垫俊鍙夊姍楠炴帒螖閿熶粙鎮″☉銏＄厱婵炴垵宕弸銈夋煕濞嗗繑顥㈡慨濠呮缁辨帒螣閼姐値妲梻浣侯焾閿曘倕锕㈤柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�
				List<Long> list = new ArrayList<Long>();
				list.add(hostid);
				list.add(objectid);
				mkdb.Lockeys.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK, list));
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴婵﹥妞介、妤呮晸閻ｅ瞼鐭撻柡灞诲劜閺呮悂鏌﹀Ο渚Ц闁跨喕妫勫锟犲Υ娴ｇ硶鏋庨柟鎯х－椤︻參鎮峰鍐閽樻繃銇勯弽銊с�掔紒鐘荤畺瀵爼宕煎┑鍡忔寖闂佽鍠涢崑鎰版儉椤忓牜鏁囬柣鎰版涧閻撶喖鎮楀▓鍨灓妞ゎ厼鐗撻、姗�宕楅悡搴ｇ獮婵犵數濮寸�氱兘宕崶銊х瘈闁汇垽娼ч崜宕囩磽瀹ュ懏顥㈢�规洘绮岄埢搴ㄥ箛椤忓棛鐣惧┑鐐差嚟婵挳顢栭崱娑欏亗闁绘柨鍚嬮悡娆撴煕椤垵鏋涙い蹇ｅ亞缁辨帗寰勫Ο鐑樼彎闂佸搫鐬奸崰鏍�佸▎蹇婃瀻闁绘劦鍓涚粔鐑芥⒒娓氾拷濞佳囨偋閻愮數涓嶉柟鎹愬吹瀹撲線鏌熼柇锕�骞楅柛搴ｅ枑閵囧嫰寮崶璺烘闂佺妫勯鍛村煘閹达附鏅柛鏇ㄥ亗閺夘參姊虹粙鍖℃敾婵炲弶锕㈤妴鍐Ψ閵娧呮澑濠电偞鍨堕…鍥敊閸℃稒鈷戦悹鎭掑妼濞呮劙鏌熼崙銈嗗
				fire.pb.item.Pack bag = new fire.pb.item.Pack(hostid, false);
				int cost=LiveDieMange.getLiveDieCostMoney();
				if(bag.getMoney()<cost){
//					MessageMgr.sendMsgNotify(hostid, 145005, null);
					return false;
				}
				if (bag.subMoney(-cost, "濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂濠氭偄閸忓皷鎷婚柣搴＄仛閻℃洜绮ｅΔ鍛拺閺夌偞澹嗛ˇ锕傛倵濮橆偄宓嗙�殿喛顕ч埥澶愬閻橀潧濮堕梻浣告啞閸旓附绂嶉弽顬綁宕奸妷锔规嫼闂佺鍋愰崑娑欎繆婵傚憡鐓曞┑鐘插�荤粔鍝勨攽閿涘嫭鏆�规洜鍠栭、娑橆潩妲屾牕鏁介梺璇查缁犲秹宕曢柆宥嗗亱闁糕剝绋戦崒銊╂煥閻斿搫校闁抽攱鍨归敓鍊燁潐濞叉牕煤閵娧勬殰婵炴垶鐟х粻楣冩煠绾板崬澧柡瀣〒閿熻姤顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑樏归敐鍫燁仩婵炵厧顦靛缁樻媴鐟欏嫬浠╅梺绋垮濡炰粙骞冮敓鐘查唶婵犮埄浜濋惄顖氱暦閻旂⒈鏁嶆繛鎴炲笚鐎氬ジ姊绘担鍛婂暈闁告梹鐗為妵鎰板礃閵婂函缍侀幊锟犲Χ閸モ晪绱茬紓鍌氬�烽悞锕傚煟閵堝鏁傞柛顐墰缁嬪繘妫呴銏″婵﹨宕靛褔鏁撻挊澶嗘斀妞ゆ梹鏋绘笟娑㈡煕閹惧娲撮挊婵喢归悡搴ｆ憼闁抽攱鍨块幃妤呭捶椤撶倫锝夋煏閸℃鏆熺紒杈ㄥ浮閻擃剟骞撻幒鐐村婵犻潧顑囧畵渚�鐓崶銊﹀暗闁哄棗顑夐弻鐔告媴閸愨晝褰ч梺鍝勫亰閹风兘姊绘担绛嬪殭闁告垹鏅槐鐐哄幢濡⒈娲搁梺缁樺姃鐠�锕傚极婵犲洦鐓欓弶鍫ョ畺濡绢噣鏌ｉ幘瀵糕槈妞ゎ叀娉曢幑鍕偖閺夋垵顫犲┑鐘媰閸曨偄顫掗梺鍝勭焿缁绘繂鐣烽妸鈺婃晩闁告挆鍛辅闂佽瀛╅鏍窗濡や胶绠惧┑鐘叉搐閺嬩線鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?", fire.log.enums.YYLoggerTuJingEnum.tujing_Value_xiazhanshu, 0) != -cost) {
//					MessageMgr.sendMsgNotify(hostid, 145005, null);
					return false;
				}
				hostliveDieRoleInfo=xtable.Livedieroleinfotab.get(hostid);
				//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洏鍔庨敓鑺ョ♁椤洭宕㈤幖浣圭厽閹兼惌鍨冲畝娑㈡煛閸涱喚绠樼紒顕嗙秮瀵噣宕奸悢鍝勫箰闁诲海娅㈤幏鐑芥倵閿濆骸澧柛鈺佺焸閺屟呯磼濡厧鈷岄梺鍝勮閸旀垿骞冮姀銈呯濞达綀娅ｉ崢顖炴⒒娴ｇ瓔鍤冮柛鐕佸亰瀹曟儼顦查柤鏉跨仢閳规垿鎮欓崣澶樻！闂佹悶鍔岀紞濠囧箖閻愭番鍋呴柛鎰ㄦ杹閹锋椽姊洪崷顓х劸閻庢稈鏅濈划鍫ユ晸娴犲鈷戠紒瀣皡瀹搞儵鏌熼懞銉х煂闁告帗甯″鎷岀疀鐎ｂ晜鐫忛梻浣告贡閸庛倝骞愭ィ鍐ㄧ煑闁糕剝绋掗埛鎴犵磽娴ｈ偂鎴犵矆閿熶粙姊虹粙鍖″伐婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗?
				if(hostliveDieRoleInfo==null){
					hostliveDieRoleInfo=xbean.Pod.newLiveDieRoleInfo();
					xtable.Livedieroleinfotab.insert(hostid, hostliveDieRoleInfo);
				}
				hostliveDieRoleInfo.setObjectid(objectid);
				hostliveDieRoleInfo.setSelecttype(selecttype);
				hostliveDieRoleInfo.setInvitationtime(System.currentTimeMillis());
				hostliveDieRoleInfo.setAcceptflag(0);
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴鐎殿喖鐖煎畷鐓庮潩椤撶喓褰呴梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷闂侀潧臎閸涱垰甯掗梻鍌欑閹碱偄螞濞嗘垵鍨濋柟鎹愵嚙閽冪喖鏌ｉ弬鍨倯闁稿﹦绮幈銊ノ旈敓钘壩涘▎鎾村仼闁割偅娲橀埛鎴炵箾閼奸鍤欐鐐搭殕閵囧嫰濡搁妷顖濆惈閻庢鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏃撻檮缁傚秹寮介‖顒婄秮瀹曞ジ濮�閵忣澁绱冲┑鐐存尰閼归箖鏁冮妷褝鎷峰顒傜Ш婵﹨娅ｇ划娆戞崉閵娧傜礃闂備胶顭堥鍥磻閵堝懐鏆﹂柟鎵閸嬨劑鏌涘☉姗堝姛闁告﹢浜跺娲箰鎼淬埄姊垮銈嗘肠閸モ晛绁﹂梺鍝勭▉閸嬪倿鎮炴繝鍥╁彄闁搞儯鍔嶇粈鍫㈢棯閹规劖顥夐柕鍡樺笒椤繈顢楁担瑙勫�烽梻浣告惈椤戝洭宕伴弽顓炶摕闁绘柨鍚嬮崑锟犳煟濡わ拷閻楀棝寮搁悩鍙傛棃鎮╅棃娑楃捕闂佸摜鍠愬娆撴偩闁垮闄勭紒瀣仢瀹撳棝姊虹紒妯荤叆闁硅绻濋、鏃堟偄閸忓皷鎷绘繛杈剧秬婵倗娑甸崼鏇熺厱闁挎繂绻掗悾鍨殽閻愯尙绠婚柡浣规崌閺佹捇鏁撻敓锟�?
				Long object=xtable.Livedie2key.get(objectid);
				if(object==null){
					xtable.Livedie2key.insert(objectid, hostid);
				}else{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠嶇划娆撳箖閸ф鏁婂┑顔藉姃缁ㄥ姊虹憴鍕凡闁绘牜鍘ч‖濠囶敋閿熶粙寮诲☉姘炬嫹閿濆簼鎲炬俊顖ゆ嫹闂備礁鎼惌澶岀礊娓氾拷閻涱喖顫滈敓钘夌暦濡警鍟呮い鏂垮悑閺嗘柨鈹戦悩鍨毄闁稿鍋ゅ畷褰掝敍閻愭彃鐎梺闈╁瘜閸樼偓绋夊鍚ゅ綊宕楅崗鑲╃▏缂備胶濮寸紞濠囧蓟閻斿搫鏋堥柛妤冨仜缁犺櫣绱撴担钘夌厫缁炬澘绉归獮鍫ュΩ閵夘喗寤洪梺鍓插亖閸ㄥ寮抽妶鍛斀妞ゆ梻銆嬮弨缁樹繆閻愭壆鐭欓柣娑卞櫍瀵粙顢橀悢鍑ゆ嫹閻戣姤鐓欑紓浣姑粭鎺撱亜椤愶絽鐏存慨濠勭帛閹峰懘宕ㄦ繝鍌涙畼闂備礁鎼悮顐﹀礉鎼达絽鍨濋柡鍐ㄧ墛閸嬶繝鏌熷▓鍨灍婵炲牊鍎抽埞鎴︽倷閸欏鏋欐繛瀛樼矋缁孩绔熼弴銏犵闁稿繒鍘у鍧楁⒑閹稿海绠撳Δ鐘虫倐閻涱喖顫滈敓浠嬪蓟閻斿吋鎯炴い鎰剁到绾炬娊姊洪悙钘夊姷缂佺姵鎸绘穱濠囧箹娴ｅ摜鍘告繛杈剧导鐠�锕�危娴煎瓨鈷掑ù锝囶焾閺嗛亶鏌熺喊鍗炰喊妞ゃ垺鐗犲畷鎯邦檨闁哥喎鎳忕换婵嬫濞戞艾鈪辩紒鎯у綖缁瑩寮诲☉姘勃闁告挆鍕珬缂傚倷妞掗悞锕�顭垮锟介垾鏃堝礃椤旇偐楠囬梺鐟邦嚟閸嬬偤宕伴幇鐗堚拺闁荤喐澹嗛悾顓㈡煕閵娿劍顥夐柣锝夋敱缁虹晫绮欑拠淇卞姂閺屾洘寰勯崼婵嗩瀴闂佺寮撻崡鍐差潖閾忚瀚氶柤纰卞墰椤斿﹪姊虹粙娆惧剳闁哥姵鐗犻獮鍐洪鍕潉闂佸壊鍋呯换鍡氼杺闂備浇顕ч崙鐣岀礊閸℃稑绐楁俊銈呮噺閸嬪倿鏌￠崶銉ョ仾闁绘挸鍟撮弻宥嗘姜閹殿噮妲梺鍝勵儍閸婃繈寮婚敐澶婄鐎广儱娲ㄩ悡鎾绘⒑閸濆嫭婀扮紒瀣灱閻忔帡鏌ｉ悩鍙夊鐟滄澘鍟撮敐鐐哄箳濡や讲鎷洪梺鍛婄箓鐎氼噣鎮炵捄銊х＝鐎广儱瀚粣鏃�顨ラ悙鎻掓殻闁糕晪绻濆畷鎺戔槈濮樻瘷銈夋⒒娴ｇ鏆遍柟纰卞亰閺佸啴濡烽妸銏犲緧濠电姷鏁告慨鐑藉极閸涘﹥鍙忔い鎾卞灩缁狀垶鏌涢幇闈涙灈缁炬儳鍚嬬换婵囩節閸屾稑娅ч梺鍛婏供閸ㄨ泛顫忕紒妯诲缂佹稑顑呭▓鎰版⒑閸濄儱校闁绘娲熼垾锕傚炊椤掞拷閻忓磭锟借娲栧ú锕�鈻撴ィ鍐┾拺闁告稑顭▓姗�鏌涚�ｎ偄濮囬崡閬嶆煕椤愩倕鏋嶇紒璇叉閵囧嫰寮介妸銉︾枃闂佽法鍠曞Λ鍕敄閸ヮ灛锝夊箛閻楀牊娅㈤梺璺ㄥ櫐閹凤拷?
					xtable.Livedie2key.remove(objectid);
					xtable.Livedie2key.insert(objectid, hostid);
				}
				SInvitationLiveDieBattleOK sInvitationLiveDieBattleOK =new SInvitationLiveDieBattleOK();
				sInvitationLiveDieBattleOK.sourceid=hostid;
				sInvitationLiveDieBattleOK.sourcename=hostprole.getName();
				sInvitationLiveDieBattleOK.selecttype=selecttype;
				Onlines.getInstance().send(objectid, sInvitationLiveDieBattleOK);
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮婚悢纰辨晬闁糕剝顨嗗﹢浼存倵闂堟稒婀扮紒缁樼〒閿熺晫鏁搁…鍫濈摥婵＄偑鍊栭崹鐢稿箠閹邦喖鍨濋柛顐犲劚绾惧ジ鏌ｉ幇顒夊殶闁告﹢浜跺娲濞戣鲸肖闂佹悶鍔岄幖顐﹀煝瀹ュ鐐婇柍鍝勫暞閿涘繘姊虹涵鍜佹綈闁告梹鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！闂侀潻绲惧浠嬪蓟閻旂⒈鏁嶆慨妯哄船閳敻姊洪崫鍕効缂佽鲸娲熼弫鎾诲棘閵堝洨校婵炲瓨绮犳禍顏勭暦閿濆绀嬫い鏍ㄧ〒閸樻悂鏌ｈ箛鏇炰粶濠⒀傜矙閸┿儲寰勯幇顓犲帗闁荤姴娲﹂悡锟犲矗閸曨剦娈介柣鎰级閸犳ɑ銇勯姀鈽呰�块柟顕呬邯閺佹捇鎸婃竟鈺嬬秬閵囨劙骞掗幘璺哄箺闂佺懓鍚嬮悾顏堝磹閵堝拋鐒介柟閭﹀幘缁犵偓绻涢弶鎴剱婵炲懎锕ラ〃銉╂倷閼碱剛顔掗梺杞扮劍閹瑰洭寮幘缁樻櫢闁跨噦鎷�?
				String hostname=new PropRole(hostid,true).getName();
				String guestname=new PropRole(objectid,true).getName();
				MessageMgr.sendSystemMsg(162066,Arrays.asList(hostname,guestname));
				
				logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻姤鎮傞崺鐐哄箣閿旇棄浜归柣搴℃贡婵挳藟濠靛牏纾藉ù锝囨嚀婵牊銇勯妸銉含鐎殿喖顭烽幃銏㈢矙濞嗘儳娈奸梻浣告惈椤︿即宕归幎钘夌獥濠电姴娲﹂埛鎴﹀级閻愭潙顥嬫い锔奸檮娣囧﹪顢曢敐鍥╃杽閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍫曟煕椤愮姴鐏痪鎹愭闇夐柨婵嗘噺閹牊銇勬惔銏″暗缂佽鲸甯″濠氬Ψ瑜忛弳顐⑽旈悩闈涗粶闁绘鎸绘穱濠囧箹娴ｈ倽銊╁箹濞ｎ剙鐏い銉ョ墦閺屸剝鎷呯憴鍕瀺缂備礁鍊圭敮鐐烘晸閺傘倗绉甸柛瀣缁傚秹鏌嗗鍡╂濡炪倖鍔戦崹鐑樺緞閸曨剛绠鹃柛娆忣槺閻帡鏌熼姘辩劯鐎规洖宕灃濠电姴瀚弫鎼佹⒑閼姐倕孝闁圭⒈鍋夐妵鎰板锤濡わ拷闁卞洦绻濋姀鈺�鎮嶇紓宥勭閻ｉ攱绺界粙璇俱劑鏌ㄩ弮锟介崕鎶界嵁瀹ュ鈷掑ù锝堟鐢盯鏌涢弮鎾剁暤鐎规洘绮岄埢搴ㄥ箛椤撶喓褰挎俊鐐�栭悧婊堝磻閻愮儤鍋傞柡鍥ュ灩缁犺绻涢敐搴″闁诲繆鏅涢埞鎴︻敊閼测敩褔鏌″畝瀣？濞寸媴绠撳畷婊嗩槼闁告帗鐩娲倷閽樺濮风紓浣哄У閹瑰洭鎮伴鎾呮嫹閿濆簼绨撮柡锟芥禒瀣厱闁虫拝鎷烽柡鍛矊闇夐柛銉㈡櫇绾句粙鏌涚仦鎹愬闁跨喍绮欓ˉ鎾跺垝閸喓鐟归柨鐔剁矙閵嗕線寮介鐐殿吅闂佹寧娲╅幏椋庣磼閻欙拷閸ㄥ爼寮婚妸鈺傚亞闁稿本绋戦锟�?,闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭獮宥夘敊绾拌鲸姣夐梻浣侯焾椤戞垹鎹㈠┑瀣摕闁靛ň鏅涚猾宥夋煕鐏炲墽鐓瑙勬礋濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鏅插璺猴攻椤ユ繈姊洪崷顓х劸閻庢稈鏅犲畷浼村箛閻楀牃鎷虹紓鍌欑劍椤洨绮诲顓犵濠㈣泛顑囧ú鎾煕閳哄啫浠辨鐐差儔閺佸啴鏁撻悾灞筋棜闁稿繗鍋愮弧锟芥繝鐢靛Т閸婅鍒婃總鍛婄厱閹兼惌鍨辩�氾拷"+hostid+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆忎化闁哄鍋炴刊浠嬵敆閻斿吋鐓曢幖娣灩婵牏绱掔紒妯兼创鐎规洏鍔戦、娑樞掗崠锛勬偧缂佽鲸甯炵槐鎺懳熼崗鐓庡灡婵°倗濮烽崑鐐烘晪闂佷紮绲块崗妯虹暦閹偊妲荤紓浣瑰姧閹凤拷"+objectid+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑㈠Χ閸℃顦伴梺鍝勬湰閻╊垶銆侀弴銏℃櫜闁糕剝鐟Σ顒勬⒒娴ｈ鍋犻柛鏂跨焸瀹曟劙宕稿Δ锟介拑鐔哥箾閹寸偟鐭ゆ俊鑼帶椤啴濡堕崘銊ヮ瀳闂佺娅曢崝妤呭礆閹烘梻纾兼俊顖欒閸ゃ倝鏌ｆ惔銏⑩檨妞ゎ厼娲畷銏ゅ础閻戝棙瀵岄梺闈涚墕濡鎱ㄨ缁辨帡骞撻幒鎴旀寖缂備緡鍠栭悧鎾诲极閹惧顩烽悗锝庡亐閹锋椽姊洪崨濠勭畵閻庢氨鍏樺畷鏇熸償閿濆洨锛滈梺璺ㄥ枙婵倗绮悢鍏兼櫢闁芥ê顧�閼板灝銆掑鐐濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у苯鏁归梻鍌欑閹诧繝鎳濇ィ鍐炬晞闁搞儮鏅滈～鏇㈡煟閹邦剚鎯堢紒鐙呯秮閺岋綁骞囬鑺ユ瘎濡炪倖姊瑰ú鐔奉潖濞差亜宸濆┑鐘插閻擄拷闂備礁鎽滈崳銉╁垂閹惰姤鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗"+cost);
				return true;
			};
		}.submit();
		
		
		
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 793835;

	public int getType() {
		return 793835;
	}

	public long objectid; // 目标玩家id
	public int selecttype; // 0单人   1组队

	public CInvitationLiveDieBattleOK() {
	}

	public CInvitationLiveDieBattleOK(long _objectid_, int _selecttype_) {
		this.objectid = _objectid_;
		this.selecttype = _selecttype_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(objectid);
		_os_.marshal(selecttype);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		objectid = _os_.unmarshal_long();
		selecttype = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CInvitationLiveDieBattleOK) {
			CInvitationLiveDieBattleOK _o_ = (CInvitationLiveDieBattleOK)_o1_;
			if (objectid != _o_.objectid) return false;
			if (selecttype != _o_.selecttype) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)objectid;
		_h_ += selecttype;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(objectid).append(",");
		_sb_.append(selecttype).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CInvitationLiveDieBattleOK _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(objectid - _o_.objectid);
		if (0 != _c_) return _c_;
		_c_ = selecttype - _o_.selecttype;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

