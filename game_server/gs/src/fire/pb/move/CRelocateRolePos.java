
package fire.pb.move;
import fire.pb.scene.Scene;
import fire.pb.scene.movable.SceneTeam;
import fire.pb.scene.sPos.Position;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CRelocateRolePos__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CRelocateRolePos extends __CRelocateRolePos__ {
	@Override
	protected void process() {
		final fire.pb.scene.movable.Role role = fire.pb.scene.manager.RoleManager.getInstance().getRoleByProtocol(this);
		if(null == role)
			return;
		if(sceneid != role.getScene().getSceneID())
		{
			Scene.LOG.info("CRelocateRolePos闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛閺夎法顔愭繛杈剧悼椤牓鎮楅銏♀拺缂佸娉曢悘閬嶆煕鐎ｎ剙浠辩�规洘鍨块弫鎰緞婵犲嫰鐛撻梻浣虹帛閸旀牕顭囧▎鎿冩晛婵犲﹤瀚ㄦ禍婊堟煙閻戞ɑ鐓ラ柡瀣洴閺屸�崇暆鐎ｎ剛袦濡ょ姷鍋炵敮鎺楊敇婵傜鐐婇柍鍝勫暙楠炲棝姊婚崒娆戭槮闁圭⒈鍋婇幆灞惧緞瀹�锟界粈濠偯归敐鍫綈闁告瑥绻橀弻銊╂偄閸撲胶鐓撻梺鍝勭焿缁插�熺亽闂佸憡绻傜�氼厼袙閹扮増鈷戦柛婵嗗椤ユ粓鏌ｅΔ浣瑰碍妞ゎ偄绻橀幖褰掑捶椤撶姷鍘梻浣侯潒閸曞灚顓归梺璺ㄥ枙婵倝銆冮崼銏☆潟闁圭儤鎸哥欢鐐测攽閻樻彃顏Δ鏃堟煟鎼淬埄鍟忛柛鐘崇洴椤㈡俺顦归柛鈹垮劜瀵板嫰骞囬澶嬬秱闂備胶绮摫鐟滄澘鍟扮划濠囶敋閿熻棄顫忕紒妯肩懝闁跨喕妫勯…鍥樄闁炽儻绠撳畷濂稿Ψ閵壯嶇吹闂備浇顫夐鏍窗濞戞瑦鍙忛柟鎯板Г閻撶姵绻涢弶鎴剱婵炲懎娲ㄩ惀顏堝箲閹邦収妫勯梻鍥ь樀閺屻劌鈹戦崱鈺傂у┑鐐村毆閸愶絾鏂�闂佹寧绋戠�氼厼鈻嶉弴銏＄叆闁绘梻鍎ゅ▍鏇熺箾閸涱偄鐏叉鐐茬箻閹粓鎳為妷褍骞嶉梻鍌氬�搁崐鎼侇敋椤撯懞鍥晝閸屾稓鍙冮梺鍛婂姦娴滄粓寮稿☉銏＄厸閻忕偠顕ф慨鍌炴煙椤斿搫鐏茬�规洦鍋婂畷鐔煎箣濞嗗繒浠炬繛锝呮搐閿曨亪骞冨▎鎾村殝婵炲牊瀵чˉ澶愭⒒閸屾碍鎼愭い锔炬暬瀵濡搁妷銏℃杸闂佺硶鍓濋敋婵炲懌鍊濆铏规兜閸涱厾姣㈠銈庡幖閻楁挸锕㈡笟锟藉铏圭磼濡浚浜滆灒濠电姴娲ら崥褰掓煟閺冨洦顏犵痪鎯с偢瀵爼宕煎☉妯侯瀴闁诲繐绻嬮崡鎶藉蓟閻旈鏆嬮柣妤�鐗嗗▓妤呮⒑鐠団�虫灓闁稿繑锚椤曪綁宕奸弴鐐垫焾闂佸憡鍓崱妤�甯紓鍌欐祰妞存悂骞愭繝姘闁告侗鍠氶々鐑芥倵閿濆簼绨奸柟铏懄缁绘繈鎮介棃娑楀摋闁诲繐绻戦悷鈺佺暦娴兼潙鍐�妞ゆ挾鍠庢禒鎺戭渻閵堝棙顥嗘俊顐㈠濞嗐垽鎮欓悜妯煎幍闂備緡鍙忕粻鎴炴櫠閻楀牄浜滈柡鍐挎嫹閻㈩垱甯￠垾鏃堝礃椤斿槈褔鏌涢埄鍐夸緵婵﹤娼″铏圭矙濞嗘儳鍓遍梺鍛婃⒐閻熲晠濡存担绯曟瀻闁归偊鍠氶惁鍫ユ⒑閹肩偛鍔橀柛鏂款樀楠炲繐煤椤忓應鎷洪梺鍛婄☉閿曪妇绮婚幘缁樺�垫慨妯煎帶楠炴牗銇勯弬璺ㄧ闁宠鍨归敓鏂ょ秵閸嬪棝宕㈤柆宥嗙厵闁稿繗鍋愰弳姗�鏌涢妸顭戞綈闁逛究鍔戝畷鍫曨敆娴ｇ懓娈欓梻浣虹帛閸旀銆傞锟介獮蹇涙倻閼恒儱鍓梺鍛婄☉閿曘倝顢旈崼鏇熲拻濞达絽鎲￠崯鐐寸箾鐠囇呯暤鐎规洘绮岄埢搴ㄥ箛椤曞懏绁俊鐐�栭幐楣冨磻閹版澘缁╁ù鐘差儐閻撶喐淇婇娑卞劌闁搞倕顑囬敓鍊燁潐閹爼宕曢悽绋胯摕闁绘梻鍘х粈鍐煛鐏炶鍔氱�殿喕鍗冲娲濞戞瑯妫為梺绋匡工濠�杈╃磽閹惧顩烽悗锝庝簻缁愭稒绻濋悽闈浶㈤悗姘煎墴閻涱喖顓奸崶鈺冿紳闂佺鏈悷褔藝閿斿浜滈柟瀛樼箖椤ョ娀鏌ㄩ悢鐑樻珪闁荤喐濞婂畷鎯邦槾闁哄苯鐗撳铏圭磼濡搫顫庨梺绋跨昂閸婃繈骞冮垾鏂ユ闁靛骏绱曢崢鍗炩攽閻愭潙鐏ョ�规洦鍓熼悰顔碱潨閿熶粙寮诲☉銏犵厸閻庯綆鍓涜ⅵ闂備礁鎼惉濂稿窗閺嶎厹锟戒礁鈻庨幋鐐叉瀭闂佸憡娲﹂崜娑溿亹閸モ晝纾介柛灞剧懄缁佹澘顪冮弶鎴炴喐闁轰緡鍣ｉ獮鎺楀即閻樿精鍩呴梻鍌氬�风粈渚�骞夐敍鍕床闁稿本绮ｉ幏宄邦潩閻撳骸鈷嬮柦妯煎枎椤潡鎳滈棃娑橆潔闂佹娊鏀辩敮锟犲蓟濞戞矮娌柛鎾楀嫬娅樻俊鐐�х拋锝囩不閹捐钃熼柣鏃囶問閸︻叏鎷烽敐鍫濈厫閻庢艾缍婇幃娲箳瀹ュ洤濡藉┑锛勫仒缁瑥顕ｉ锕�绀冩い鏃囧亹閿涙粌鈹戦缂存垿宕懡銈嗩潟闂侇剙绉甸埛鎺懨归敐鍛暈闁哥喓鍋涢妴鎺戭潩椤撗勭杹閻庤娲栫紞濠傜暦瑜版帩鏁冮柨婵嗘噹娴煎酣姊绘担鐟板姢婵炲瓨宀稿畷鎴﹀川閺夋垹鐓戦棅顐㈡处閺屟呮崲閸℃ǜ浜滈柡宥冨妽閻ㄦ垵霉閻橆喖鐏查柡宀嬬秮楠炴﹢寮堕幋婵愭綒闂備礁鎼惌澶岀礊娓氾拷閻涱喖螣绾攱瀚归梻鍫熺♁閸熺偤鏌涢幒鎾舵创婵﹥妞藉畷顐﹀礋椤掍焦瀚崇紓鍌欑椤戝棝宕归崸妤�鐏抽柨鏇炲�告儫闂佸啿鎼崐鐟扳枍閵忋倖鈷戝ù鍏肩懅閸掍即鏌ｉ锟介妶鎼佸箚瀹�鍕耿婵＄偟銆嬮幏鐑藉箳閹搭厽鍍甸梺缁樺姦閸撴瑩顢旈崼鏇熲拻濞达絿鐡旈崵鍐煕閻樻剚娈滈柡浣稿暣婵拷闁靛牆鎳愰悾娲⒑闂堟稓绠為柛濠冪墵楠炲棝鎮欓悜妯煎幈闂佹寧妫侀褍顕ｇ捄銊х＜闁告鍋涚痪褏绱掔紒妯肩畵妞ゆ洏鍎甸弻銊э拷锝庡亞閸戯繝姊虹捄銊ユ灁闁绘稏鍊濆畷鎯邦槾妞ゆ柨妫濆缁樻媴閸濄儰铏庡銈嗗灥閸燁垳绮嬪鍜佺叆闁割偆鍠撻崣鍡涙⒑閸濆嫬鏆欐繛璇х畵钘熷璺侯儍娴滄粓鏌曟径鍫濆姶闁稿孩鍨圭槐鎺撴綇閵娿儲璇炲銈冨灪閻熲晠骞冮崜褌娌柟顖嗗嫮褰撮梻鍌氬�峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐差渻閵堝棗閲滈柟鐑筋棑閻ヮ亪骞嗚閻撳ジ鏌″畝锟介崰鏍箖瑜斿畷濂告偄閸濆嫬娈ラ梻鍌欐祰濡嫰宕导鏉戠獥閹兼番鍔夐敓鏂ょ畵瀹曠螖娴ｅ憡鐤傞梻鍌氬�搁悧濠勭矙閹达讣缍栫�癸拷閿熺晫妲愰幘瀛樺闁告繂瀚呴姀銈嗙厽闊洦鏌ㄩ崫鍝勨攽閿涘嫭鏆�规洜鍠栭、娆撳礈瑜庡鎴︽⒒娴ｅ憡璐￠柛瀣崌楠炲棛浠︽潪鎸庣洴閸ㄩ箖骞囨担鐟扮槣闂備線娼ч悧鍡橆殽閸涘﹦顩叉繝闈涙川缁犻箖鏌涘▎蹇ｆ▓闁绘帊绮欓弻鐔肩嵁閸喚浠奸梺瀹狀潐閸ㄥ綊鏁撻弬銈囩У闁稿甯掕灋闁告劑鍔夐弨浠嬫煟閹邦厽缍戦柣蹇ョ畵閺屻倛銇愰幒鏃傛毇閻犱警鍨堕弻銊╂偄閸撲胶鐓撳┑顔硷功缁垶骞忛崨鏉戝窛濠电姴鍟弸鎴濃攽閻樻剚鍟忛柛鐘愁殔椤洤鈻庨幒鏂剧綍濠电姷鏁告繛锟芥繛浣冲浂鏁勯柛娑樼摠鐎氬懘鏌ｉ弬鍨倯闁绘挾鍠栭弻锟犲磼濮樺彉铏庨梺璇″枟閸ㄥ潡寮诲☉娆戠瘈闁告洦鍘肩粭鈩冪箾閿濆懏鎼愰柨鏇ㄤ邯閵嗕礁鈽夊Ο閿嬫杸闂佺硶鍓濋〃鍡涘磿椤忓懍绻嗛柣鎰典簻閿熺獤鍛闁绘梻鍘х壕鍧楁⒑椤掞拷缁夘噣鏁撻懞銉︻棃鐎规洘锕㈤、娆撳床婢诡垰娲﹂悡鏇㈡煙閹佃櫕娅呭┑锛勫帶閳规垿顢欓崗鍏煎闯缂備浇椴搁幐濠氬箯閸涘瓨鎯為柣鐔稿椤愬ジ姊绘担鐟邦嚋婵炴彃绻樺畷纭呫亹閹烘繃鏅梺鎸庣箓濞诧妇锟芥碍纰嶇换娑㈠级閹搭厼鍓卞銈庡亜缁夋挳鍩為幋锔绘晩缂佹稑顑嗛悾璺衡攽閳藉棗浜濋柣鐔叉櫅閻ｇ兘骞樼紒姗嗘濠电偞鍨兼ご鍝ワ拷闈涚焸濮婃椽妫冨☉姘暫濠碘槅鍋呴〃鍫㈠垝椤撱垹绠虫俊銈勮兌閸樿鲸绻濋悽闈浶㈤柛鐕佸亝閹便劌顓奸崨顏呮杸闂佺偨鍎辩壕顓㈠春閿濆浄鎷风憴鍕闁绘牕鍚嬫穱濠囧箹娴ｈ倽銊╂煏閸繃宸濇慨濠囩畺濮婂宕掑顒婃嫹妞嬪孩顐芥慨姗嗗墻閻掔晫鎲搁幋鐐存珷婵犻潧顑嗛埛鎴︽煕濠靛棗顏柛锝堟缁辨帡顢欓懞銉ョ３濡ょ姷鍋涢崯鎾极閹剧粯鍋愰柛娆忓�堕崝鎴﹀蓟瀹ュ浼犻柛鏇ㄥ亾閹烽攱绻濆顒傜厬闂佺硶鍓濈粙鎺楀煕閹寸姷纾藉ù锝堝亗閹寸姷鐭嗛柨鐔剁矙濮婅櫣绮欓崠鈥充紣濠电媴鎷烽梺顒�绉甸弲鎼佹煠閹帒鍔ら柛鐔哥叀閺岀喖宕欓妶鍡楊伓?" + role.getName());
			return;
		}
		if(SceneTeam.TEAM_NORMAL == role.getTeamState()){
			Scene.LOG.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙絽宕…鑳槻妞ゎ厾鍏樺璇测槈閵忕姈褔鏌涢妷鎴濆娴滎亪姊绘担鍛婃儓闁兼椿鍨崇划鏃堝礈娴ｈ娼熼梺鍦劋閸わ箓鎮㈤崗鐓庯拷濠氭煃閸濆嫬锟芥悂顢旈幖浣光拻闁稿本鐟х粣鏃�绻涙担鍐插幘濞差亜围闁搞儵鏀辩�氳鎱ㄥ鍡椾簻鐎规挸妫濋弻锝呪槈閸楃偞鐏堥柧浼欑秮閺屾稖绠涢弴鐐蹭粯缂佸墽铏庨崹璺侯潖閾忓湱纾兼俊顖濇娴犵顪冮妶搴″箹婵炲樊鍙冨顐﹀箻鐎靛壊娴勯柣搴秵閸撴盯寮抽鈶╂斀妞ゆ梻銆嬫Λ姘箾閸滃啰鎮兼俊鍙夊姍楠炴帡骞婂畷鍥ф灈闁硅櫕鐗犻崺鈩冪節閸屾稑锟筋垶姊婚崒姘拷椋庢濮橆剦鐒介柤濮愬�楃粈濠囨煕閵夈垺娅呯紒韬插�曢湁闁绘ê妯婇崕婊呯磽瀹ュ棛澧甸柣鎿冨亰瀹曞爼濡搁敃锟介娑樷攽閻愬弶鈻曞ù婊冪埣瀵偊宕掑鎰妤犵偛鐏濋崝姘繆椤愶絿鎳冮柍璇茬Ч瀹曞爼顢楁担鍙夊濠电偠鎻徊鍧楀箠閹炬椿鏁嬫繝濠傛噽绾惧ジ鎮归崶銊ョ祷闁跨喕妫勫锟犳偘椤旂晫绡�闁告劏鏅涢崝鍛存⒑闂堟侗鐒鹃柛搴㈠▕椤㈡瑩骞嬮敂瑙ｆ嫽闂佺鏈銊︽櫠濞戞氨纾奸悗锝庝簽婢э妇锟芥鍠撻崝宥囩矉閹烘棑鎷烽敐搴′簮闁圭鍟村娲箹閻愭彃濮堕梺鍛婃惈缁犳挸顕ｉ銈忔嫹閿濆骸浜炵紒鈽呮嫹濠电姷鏁告慨鎾磹瑜版帒闂柦妯侯槴濡插牓鏌熼幆褏锛嶉弫鍫ユ⒑閸濆嫮鐏遍柛鐘崇墵閻涱噣宕卞鍏夹梻浣瑰缁嬫垹绮旇ぐ鎺戣摕闁跨喓濮撮獮銏°亜閹捐泛啸闁哄棎鍊濆娲传閸曨剚鎷卞┑鐐插级椤洭骞戦姀鐘闁靛繒濮撮悗顓烆渻閵堝棙鈷掗柛妯犲泚澶娾枎閹剧补鎷绘繛杈剧秬濞咃絿鏁☉娆愬弿濠电姴鍋嗛悡鑲╋拷瑙勬磸閸ㄥジ藝閹惰姤鍊甸梻鍫熺◤閸嬨垽鏌熼瑙勬珖缂佽鲸甯掕灒闁绘挸楠哥粻鐐烘⒒閸屾瑧顦﹂柟纰卞亜鐓ら柕蹇嬪�曠粈澶岋拷鐧告嫹闁告洦鍘肩粊锕傛⒑閸濆嫮鈻夐柛妯圭矙閹繝鎮㈤幖鐐扮盎闂佽宕樺▔娑㈠几閺冨倻纾奸柣姗�娼ф禒锕傛煙娓氬灝濡界紒缁樼箞瀹曠喖顢橀悙娈垮仹闂傚倷鑳堕幊鎾诲床閺屻儱绠犳俊顖濇閺嗭箓鏌曟繝蹇擃洭缂佲槄鎷烽梻浣告啞閸旀垿宕濈仦鍓х彾鐎广儱鎳夐弨浠嬫煥濞戞ê顏╁ù婊冦偢閺屾稒绻涜閹虫劖绋夊澶嬬厵闁绘垶锚濞堢偓绻涢幋娆忕仼缂侊拷鐎ｎ偁浜滈柡宥冨妽閻ㄦ垿鏌涘Ο缁樸仢闁诡喗顨婇悰顕�宕归鐓庮潛婵犵妲呴崑鍛存儎椤栫偛鏄ラ柣鎰▕閸氬鏌涢埄鍐ㄥ缂併劌顭烽幃宄邦煥閸愵亞顔掗梺璇″枟閿曘垽鐛惔锛勬殝婵繄銇栧┑鐘垫暩婵兘寮崨濠冨弿闁绘垼妫勯弸渚�鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喖顭烽弫鎰緞婵犲孩缍傞梻浣虹帛閿氶柛鐔锋健瀵娊宕奸妷锔规嫼缂備礁顑嗛娆撳磿韫囨柣浜滈柟瀛樼箖閸ゅ洭鏌涢埡鍐ㄤ槐妤犵偛顑夐弫鍌炴寠婢跺鐫忛梻鍌欑濠�杈╁垝椤栨粍鏆滄俊銈忔嫹闁崇粯鎹囬、姗�鎮滈崱妯虹槣闂備線娼ч悧鍡椢涘▎鎴犵焼閻庯綆锟姐垻鎳撻…銊╁礃椤忓嫮鍘介柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯蓱瑜板啴寮妶鍡曠箚闁绘劦浜滈敓鑺ョ墵瀹曟繈骞嬮敃锟界壕鍦喐韫囨拹锝夊箛閻楀牊娅㈤梺璺ㄥ櫐閹凤拷" + role.getName());
			return;
		}
		if(! role.checkNeedCheckPos())
			return;
		
		role.clearNeedCheckPos();
		
		final Position  pos = new Position(curpos.x, curpos.y, locz);
		if(role.getScene().checkBlock(pos.toGridPos(), pos.getWalkBlockType()))
		{
			role.broadResetPosition();
			return;//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗娼欓～婵嬫嚋濞堝尅鎷烽弽銊х閻庢稒顭囬惌濠勭磽瀹ュ拑韬�殿喛顕ч埥澶愬閻樼數鏉搁梻浣侯焾缁绘劙骞楀鍫濇瀬闁哄稁鍘介埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠涢褔鍩ユ径鎰潊闁冲搫鍊瑰▍鍥⒒娴ｇ懓顕滅紒璇插�歌灋婵炴垟鎳為崶顒�惟闁冲搫鍊甸幏铏圭磽娴ｅ壊鍎愭い鎴炵懇瀹曟洖鈽夊Ο蹇曟嚀椤劍鎯斿┑瀣粣闁诲孩顔栭崰娑㈩敋瑜旈崺銉﹀緞閹邦剦娼婇梺缁橈耿濞佳勬叏閸洘鈷掑ù锝呮啞閸熺偤鏌涢弮鎾绘缂佸倸绉瑰浠嬧�栭濠勭М鐎规洖銈告慨锟介柕蹇ｆ緛缁卞啿鈹戦悙瀛樺鞍闁煎綊绠栭弫鍐Ψ瑜濋幏宄邦潩椤掑倻楔濠殿喖锕ㄥ▍锝夊礌閺嶎厼鍗抽柣鎰ゴ閹枫倖淇婇悙顏勶拷褏绮婚幘鍓佺＝婵娉涙闂佸湱澧楀妯肩不閹惰姤鐓欓柟顖嗗啫绗紓浣靛妿閺佽顫忛搹瑙勫厹闁告侗鍙庡Λ鍫ユ⒑鐟欏嫭銇熷ù婊呭仜椤曘儲绻濋崘锕�浜濋梺鍛婂姂閸斿酣鎮块崨顔剧瘈闂傚牊绋戦敓鑺ユ倐楠炲鏁撻悩鑼幈闂佺鎻梽鍕磹閻㈠憡鐓曢柨鏃囶嚙楠炴牗銇勬惔锛勭劯闁哄本鐩俊鍫曞幢濞嗘劕娅氭繝娈垮枛閿曘劌鈻嶉敐澶婃瀬妞ゆ洩鎷锋い銏＄懇瀹曟粓鈥栭鐣岀煉闁诡喗顨呴埢鎾诲垂椤旂晫浜俊鐐�ら崢楣冨礂濮楋拷閻涱噣宕橀纰辨綂闂侀潧鐗嗛幊鎰八囪缁辨帡鎮欓锟介婊冾渻鐎涙ɑ鍊愰挊鐔兼煕椤愮姴鍔滈柍閿嬪笒闇夐柨婵嗘祩閻掗箖鏌￠崱娑楁喚闁哄瞼鍠撻崰濠囧础閻愭澘鏋堥柣搴ゎ潐濞诧箓宕规潏鈺嬫嫹娴ｅ啫浜归柨鐔诲Г缁嬫帟鎽┑鐐叉噺閻楃姴顫忛搹鍦＜婵☆垵宕甸崣鍡涙⒑閸涘﹨澹樻い鎴濐樀瀹曞搫鈽夐姀鐘殿吅闂佺粯顭囬弫鎼佹晬濠婂牊鐓熼幖鎼灣缁夌敻鏌涚�ｎ偄娴�规洘娲熸俊鐑藉煛閸屾粌骞堥梺鐟板悑閻ｎ亪宕规繝姘剹鐎癸拷閿熺晫妲愰幒鎾寸秶闁靛绠戠喊宥咁渻閵堝棙灏柕鍫㈩焾閻ｇ兘鎮㈢喊杈ㄦ櫍閻熸粌姘﹂埅鍨節绾板纾块柛瀣灴瀹曟劙寮介‖鈩冩そ閸╋繝宕橀鍡╂Ц濠电偞鎸婚悢顒勫箯閻戣姤鐓忛柛鈩冩礈椤︼箓鏌嶇拠鏌ュ弰妤犵偞锕㈠鍫曞箣椤栨稑顏堕梻浣哥仢椤戝啯绂嶅鍫熺厵闁惧繒鎳撴禒锕傛倵濮樿鲸鍤�妞ゎ亜鍟存俊鍫曞川椤撗冨Ψ闂備胶鍎甸弲鈺呭垂娴艰揪缍栭煫鍥ㄦ媼濞差亶鏁傞柛婊�鐒﹂ˉ鍫ユ⒒娴ｅ摜鏋冩俊妞煎姂閹虫鎹勬担鏇秮閺佹劖寰勭�Ｑ勫闂備礁鎲＄粙鎴︹�﹂銏″殌閻犳亽鍔庣壕濂告煟濡櫣锛嶅褑娅曟穱濠囶敃閵堝懏鐎诲銈庝簻閸熷瓨淇婇崼鏇炲耿婵☆垶鏀辩�氫粙姊绘担鍛婃儓闁瑰嘲顑夊畷鎴﹀幢濞嗗繐鐏婄紓鍌欑劍鑿ч柛瀣嚇閺屾盯骞囬妸锔界彇闂佸憡顭囬弫濠氬蓟閿濆棙鍎熼柨婵嗘濮ｅ嫬顪冮妶搴″箹闁绘锕︾划瀣箳濡や焦娅囬梺绋挎湰缁嬫垿鏁撻挊澶屽煟闁绘搩鍋婂畷鑸殿槹鎼粹�崇厒婵°倗濮烽崑鐐衡�﹂崶鈺傤潟闁圭儤鎸荤紞鍥煏婵炲灝鍔ら柣鐔哥叀閹宕归锝囧嚒闁诲孩鍑归崳锝夊极閹捐妫橀柕鍫濇川鏍￠梻浣侯焾椤戝懐锟芥碍婢橀悾鐑筋敆娴ｅ摜绐為梺褰掑亰閸樺ジ鏁撻悾灞炬毈闁诡喖鍢查埢搴ょ疀閹垮啩鐥紓浣稿⒔閸嬫捇骞冮崒鐐茶摕婵炴垯鍨规儫闂侀潧鐗嗗ú銊╂偂閹剧粯鈷戠紓浣姑肩欢閬嶆煕閻樺啿鍝洪柡浣规崌瀵剟濡堕崶鈹綁姊洪崫銉バｆい銊ワ工閻ｇ兘骞嬮敃锟界粻娑㈡煟濡わ拷閻楀繘宕㈤柆宥嗏拺鐟滅増甯掓禍浼存煕閹炬潙鍝洪柛鈹垮灲瀵挳濮�閿涘嫬寮抽梻浣虹帛閺屻劑骞夐敓鐘冲�舵い鏇嫹闁哄瞼鍠栧畷娆撳Χ閸℃浼�?
		}
		if(SRelocateRolePos.MAX_DISTANCE < pos.getDistance(role.getPos()))
		{
			role.broadResetPosition();
			return;//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗娼欓～婵嬫嚋濞堝尅鎷烽弽銊х閻庢稒顭囬惌濠勭磽瀹ュ拑韬�殿喛顕ч埥澶愬閻樼數鏉搁梻浣侯焾缁绘劙骞楀鍫濇瀬闁哄稁鍘介埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠涢褔鍩ユ径鎰潊闁冲搫鍊瑰▍鍥⒒娴ｇ懓顕滅紒璇插�歌灋婵炴垟鎳為崶顒�惟闁冲搫鍊甸幏铏圭磽娴ｅ壊鍎愭い鎴炵懇瀹曟洖鈽夊Ο蹇曟嚀椤劍鎯斿┑瀣粣闁诲孩顔栭崰娑㈩敋瑜旈崺銉﹀緞閹邦剦娼婇梺缁橈耿濞佳勬叏閸洘鈷掑ù锝呮啞閸熺偤鏌涢弮鎾绘缂佸倸绉撮埞鎴狅拷锝庝邯濡嘲顪冮妶鍡樺蔼闁搞劍妞藉畷鎰版偨閸涘﹤浠┑鐐叉缁绘劙顢旈鍡欑＜闁跨喍绮欓弫鎾绘寠婢舵ɑ瀵岄梺闈涚墕缁绘ê顬婇纰辩唵闁荤喓澧楅ˉ銏☆殽閻愭潙鐏村┑顕嗘嫹闂佺粯锕╅崑鍛村棘閿熶粙姊虹拠鎻掑毐缂傚秴妫濆畷鎴﹀箳閹宠櫕鐩畷姗�濡搁姀鈩冩澑闂備胶绮崝鏍ь焽濞嗘挻鍊堕柨鏇炲�归悡鐘垫喐閻楀牆绗ч柣锝嗘そ閺屾盯鍩￠崒婊勫垱閻庤娲栭妶鍛婁繆閻戣姤鏅滈悷娆忓椤忓綊姊绘担钘夊惞濠殿喗娼欑叅闁挎洑闄嶆禍褰掓煕閹伴潧娅橀柡浣告閺屾洝绠涚�ｎ亷鎷烽弽顓熷亗闁绘柨鍚嬮悡娆戠磽娴ｉ潧鐏╅柣蹇旂叀閺岀喐顦版惔鈥冲箣濡ょ姷鍋涘ú锕傚箯閸涙潙宸濆┑鐘查閹亪姊婚崒姘拷椋庣矆娴ｅ湱鐝跺┑鐘叉搐绾惧鏌涘☉鍗炲Ц婵炲樊浜滈崘锟藉銈嗘尵閸犲孩绂嶅Δ锟介埞鎴︽倷閺夋垹浠搁梺宕囶儠閸婃盯濡甸幇鏉跨闁规儳鐡ㄩ悵鎶芥⒒娴ｅ憡鍟炲〒姘殜瀹曟澘鈽夊顓炲幑闂佽法鍠嶇划娆忣潖缂佹ɑ濯撮柛婵勫劜閻庮喖顪冮妶搴′簻妞わ箒浜崚鎺戔枎閹惧磭顔掗梺鐓庢啞椤旀牕顭囬悢鍏尖拺閻熸瑥瀚崝銈夋煟鎺抽崝宥夊礆婵犲洤绠绘い鏃傛櫕閸欏嫰妫呴銏″婵炲弶锕㈠畷鐢告晸閻ｅ瞼纾藉ù锝堫嚃濞堬絿绱掔紒妯肩畵妞ゎ偄绻愮叅妞ゅ繐鎳庡▓銉╂⒑闂堟稓澧曢柟鍐茬箰琚欓柟鎵閳锋垿鏌涘┑鍡楊仾闁革絾妞介弻锝夊煛婵犲倻浠搁梺闈涙缁�渚�锝炲┑瀣殝闁割煈鍋呴悵鍐测攽閻橆喖鐏遍柛鈺傜墳閹筋偊姊洪崫鍕櫝闁哄懐濮撮～蹇涙惞閸︻厾锛滃┑鈽嗗灠閹碱偉顤傞梻鍌欑閹诧繝骞愭繝姘仭闁冲搫鎳岄敓鎴掔窔楠炴﹢寮妷锔绘綌闂備線娼х换鍡楊瀶瑜旈獮蹇撁洪鍛嫽闂佺鏈銊︽櫠閹扮増鐓涢柛娑卞枤濞叉挳鏌熼娆戭槮妞ゎ厹鍔戝畷濂告偄閸濆嫬绠炲┑鐘愁問閸犳銆冮幇鏉跨濡炲娴风壕濂告煟濡櫣锛嶅褑娅曟穱濠囶敃閵堝懏鐎诲銈庝簻閸熷瓨淇婇崼鏇炲耿婵☆垶鏀辩�氫粙姊绘担鍛婃儓闁瑰嘲顑夊畷鎴﹀幢濞嗗繐鐏婄紓鍌欑劍鑿ч柛瀣嚇閺屾盯骞囬妸锔界彇闂佸憡顭囬弫濠氬蓟閿濆棙鍎熼柨婵嗘濮ｅ嫬顪冮妶搴″箹闁绘锕︾划瀣箳濡や焦娅囬梺绋挎湰缁嬫垿鏁撻挊澶屽煟闁绘搩鍋婂畷鑸殿槹鎼粹�崇厒婵°倗濮烽崑鐐衡�﹂崶鈺傤潟闁圭儤鎸荤紞鍥煏婵炲灝鍔ら柣鐔哥叀閹宕归锝囧嚒闁诲孩鍑归崳锝夊极閹捐妫橀柕鍫濇川鏍￠梻浣侯焾椤戝懐锟芥碍婢橀悾鐑筋敆娴ｅ摜绐為梺褰掑亰閸樺ジ鏁撻悾灞炬毈闁诡喖鍢查埢搴ょ疀閹垮啩鐥紓浣稿⒔閸嬫捇骞冮崒鐐茶摕婵炴垯鍨规儫闂侀潧鐗嗗ú銊╂偂閹剧粯鈷戠紓浣姑肩欢閬嶆煕閻樺啿鍝洪柡浣规崌瀵剟濡堕崶鈹綁姊洪崫銉バｆい銊ワ工閻ｇ兘骞嬮敃锟界粻娑㈡煟濡わ拷閻楀繘宕㈤柆宥嗏拺鐟滅増甯掓禍浼存煕閹炬潙鍝洪柛鈹垮灲瀵挳濮�閿涘嫬寮抽梻浣虹帛閺屻劑骞夐敓鐘冲�舵い鏇嫹闁哄瞼鍠栧畷娆撳Χ閸℃浼�?
		}
		
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨荤划顖涚┍婵犲洦鍊锋い蹇撳閹风兘寮介鐔蜂罕濠德板�曢崯浼存儗濞嗘挻鐓欓柣鎰靛墰濠�浠嬫煥閻旂粯顥夐柟铏锝嗙節濮橆儵銊╂煥閺冿拷閸庡啿顕ｉ搹顐ょ瘈闁汇垽娼ч埢鍫熺箾娴ｅ啿鍚樺☉銏╂晣闁绘劕绋勭紞锟介柕鍥ㄥ姍楠炴帡骞樼捄鍝勭疄闂備胶顢婃竟鍫ュ箵椤忓棙顫曢柡鍥╁枑濞呭繘姊婚崒娆戭槮闁圭⒈鍋婇幆灞惧緞瀹�锟界粈濠偯归敐鍛棌闁搞倖娲橀妵鍕即椤忓懎顏堕柣搴ゎ潐濞叉鏁幒妤嬬稏婵犻潧顑愰弫鍕偣閹帒濡肩紒妤嬬節濮婂宕掑顒婃嫹妞嬪海鐭嗗〒姘炬嫹妤犵偞鐗犻、鏇㈡晜缂佹ɑ娅堥梻浣告啞濞诧箓宕归柆宥呭惞闁告洦鍨遍悡鏇㈡煙閹规劕鐨洪柛鏂跨У閵囧嫰顢曢敐鍡欘槹闂佸搫鐬奸崰鏍嵁閹达箑绠涢梻鍫熺♁椤斿嫰姊婚崒娆戭槮鐎规洦鍓欑叅妞ゆ挶鍨归拑鐔兼煛閸ラ纾块柣銈忔嫹闂備礁鎼ú銊╁磿閹邦剦鐒芥繛鍡樻尰閳锋垿姊婚崼鐔峰枙缂佹唻绻濋弻娑樷槈閸楃偟浼堢紓浣介哺瑜板啴鍩為幋锔藉亹妞ゆ棁鍋愭导鍥р攽閻愬樊妲归柣鈺婂灦閸ㄩ箖鏁冮崒銈嗘櫌闂佸憡娲﹂崑鍕箚閻愮儤鈷戠紓浣股戦ˉ鍡樼箾閸滃啰鎮煎瑙勬礃缁虹晫绮欑捄銊╃崜闂備礁澹婇崑鍛矙閹寸偘绻嗛柣锝呯焿閹烽鎲撮崟顒傤槬闂佹椿鍘奸崐鍨嚕婵犳艾鐒洪柛鎰ㄦ櫅椤庢捇鏌ｉ悢鍝ユ噧閻庢凹鍓涙竟鏇㈠箮閼恒儮鎷洪柡澶屽仦婢瑰棝宕濆澶嬬厵闁荤喓澧楅崰妯硷拷娈垮櫘閸嬪﹪鐛Ο鑲╃＜婵☆垳绮鐔兼⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?,婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｇ拠娴嬫婵☆垶鏀遍弬锟介梻浣告啞濞诧箓宕戦崟顒佸弿闁靛繈鍊栭埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫熸倷濡炪値鍋勭换鎴犳崲濠靛棭娼╂い鎺戝閺佸綊姊绘担铏瑰笡闁哄睙鍛潟妞ゆ洩鎷锋鐐茬箻閹粓鎳為妷銉ф濠电姰鍨奸～澶屾崲閸愵煈娓诲ù鐘差儍閿熸垝绶氬顕�宕煎┑鍫Ч婵＄偑鍊栭悧妤冪矙閹烘垟鏋旈柡鍌氱氨閺�浠嬫煟濡灝鐨烘俊顐㈠閺屸剝寰勬繝鍌滄闂佸綊顥撻弻澶愃囩憴鍕垫闁绘劘灏欑粻濠氭煛鐏炶濡块柨鐔告灮缁叉椽寮插┑鍫笉婵﹩鍓﹀〒濠氭煏閸繃顥滃┑顔ㄥ懐纾界�广儱鎳忛崰姗�鏌熼搹顐ｅ磳鐎规洜顭堣灃濞达絽鎼獮鎰版⒑鐠囪尙绠抽柛瀣枛閳ワ箓宕奸悢鍛婄彿闂佽偐鈷堥崜銊╁箯閻戣棄鍨傛い鎰剁悼閸戯繝鏌ｆ惔銏犲毈闁告瑥鍟撮悰顕�宕卞☉妯肩潉闂佸壊鍋呯换宥咁焽婵犲洦鈷戦梺顐ゅ仜閼活垱鏅舵ィ鍐╃厵闁绘垼濮ら弫杈╃磼缂佹绠炵�规洘甯掕灃濞达綀顫夊鎴︽⒒閸屾瑨鍏岀紒顕呭灦瀹曟繂鈻庤箛锝囧姺閻熸粌绻樺顐︻敋閿熻棄鐣锋總绋垮嵆闁绘柨鎼獮鎰版⒒娴ｇ顥忛柛瀣浮瀹曟垿宕熼浣圭彿闂佸湱铏庨崰妤呮偂韫囨稒鐓曢柍鈺佸枤濞堟棃鏌￠崱顓犲埌闁宠鍨块弫宥夊礋椤愩垹绠ｉ梻浣虹《閺咁亞鎹㈠┑鍡欐殾闁圭儤鍩堝鈺呮煟閹伴潧澧い蹇撶埣濮婅櫣绱掑Ο铏逛紘婵犳鍠撻崐婵嗙暦閹版澘鍨傛い鎰╁�楅鏇㈡⒑閻熼偊鍤熼柛瀣枛楠炲﹪骞囬悧鍫㈠幗闂佺懓鎼粔鍫曟儗濞嗘挻鐓涢悘鐐额嚙婵″ジ鏌嶉挊澶樻Ц闁宠閰ｉ獮瀣籍閿熶粙顢撻崶鈺冪＝闁稿本鐟ㄩ崗宀�绱掗鍛仸闁诡垰瀚伴、娑㈡倷閸欏锟筋剟姊洪崷顓烆暭婵犮垺锚椤斿繐鈹戦崶銉ょ盎闂佸搫鍟ú銈堫暱闂備胶顭堥敃锕傚礂濡警娼栫紓浣股戞刊鎾煟閻旂厧浜伴柛銈咁儏閳规垿鎮欐０婵嗘疂闂傚倸瀚�氼喚鍒掔�ｎ亶鍚嬪鑸瞪戦弲婊堟⒑閸撴彃浜為柛鐘插缁傛帡骞掗幋顓熷瘜闂侀潧鐗嗗Λ娆戠矚閸ф鐓欏瀣閸樻挳鏌＄仦绋垮⒉闁瑰嘲鎳愰幉鎾礋椤愩倧绱﹂梻鍌欐祰濡椼劑鎮為敃鍌氱闁搞儺鍓欓弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟扮粻缁橆殽閻愭潙鐏村┑顕嗘嫹闂侀潧鐗嗛幊鎰版偪閿熻姤淇婇悙顏勶拷鏍涙担鑲濇盯宕熼浣稿妳婵犵數濮村ú锕傚煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戔懇锟斤箓骞嬪┑鍡╂浇缂傚倷绀侀崐鍝ョ矓瑜版帒绠栭柣鎴ｅГ閻掍粙鏌ㄩ弮锟介崕鎶藉极閹间焦鈷戦柤濮愬�曢瀷濠电偛鎷戠紞浣哥暦閺囥垹围闁告粌鍟抽敓钘夋健閺岋絽螖閿熶粙鎮ч崟顒傤洸婵犲﹤瀚ㄦ禍婊堟煙閺夊灝顣崇紒瀣吹缁辨帡鏁撻悾宀嬫嫹閿濆骸鏋熼柣鎾寸〒閿熺晫娅㈤幏鐑芥煥閻斿墎鐭欑�规洜澧楅幆鏃堝Ω閵壯冨箳闂備浇顫夊畷姗�顢氳瀹曞綊宕掑☉鏍︾盎闂佸搫鍟崐鐟扳枍閺囩姵鍠愰柣妤�鐗忛崣锟藉┑顔硷功缁垶骞忛崨鏉戝窛濠电姴鎳愰、鍛存⒒娴ｄ警鐒剧紒缁樺灴閺佸啴濮�閻欙拷閸ゆ洟鏌曟繛鐐珕闁绘帟鍋愰敓钘夌畭閸庨亶骞婇幇閭︽晩闁糕剝绋掗埛鎴︽煕濞戞﹫鍔熼柍鍙ョ劍缁绘盯宕楅懖鈺傚櫘缂備緡鍠栭悧鎾崇暦濮楋拷閸╃偞寰勯崫銉ф晨濠碉紕鍋戦崐鏍箰妤ｅ啫绐楅幖娣妽閸婂爼鏌ㄩ弬娆炬綗濞存粍绮撻弻鏇熷緞閸繂濮㈤柡浣哥墕閳规垿顢欑涵宄板缂備緡鍣崹鍫曠嵁韫囨稑宸濇い鏍ㄧ☉閺嬪倿姊洪崨濠冨闁稿鍊垮畷顐⑽旈敓浠嬪煘閹达附鍊风�瑰壊鍠栧▓鍫曟⒑閸涘鐒奸柛蹇曞У濡炰粙銆佸锟介幃娆撳垂椤愶綆鍟庨梻鍌欑窔濞佳嗗闂佸搫鎳夐弲鐘差嚕椤愶絿绡�闁搞儯鍔庨崢閬嶆椤愩垺澶勯柤鍦亾缁傚秷銇愰幒鎾跺弳闂佺粯妫佸▍锝夊箺閸岀偞鐓曟繛鍡楃箰閺嗘瑦銇勯銏㈢缂佽鲸甯掕灒閻犲洤妯婇敓鑺ユ崌濮婃椽宕ㄦ繝鍕ㄦ闂佹寧娲忛崝搴♀槈閻㈠憡鏅稿ù鐘差儐閳锋帒霉閿濆嫯顒熼柣鎺戝⒔缁辨帡濡搁敂濮愪虎閻庤娲橀崝娆忣嚕閹绢喗鍋愰柟缁樺笧閺屟囨⒒閸屾艾锟介绮堟笟锟介獮鏍敃閵堝洨鐓撴繛鎾寸啲閹烽锟借娲忛崹钘夘嚕椤曪拷閺佹捇鎸婃径妯烘闂佸憡娲﹂崜姘跺磿閻斿吋鐓ユ繝闈涙婢跺嫭绻濋姀鈥崇仸缂佺粯绻堥幃浠嬫濞戞鍕冮梻浣规偠閸斿矂鎮ユ總绋跨畺闁绘垼妫勯～鍛存煏閸繃鍣芥い鏂挎濮婃椽宕ㄦ繝鍕暤闁诲孩鑹鹃崲鏌ュΥ閹烘挾绡�婵﹩鍘鹃崢顏堟⒑閸撴彃浜濈紒璇插暣钘熸繝濠傛噽绾惧吋淇婇妶蹇斿闂佺锕ㄥ畷闈浳ｉ幇鏉跨婵°倧鎷烽柛銊ュ�圭换娑㈠箣閿濆棛褰ч柣搴㈣壘缂嶅﹪寮婚敓鐘茬＜婵☆垰鎼慨鏇㈡⒑鐠囪尙绠ｇ紒锟芥笟锟介崺鐐哄箣閿旂粯鏅╃紓浣圭☉椤戝棝顢樺ú顏呪拺鐟滅増甯╁Λ鎴︽煕韫囨棑鑰跨�殿喖顭烽崹鎯х暦閸ャ劍鐣烽梺璇插嚱缂嶅棝宕滃☉銏″剨闁割偁鍎查崐鐢告偡濞嗗繐顏紒锟界�ｎ�㈢懓顭ㄩ崘顏勭厽闂侀潧妫旂粈渚�锝炲鍫熸櫢濞寸姴顑呯粻鏍煏韫囥儳纾块梻鍕椤法鎹勬笟顖浶ㄦ繝銏ｆ硾鐎氭澘顫忔繝姘＜婵﹩鍓ㄩ幏鐑藉箹娴ｅ摜锛欓梺褰掓？缁�浣哄瑜版帗鐓欓梻鍌氼嚟椤︼妇鐥幆褏绉洪柡宀�鍠栧鑽わ拷闈涘濡差喚绱掗悙顒�鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喛顕ч埥澶愬閻橀潧濮堕梻浣告啞閸旓附绂嶉弽顬綁宕奸妷锔规嫽闂佺鏈懝鐐閻愮儤鐓曢柕濞垮劤閸╋絿锟芥鍠栭…閿嬩繆閹间礁唯闁靛繆鍓濋弶鎼佹⒒娴ｈ櫣銆婃俊鐙欏洤鐤炬繝濠傛閿熻姤鎸冲濠氬磼濞嗘劗銈板┑鐐差槹濞茬喎鐣锋导鏉戝嵆闁绘劕绉甸惄顖氱暦閻旂⒈鏁嶆慨妯诲敾缁鳖噣姊绘担渚綊闁告洖鐏氶悾鍫曟⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤悡搴ｎ槶閻熸粌绻掗弫顔尖槈閵忥紕鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸閻忕偠顕ф慨鍌炴煙椤斿搫锟芥繂鐣烽幒鎴旀婵妫旂槐锟�
		role.updatePosition(pos);
		role.clearCurDestPos();
		
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 790447;

	public int getType() {
		return 790447;
	}

	public long sceneid;
	public fire.pb.move.Pos curpos;
	public byte locz; // RelocateRolePos的z坐标

	public CRelocateRolePos() {
		curpos = new fire.pb.move.Pos();
	}

	public CRelocateRolePos(long _sceneid_, fire.pb.move.Pos _curpos_, byte _locz_) {
		this.sceneid = _sceneid_;
		this.curpos = _curpos_;
		this.locz = _locz_;
	}

	public final boolean _validator_() {
		if (!curpos._validator_()) return false;
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(sceneid);
		_os_.marshal(curpos);
		_os_.marshal(locz);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		sceneid = _os_.unmarshal_long();
		curpos.unmarshal(_os_);
		locz = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CRelocateRolePos) {
			CRelocateRolePos _o_ = (CRelocateRolePos)_o1_;
			if (sceneid != _o_.sceneid) return false;
			if (!curpos.equals(_o_.curpos)) return false;
			if (locz != _o_.locz) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)sceneid;
		_h_ += curpos.hashCode();
		_h_ += (int)locz;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(sceneid).append(",");
		_sb_.append(curpos).append(",");
		_sb_.append(locz).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CRelocateRolePos _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(sceneid - _o_.sceneid);
		if (0 != _c_) return _c_;
		_c_ = curpos.compareTo(_o_.curpos);
		if (0 != _c_) return _c_;
		_c_ = locz - _o_.locz;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

