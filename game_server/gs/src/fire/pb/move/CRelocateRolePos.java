
package fire.pb.move;
import fire.pb.scene.Scene;
import fire.pb.scene.movable.SceneTeam;
import fire.pb.scene.sPos.Position;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CRelocateRolePos__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CRelocateRolePos extends __CRelocateRolePos__ {
	@Override
	protected void process() {
		final fire.pb.scene.movable.Role role = fire.pb.scene.manager.RoleManager.getInstance().getRoleByProtocol(this);
		if(null == role)
			return;
		if(sceneid != role.getScene().getSceneID())
		{
			Scene.LOG.info("CRelocateRolePos闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱瀹曟垿鏁愭径濠勯獓闂佺粯鍔栧娆擃敁濠婂嫨浜滈柟鐑樻煥閺嬫盯鏌″畝瀣М妤犵偞甯掗濂稿炊閳哄啫骞嗛梻鍌欑閹碱偊鎯屾径宀�绀婂ù锝堫潐閸欏繘鏌ㄩ悢鍓佺煓闁哄矉绲借灒闁告繂瀚В鎰版⒑閸濆嫭顥滈柣妤佹尭椤繘鎼归崷顓犵厯闂佺鍕垫闁跨喕濮ら〃鍫㈡閹烘挸绶炲┑鐘插妤旈柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯蓱瑜板啰绮婇锟藉缁樼瑹閿熻棄顭囪閳ワ箓宕奸妷銉э紵闂佽顔栭崰娑欐叏閹惰姤鐓犳繛鏉戭儐濞呭洨鐥幑鎰棄闂囧鏌ㄥ┑鍡╂Ч婵炴嚪鍐ｆ斀闁挎稑瀚▍鏇㈡煥閻旂儤娅曟繛鍛灲楠炲繘鎮滈懞銉у幍闂傚倸鍊搁顓⑺囬敃鍌涚參闁告劦浜滈弸娑㈡煛鐏炶濮傞柟顔哄灲瀹曨偊宕熼幋娆忕仾濞ｅ洤锕幃娆撴嚋濞堟寧顥夐梻鍌氭搐椤︾敻寮婚妸銉㈡斀闁糕剝锚濞呫倝姊虹涵鍛毢妞ゎ厼鐗撳﹢渚�姊虹紒妯忣亜螣婵犲洤鍚归柣鏃囨绾惧ジ寮堕崼娑樺閻忓繋鍗抽弻鐔风暋閻楀牆娈楅梺璇″枤閸忔ê顕ｉ崼鏇炵柈闁告剬鍡楀帯缂備浇椴搁幐濠氬箯閸涱喚顩烽悗锝庝簼閹虫瑦绻濋悽闈涗哗閻忓繑鐟╁畷浼村冀椤撶喎浠掑銈嗘濡嫮娆㈤悙鐑樼厵闂侇叏绠戞晶鐗堛亜閺冿拷鐢帡鈥旈崘顔嘉ч柛鈩冿供濮婂潡姊虹粙娆惧剱闁告梹鐟╅妴浣糕枎閹邦喚鐦堥梺鎼炲劘閸斿骞忓ú顏呪拺闁告稑锕︾粻鎾绘倵濮樼厧骞栨い鏂跨箰閳规垹锟斤綆鍋嗛崢閬嶆煙閸忚偐鏆橀柛銊潐閹便劑宕堕浣瑰殙闂佺粯鍔楅。顕�骞忛悜鑺ュ剬闁告稑锕ら鍫曟⒒娴ｅ憡鍟炴繛璇х畵瀹曟粌鈻庨幇顕呮祫濡炪倖鎸鹃崑鎰板绩娴犲鐓熸俊顖涱儥閸ゅ锟借鎮堕崕鐢稿蓟閻旂厧绀冮柡灞诲劚瀵即姊洪棃娑欘棞闁稿﹤婀辩紓鎾寸鐎ｎ亜绐涙繝鐢靛Т鐎氼剟鐛鍥╃＝闁稿本鐟чˇ锔姐亜閹存繃顥犻柨鐔烘櫕閻熸娊宕惰閺屽牓姊虹紒妯哄闁稿簺鍊濋幃鈥斥槈閵忥紕鍘卞┑鐐村灥瀹曨剟鐛锟介弻娑㈠煛鐎ｎ剛袦闂佸搫鐬奸崰鏍�佸▎鎴炲枂闁告洦鍓涜ぐ鍥╃磽閸屾瑦绁板鏉戞憸閺侇噣骞掗弴鐘辫埅闂傚倷绀侀幉锛勬崲閸屾粣鎷峰鐓庡⒋閽樼喎顭块懜闈涘闁抽攱甯￠弻娑氫沪閸撗勫櫘濡炪倧璁ｇ粻鎾诲蓟閻旇鍦拷锝堝煐鐎氬綊鎮洪幒宥囧妽婵＄偘绮欏顐﹀礃椤旇偐锛滃┑顔缴戦崬鑽ゆ闁秵鈷掑ù锝呮啞閸熺偛銆掑顓ф疁鐎规洖缍婂畷褰掝敃閿濆懎浼庨梻浣瑰劤濞存岸宕戦崨鏉戠煑闊洦鏌х换鍡樸亜閺嶃劍鐨戝ù鐘灲閺岋綁骞橀弶鎴濐潚闂佸搫鐭夌紞渚�鐛Ο纭锋嫹闂堟稒鍟為柛鎺撶洴濮婃椽宕崟顒佹嫳缂備礁顑嗛崹鍧楀灳閿曞倸惟闁冲搫鍊瑰▍銏ゆ⒑娴兼瑧鍒伴柣顒�銈搁幆宀勫幢濡炵》鎷烽幒鎴僵闁绘劦鍓欓鍫曟⒒娴ｇ瓔鍤冮柛鐘愁殜閺佸啴濮�閵堝懐鐣洪梺闈涚箞閸婃牠骞嗛悙鐑樼厱闁挎棁顕у璺ㄧ磼閸楃偛绾х紒缁樼箓椤曘儵鏌ㄧ�ｎ偆鍑￠梺璺ㄥ枔閻涖倝宕惰椤斿棝姊绘担鍝ヤ虎妞ゆ垵鍟粋宥咁煥閸喓鍙嗛梺鍝勫暙濞诧箓藟婢跺浜滈柕澶堝労閸庢垹绱掓潏銊ユ诞妞ゃ垺鐟╅幃鍓т沪閹勭彴闂傚倷娴囧銊╂倿閿曞倸绠查柛銉墮閺嬩線鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗釜閹烽鐥幆褜鐓奸柡宀�鍠栭幃褔宕奸悢鍝勫殥闂備浇妫勯崯浼村窗鎼淬劉锟斤箓宕稿Δ浣告疂闂傚倸鐗婄粙鎴︼綖瀹�锟界槐鎾存媴閸濆嫅銏ゆ煟韫囨柨鍝哄┑锛勬暬瀹曠喖顢欓崜褎婢戦梻浣告贡閸嬫捇骞嗙仦杞挎盯鍨鹃幇浣瑰瘜闂侀潧鐗嗘鍛婄濠靛洨绠鹃柛娆忣樈閻掍粙鏌熼獮鍨仼闁宠鍨归敓鏂ょ秵閸嬫帒螞閸愩劉鏀介柣鎰綑閻忥箓鏌よぐ鎺旂暫鐠侯垶鏌ㄩ悢鍓佺煓婵﹦绮幏鍛村川婵犲啫鏋戝┑鐘愁問閸犳顭囧▎鎺斾罕婵犵數濞�濞佳囶敄閸涘瓨瀚呴柣鏂垮悑閻撶喖鏌￠崒姘变虎闁诡喗鍨块弻娑欑節閸曨厼绗℃繛锝呮搐閿曨亪銆佸☉妯锋斀闁糕剝顨嗛崕顏呬繆閻愵亜锟窖呮嫻閻旂厧纾块梺顒�绉敓鑺ユ瀹曟﹢顢欓崲澹洦鐓曢柟鎵虫櫅婵＄厧鈹戦鍏兼崳缂佽鲸鎸婚幏鍛存惞閻熸壆顐奸梻浣瑰濞插繘宕硅ぐ鎺濇晪闁挎繂娲︾�氭碍绻涢弶鎴剱妞ゎ偄绉撮埞鎴︻敊缁涘鐣跺┑鈽嗗亝閻熲晛鐣烽幘缁橆棃婵炴垼椴哥�靛矂姊洪棃娑氬婵☆偅顨堢划顓㈠箳濡や胶鍘辨繝鐢靛Т閸燁偅鎱ㄥ鍛斀闁炽儱纾崺锝囷拷瑙勬礀閻栧吋淇婇幖浣肝ㄩ柕鍫濇川濮婇箖姊婚崒姘拷椋庢濮橆剦鐒界憸鎴炴櫠濠靛鈷戦柛婵嗗閸ｈ櫣绱掗鑺ュ磳妤犵偛鍟撮弫鎾绘偐閸欏倶鍔戦弻宥夊传閸曨偓鎷锋繝姘煑闁糕剝绋掗埛鎴犵磽娴ｈ偂鎴犵矆閿熶粙姊虹粙鍖″伐婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗?" + role.getName());
			return;
		}
		if(SceneTeam.TEAM_NORMAL == role.getTeamState()){
			Scene.LOG.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯椤兘寮诲☉銏犖ч柛銉戝嫮浜梻浣告惈閼活垳绮旈崜浣诡潟闁圭儤鍤﹂悢鍏煎�婚柍鍝勫�搁鎼佹⒒閸屾瑧绐旀繛浣冲厾娲Χ閸ラ攱瀚规慨姗嗗亜瀹撳棝鏌ｅ☉鍗炴灈閾伙綁鏌涜箛鏇炲付缁剧虎鍨跺铏圭磼濡櫣浠稿銈庡幖濞差參寮幘瀵割浄閻庯綆鍓涢弳顐⑩攽椤旂》榫氭繛鍜冪悼濡叉劙骞掗幊宕囧枛閹虫牠鍩℃繝鍌涘�梻鍌氬�风欢姘焽閼姐倗绀婇柛銉㈡櫅缁躲倕霉閻樺樊鍎滅紓宥嗙墵閻擃偊宕堕妸锕�顎涘┑鐐叉▕娴滃爼寮崒婊愭嫹楠炲灝鍔氭俊顐ｇ懃閳诲秹宕堕浣叉嫽婵炶揪绲块幊鎾活敋濠婂懐纾奸悹鍥ㄥ絻閿熻棄娼￠悰顔界節閸愨晛鍔呴梺闈涱焾閸庢娊顢欓幋锔解拻闁稿本姘ㄦ晶娑氱磼鐎ｎ亞澧︾�殿喓鍔嶇粋鎺旓拷锝庡亐閹稿啴姊洪幖鐐插姶闁告搫绠撳顐わ拷锝庡亞缁★拷婵犵數濮撮崐褰掑闯閽樺妲堥柟鎯х－鏁堥梺鍝勭灱閸犳牠鐛崱姘兼Ь闂佹寧绋戠粔褰掑蓟閿熺姴骞㈡い鎾跺Х閺嗐倝姊洪崫鍕拱婵炲弶顭囬幑銏犫槈閵忕姴鐎銈嗘⒒閸樠囁夊▎鎾粹拻濞达綀娅ｇ敮娑欐叏婵犲偆鐓肩�规洏鍨奸ˇ鎶芥倵闂堟稏鍋㈤柟顔规櫇缁辨帒螣閻撳骸绠為梻鍌欑閹碱偄煤閵忋倕绀夌�癸拷閸曨厼绁﹂梺鍝勭▉閸樹粙鎮￠悢鎼炰簻闁规崘娉涢弸鏃傜磼閻橀潧浠﹂柟渚垮妽缁绘繈宕熼鐐殿偧闂備胶鎳撻崲鏌ュ箠濡櫣鏆﹂柕濠忓缁★拷闂佸憡鍔戦崝灞剧珶瀹ュ應鏀介柨娑樺娴滃ジ鏌涙繛褍鎳愭稉宥夋煙閻戞ê娈炬繛鎴欏灩缁�瀣亜閺嶃劍鐨戦柛妯绘そ閹鐛崹顔煎濠碘槅鍋呴惄顖炲春閻愬樊鍚嬮柛鈩冨姃缁ㄥ鎮峰鍐闁诡喗锕㈤獮搴＄暋濮濈ざ婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鏁愭径濠庢綂闂佺粯锚閸熷潡寮抽崼銉︹拺缂佸顑欓崕蹇斻亜閹存繃鍤囬柛鈺冨仱楠炲鏁傞挊澶夋睏闂備礁婀辩划顖滄暜濡わ拷閳绘捇顢橀悜鍡樺瘜闂侀潧鐗嗗Λ娆戠矆鐎ｎ�㈢懓顭ㄩ崘顏勭厽閻庢鍠涢褔鍩ユ径鎰潊闁绘ɑ褰冮弫銈嗕繆閻愵亜锟芥牠宕濋幋锕�纾圭憸蹇撐ｉ幇鐗堟櫢闁跨噦鎷�" + role.getName());
			return;
		}
		if(! role.checkNeedCheckPos())
			return;
		
		role.clearNeedCheckPos();
		
		final Position  pos = new Position(curpos.x, curpos.y, locz);
		if(role.getScene().checkBlock(pos.toGridPos(), pos.getWalkBlockType()))
		{
			role.broadResetPosition();
			return;//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕婵犲倹鍋ラ柡灞诲姂瀵潙顫濋懜娈匡拷鏍ㄧ箾鐎涙鐭婄紓宥咃躬瀵鈽夐姀鐘电杸闂佺绻愰幗婊堝极閺嶎厽鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ω閳哄倵鎷虹紓浣割儐椤戞瑩宕曞☉妯忕懓顭ㄦ惔婵嬪仐閻庢鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏃撻檮缁傚秹寮介‖顒婄秮瀹曞ジ濮�閵忣澁绱冲┑鐐存尰閼归箖鏁冮妷褝鎷峰顒傜Ш婵﹨娅ｉ崠鏍即閻愭祴鎷ゆ俊鐐�х粻鎾剁磽濮樿泛桅闁圭増婢樼粻鎶芥煙閹冨笭缂併劎鏁诲铏规兜閸涱収妫堥梺瑙勬た娴滅偛顕ユ繝鍐﹀亝闁告劑鍔庨悿鍛節闂堟稑锟芥悂骞夐敓鐘茬厱闁硅揪闄勯崐鐢告煕閿旇骞栨い搴＄焸閺屾盯濡堕崱娆愬櫚濠殿喖锕ㄥ▍锝夊极椤曪拷椤㈡瑩宕滈‖顔界矒閹鈻撻崹顔界亪濡炪値鍘鹃崗姗�鐛崘顔碱潊闁靛牆鎳愰ˇ褏绱掗悙顒�顎滃瀛樻倐钘熼柛顐犲劜閳锋帒霉閿濆浂鐒鹃柡鍡涗憾閺岀喓鍠婇崡鐐板枈閻庤娲﹂崹杈╋拷浣冨亹閿熻姤绋掕摫婵炲懏鐗犲铏圭磼濡崵鍙嗛梺鍛婅壘椤戝宕哄☉銏犵闁绘鏁搁敍婊堟煟鎼搭垳绉甸柛瀣浮瀹曟洟濡烽埡鍌滃幈闁瑰吋鐣崹濠氭儗瀹�锟界槐鎺撴綇閵婏箑纰嶅銈嗘尭閵堢鐣烽悢纰辨晣鐟滃氦鈪垫繝纰夌磿閸嬫垿宕愰弽顬℃椽鍩￠崘顏嗩槸婵炴挻鐔幏鐑芥煏閸℃洜顦﹂柍璇查叄楠炴﹢寮堕幋顖涘闂佸灝顑冩禍婊堟煙閾忕懓浠﹂悗姘辨嚀椤啴濡堕崨顓у妷闂佺儵鏅╅崹浼达綖韫囨拋娲敂閸滀焦顥堥梻浣哥枃濡椼劑鎳楃捄浣曪綁鏁愭径瀣ф嫼闂佸憡绋戦…顓㈡嚀鐠恒劎纾奸柣妯虹－婢ц櫕淇婇銈呮瀻妞ゎ亜鍟存俊鍫曞幢濡攱瀚介梻浣告惈閹峰宕戦崱娆忓灊缂備焦菧閸嬪懘鏌涢幇銊︽珖闁告鏁婚弻锝嗘償閿濆棙姣勫銈庡幖閻楀﹦绮嬮幒妤佹櫇闁稿本绋戦敓钘夌埣閻擃偊宕舵搴″煂濡ょ姷鍋為…鍥╂閹烘挻缍囬柕濞垮劤閻熸煡鎮楅崹顐ｇ凡閻庢凹鍣ｉ弫鎾诲棘閵堝洨校闂佺顑呯�氭澘鐣烽浣哥窞闁归偊鍘奸敓鐣屾暬閹嘲鈻庤箛鎿冧痪缂佸墽鍋撻幃鍌炲蓟濞戙垹惟闁靛牆娲ㄩ悡鎾绘⒑缂佹ü绶遍柛鐘冲哺閺佹捇寮妶鍥┬ｉ梺鍝ュУ椤ㄥ﹤鐣烽幋锕�绠涢柣妤�鐗忛崢閬嶆⒑瑜版帒浜伴柛鎾村哺閸┿垽寮撮姀锛勫弳闂佺粯鏌ㄩ幉锟犳倶椤曪拷閺岀喖宕欓妶鍡楊伓?
		}
		if(SRelocateRolePos.MAX_DISTANCE < pos.getDistance(role.getPos()))
		{
			role.broadResetPosition();
			return;//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕婵犲倹鍋ラ柡灞诲姂瀵潙顫濋懜娈匡拷鏍ㄧ箾鐎涙鐭婄紓宥咃躬瀵鈽夐姀鐘电杸闂佺绻愰幗婊堝极閺嶎厽鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ω閳哄倵鎷虹紓浣割儐椤戞瑩宕曞☉妯忕懓顭ㄦ惔婵嬪仐閻庢鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏃撻檮缁傚秴鈹戠�ｎ亪妫峰銈嗘尪閸ㄦ椽宕愰悽鍛婂仭婵炲棗绻愰顏嗙磼閿熶粙鏁撻挊澶樻富闁靛牆绻樺顔碱熆閻熺増顥㈡鐐村灴婵拷闁绘﹩鍋呴弬锟介梺璇插嚱缂嶅棝宕戦幒鎳虫盯宕橀妸銏℃杸闂佺粯鍔栧娆撴倶閿曞倹鐓犵憸鐗堝笧閻ｆ椽鏌涢埡鍌滄创鐎规洖銈告俊鐑芥晜鐟欏嫬顏归梻浣藉吹婵潙煤閿曚降浜归柛鎰靛櫘閺佸棝鏌曡箛瀣拷鏍偂閻斿吋鐓欑紓浣靛灩閻忔煡鏌熸搴″幋妤犵偛娲﹂幏鍛村川婵犲骸鎮梻鍌氬�风粈浣圭珶婵犲洤纾婚柛娑卞姸濞差亜鍐�妞ゆ挾鍠庢禍妤�鈹戦悙鏉戠仸闁崇鍊涢妵鎰板箳閹惧瓨鐝抽梻浣告啞娓氭宕板☉姘厹闁跨喍绮欏缁樻媴閸濄儲鐎銈庡亜椤﹁京鍒掑▎鎾崇闁煎憡顔栧鐔兼⒑鐟欏嫬鍔ら柣掳鍔嶉崚濠囧箻椤旂晫鍙勯棅顐㈡处濞叉﹢宕甸敓鐣岀磽娴ｈ娈ｇ紒缁樼箓椤繐煤椤忓懎娈ラ梺闈涚墕閹冲繐袙閹扮増鈷戦柛婵嗗閸ｆ椽鏌ｉ埡濠傜仸闁靛棔绀侀～婵嬫嚋閸偅鐝冲┑鐘灱閸╂牞鎽梺鍝勬噳閺呯姴顫忛搹鍦＜婵☆垰鎼闂備礁鎲￠幐濠氭偡閳哄懌锟戒線骞橀弬銉︻潔闂侀潧绻嗗褔骞忓ú顏呪拻闁稿本姘ㄦ晶鎰版煛閸涱喚娲撮柟顖欑椤劑宕奸悢鍝勫箞婵犳鍠楅〃鎰板箯妞嬪海纾奸柣妯虹－婢ц櫕淇婇銈呮瀻妞ゎ亜鍟存俊鍫曞幢濡攱瀚介梻浣告惈閹峰宕戦崱娆忓灊缂備焦菧閸嬪懘鏌涢幇銊︽珖闁告鏁婚弻锝嗘償閿濆棙姣勫銈庡幖閻楀﹦绮嬮幒妤佹櫇闁稿本绋戦敓钘夌埣閻擃偊宕舵搴″煂濡ょ姷鍋為…鍥╂閹烘挻缍囬柕濞垮劤閻熸煡鎮楅崹顐ｇ凡閻庢凹鍣ｉ弫鎾诲棘閵堝洨校闂佺顑呯�氭澘鐣烽浣哥窞闁归偊鍘奸敓鐣屾暬閹嘲鈻庤箛鎿冧痪缂佸墽鍋撻幃鍌炲蓟濞戙垹惟闁靛牆娲ㄩ悡鎾绘⒑缂佹ü绶遍柛鐘冲哺閺佹捇寮妶鍥┬ｉ梺鍝ュУ椤ㄥ﹤鐣烽幋锕�绠涢柣妤�鐗忛崢閬嶆⒑瑜版帒浜伴柛鎾村哺閸┿垽寮撮姀锛勫弳闂佺粯鏌ㄩ幉锟犳倶椤曪拷閺岀喖宕欓妶鍡楊伓?
		}
		
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍�閵囨劙骞掗幘璺哄箞闂佺澹堥幓顏嗘閺囩喐娅忛梻鍌欑閹碱偊鎯屾径宀�绀婂ù锝呭閸ゆ洘銇勯弴顏呭閻庤娲樼敮鎺楋綖濠靛鏁勯悹鎭掑妼缁楋繝姊婚崒姘拷椋庣矆娓氾拷楠炴牠顢曢敂缁樻櫈闂佸憡娲﹂崹閬嶅吹閸曨垱鐓曢柟鎹愬皺閸斿秵銇勯锝嗙闁哄瞼鍠栭獮鎴﹀箛闂堟稒顔勯梻鍌欑瀹曨剙煤椤撱垹钃熼柡鍥风磿閻わ拷闂佸搫娲ㄩ崕鎰焽濞嗘挻鈷戦梻鍫熷喕缁憋繝鏌涘☉鍗炵伈缂佽鲸褰冮埞鎴︽偐椤旇偐浼囧┑鐐差槹閻╊垶鍨鹃敃鍌ゆ晢闁告洦鍋勯幆鐐烘⒑缂佹ɑ顥嗘繛鍜冪悼婢规洘绺界粙璺ㄩ獓闂佸壊鍋呯粙鎴炰繆閻ｅ矉鎷风憴鍕闁活厼鍊垮濠氬焺閸愨晛顎撻柣鐔哥懃鐎氼剛澹曢幎鑺モ拺閺夌偞澹嗛崝宥夋煙閻熺増鍠樼�殿噮鍋婇獮妯肩磼濡粯顏熼梻浣芥硶閸ｏ箓骞忛敓锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堟悙妞ゎ偄绻戠换婵嗩潩椤掑嫬鏁归梻浣虹帛閺屟呮椤曪拷楠炲繘鎮滈懞銉ョ檮婵犮垼顫夌换鍐渻娴犲锟戒線寮崼婵堫槹濡炪倖鐗楃粙鎺戔枔閺傚簱鏀介柣妯垮皺濡嫰鏌℃径濠傜殹闁归鏌夐ˇ瑙勵殽閻愯尙绠婚柡灞诲妿閿熸枻绲洪弲婵堢不濮橆剦娓婚柕鍫濇婵呯磽瀹ュ懏鍠橀柟铏崌瀹曠螖娴ｅ搫骞愰梺璇茬箳閸嬬喖鈥﹂崼鐔告珷闁肩⒈鍓ㄩ幏鐑藉垂椤愶絿鍑￠柣搴㈠嚬閸欏啴鐛崱娑樼睄闁割偅绻嶅濠囨⒑闁偛鑻晶楣冩煙閻戣姤鏁辩紒缁樼箞瀹曟帒螖娴ｈ婢戦梻鍌欒兌缁垶宕濆▎蹇ｇ劷鐟滃繘寮锟藉畷濂稿即閻斿搫骞愰梻浣稿閸嬫帡宕戦崟顒佹珷闁圭虎鍠楅悡蹇涙煕閳╁喚娈旈柡鍡到閳规垿鏁嶉崟顐㈠箣闂佺硶鏅换婵嗙暦閹烘埈娼╅柣鎰靛墮椤忓爼姊虹紒妯虹伇濠殿喓鍊濆畷鎰板垂椤愩倗顔曢梺鐟邦嚟閸嬬喖骞婇幇鐗堢厽闁瑰搫绉堕惌娆撴煛鐏炶濡奸柍钘夘槸閳诲酣骞嬮弮锟介鍥╃磽閸屾瑨鍏岀紒顕呭灦閹嫰顢涢悙鍙夌�梺鍦濠㈡ê顔忓┑鍥ヤ簻闁哄啫娲よ闂佺锕﹂崗妯侯潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙棰濆殝闂傚嫬瀚划瀣吋婢舵ɑ鏅滈梺鍓插亞閸犲孩绂掗幒鎴富闁靛牆妫欑粚鍧楁煙妞嬪骸鍘撮柡灞稿墲閹峰懐鎲撮崟顐わ紦闂備浇妗ㄩ悞锕傚箲閸ヮ剙鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?,闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠绘鐐村灴婵拷闁靛牆鎳愰悿锟芥俊鐐�栧Λ浣肝涢崟顒佸劅濠电姴娲﹂埛鎴犳喐閻楀牆绗掑ù婊�鍗抽弻娑⑩�﹂幋婵嗩潽缂備礁鍊哥粔褰掑箖閻戣姤鐒介柨鏃�鍎抽弫鎼佹⒑閼姐倕鞋婵炲拑缍佸畷鏇㈠Χ閸滃啳锟藉潡鏌ｅΔ锟介悧鍕濠婂嫨浜滈柟鏉垮缁嬭崵绱掗敓鐣岋拷锝庡枟閻撴稓锟界櫢鎷烽柨鐔剁矙瀹曠増鎯旈妸銉у幒闂佽宕橀褔宕归崒娑栦簻闁哄啫鍊瑰▍鏇犳喐閻楀牏鍙�婵﹦绮幏鍛村川婵犲懐顢呴梻浣侯焾缁绘垿鏁冮姀鐙�鍤曢柕濞炬櫆閻掕偐锟藉箍鍎遍幊鎰邦敊閸℃稒鈷戦柛娑橈功閳句焦绻涢崗鑲╂噮缂侇喖鐗撳畷姗�鍩炴径鍝ョ泿婵＄偑鍊栭幐楣冨窗鎼淬劍鍊堕柨鏂款潟娴滄粓鏌曟径鍫濆姢閺佸牆鈹戦纭峰姛缂侇噮鍨堕獮蹇涘川椤栨稑鏋傞梺鍛婃处閸嬪倿宕Δ锟介埞鎴︽倷瀹割喖娈堕梺鍛婎焼閸忕姵妞介、姗�鎮欓崹顐ｎ啎闂備線娼ц墝闁哄應鏅犲顐ｇ節閸ャ劎鍘遍棅顐㈡处閼圭偓绂嶈ぐ鎺撶叆闁绘棁娅ｉ幗鍌炴煕濞嗗繐鏆欐い顐㈢箳缁辨帒螣鐠囧樊锟芥捇姊洪崨濠勨槈闁挎洏鍔庡☉鐢告晸娴犲鈷掑ù锝勮閻掑墽绱掗妸锔姐仢鐎规洘鍔欏鎾偐閹绘帞鏌ч梻鍌氬�风粈渚�骞栭銈囩煓濞撴熬鎷风�规洏鍨藉顕�鏁撻挊澶樺殫闁告洦鍓氶崕鐔兼煥濠靛棙澶勬繝銏″灦缁绘繈鎮介棃娑楁勃闂佹悶鍔岄悥濂稿箖閻戣棄顫呴柕鍫濇噽椤斿棝姊洪崨濠勭畵閻庢艾鍢查妴鎺撶節濮橆厾鍘梺鍓插亝缁诲啴藟濠婂懐纾兼俊銈忔嫹闁稿﹨宕靛Σ鎰板箳濡わ拷閸ㄥ倹绻涢幋锝嗙彧閻庢艾缍婇弻锟犲磼濡搫濮曢梺璇茬箣缁�渚�鍩為幋锔绘晩缂佹稑顑嗛娲⒑瑜版帩妫戦柛蹇旓耿瀵鍨惧畷鍥ㄦ畷闁诲函缍嗛崜娑㈡儊閸儲鍊甸悷娆忓缁�瀣瑰鍐煟闁靛棔绀侀～婊堟晸娴犲绠栭柕蹇ョ磿闂勫嫬顭跨捄渚Ш濠㈣泛瀚板濠氬磼濮橆剨鎷烽幖浣哥９闁归棿绀佺壕褰掓煙闂傚顦︾痪鎯х秺閺岀喖姊荤�靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鈽夐姀鐘靛姶闂佸憡鍔︽禍鏍ｉ崼銉︹拻闁稿本鑹炬禍鐐烘煕閵娿儳鍩ｇ�殿喖顭锋俊鎼佸Ψ閵忊剝鏉搁梻浣虹《濡狙囧疾濠婂棗锟芥挳姊婚崒娆愮グ婵炲娲熷畷浼村即閻愬秵鐩畷鐔碱敍濮樻唻绱梻浣侯潒閸曞灚鐣堕梺鍝勵儎缁舵岸寮婚悢鐓庣鐟滃繒鏁☉銏＄厸闁告侗鍠楅崐鎰版煛鐏炶濮傞柟顔哄�濆畷鎺戔槈濮楀棔绱�
		role.updatePosition(pos);
		role.clearCurDestPos();
		
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 790447;

	public int getType() {
		return 790447;
	}

	public long sceneid;
	public fire.pb.move.Pos curpos;
	public byte locz; // RelocateRolePos的z坐标

	public CRelocateRolePos() {
		curpos = new fire.pb.move.Pos();
	}

	public CRelocateRolePos(long _sceneid_, fire.pb.move.Pos _curpos_, byte _locz_) {
		this.sceneid = _sceneid_;
		this.curpos = _curpos_;
		this.locz = _locz_;
	}

	public final boolean _validator_() {
		if (!curpos._validator_()) return false;
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(sceneid);
		_os_.marshal(curpos);
		_os_.marshal(locz);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		sceneid = _os_.unmarshal_long();
		curpos.unmarshal(_os_);
		locz = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CRelocateRolePos) {
			CRelocateRolePos _o_ = (CRelocateRolePos)_o1_;
			if (sceneid != _o_.sceneid) return false;
			if (!curpos.equals(_o_.curpos)) return false;
			if (locz != _o_.locz) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)sceneid;
		_h_ += curpos.hashCode();
		_h_ += (int)locz;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(sceneid).append(",");
		_sb_.append(curpos).append(",");
		_sb_.append(locz).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CRelocateRolePos _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(sceneid - _o_.sceneid);
		if (0 != _c_) return _c_;
		_c_ = curpos.compareTo(_o_.curpos);
		if (0 != _c_) return _c_;
		_c_ = locz - _o_.locz;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

