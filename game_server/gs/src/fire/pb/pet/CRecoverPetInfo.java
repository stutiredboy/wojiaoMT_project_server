
package fire.pb.pet;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CRecoverPetInfo__ extends mkio.Protocol { }

/** 客户端请求查看一个找回宠物的信息
*/
// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CRecoverPetInfo extends __CRecoverPetInfo__ {
	@Override
	protected void process() {
		final long roleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleId < 0)
			return;

		new mkdb.Procedure() {
			@Override
			protected boolean process() {

				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼鏌ｆ惔銈庢綈婵炴彃绻樺畷鏇㈠箮閼恒儲娅㈤梺鍝勫�堕崐妤冪矓閻㈠憡鐓曢柣妯虹－婢у崬顭跨憴鍕鐎规洜顭堣灃濞达絽鎼獮宥夋⒒娴ｇ瓔鍤冮柛銊ㄦ珪閺呰泛螖閸氳棄顦板鍕箛椤掑偆鍟囬梻浣告惈椤︿即宕烘繝鍥╁彆妞ゆ帒瀚悡娑㈡倶閻愰鍤欓柨鐔诲Г椤ㄥ﹤鐣烽悧鍫㈢瘈闁搞儜鍜佹敤闂備胶绮崝鏇炍熸繝鍌ょ劷闁兼亽鍎扮换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃姴鐣峰┑瀣闁哄倸鐏濋悘濠傗攽閻愬弶顥滄繛瀛樿壘椤洭寮介妸褏顔曢悗鐟板閸犳洟骞夋ィ鍐╃厸濞达絽鎲￠ˉ銏ゆ煛鐏炶濮傞柟顔哄灲閹粌螣閼姐倕娑х紓鍌氬�风欢锟犲窗濡わ拷铻為柛鎰靛枤瀹撲焦鎱ㄥΔ瀣濡炪們鍨洪悷鈺呭箰婵犲啫绶炲┑鐘插亞濡绻濋悽闈浶㈤柣銉ヮ樀瀵爼宕犻埄鍐伓闂佺懓澧界划顖炲煕閺冨偊鎷烽獮鍨姎婵☆偅鐩妴鍛村矗婢跺瞼鐦堟繝鐢靛Т閸婄粯鏅跺☉銏＄厽闁规儳顕妴鎺楁煥閻旂粯顥夌紒鐘茬Ч瀹曟洟鏌嗗鍛焾濡炪倖鍔х徊鑲╂崲閸℃稒鐓欑紒瀣硶閺勫倸霉濠婂嫮鐭掗柡灞诲妼閳规垿宕卞▎蹇ｆ毇闂備焦鐪归崝蹇撯枍閿濆洦顫曢柟鐑樻尰缂嶅洭鏌曟繛鍨姕閻犲洨鍋ゅ鐑樻姜閹殿喖濡介梺瑙勭摃瀹曠數鍒掔�ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡涱�楀ù婊勭箖缁绘盯宕ㄩ銏痪缂備胶绮粙鎾绘晸閻ｅ本鏆╂い顓炵墕閻☆厽淇婇悙顏勶拷鏍垂闂堟党娑樷攽鐎ｎ亝妲┑鐐村灟閸ㄥ湱绮婚敐澶嬬叆闁哄啫鍊瑰▍鏇㈡煕濡寧顥夐柍瑙勫灴椤㈡瑩寮妶鍕繑闂備礁鎲￠幐濠氭儎椤栫偟宓佹俊銈呮噺閸嬫劗绱撴担濮戭亪鏁撻挊澶屼粵闁逛究鍔岄～婊堝幢濡わ拷椤亪鏌ｉ悩鍐插Ё缂佽鲸娲滃Σ鎰板箳閹惧绉堕梺闈涱煭缁犳垿妫勫澶嬧拺闁荤喐婢樺Σ濠氭煙閾忣個顏堟偩瀹勯偊鐓ラ柛顐ｇ箘閻撴垶绻濋姀锝庡殐闁告鍋ゅ畷鍫曞Ω閵忊�愁伖缂傚倷鑳堕搹搴ㄥ储婵傜绠悗锝庝憾閻掍粙鏌熼柇锕�骞掔紒璇叉閺屻倗鍠婇崡鐐差潾闂佹寧绋戦幑鍒ｉ梻鍌氬�搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡缂佺粯绻傞銉╂煥鐎ｎ偆鍑￠梺璺ㄥ枙婵倕煤閻旇偐宓佸┑鐘插�婚弳鍡涙煕閺囥劌澧繛鍛灲濮婃椽鎳為妷鍐句邯钘濇い鏍仜濮规煡鏌ｉ幇顕呮殰闁归鍏樺畷褰掝敃閿濆洤鍤掗梺璇插閻噣宕￠幎鑺ュ仒妞ゆ洩鎷风�规洖鐖奸、妤佸緞鐎ｎ偅鐝楅梻鍌欑绾绢參骞婇幘缁樺�舵繝闈涱儏缁�澶愭煥閺囩偛锟藉綊鎮″☉銏″�堕柣鎰邦杺閸ゆ瑥鈹戦鐓庯拷鍧楀蓟閻旂⒈鏁婇柛婵嗗閹峰嘲鈹戦崱娆愭闂佸湱鍎ら崹鐔肺ｉ崼鐔稿弿婵°倧鎷锋俊顐ｆ⒒濡叉劙鏁撻敓锟�
				xbean.Petrecoverlist petRecoverList = xtable.Petrecover.select(roleId);
				if (petRecoverList == null) {
					return false;
				}

				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻樻爠鍥╁彄闁搞儯鍔嶉悡銉︺亜韫囨碍纭鹃柍瑙勫灴椤㈡瑩鎯岄顐＄盎闁伙絿鍏橀、妤呭礋椤愩垹浜堕梺璇叉捣閺佽顭囨繝姘濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔诲枛椤啴濡舵惔鈥茬盎濡炪倧绠撴禍鍫曞极閹惧顩烽悗锝庡亝闁款參姊洪棃娑氬ⅱ妞ゎ厼鐗撻、姘舵晲婢跺﹪鍞堕梺鍝勬川閸嬬喖顢樺ú顏呪拺缂備焦鈼ら鍫熷�舵慨姗嗗劮閹烘挻鍎熼柕蹇嬪灮閻﹀牓姊哄Ч鍥х伈婵炰匠鍕浄闁冲搫鎳忛悡娆愮箾閼奸鍞虹紒銊ф櫕閿熻棄鐏氬姗�鏁冮敃鍌氱闁告洦鍨版儫闂侀潧鐗嗗ú銈嗘櫠妤ｅ啯鈷掑〒姘炬嫹婵炰匠鍡楊杺闂備礁鎼幊蹇曠矙閹捐泛鍨濆┑鐘冲嚬閺佸秵绻濇繝鍐ㄥ閻庢艾缍婇弻锝夋偄閸涘﹦鍑″銈呮禋娴滄粓鈥﹂崸妤佸仭闂侇叏绠戦崜浼存煕濡ゅ懍鎲鹃柡灞剧洴椤㈡洟濡堕崨顔句簴缂傚倷鑳舵繛锟界紒鐘崇墵瀵鈽夊鍡欏弳闂佽法鍠撻弲顐ゅ垝閸喐濯撮柛鎾村絻濞堛劑姊虹拠鈥崇伇闁诲繑鍔欓幃鐑芥焽閿旀儳寮抽梻浣告啞濞诧箓宕㈡ィ鍐╁亗濠㈣埖鍔栭埛鎴﹀级閻愭潙顥嬫い锔肩畵閺屾盯鎮㈡搴㈡喖闂侀�涚┒閸旀垿寮幘瀵割浄閻庯綆鍋嗛崢顏堟⒑閸撴彃浜濈紒璇插�块、妤呭閵堝棛鍘搁梺鍛婁緱閸犳岸鎯岄幒鎾村弿濠电姴鍟妵婵堬拷瑙勬礃缁捇鐛幘璇茬鐎广儱娲ら崵顒傜磽閸屾艾锟藉嘲霉閸ヮ剦鏁嬬憸蹇涙晸閼恒儳鐓柛妤佸▕閻涱噣宕橀鑺ユ闂佺粯顭堢亸娆擃敇閸濆嫧鏀介柣妯垮皺娴犳盯鏌涢弮锟介悧婊堟晸娴犲娑ч柣顓炲�搁～蹇撁洪鍜佹濠电偞鍨堕懝楣冦�傞崫鍕ㄦ斀闁宠棄妫楁禍婵堢磼鐎ｎ偄娴�殿喗鐓″畷濂稿即閵婏附娅岄梻浣侯焾閺堫剛鍒掑澶嬫櫖闊洦绋掗埛鎴︽煕濠靛棗顏存俊鎻掑悑缁绘稒寰勭�ｎ偆顦梺绋匡工椤曨厾妲愰幘璇茬＜婵炲棙鍨肩粣妤呮⒑閸濄儱校闁绘濞�楠炲啳顦规鐐搭焽閹风娀宕ｆ径宀嬫嫹椤掑嫭鈷戦悷娆忓閸斻倖銇勯弴銊ュ籍闁靛棗鎳橀幃婊堟嚍閵夈儻鎷烽悽鍛婄叆婵犻潧妫濋妤�霉濠婂嫬濮嶉柡宀�鍠栭弻銊э拷锝庡亖娴犮垹鈹戦纭烽練婵炲拑绲垮Σ鎰板箳閹冲磭鍠栧畷褰掝敋閸涱噮妫ㄩ梻鍌氬�风粈渚�顢樻禒瀣骇闁割煈鍣悗鐑芥⒒娴ｈ姤纭堕柛鐘虫礃閹便劑濡舵径瀣疄闂佸憡鎸嗛崨顖ｆЦ濠电姷鏁告慨鎾磻閸℃鐒介柡宥冨妿缁犲墽锟界懓澹婇崰鏇犺姳閼姐倧鎷烽悷鐗堝暈缂佽鍊块崺鐐哄箣閿旇棄浜归梺鍦帛鐢鈻撻銏♀拺婵炶尪顕у楣冩煕閿濆繒鍒版い顐㈢箻閹煎綊宕烽鐙呯床婵犵妲呴崹鍗烆渻娴犲鍚归悗锝庡墰绾捐棄霉閿濆懏鎯堥弽锟犳⒑閸︻厽鍤�婵炲樊鍙冮幃浼搭敋閿熻棄鐣峰锟介崺鐐哄垂椤旇崵鍑归梻鍌欑閹诧繝宕濊箛娑樼柧婵炴垯鍨圭粈鍫ユ煕閹邦厾銈撮柡锟芥禒瀣厽闁归偊鍓涢幗鐘绘倶韫囨洖顣奸柕鍥у椤㈡棃宕熼銈冨仩Id
				if (petRecoverList.getUniqids().contains(uniqid) == false) {
					return false;
				}

				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼鏌ｆ惔銈庢綈婵炴彃绻樺畷鏇㈠箮閼恒儲娅㈤梺鍝勫�堕崐妤冪矓閻㈠憡鐓曢柣妯虹－婢у崬顭跨憴鍕鐎规洜顭堣灃濞达絽鎼獮宥夋⒒娴ｇ瓔鍤冮柛銊ㄦ珪閺呰泛螖閸氳棄顦板鍕箛椤掑偆鍟囬梻浣告惈椤︿即宕烘繝鍥╁彆妞ゆ帒瀚悡娑㈡倶閻愰鍤欓柨鐔诲Г椤ㄥ﹤鐣烽悧鍫㈢瘈闁搞儜鍜佹敤闂備胶绮崝鏇炍熸繝鍌ょ劷闁兼亽鍎扮换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃姴鐣峰┑瀣闁哄倸鐏濋悘濠傗攽閻愬弶顥滄繛瀛樺哺瀹曠敻寮撮姀锛勫幈濡炪倖鍔х徊鍓х矆閿熶粙姊绘担绋胯埞婵炶濡囬幑銏犫槈閵忕姷顓洪梺璇茬箲濡炴寧绂嶉鍫濈伋闁哄稁鍋撻幏鐑芥晲鎼粹剝鐏嶉梺鎶芥敱閸ㄥ綊鏁撻崐鐕佹綈婵炲弶鐗曠叅闁靛ě鍕濠电偞鍨堕悷銈囨崲閸℃ǜ浜滈柟鎵虫櫅閻忊晠鏌￠崱顓犳偧闁跨喕濮ら鏍窗閺嶎厸锟斤箑鐣￠柇锕�娈ㄩ梺鍦檸閸犳寮查鍕厱闁哄洢鍔岄獮妤佺節閵忊�崇伌婵﹦绮幏鍛村川婵犲啫鍓垫繝鐢靛仜閻即宕濋幋婵堟殾闁逛即鍋婇弫鍐煥閺囶亝瀚归柛鐑嗗灦閹嘲顭ㄩ崘顏嗩唶闁捐崵鍋為妵鍕冀椤垵娈奸梺鍝勫暙閻楀﹪寮查弻銉︾厱婵炴垵宕獮妤佺箾閸繄鍩ｆ慨濠勫劋鐎电厧鈻庨幋鐘愭垵鈹戦敍鍕粧缂侇喗鐟ラ锝嗙節濮橆剛浼嬮悗瑙勬礀濞诧箑鈻撻弴銏＄厽閹兼惌鍨崇粔鐢告煕閹惧顬奸柍顏勭仛缁绘繈鎮介棃娴躲儲銇勯敐鍕煓鐎规洘绮岄埞鎴狅拷锝庝簽閻ｆ椽姊虹粙鎸庢拱缂佸鍔楅幑銏ゅ幢濞戞瑧鍘介梺纭呮彧缁查箖藟婢舵劕鑸规い鏍ㄥ嚬濞撳鏌曢崼婵囶棡闁抽攱甯炵槐鎺楊敋閸涱厾浠搁悗瑙勬礃閸ㄥ灝鐣烽妸褝鎷峰☉娅辨岸骞忔繝姘拺缂佸瀵у﹢浼存煟閻旀繂娲ょ粈澶岋拷骞垮劚椤︿即鎮￠悢鎼炰簻闊洦鎸搁顐ょ磼婢跺孩顏犻柨鐔凤拷鐕佹綈婵炲弶锕㈠畷婵嗏枎韫囷絽娈ㄩ梺鍦檸閸犳宕愰崜浣虹＝濞达綀鍋傞幋锕�桅婵犻潧娲㈡禍婊堟煏韫囧﹥顫夐柤鏉跨仢閳规垿顢氶崱妯侯伓闂傚倷鑳剁划顖炩�﹂崶顒�鏋侀柟闂寸濮瑰弶銇勯幇鍫曟闁抽攱甯掗湁闁挎繂鐗嗚缂佺虎鍘奸悥濂稿蓟濞戙垺鏅查煫鍥ㄦ礈閺嗐倕螖閻橀潧浠滅紒缁橈耿瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�?
				xbean.DiscardPet discardPet = xtable.Petrecyclebin.select(uniqid);
				if (discardPet == null) {
					return false;
				}

				Pet pet = Pet.getPet(discardPet.getPet());

				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛閺夎法顔愭繛杈剧悼椤牓鎮楅銏♀拺缂佸娉曢悘閬嶆煕鐎ｎ剙浠遍柟顕嗙節婵＄兘鍩￠崒婊冨箺闂備礁鎼ú銊╁磻濞戙垺鏅搁柦妯侯槹鐠愶繝鏌ㄩ悢璇残撻柣鏃戝墴楠炲繘鏁撻敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝呂熷▎鎯ф缂備胶濮撮悘姘跺Φ閸曨喚鐤�闁圭偓鎯屽Λ銈囩磽娓氬﹥瀚规繝鐢靛Т濞诧箓鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿京纾藉ù锝堟鐢盯鏌ｉ埡濠傜仩闁伙絿鍏橀、鏃堝醇濠靛牜妲版俊鐐�曠换鎰板蓟婵犲偆鐓ラ柛顐ゅ暱閹疯櫣绱掔紒銏犲箹闁瑰啿绻橀幃鐢割敂閸℃瑧锛滃銈嗘婵倗浜搁銏＄厽闁挎繂顦伴弫杈╃磼閾忚娅曠紒顔界懇瀹曞綊顢欓懖鈹垮仏闂傚倸鍊烽懗鍓佸垝椤栫偛钃熼柕濞炬櫅閸氬綊鏌″搴″箹缂佺媭鍨堕弻锝夊箣閿濆棭妫勯梺鎼炲妼閸婂綊濡甸崟顖氱疀闂傚牊绋愮花鐓庮渻閵堝棙鈷愭俊顐㈠暙椤繘鎼归崷顓狅紲濠碘槅鍨伴幖顐︼綖閹达附鐓熼煫鍥ㄦ尵缁犳煡鏌ｉ悤鍌氼洭缂侇喖顑夐獮鎺懳旈敓浠嬶綖閸涘瓨鐓忛柛顐ｇ箖椤ョ娀鏌涘Ο鍦煓婵☆偄鎳橀、鏇㈠閿涘嫨鍋掔紓鍌欑劍瑜板啴濡堕幖浣歌摕闁搞儺鍓﹂弫宥夋煟閹邦剦鍤熼柛妯绘倐閺岋綀绠涢弴鐐扮捕婵犫拃鍡橆棄閻撱倝鏌熺紒銏犳灍闁绘挻娲熼弻宥夊传閸曢潧鍓崇紓浣叉閹风兘鏌ｆ惔銈庢綈婵炲弶顭囬弫顕�骞掑Δ锟介悡姗�鏌涢幇闈涙灈缂侊拷瀹�鍕厓闁宠桨绀侀弳娆愩亜韫囨挾鍩ｆ慨濠冩そ瀹曠兘顢橀悙鎻掝瀱婵犳鍠栭敃銊ョ暦閸偆鐝堕柡鍥ュ灩缁�鍌滅磼濡ゅ嫭銆冪紒銊ヮ煼濮婃椽宕崟顒�绐涢梺绋款儑閸嬨倛妫㈤梺缁樺姉閸庛倝宕愰崹顐ｅ弿婵☆垳鍘ф禍楣冩倵濮樼偓瀚�?
				SRecoverPetInfo send = new SRecoverPetInfo();
				send.petinfo = pet.getProtocolPet();
				mkdb.Procedure.psendWhileCommit(roleId, send);
				return true;
			}
		}.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 788587;

	public int getType() {
		return 788587;
	}

	public long uniqid; // 唯一id

	public CRecoverPetInfo() {
	}

	public CRecoverPetInfo(long _uniqid_) {
		this.uniqid = _uniqid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(uniqid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		uniqid = _os_.unmarshal_long();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CRecoverPetInfo) {
			CRecoverPetInfo _o_ = (CRecoverPetInfo)_o1_;
			if (uniqid != _o_.uniqid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)uniqid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(uniqid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CRecoverPetInfo _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(uniqid - _o_.uniqid);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

