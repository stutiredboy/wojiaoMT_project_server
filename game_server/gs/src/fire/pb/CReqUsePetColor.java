
package fire.pb;

import java.util.Map;

import org.apache.log4j.Logger;

import xbean.PetInfo;
import fire.pb.item.BagTypes;
import fire.pb.item.ItemMaps;
import fire.pb.item.Module;
import fire.pb.main.ConfigManager;
import fire.pb.pet.PetAttr;
import fire.pb.pet.PetColumn;
import fire.pb.pet.PetColumnTypes;
import fire.pb.pet.PetTypeEnum;
import fire.pb.pet.SRefreshPetInfo;
import fire.pb.role.SRoleRColorConfig;
import mkdb.Procedure;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CReqUsePetColor__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CReqUsePetColor extends __CReqUsePetColor__ {
	public static final Logger logger = Logger.getLogger("SYSTEM");
	@Override
	protected void process() {
		// protocol handle
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if(roleid < 0) {
			return;
		}
		
		new mkdb.Procedure() {
			@Override
			protected boolean process() throws Exception {
				xbean.Properties prop=xtable.Properties.get(roleid);
				if(prop==null){
					return false;
				}
				Map<Integer, SRoleRColorConfig> sRoleRColorConfig = ConfigManager.getInstance().getConf(SRoleRColorConfig.class);
				if(sRoleRColorConfig==null){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓棃娑楀濠电偛鎳庡Λ婵嬪蓟濞戙垹围闁告侗鍙庢导鍐⒑閸濆嫯顫﹂柛濠冾殘閸掓帒鈻庨幋鐐茬／闂侀潧顭堥崐妤併仚閾忣偆绡�闁汇垽娼ф禒婊堟煙閾忣偄濮堥柟渚垮姂瀹曞綊顢曢妶鍌涙暤濠电姷鏁告慨鏉懨洪妶鍛函闂傚倸顭崑鍕洪敃鍌氳摕闁靛ň鏅╅弫鍌炴煕椤愶絾绀冮柍閿嬪笒闇夐柨婵嗩樈濡垵鈽夐幘鐟扮毢缂佽鲸甯￠悡顐︻敇閻樼數鍘梻浣筋嚃閸犳鏁嬪銈庡亝缁诲啫顭囪箛娑樼厸闁告劦浜濆▓浠嬫⒒閸屾瑨鍏岀紒顕呭灦瀵濡搁埡浣叫曢柣搴秵閸犳牠鎮块崜褏纾奸悗锝庡亾缁扁晝鎲搁悧鍫濈瑲闁稿鍔楅敓鐣屾嚀婢瑰﹪宕伴弽顓炵濞寸厧鐡ㄩ埛鎴︽煢濡警妲搁柡鍡欏枛閺屾盯鎮╁畷鍥р拰閻庢鍠栭…宄邦嚕閹绢喗鍋勯柧蹇氼嚃閸熷酣姊绘担绋款棌闁绘挸鐗撳畷浼村冀閵婏箑寮挎繝銏ｅ煐閸旀牠鍩涢幋锔界厱婵犻潧妫楅鎾煕鎼达紕绠绘慨濠呮閺侇噣顢欓崜顬粓鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺缁樻尭閸戜粙骞忔搴ｇ＜婵☆垰婀辩粻姘渻閵堝棛澧紒璇插�圭粋宥堛亹閹烘挾鍘介梺鎸庣箓椤︽澘鈽夎閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺呭箠閻樻椿鏁嗛柨鐔剁矙閸╂稒绻濋崶銊㈡嫼闂佽崵鍠愬妯衡枔閳哄懏鐓欓柛鎴欏�栫�氾拷");
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呭銈嗘婵倗绮婃导瀛樷拻闁稿本鑹鹃敓鐣屽厴閹偤鏁冮崒姘辩暫闂佸壊鍋呭ú鏍瑜版帗鐓涢柛銉㈡櫅椤庢捇鏌熷畡鏉挎Щ妞ゎ偅绻堥、鏇㈠閻樼偣鍋栧┑掳鍊楁慨鐑藉磻濞戙垹鐤い鎰惰缂嶆牗绻濇繝鍌滃闁哄懐顭堥湁闁绘ê妯婇崕蹇曠磼閻樺磭澧紒缁樼洴瀹曞崬螣鐠囨煡鐎洪梻浣规偠閸婃洟顢栭崱娆愬床婵炴垯鍨归柋鍥煟閺傛娈犻柛銈咁儏椤啴濡堕崘銊ュ濡炪倧绠撳褔锝炶箛鏇犵＜婵☆垵顕ч鎾翠繆閻愬樊鍎忕紒銊ㄥ亹閹蹭即宕卞▎鎴狅紳婵炶揪绲介幖顐ｇ墡闂備焦鎮堕崝灞筋焽閿熺姷宓侀柛鎰靛枛鍞梺鍐叉惈閸婂憡绂嶅Δ鍛厵闁稿繐鍚嬮崕妤呮煕閻樻剚娈樼紒杈╁仦閹棃鍩﹂敓浠嬪绩娴犲鐓熼柟閭﹀墮缁狙囨煃缂佹ɑ绀�闂囧绻濇繝鍌氼伀闁活厼鐬肩槐鎺楊敊绾拌京鍚嬮梺璇″枙缁瑥鐣烽妸锔剧瘈闁告洦鍋勭粻銉╂⒒閸屾瑨鍏岀紒顕呭灦瀹曞綊骞嗛悧鍫熷櫡闂傚倷鐒︽繛濠囧绩鏉堚晜鏆滈柟鐑橆殕缁犳帡姊绘担铏瑰笡闁圭鎽滈敓鑺ョ▓閺呯娀鐛弽顓炵疀闁绘鐗忛崢鎾绘煟閻斿摜鎳冮悗姘煎墴閹﹢骞橀鐣屽幍濡炪倖姊婚弲顐﹀箠閸ヮ剚鐓欑�规洖娲ら埢鍫熴亜閵忊槅娈滈柡浣规尰缁傛帞锟斤絽瀚崗姗�寮幘瀵割浄閻庯綆鍋�閹风粯绻涙潏鍓хК妞ゎ偄顦靛畷鎴︽偐缂佹鍘遍梺鍝勫�藉▔鏇㈡倶鏉堚晝纾奸弶鍫氭櫅娴狅妇绱掔紒妯肩疄鐎规洘鍎奸ˇ鎶芥煟鎼搭喖澧存慨濠冩そ閹兘寮舵惔鎾村瘱缂傚倷绶￠崳顕�宕归幎鑺ユ櫢闁伙絽鏈弳鈺佲攽椤旇姤灏﹂柍銉閹瑰嫰濡搁敃锟界壕顖涚箾閹炬潙鍤柛銊ゅ嵆瀹曟粓鎮介悽鐢碉紲缂傚倷闄嶉崹鐟邦嚕閸ф鐓欓柣鎴ｅГ閺佽京绱掔紒妯肩疄闁诡喕绮欏Λ鍐圭拋鍦ɑ闁靛洤瀚板顕�鏁撴禒瀣亱闁绘灏欓弳锕傛煙閹澘袚闁哄懏褰冮…璺ㄦ崉閻氭潙濮涢梺鍛婄箖椤ㄥ﹤顫忕紒妯肩懝闁搞儜鍐炬交缂傚倷绀侀ˇ浼村箰閹惰棄绠栭柟绋跨昂閸嬪懘鏌涢幇銊︽珖闁告ê宕—鍐Χ閸℃衼缂備焦褰冩晶鐣屽垝閸儲鏅稿ù鐘差儐閳锋帒霉閿濆棙鐏Δ鐘茬箻閺屾稒绻濋崘顏勵潷缂備礁鐭佹ご鍝ユ崲濠靛鐐婃い顒夊劯閸モ晛褰勯梺鎼炲劘閸斿秹鎮￠妷锔轰簻闊洦鎸鹃崺锝嗘叏婵犲嫮甯涢柟宄版嚇瀹曘劍绻濋崒娑欑暭闂傚倷娴囧畷鐢稿窗閸℃稑纾块柣銏㈩焾閺嬩線鏌涢幇闈涙灈閸烆垶姊虹�圭姵銆冪紒鎻掋偢閺佸啴宕掑☉姘箞闂備礁鎼ú銏ゅ礉瀹�鍕�堕柣妯肩帛閻撴洟鏌熼幏灞界厫閻庢艾缍婂濠氬磼濞嗘垹鐛㈠┑鐐板尃閸℃顏犻梻浣筋嚙缁绘帡宕戦悢鐓庣；闁圭偓妞块弫濠囨煙閹殿喖顣奸柍閿嬪浮閺屾稓浠﹂崜褎鍣梺绋跨箰閺堫剟濡甸崟顖ｆ晣闁绘劙娼ч·锟芥俊鐐�戦崝濠囧磿閻㈠摜宓侀柡宥冨妽婵挳鎮峰▎蹇擃仾闁绘繃鐗楁穱濠囨倷椤忓嫸鎷烽弴鐘冲床闁规壆澧楅崑瀣煕閳╁啰鎳呭☉鎾崇Ч閺屸�愁吋閸愩劌顬嗙紓浣筋嚙濡繈寮婚弴銏犻唶婵犻潧鐗忛澶愭煟鎼淬垼澹樼紓宥咃工椤繘鎼归惂鍛婂闁革富鍘兼牎濡炪們鍎遍ˇ浼村Φ閸曨垱鏅滈悹鍥皺娴犳悂姊虹化鏇熸澓闁搞劌缍婇、姗�宕楅悡搴ｇ獮濠碘槅鍨崇划顖氣枍瀹ュ鐓熼柣鏂挎憸閻﹪鏌ｉ锟介妶鎼佸箠閻愬瓨缍囬柕濞у懐妲囨繝娈垮枟閿曗晠宕㈡ィ鍐ㄧ煑闁糕剝绋掗埛鎴︽煕濠靛棗顏璺哄閺屻劌顫濋懜鐢靛幗闂婎偄娲﹀濠氬矗閿熶粙姊洪崫鍕槵闁告挻绻堥獮蹇涘川椤栨稑鏋傞梺鍛婃处閸嬪棝鏁嶉幘缁樷拻濞达綀濮ら妴鍐煟閹虹偟鐣垫鐐村灴瀹曞爼顢楅敓浠嬪几娓氾拷閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦
				PetColumn petColumn = new PetColumn(roleid, PetColumnTypes.PET,false);
				fire.pb.pet.Pet pet = petColumn.getPet(petkey);
				if(pet==null){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷囨煥閺囨ê鍔ゆ繛鎴濈仛閵堬綁宕橀埡鍐ㄥ笚闂佽崵鍠愰悷銉э拷姘煎墴閹﹢骞橀鐣屽幍濡炪倖妫侀～澶娾枍婵犲嫸鎷风憴鍕┛缂佸弶鍎抽銉╁礋椤掑倻鐦堥柟鑲╄ˉ閹筹綁鎮㈤崗灏栨嫽闂佺鏈悷銊╁礂鐏炰勘浜滄い鎾跺仧婢ф稒銇勯妸锝呭姦鐎规洦鍋婃俊鐤槾闁绘挸顑夐幃宄邦煥閸涱収鏆柣銏╁灡鐢繝骞忛幋锔藉亜闁告縿鍎抽鏇㈡⒑閻熸壆鎽犻柣鐔村劦閹﹢鍩￠崨顔惧幈濠德板�撶粈渚�鍩㈤弴銏＄厸閻忕偟鍋撶粈鍐磼缂佹娲寸�规洖缍婇、娆撴偂鎼搭喗缍掔紓鍌氬�搁崐鐑芥⒔瀹ュ绀夐悗锝庡墮閸ㄦ繃绻涢崱妤佺婵炲吋鐗楃换娑橆啅椤旇崵鐩庢繛纾嬪亹婵烇拷闁哄本鐩鎾閳╁啴鏁梻浣告啞閹哥兘宕￠崘宸綎婵炲樊浜滄导鐘绘煏婢跺牆鍔滈柣搴ㄧ畺濮婃椽宕烽褏鍔搁梺鍝ュ枎濞硷繝銆佸鑸垫櫜闁糕剝鐟ч惁鍫濃攽椤旀枻渚涢柛妯挎閳诲秴顭ㄩ崼鐔叉嫼闂佸憡绋戦敃锕傛儗閸℃稒鐓熼柟铏瑰仜椤╊剟鏌ㄩ悢鍓佺煓婵炰匠鍥ㄥ剶闁兼祴鏅滈～鏇㈡煙閹规劦鍤欑痪鎯у悑缁绘盯宕卞Ο铏逛淮婵犵锟借尙鐭欓柡宀嬬畵瀹曟﹢顢欑紒妯烘灓闂備礁鎼惌澶屽緤娴犲鐓橀柟杈剧畱閻愬﹦鎲歌箛娑辨晞闁稿本绮庣壕钘壝归敐鍕煓闁告繃妞介弻鐔虹矙濞嗗墽鍚嬪Δ鐘靛仜缁绘ê鐣烽妸鈺婃晬婵炴垶顭囪ぐ鎾⒒娴ｈ鐏遍柡鍛洴瀹曨垱瀵奸弶鎴炶緢闂侀潧顧�缂傛氨鎹㈤崱娑欑厽闁规澘鍚�缁ㄥ鏌ㄩ悢铏瑰吹闁告侗鍨粭澶愭⒑鐟欏嫬鍔ゆい鏇ㄥ弮閵嗗懘寮婚妷锔惧幈濡炪倖鍔х徊鍓х矆閿熶粙姊洪崫鍕靛剮缂佽埖宀稿濠氭偄閻撳海顦悷婊冪箳閺侇喖鈽夐姀锛勫幈闂侀潧鐗嗛幊鎰櫏闂備礁鎼張顒�煤濡偐鍗氶柣鏃傗拡閺佸秹鏌曢崼婵囶棞妞ゅ繗鍩栫换婵堝枈濮楀牊瀚归柟缁樺笒閻濈喖姊洪崨濠冣拹闁搞劎鏁婚敐鐐剁疀閹句焦妞介、鏃堝礋椤撗冩暪闂備胶顢婃竟鍫ュ箵椤忓棛绀婇柛鈩冪☉濮规煡鏌ㄥ☉妯侯伀缁炬崘妫勯湁闁挎繂鐗婇鐘绘偨椤栨稓銆掔紒杈ㄥ笧閹风娀鎳犻锟介埅鐢告倵濞堝灝娅橀柛瀣躬閻涱喖螣绾攱瀚归梻鍫熺☉椤ュ繑绻涢弶鎴濐伃闁哄矉绲鹃幆鏃堫敍濠婂憛锝夋⒑缁嬫鍎忛柟鍐查叄閸┿垹顓兼径濠庢綂闂侀潧鐗嗗Λ宀勫箯濞差亝鐓熼柣妯哄帠閼割亪鏌涢弬鑳闁宠绉归獮鍥偋閸垹骞嶉梻浣告啞閸垶宕愰弽顐嫹濮樼偓瀚�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓棃娑楀濠电偛鎳庡Λ婵嬪蓟濞戙垹围闁告侗鍙庢导鍐⒑閸濆嫯顫﹂柛濠冾殘閸掓帒鈻庨幋鐐茬／闂侀潧顭堥崐妤併仚閾忣偆绡�闁汇垽娼ф禒婊堟煙閾忣偄濮堥柟渚垮姂瀹曞綊顢曢妶鍌涙暤濠电姷鏁告慨鏉懨洪妶鍛函闂傚倸顭崑鍕洪敃鍌氳摕闁靛ň鏅╅弫鍌炴煕椤愶絾绀冮柍閿嬪笒闇夐柨婵嗩樈濡垵鈽夐幘鐟扮毢缂佽鲸甯￠悡顐︻敇閻樼數鍘梻浣筋嚃閸犳鏁嬪銈庡亝缁诲啫顭囪箛娑樼厸闁告劦浜濆▓浠嬫⒒閸屾瑨鍏岀紒顕呭灦瀵濡搁埡浣叫曢柣搴秵閸犳牠鎮块崜褏纾奸悗锝庡亾缁扁晝鎲搁悧鍫濈瑲闁稿鍔楅敓鐣屾嚀婢瑰﹪宕伴弽顓炵濞寸厧鐡ㄩ埛鎴︽煢濡警妲搁柡鍡欏枛閺屾盯鎮╁畷鍥р拰閻庢鍠栭…宄邦嚕閹绢喗鍋勯柧蹇氼嚃閸熷酣姊绘担绋款棌闁绘挸鐗撳畷浼村冀閵婏箑寮挎繝銏ｅ煐閸旀牠鍩涢幋锔界厱婵犻潧妫楅鎾煕鎼达紕绠绘慨濠呮閺侇噣顢欓崜顬粓鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺缁樻尭閸戜粙骞忔搴ｇ＜婵☆垰婀辩粻姘渻閵堝棛澧紒璇插�圭粋宥堛亹閹烘挾鍘介梺鎸庣箓椤︽澘鈽夎閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺呭箠閻樻椿鏁嗛柨鐔剁矙閸╂稒绻濋崶銊㈡嫼闂佽崵鍠愬妯衡枔閳哄懏鐓欓柛鎴欏�栫�氾拷");
					return false;
				}
				PetInfo petInfo = petColumn.getPetInfo(petkey);
				if (petInfo == null){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷囨煥閺囨ê鍔ゆ繛鎴濈仛閵堬綁宕橀埡鍐ㄥ笚闂佽崵鍠愰悷銉э拷姘煎墴閹﹢骞橀鐣屽幍濡炪倖妫侀～澶娾枍婵犲嫸鎷风憴鍕┛缂佸弶鍎抽銉╁礋椤掑倻鐦堥柟鑲╄ˉ閹筹綁鎮㈤崗灏栨嫽闂佺鏈悷銊╁礂鐏炰勘浜滄い鎾跺仧婢ф稒銇勯妸锝呭姦鐎规洦鍋婃俊鐤槾闁绘挸顑夐幃宄邦煥閸涱収鏆柣銏╁灡鐢繝骞忛幋锔藉亜闁告縿鍎抽鏇㈡⒑閻熸壆鎽犻柣鐔村劦閹﹢鍩￠崨顔惧幈濠德板�撶粈渚�鍩㈤弴銏＄厸閻忕偟鍋撶粈鍐磼缂佹娲寸�规洖缍婇、娆撴偂鎼搭喗缍掔紓鍌氬�搁崐鐑芥⒔瀹ュ绀夐悗锝庡墮閸ㄦ繃绻涢崱妤佺婵炲吋鐗楃换娑橆啅椤旇崵鐩庢繛纾嬪亹婵烇拷闁哄本鐩鎾閳╁啴鏁梻浣告啞閹哥兘宕￠崘宸綎婵炲樊浜滄导鐘绘煏婢跺牆鍔滈柣搴ㄧ畺濮婃椽宕烽褏鍔搁梺鍝ュ枎濞硷繝銆佸鑸垫櫜闁糕剝鐟ч惁鍫濃攽椤旀枻渚涢柛妯挎閳诲秴顭ㄩ崼鐔叉嫼闂佸憡绋戦敃锕傛儗閸℃稒鐓熼柟铏瑰仜椤╊剟鏌ㄩ悢鍓佺煓婵炰匠鍥ㄥ剶闁兼祴鏅滈～鏇㈡煙閹规劦鍤欑痪鎯у悑缁绘盯宕卞Ο铏逛淮婵犵锟借尙鐭欓柡宀嬬畵瀹曟﹢顢欑紒妯烘灓闂備礁鎼惌澶屽緤娴犲鐓橀柟杈剧畱閻愬﹦鎲歌箛娑辨晞闁稿本绮庣壕钘壝归敐鍕煓闁告繃妞介弻鐔虹矙濞嗗墽鍚嬪Δ鐘靛仜缁绘ê鐣烽妸鈺婃晬婵炴垶顭囪ぐ鎾⒒娴ｈ鐏遍柡鍛洴瀹曨垱瀵奸弶鎴炶緢闂侀潧顧�缂傛氨鎹㈤崱娑欑厽闁规澘鍚�缁ㄥ鏌ㄩ悢铏瑰吹闁告侗鍨粭澶愭⒑鐟欏嫬鍔ゆい鏇ㄥ弮閵嗗懘寮婚妷锔惧幈濡炪倖鍔х徊鍓х矆閿熶粙姊洪崫鍕靛剮缂佽埖宀稿濠氭偄閻撳海顦悷婊冪箳閺侇喖鈽夐姀锛勫幈闂侀潧鐗嗛幊鎰櫏闂備礁鎼張顒�煤濡偐鍗氶柣鏃傗拡閺佸秹鏌曢崼婵囶棞妞ゅ繗鍩栫换婵堝枈濮楀牊瀚归柟缁樺笒閻濈喖姊洪崨濠冣拹闁搞劎鏁婚敐鐐剁疀閹句焦妞介、鏃堝礋椤撗冩暪闂備胶顢婃竟鍫ュ箵椤忓棛绀婇柛鈩冪☉濮规煡鏌ㄥ☉妯侯伀缁炬崘妫勯湁闁挎繂鐗婇鐘绘偨椤栨稓銆掔紒杈ㄥ笧閹风娀鎳犻锟介埅鐢告倵濞堝灝娅橀柛瀣躬閻涱喖螣绾攱瀚归梻鍫熺☉椤ュ繑绻涢弶鎴濐伃闁哄矉绲鹃幆鏃堫敍濠婂憛锝夋⒑缁嬫鍎忛柟鍐查叄閸┿垹顓兼径濠庢綂闂侀潧鐗嗗Λ宀勫箯濞差亝鐓熼柣妯哄帠閼割亪鏌涢弬鑳闁宠绉归獮鍥偋閸垹骞嶉梻浣告啞閸垶宕愰弽顐嫹濮樼偓瀚�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓棃娑楀濠电偛鎳庡Λ婵嬪蓟濞戙垹围闁告侗鍙庢导鍐⒑閸濆嫯顫﹂柛濠冾殘閸掓帒鈻庨幋鐐茬／闂侀潧顭堥崐妤併仚閾忣偆绡�闁汇垽娼ф禒婊堟煙閾忣偄濮堥柟渚垮姂瀹曞綊顢曢妶鍌涙暤濠电姷鏁告慨鏉懨洪妶鍛函闂傚倸顭崑鍕洪敃鍌氳摕闁靛ň鏅╅弫鍌炴煕椤愶絾绀冮柍閿嬪笒闇夐柨婵嗩樈濡垵鈽夐幘鐟扮毢缂佽鲸甯￠悡顐︻敇閻樼數鍘梻浣筋嚃閸犳鏁嬪銈庡亝缁诲啫顭囪箛娑樼厸闁告劦浜濆▓浠嬫⒒閸屾瑨鍏岀紒顕呭灦瀵濡搁埡浣叫曢柣搴秵閸犳牠鎮块崜褏纾奸悗锝庡亾缁扁晝鎲搁悧鍫濈瑲闁稿鍔楅敓鐣屾嚀婢瑰﹪宕伴弽顓炵濞寸厧鐡ㄩ埛鎴︽煢濡警妲搁柡鍡欏枛閺屾盯鎮╁畷鍥р拰閻庢鍠栭…宄邦嚕閹绢喗鍋勯柧蹇氼嚃閸熷酣姊绘担绋款棌闁绘挸鐗撳畷浼村冀閵婏箑寮挎繝銏ｅ煐閸旀牠鍩涢幋锔界厱婵犻潧妫楅鎾煕鎼达紕绠绘慨濠呮閺侇噣顢欓崜顬粓鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺缁樻尭閸戜粙骞忔搴ｇ＜婵☆垰婀辩粻姘渻閵堝棛澧紒璇插�圭粋宥堛亹閹烘挾鍘介梺鎸庣箓椤︽澘鈽夎閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺呭箠閻樻椿鏁嗛柨鐔剁矙閸╂稒绻濋崶銊㈡嫼闂佽崵鍠愬妯衡枔閳哄懏鐓欓柛鎴欏�栫�氾拷");
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒绾惧鍞归梺璺ㄥ枑閺嬭崵绮婚幘姹囷拷浣肝旈崨顓狀槹濡炪倖鍔戦崐褏妲愰柆宥嗏拻濞达絽鎲￠崯鐐寸箾鐠囇呯暤鐎规洘鍔楅敓鏂ょ秵閿熷鍨哄浠嬨�侀弮鍫濈妤犵儐鍨伴崰姘舵偄閸℃稒鍋ｉ柧蹇曟嚀閻ㄦ垿鏌涢弮鍌氭灈闁哄矉缍佹俊鍫曞川椤旇姤鍊烽梻浣哥枃椤宕归崸妞硷拷浣糕枎閹寸娀鈹忛柣搴秵閸嬫帡宕ラ崨瀛樷拻濞达絿鍎ら崵锟介梺鎼炲灪閻撯�崇暦閺屻儱钃熼柕澶堝劤閸樻挳姊虹涵鍛涧闂傚嫬瀚板鏌ヮ敆閸曨剛鍘遍梺鍝勬川閸嬬喐绂掑☉娆嶄簻闁靛闄勭亸鐢电磼鏉堛劍灏伴柟宄版嚇瀹曨偊宕熼幋顖滄偧缂佽鲸甯為敓鏂ょ秵閸嬪嫰鎮橀幘顔界厱闁崇懓鐏濋崝婊咃拷鍨緲鐎氼厾鎹㈠☉銏狀潊闁靛繒濮甸悘鍫ユ倵鐟欏嫭澶勯柛瀣工閻ｇ兘鎮㈢喊杈ㄦ櫌闂佽法鍠嶇划娆撳箚閸愵喖惟闁挎柨澧介惁鍫㈢磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幈闁诲函缍嗛崑鍕倶鐎甸潻鎷风憴鍕闁告梹鐟ラ锝嗙鐎ｅ灚鏅ｉ梺缁樻濞撳湱绱旈弴鐔虹瘈鐎典即鏀卞姗�鏁撻懞銉︾妤犵偛锕ㄧ粻娑樷槈濡儤鍎柣搴ｆ閹风兘鏌涢弴銊ュ闁告﹢浜跺娲捶椤撶偘澹曞銈冨妼閹虫﹢鐛繝鍥х疀闁稿浚鍋勫ú顓€�佸☉妯锋婵﹢纭搁崯搴ㄦ⒑閸濆嫷妲搁柣妤�妫欓弲鑸电鐎ｎ亞鐣烘繝闈涘�搁幉锟犲磹閸洜鍙撻柛銉戝苯鍓版繝娈垮枛閸婂綊銆冮妷鈺傚�烽柤纰卞墰椤斿洭姊烘导娆戠Ф缂佺粯绻堥悰顔碱吋婢跺鍎銈嗗姂閸婃挾鑺遍幘顔解拻闁稿本鐟чˇ锕�顭块悷甯含闁诡噯绻濆畷濂稿Ψ閵壯呭炊婵犲痉鏉匡拷鏇㈠箠韫囨稑纾归柛顐ｆ礃閻撴洘銇勯幇顔夹㈤柛鏃�绮撻弻宥夋煥鐎ｎ亞浠肩紓浣介哺鐢偤鏁撻弬銈囩У濞存粍绮撻幆鍐灳閹颁焦鍋ュ銈嗗姧缁插潡銆傞弻銉︾厪闁搞儜鍐句純閻庢鍠楅幐鍐茬暦閸楃倣鏃�鎷呯憴鍕拷鐑芥⒒娴ｈ櫣甯涢柟姝屽吹閹广垽宕奸妷銉ㄦ憰闂佺粯姊婚崢褏绮婚弻銉︾厵濞寸厧鐡ㄥ☉褎绻涢崼顐㈠箻缂佽鲸鎸婚幏鍛村传閸曠鎷烽幘鍓佺＝鐎广儱瀚粣鏃傦拷娈垮枛椤兘寮幇鏉垮窛妞ゅ繐鎳愰敓钘夘煼濡懘顢曢姀鈥愁槱闂佸搫琚崝宀勫煝瀹ュ围濠㈣泛顑囬崢浠嬫煙閸忚偐鏆橀柛銊ュ悑缁旂喎螣閼测晝锛濋悗骞垮劚閹锋垿鐓鍌︽嫹濞堝灝鏋︽い鏇嗗洤鐓″鑸靛姇椤懘鏌嶉埡浣告殲闁绘繃娲熷娲嚒閵堝憛銏＄箾鐠囇呯暢闁靛洦鍔欏畷姗�顢旈崱鏇犵憹闁荤喐绮庢晶妤冩暜濡ゅ懏鍋傞柡鍥ュ灪閻撶喖鏌￠崘銊у闁轰線浜堕弻娑㈡偄閸濆嫪鎴风紓浣介哺鐢偟妲愰幒鎳崇喖鎳栭埡鍐╂緰闂傚倷鑳剁涵鍫曞疾濠婂牊鍎庢い鏍仜閺嬩線鏌熼幆褜鍤熸い鈺冨厴閹鏁愭惔婵堟晼濡炪倧璐熼崝鎴濐潖閾忕櫢鎷烽崷顓炐ｉ柕鍡楀暞娣囧﹪鎮欓弶鎴犵懆闁兼寧鍔栭妵鍕籍閿熶粙宕瑰┑鍫熷床闁糕剝绋掗悡蹇涙煕椤愶絿绠栭柟鍏煎姍瀹曨垶骞栨担鍏夋嫼缂備礁顑嗛娆撳磿閹邦喚纾奸悗锝庡亝鐏忕敻鏌涢幒鎾虫诞鐎殿噮鍣ｅ畷鐓庘攽閸偄鏅┑锛勫亼閸婃牕煤閺嶎厼绠犻煫鍥ㄧ☉閻ら箖鏌ㄥ┑鍡橆棤缂佲槄鎷烽梻鍌氬�搁悧濠勭矙閹达附鏅搁柦妯侯樈閻撳ジ鏌嶉妷顖滅暤鐎规洜鍘ч埞鎴﹀箛椤掍焦鐝氬┑鐘垫暩婵烇拷婵炰匠鍏犳椽濮�閿涘嫷娲稿┑鐘诧工閻楀﹪鎮″▎鎴犵＝濞达綁娼ч悘鈺呮煟韫囧﹤澧查柕鍥у椤㈡洟锝為鍨儓闂備礁鎼張顒勬儎椤栫偛绠栨繛鍡樻尭閸ㄥ倹銇勯幇鈺佺仾闁伙綆鍓熷缁樻媴閸濄儲鐎銈庡亜椤﹂潧鐣疯ぐ鎺戦敜婵°倧鎷风紒鐘崇墬缁绘盯宕卞Δ浣侯洶闂佸摜鍠庨幊蹇涘Φ閸曨垰妫橀柛顭戝枟閸婎垰顪冮妶鍡樼叆缂佸鎸抽崺鐐哄箣閿旇棄浜归梺褰掝暒缁�渚�寮查柆宥嗏拺闁告縿鍎辨牎濠电偠灏欓崰搴ㄦ偩閻戣姤鏅搁柣妯垮皺椤︺劑姊洪懖鈹炬嫛闁告挻鑹鹃埢鎾淬偅閸愨斁鎷洪梺鍛婄箓鐎氼參宕掗妸鈺傜厱闁靛鍎崇粔娲煙闁垮鐏撮柟顔哄灲瀹曟鎳栭埡浣稿婵犵數濮伴崹濂稿春閺嶎偆鐭欓柟鍓х帛閸嬧晠鏌涘Δ鍐х闯闁荤喖鍋婇悡銉╂煕閺囩偟浠涢柣銈勭窔濮婃椽宕崟顓犲姽缂備焦鐓＄粻鏍嵁閸℃稑绫嶉柛顐亝閺咁剙鈹戦悩璇у伐闁瑰弶鐩弫鎰緞鐎Ｑ勫闂備礁鎲＄缓鍧楀磿鏉堛劎澧″┑锛勫亼閸婃垿宕濆畝鍕櫇闁靛牆顦伴崑鈺呮煟閹达絽袚闁稿鍔戦弻娑樷槈濮楀牊鏁惧┑鐐叉噷閸ㄨ棄顫忛搹瑙勫磯闁靛鍎查悵銏ゆ⒑閻熸澘娈╅柟鍑ゆ嫹?
				if(pet.getKind()!=PetTypeEnum.VARIATION){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿噮鍣ｉ弫鎾寸鐎ｎ亞顔嗗┑鐘绘涧椤戝懐绮婚姘兼富閻庯綆浜濋幑锝囩磼閻樿櫕鈷愮紒缁樼洴楠炲鎮欓崱妯虹仸鐎垫澘瀚板畷鐔碱敍濞戞艾骞堥梺璇插嚱缁茶姤鏅舵惔锝呭К闁跨喍绮欏娲传閸曨剚鎷卞┑鐐插级椤洭骞戦姀鐘闁靛繆锟界鎷烽柨瀣ㄤ簻闁瑰搫绉烽崗宀�鎲搁幍顔兼灈婵﹦绮幏鍛存嚍閵夛綇鎷烽崘顏嗙＜闁跨喕濮ょ粭鐔兼晸娴犲锟戒線寮介妸銉х獮闂佸綊鍋婇崜婵嬪箺閺囥垺鈷戦梻鍫熷崟閸儱鐤炬繝濠傜墕绾惧鏌涢埄鍐檨闁绘挻娲熼幃姗�鎮欓幓鎺嗘寖闂佸疇妫勯ˇ浼村Φ閸曨喚鐤�闁靛绠戦锟�1");
					return false;
				}
				if(petInfo.getPetdye1()==colorpos1){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙寮稿☉銏＄厱闁靛濡囩粻鐐搭殽閻愬澧懣鎰亜閹虹偞瀚归梺璇叉禋娴滄繄鎹㈠☉銏犲窛妞ゆ牗顕撮敐鍚冲酣宕惰闊剙鈹戦垾宕囧煟鐎规洏鍔戦、娆撳礂绾板彉鍝楃紓鍌氬�搁崐鐑芥嚄閼稿灚鍙忛柟鎯版绾拷闂佽鍎煎Λ鍕嫅閻斿摜绠鹃柟瀵稿�戝顑╋綁宕奸悢绋垮伎濠德板�ч幏鐑芥煟濡わ拷閿曨亜顕ｉ锕�绠氱憸澶愬绩娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆牊顥夐柍瑙勫灴閹粓宕堕妸銉紦闂傚倸鍊风粈渚�骞栭锔藉剹濠㈣泛鑻欢銈夋煕婵犲嫬鏋斿ù婊嗗Г缁绘繈鎮介棃娑楃捕濠碘槅鍋呴悷鈺佺暦閺囥垹绀冩繛鏉戭儐閻忎礁顪冮妶鍡樺蔼闁搞劍妞介崺娑㈠箣閿旂晫鍙冨┑鈽嗗灟鐠�锕�危閹间焦鐓涢柛鈩冪懃閺嬫盯鏌＄仦鍓ф创闁诡喒鏅涢悾鐑藉炊瑜夐幏浼存煟鎼淬埄鍟忛柛鐘崇墵閳ワ箓鎮滈挊澶岀暫闂侀潧绻堥崐鏍磻閸岀偛绠归弶鍫濆⒔缁夊灚淇婇幓鎺斿煟闁哄矉缍侀幃銏ゅ传閵壯呭帎闂傚倷绀佹惔婊呭緤娴犲鍋╅柣鎴ｅГ閸嬨劑鏌涘☉姗堟敾婵炲懌鍨藉娲嚍閵夊喚浜棟闁芥ê顦敓鑺ュ笚缁绘繂顫濋鐘插妇闂備礁澹婇崑鍛崲閸岀偛姹叉繛鍡樻尰閻撴洟鏌￠崘鎸庡濠殿喗菧閸斿骸危閹版澘绠抽柡鍐ㄥ�婚敍婊冣攽椤旂瓔娈旈柣妤佸姍閺佹捇宕愰悢鍝ャ�婇梺璺ㄥ枙婵倝顢欓弽顓炵獥闁哄稁鍘搁敓鏂ょ畵閹粓鎸婃径瀣拷顒勬⒑閻熸澘鈷旂紒顕呭灦瀹曟垿骞囬悧鍫㈠幘缂佺偓婢樺畷顒佹櫠閸撗呯＜闁告鍋涚痪褏绱掔紒妯肩疄闁诡喕绮欏Λ鍐归煬鎻掔伈闁哄矉缍�缁犳盯寮崹顔芥嚈闁诲氦顫夊ú妯兼崲閸繍鍤曞ù鐘差儛閺佸啴鏌曢崼婵囩ォ婵″弶鎮傚缁樻媴缁嬫妫岄梺绋款儏閹虫劙骞戦姀鐙�鍚嬮柛娑卞亾閹风兘骞掗幘鍓佺槇濠殿喗锕╅崢楣冨储椤忓牊鈷戦柛鎾村絻娴滄繄绱掔拠鎻掞拷鍨嚕閸愭祴鏋庨柟鎯ь嚟閸樹粙妫呴銏℃悙闁挎洏鍎遍埢宥夊炊閳哄啰锛滈柡澶婄墑閸斿瞼绮鎲嬫嫹閸偅绶查悗姘煎幘閹广垹鈹戠�ｎ亞顦板銈嗘尭椤︻參宕濆畝鍐簷闂備胶绮敃銏狀焽瑜庣粋鎺戭煥閸曨亞绠氬銈嗗姧缁茶法绮婚幘缁樼厽闁挎繂娲ら崢鎾煙椤斿搫鐏柛鐘诧攻濞煎繘濡搁敂鐣屽綆闂傚倸鍊烽懗鍓佸垝椤栫偐锟斤箓宕堕锟介弸渚�鏌熼梻瀵割槮闁稿被鍔嶉妵鍕冀椤愵澀娌梺鎶芥敱鐢帡婀侀梺鎸庣箓閹冲繘宕悙鐑樺仯闁硅埇鍔屾晶鏌ユ煏閸パ冾伃妞ゃ垺锕㈤幃娆撴濞戣鲸婢戝┑锛勫亼閸婃垿宕濇繝鍥х？闁汇垹鎽滃畵渚�鏌″鍐ㄥ濠殿垱鎸抽幃宄扳枎韫囨搩浠惧銈呯箳閸犲酣鍩為幋锔藉�风�瑰壊鍠栧▓鑸电節濞堝灝鏋熼柟鍛婂▕閵嗕線寮介鐐殿槹濡炪倖鐗楀銊╂偪閸涱喕绻嗛柕鍫濈箳閸掍即鏌涢悤浣哥仸闁诡喒锟芥枼妲堥柕蹇婏拷绛规嫹閸洘鐓熼柟浼村亰閺夋椽鏌涢妶鍡欐噧闁宠鍨块崹楣冩倷閽樺鍒掗梻浣告惈閼活垳绮旇ぐ鎺戠濠电姴鍟欢鐐翠繆椤栨稐鎲鹃柨鏇炲�归悡锝吤归崗鑲╂噮闁诡喛鍋愮槐鎺撴綇閵婏箑闉嶉梺鐟板槻閹虫﹢骞婇弽顓炵労闁告劑鍔庢禒濂告⒑鐠恒劌鏋欏┑顔哄�栫粚閬嶅传閸曘劍鐎洪梺鍝勬川婵潧鐣烽崣澶岀瘈闂傚牊绋撴晶鏇㈡煛鐎ｎ亞澧涘ǎ鍥э躬椤㈡稑鈽夊▎宥勬埛婵犵數鍋涢崥瀣垂閸噮娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告搩鍠氱槐鎾存媴閽樺鍘梺鐓庣秺缁犳牠骞冩ィ鍐╁�婚柦妯侯槺閻わ拷婵＄偑鍊栭崹鍏兼叏閵堝妫橀柨鐔剁矙濮婄粯鎷呴崨濠冨枑婵犳鍨奸崣鍐ㄧ暦閺夎鏃堝川椤旂厧澹嗘俊鐐�栭悧婊堝磻濞戙垹鍑犲〒姘炬嫹闁哄瞼鍠栧畷婊嗩槾閻㈩垱鐩弻锟犲川椤旇棄锟芥劙鏌＄仦璇插闁诡喓鍊濆畷鎺戔槈濮楀棔绱�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�");
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 160380, null);
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲绻濆▓鍨珯闁归鍏樺娲棘閵夛附鐝旈梺鍝ュ枑婵粙濡甸幇鐗堟櫜濠㈣泛顑傞幏缁樼箾鏉堝墽鍒伴柟鑺ョ矌缁棃鎮滃Ο闀愮盎闂侀潧顧�闂勫嫬鐣峰畝锟介敓鍊燁潐濞叉﹢銆冮崨鎵航闂備焦鍎崇换妤咃綖婢跺ň鏋斿Δ锝呭暞閳锋垹绱撴担濮戭亪鎮橀埡鍛厽闁斥晛鍟ˉ鍫拷娈垮櫘閸嬪﹤鐣烽崼鏇ㄦ晢濞达絽鎼獮妤呮⒒娴ｅ摜绉洪柛瀣躬瀹曘垽宕楅崗鐓庡伎闂佺鐬奸崑鐐烘偂閺囥垹绠规繛锝庡墮婵℃椽鏌熼弻銉х暫闁哄苯绉规俊鐑筋敍濠婂懏娈奸梻浣侯攰濞呮洟銆冩繝鍥ワ拷浣糕槈閵忊剝娅滈梺鍝ュУ婢瑰寮插鍛床婵犻潧顑嗛崑銊╂⒒閸喓鈼ョ紒顔肩埣濮婂搫效閸パ冾瀷闂佺绻戦敃銏狀嚕椤愶箑绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴ㄤ憾閿濈偤顢旈崼鐔叉嫼闂佺鍋愰崑娑㈡晸閼恒儳澧悡銈夋煛瀹ュ骸骞栭柣鎾达耿閺岀喐娼忔ィ鍐╊�嶉梺绋款儐閸旀瑩骞冨Δ鍛嵍妞ゆ挾鍊姀掳浜滈柕澶涘缁犳绱掓潏銊﹀鞍闁瑰嘲鎳樺畷顐﹀礋閹存瑥鐏柕鍥у椤㈡﹢鎮╅幓鎺戠闁诲孩顔栭崰鏍�﹂悜钘夋瀬闁归偊鍘肩欢鐐烘倵閿濆簼绨风紒銊ヮ煼濮婄粯鎷呴搹鐟扮闂佸湱顭堥幗婊堟嚍鏉堛劎闄勭紒瀣硶閻涖儲绻濋悽闈浶㈤柛濠勬暬瀵劍绂掔�ｎ偆鍘撻梺鑺ッˇ浼此夊鍏犵懓顭ㄩ崟顓犵厜闂佸搫鐭夌紞渚�銆佸锟介幃娆戞嫚瑜庣�氬綊鏌熼梻瀵哥瓘缂傚秵鐗犻悡顐﹀炊閵婏箑顎涘┑鐐叉▕娴滃爼寮崒鐐寸厱闁哄洢鍔嬬花浠嬫煟閹邦剨韬慨濠勭帛閹峰懘宕ㄦ繝鍌涙畼婵犵數鍋犻婊呯不閹惧磭鏆﹂柟杈剧畱缁犲鎮归崶顏勭毢妞ゆ柨妫濆缁樻媴閸濄儰铏庡銈嗗灥濞差參濡撮崨瀛樺�婚柤鎭掑劚閿熺晫鏁婚弻銊モ攽閸℃ê娅ｅ銈忕到绾绢厾妲愰幒鏃撴嫹閿濆簼绨界紒鐘哄皺缁辨帞绱掑Ο鑲╃杽婵犳鍣幏鐑芥⒑閹稿海绠撻柟铏姍瀹曘垽顢曢敂瑙ｆ嫼闂佸憡绋戦敃銉╁煕閹扮増鐓曢柕濞垮劜閸嬨儳锟芥鍣崑濠囩嵁濡吋瀚氶柤纰卞墻閸氬懘姊绘担鍛婅础闁稿簺鍊曡灋闊洦鎷归敐澶樻晪闁跨喕妫勯～蹇涙倻濡警鍤ゅ┑鐐叉閸ㄧ鍊寸紓鍌氬�烽懗鍓佸垝椤栨粍宕查柛顐犲劤瀹撲線鏌涢埄鍐槈闁绘劕锕ラ妵鍕箳閻愭潙顏剁紓浣鸿檸閸欏繘骞忛悜鑺モ拻濞达綀濮ょ涵鍫曟煕閿濆繒鐣垫鐐茬箻閺佹捇鏁撻敓锟�.getBaseId()
				if(!isCanUseColor(pet.getBaseId(),colorpos1)){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿噮鍣ｉ弫鎾寸鐎ｎ亞顔嗗┑鐘绘涧椤戝懐绮婚姘兼富閻庯綆浜濋幑锝囩磼閻樿櫕鈷愮紒缁樼洴楠炲鎮欓崱妯虹仸鐎垫澘瀚板畷鐔碱敍濞戞艾骞堥梺璇插嚱缁茶姤鏅舵惔锝呭К闁跨喍绮欏娲传閸曨剚鎷卞┑鐐插级椤洭骞戦姀鐘闁靛繆锟界鎷烽柨瀣ㄤ簻闁瑰搫绉烽崗宀�鎲搁幍顔兼灈婵﹦绮幏鍛存嚍閵夛綇鎷烽崘顏嗙＜闁跨喕濮ょ粭鐔兼晸娴犲锟戒線寮介妸銉х獮闂佸綊鍋婇崜婵嬪箺閺囥垺鈷戦梻鍫熷崟閸儱鐤炬繝濠傜墕绾惧鏌涢埄鍐檨闁绘挻娲熼幃姗�鎮欓幓鎺嗘寖闂佸疇妫勯ˇ浼村Φ閸曨喚鐤�闁靛绠戦锟�2");
					return false;
				}
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呭銈嗘婵倗绮婃导瀛樷拻闁稿本鑹鹃敓鐣屽厴閹虫宕滄担绋跨亰濡炪倖鐗楃划宥夊汲濠婂牊鐓欓柣鎴烇供濞堟棃宕堕幘顔解拺鐟滅増甯楅敍鐔虹磼閿熻姤绗熼敓浠嬪箯閹达附鍋勯柛蹇氬亹閸樹粙姊洪崫鍕殭闁稿﹤鎽滈弫顕�宕滄担铏癸紲闂佺粯顭堝▍鏇㈡儍閹达附鐓欓柤纰卞墻閻掔偓銇勯幘鍐叉倯鐎垫澘瀚换婵嬪礃椤撶姴褰傞梻鍌欑閹碱偊藝椤栫偞鍋嬮柛鎰靛枛閻ょ偓銇勮箛鎾跺缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煕鐎ｃ劌濮傛慨濠傤煼瀹曞ジ鎮㈤崜浣虹畳闂備礁鎼Λ顓㈠储婵傜鐓橀柟杈剧畱閻擄繝鏌涢埄鍐︿沪缂併劌顭峰娲传閵夈儲鐎惧┑鐐插悑閻熲晠銆佸鑸垫櫜闁糕剝鐟ч惁鍫濃攽椤旀枻渚涢柛妯挎閳诲秹濮�閵堝棌鎷虹紓鍌欑劍閿曗晠鎮炴ィ鍐╁�堕煫鍥ㄦ⒒閹冲洭鎸婂┑鍠㈠綊鎮℃惔锝嗘喖闂佹娊鏀辩敮锟犲蓟濞戞矮娌柣鎰靛墰濞堛倖绻濋埛锟介崟顓滐拷鎺旂磼鏉堛劌绗ч柨鐔告灮缂嶅棝宕戦崨顖欑剨闁规鍠氱壕濂告煕鐏炲墽鈽夋繛鎼櫍閺屾盯鍩＄�ｎ剛鐦堥悗瑙勬磸閸旀垿銆佸▎鎴炲枂闁告洦鍋掓导鏍⒒閸屾瑦绁扮�规洖鐏氶幈銊╁级閹炽劍妞介幃鈺冪磼濡粯顏熼梻浣藉Г閿氭い锕備憾閺佸秴顓奸崥銈呯秺閹晛鈻庤箛鏂款槱闂佹娊鏀遍崹鍦閹惧瓨濯村┑顔藉焾娴滎亪寮荤仦绛嬬叆闁告侗鍨抽敍婊堟⒑缂佹◤顏堝疮閸ф鍊堕悗娑櫱滄禍婊堟煏韫囧鎷烽崘鍙夋嚈濠电姷顣槐鏇㈠礂濮楋拷瀹曟椽鏁撻悩鑼紲濠电偞鍨堕悷顖涚瑜斿濠氬磼濞嗘劗銈板┑鐐差槹濞茬喎鐣烽幎鑺ユ櫇闁稿本姘ㄩ鍡涙⒑鐠恒劌娅愰柟鍑ゆ嫹?
				ItemMaps bagContainer = Module.getInstance().getItemMaps(roleid, BagTypes.BAG, false);//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆欑喘闂備浇娉曢崰鎰板垂濠靛鍊块柨鏃傚亾瀹曞弶绻濋棃娑卞剰闁绘劕锕ら—鍐拷锝庝簼閹癸綁鏌嶇粭鍝勶拷鏇㈠煘閹达附鍋愭い鏃囧亹娴煎洭姊虹化鏇熸珕闁绘濮撮悾宄扳攽鐎ｎ亜宓嗛梺缁橆焽閺佹悂鎮為崗鑲╃瘈闁靛骏绲剧涵鐐亜閹存繂顏柟骞垮灲瀹曞崬螣闂�鎰泿闂備礁鎼粔鏌ュ礉鎼达絿涓嶉柟鎹愮М閻熼偊鐓ラ柛鎰典簽妤旈梻浣告惈閻绱炴笟锟介妴浣割潨閿熶粙骞冨鍫濆耿婵☆垶鏀遍悗浼存⒒閸屾瑧顦﹂柟纰卞亰閹绺界粙璺ㄧ崶闂佸搫绋侀崢鑲╃不閺嶃劎绡�濠电姴鍊搁弸銈嗙箾缁楀搫濮傞柡灞剧洴閸╁嫰宕橀崜褍濮洪梻浣告惈濡绮婚幘鎰佹綎缂備焦蓱婵潙銆掑鐓庣仯闁告柨鎲℃穱濠囧Χ閸ヮ灝銏ゆ煙閼恒儳鐭岄柛鎺撳浮瀵噣宕堕妷銈嗙潖闂備礁婀遍崕銈夊垂婵傜绠洪柡鍥╁亹閺�浠嬫煟閹邦厽缍戦柣蹇曞枛閺屾盯濡搁妷褏楔閻庤娲╃换婵嬬嵁鎼淬劍鍤嶉柕澹啫濡囨繝鐢靛Х閺佹悂宕戝☉銏″�舵繝闈涱儐閺呮悂鏌ら幁鎺戝姶婵炲牊绮庨敓鍊燁潐濞叉﹢鎮烽妸鈺佄﹂柟鐗堟緲缁犳娊鏌熺紒銏犵仭閻庢艾鍚嬬换婵嬫偨闂堟稐鍝楅柣蹇撴禋娴滎亪銆佸▎鎰瘈闁告洦鍠栧皬濠碉紕鍋涢鍛规搴☆棜闁稿繒顑曟禍婊堟煛閸愩劌锟界懓鈻嶉弴銏＄厵闁告劕寮跺婵嬫煥閻旇袚妞ゆ梹鐗犲畷浼村冀椤撴冻鎷烽敃鍌涚叆閻庯絺鏅濈粻姘舵⒑閸忓吋鍊愭繛浣冲懏顐介柣鎰ゴ閺�浠嬫煟濡绲绘い蹇撶摠娣囧﹪鐓鐐茬ギ濠殿喖锕︾划顖炲箯閸涘瓨瀵犲鑸瞪戦ˉ宥呪攽閻橆喖鐏柟铏崌閹囧幢濞戞鍘洪梺鍝勫�哥花鍗炍ｉ崼銉︾厪闊洤锕ュ▍鍡涙煛閸涱喚鐭婃い顏勫暣婵″爼宕卞Ο楦挎暱闂備焦鎮堕崝宥咁渻娴犲绠栭柨鐔哄У閸嬪嫰鏌ｉ幘铏崳妞ゆ梹鍔欓弻鈩冨緞婵犲嫬顣烘繝鈷�鍛珪濠㈣娲熷畷褰掝敊濮橆剛绉洪柟顔规櫅閻ｇ兘宕堕敐鍡╋拷鍥⒒娓氾拷濞佳兠洪妶鍥锋嫹濮橆偄宓嗛柕鍡曠椤粓鏁撴禒瀣畺婵炲棙鎸哥痪褔鏌熺�电浠уù婊呭厴濮婂宕掑▎鎰偘濠碘剝銇滈崝鎴﹀箖閻愮儤鏅濋柛灞炬皑椤斿姊洪幖鐐插姶闁告挻鐟х划濠氬级鎼存挻鏂�闂佺粯蓱瑜板啴寮冲▎鎴犵＜闁告挷绀佹禒閬嶆煙椤旂瓔娈滈柡浣瑰姈閹棃鍨惧畷鍥跺晪濠碉紕鍋戦崐鎴﹀垂瑜版帒绠犳俊顖欒濞兼牜绱撴担鑲℃垶鍒婇弶鎴欙拷鎺戭潩閻撳海浠梺杞扮贰閸ㄤ即鍩為幋锔藉�烽柛娆忣槸濞呫倕鈹戦悙璺虹毢闁哥姵鐗犻幃浼搭敋閿熶粙鐛崶顒�绾ч悹渚厛閸熷洤鈹戦悙鑸靛涧缂佽弓绮欓獮妤�顭ㄩ崼婵嗗亶濠电偛妯婃禍婵嬪磹閸偒娈介柣鎰皺娴犮垽鏌涢弮锟界喊宥夊Φ閸曨垱鏅滈柛顭戝枛缁侇噣鎮楀▓鍨灍闁绘搫绻濋悰顕�寮介妸锕�顎撻梺闈╁瘜閸樼厧顕ｉ幎鑺モ拻濞达綀娅ｇ敮娑欑箾閸欏澧电�规洘鍔欏畷鐑筋敇閵婏箑顏跺┑顔筋焽閸嬫挾锟芥熬鎷�
				if(bagContainer==null){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К闂備胶顭堢悮顐﹀礉鎼淬劌绠熼柟闂寸濡﹢鎮归幁鎺戝婵炲牊鍎抽—鍐Χ閸℃瑥鈷堥梺绋款儐閻╊垶寮婚妸鈺佄ч柛鈩冩礈缁犳岸姊洪棃娑氬閻庢凹鍣ｈ棟闁挎梻鏅粻楣冩煕椤愵偄澧伴柛鎺斿閵囧嫰顢旈崟顐ｆ婵犵锟藉磭鍩ｇ�规洖宕埢搴ょ疀閿濆棙顦风紓鍌氬�搁崐椋庢閿熺姴闂い鏍ㄧ矌缁�濠傘�掑鐐闂佺粯渚楅崰娑氱不濞戞ǚ妲堟繛鍡楅獜閹烽攱绻濆顓犲弮濠碘槅鍨拃锕�危閹间焦鐓熼幖鎼枛楠炴牗銇勯鍕殻濠碘�崇埣瀹曞崬螖閿熷�燁杺闂傚倷绀侀幉锟犲箰閼姐倖宕查柛顐犲劚閺嬩線鏌熼崜褏甯涢悗鐢靛Т椤法鎹勬笟顖氬壈婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ幘閸斿湱绱撴担浠嬪摵婵炲弶顭囩划瀣箳濡や焦娅嗛梺缁樺姦閸撴瑩鎮垫导瀛樷拺闁革富鍘剧敮娑㈡偨椤栨娅婇柟顔筋殜楠炲酣鎳為妷銏″濠电偠鎻徊浠嬪箺濠婂牆鍑犻柛鎰ㄦ杺娴滄粓鏌￠崶褎顥滄繛璇х畵閹繝鏁撴禒瀣拺闁圭娴风粻鎾淬亜閿曪拷瀹曨剟鎮鹃崹顐ょ懝闁跨喍绮欏濠氭偄閸忕厧锟界粯淇婇婵囶仩濞存粌鐖煎娲偖鐎涙ê顏跺┑鐐差嚟婵挳顢栭崱娑欏亗闁哄洢鍨洪悡鍐煃鏉炴壆顦﹂柡瀣剁畱閵嗘帒顫濋鐘冲垱闂佸搫鏈惄顖炲箖濠婂牆鐐婇柕濞垮労娴硷拷");
					return false;
				}
				SRoleRColorConfig sRoleRColorConfig1=sRoleRColorConfig.get(colorpos1);
				if(sRoleRColorConfig1==null){
					logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閳╁啯鐝栭梻浣芥硶閸犳捇寮查锔芥櫢闁兼亽鍎存竟妯汇亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩烽柤娴嬫櫇绾捐棄霉閿濆懏鎯堥弽锟犳偡濠婂嫭绶查柛鐔告綑閿曘垺绗熼敓钘夘潖濞差亜绠伴幖杈剧悼閻ｇ敻姊洪悷鏉挎毐缂佺粯甯￠獮蹇氥亹閹烘挻娅㈤梺缁樏壕顓㈠储閽樺鏀介柣妯肩帛濞懷勪繆椤愶絿娲寸�规洘妞介弫鎰緞鐎ｎ剙骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掗悙瀵稿幍濡炪倖鏌ㄩ幖顐︽晸閼恒儳绠撻柣锝囧厴楠炴帡骞嬮弮锟介～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�"+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓棃娑楀濠电偛鎳庡Λ婵嬪蓟濞戙垹围闁告侗鍙庢导鍐⒑閸濆嫯顫﹂柛濠冾殘閸掓帒鈻庨幋鐐茬／闂侀潧顭堥崐妤併仚閾忣偆绡�闁汇垽娼ф禒婊堟煙閾忣偄濮堥柟渚垮姂瀹曞綊顢曢妶鍌涙暤濠电姷鏁告慨鏉懨洪妶鍛函闂傚倸顭崑鍕洪敃鍌氳摕闁靛ň鏅╅弫鍌炴煕椤愶絾绀冮柍閿嬪笒闇夐柨婵嗩樈濡垵鈽夐幘鐟扮毢缂佽鲸甯￠悡顐︻敇閻樼數鍘梻浣筋嚃閸犳鏁嬪銈庡亝缁诲啫顭囪箛娑樼厸闁告劦浜濆▓浠嬫⒒閸屾瑨鍏岀紒顕呭灦瀵濡搁埡浣叫曢柣搴秵閸犳牠鎮块崜褏纾奸悗锝庡亾缁扁晝鎲搁悧鍫濈瑲闁稿鍔楅敓鐣屾嚀婢瑰﹪宕伴弽顓炵濞寸厧鐡ㄩ埛鎴︽煢濡警妲搁柡鍡欏枛閺屾盯鎮╁畷鍥р拰閻庢鍠栭…宄邦嚕閹绢喗鍋勯柧蹇氼嚃閸熷酣姊绘担绋款棌闁绘挸鐗撳畷浼村冀閵婏箑寮挎繝銏ｅ煐閸旀牠鍩涢幋锔界厱婵犻潧妫楅鎾煕鎼达紕绠绘慨濠呮閺侇噣顢欓崜顬粓鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐閵堝懐顦ч梺缁樻尭閸戜粙骞忔搴ｇ＜婵☆垰婀辩粻姘渻閵堝棛澧紒璇插�圭粋宥堛亹閹烘挾鍘介梺鎸庣箓椤︽澘鈽夎閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺呭箠閻樻椿鏁嗛柨鐔剁矙閸╂稒绻濋崶銊㈡嫼闂佽崵鍠愬妯衡枔閳哄懏鐓欓柛鎴欏�栫�氾拷");
					return false;
				}
				int cost=sRoleRColorConfig1.getItemnum();
				int itemcode=sRoleRColorConfig1.getItemcode();
				
				int havenum=bagContainer.getItemNum(itemcode, 0);
				if(havenum<cost){
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 150058, null);
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡╂Ч濞存嚎鍊濋弻銈夊级閹稿骸浠村┑顔硷攻濡炰粙銆佸Δ鍛櫢闁伙絽鐬奸惌鎾绘煛鐏炶鍔滈柡鍛倐閺岋箑螣娓氼垱笑闂佽法鍠曞Λ鍕焽閿熺姴违濞达絿纭堕弸搴ㄦ煙閹咃紞妞わ富鍙冮幃宄邦煥閸愵亞顔掗柦妯荤箖閵囧嫰寮介妸褋锟芥帞绱掗悩鑽ょ暫鐎殿喖鐖煎畷鐓庘攽閸″繑瀵栭梻浣筋嚃閸犳盯宕戦幇鐗堝剦妞ゅ繐鐗滈弫鍥煟閹扮増娑ч柣鎾跺枛閹鈻撻崹顔界亾濡炪値鍘奸悧鎾汇�佸锟藉畷妤呮偂鎼达絿鐛┑鐘垫暩婵锟芥氨鍏樺畷顖炲炊閵娧呯槇闂佹眹鍨藉褔宕滃畷鍥╃＝鐎广儱鎳忛ˉ銏拷瑙勬礃缁矂鍩㈡惔銊ョ疀妞ゅ繐妫涢悾鎯р攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕卞☉娆忎簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鐓熼柟瀵镐紳椤忓牊鍊堕柣鏂垮悑閻撴洟鎮楅敐鍐ㄥ闁诲繑鐓￠弻锛勪沪闂堚晜瀚圭�规洖娲﹀▓鏇㈡⒑鐠恒劌鏋嶇紒顔界懃閻ｉ攱瀵奸弶鎴濆敤濡炪倖鎸炬慨瀵哥矈閿曞倹鈷戠紒顖涙礀婢ф煡鏌涢幋鐘冲殌閸楀崬鈹戦悩宕囶暡闁抽攱鍨块弻娑樷攽閸℃浠惧銈冨劗閿熷�熺М閻熼偊鐓ラ幖绮癸拷鏂ユ嫬闂備浇妗ㄩ悞锕傚箰閼姐倗鐭夐柟鐑樻閹风兘鏁愭惔鈥茬凹闂備焦顑欓崣鍐蓟閻斿吋鍋傞幖杈剧稻閹茶偐绱撴笟鍥ф灍闁圭懓娲幃浼搭敊鐠恒劎鏉稿┑鐐村灦閻燂箑鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�
				int delnum=bagContainer.removeItemById(itemcode, cost, fire.log.enums.YYLoggerTuJingEnum.tujing_Value_ranse, itemcode, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟撮崣鍕煏閸℃鏆ｅ┑锛勬焿椤︽挳鏌ｉ鐔烘噰闁哄本鐩濠氼敇濠婂喛鎷疯楠炲繘鎮滈挊澶愭暅濠德板�ч幏椋庣磼閻欐瑥娲﹂悡鏇熴亜閹板墎鎮奸柍钘夘槸閳规垿鍨鹃懠顒傜厯闂佸搫鏈粙鎴﹀煝鎼淬倗鐤�闁哄洨濯崯瀣節濞堝灝鏋涢柨鏇樺劚椤啴鎸婃径灞炬閻熸粎澧楃敮鈺呭极鐎ｎ喗鐓曟繛鎴濆船楠炴牕顭块悷閭︽Ч缂佺粯绻堥幃浠嬫濞戞鎹曢梻浣侯攰濞呮洟宕濋弽顐ｅ床婵炴垯鍨洪弲绋棵归悩宸剱闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濡炪値鍓欓崥瀣Φ閸曨垱鏅濆ù锝呮贡瑜把囨⒑闂堟稒鎼愰悗姘卞娣囧﹪骞栨担鑲濄劑鏌ㄩ弴顏呭濠电偛鐗婇〃濠傤潖妤﹁￥浜归柟鐑樻尰閺嗙娀姊洪幖鐐插婵炵》绻濋悰顕�宕橀纰辨綂闂侀潧鐗嗛幊鎰八囪濮婃椽宕楅懖鈹垮仦闂佸搫鎳忛惄顖炴偘椤旂⒈鍚嬪璺侯儌閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘电紓浣割儐鐎笛囁夐姀顫嫹鐟欏嫭绀堥柛鐘崇墵閵嗕線寮撮姀鈩冩珳闂佹悶鍎崝宥夘敊閸涱厸鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨块獮瀣晝閿熺晫澹曡ぐ鎺撶厵閺夊牆澧介悾杈╃棯閹呬虎闁宠鍨块幃鈺冿拷鍦Т椤ユ繄绱撴担鍝勵�岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷");
				if(delnum!=cost){
					return false;
				}
				petInfo.setPetdye1(colorpos1);
				petInfo.setPetdye2(colorpos2);
				SReqUsePetColor sReqUsePetColor=new SReqUsePetColor();
				sReqUsePetColor.colorpos1=colorpos1;
				sReqUsePetColor.colorpos2=colorpos2;
				sReqUsePetColor.petkey=petkey;
				Procedure.psendWhileCommit(roleid, sReqUsePetColor);
				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑閸濄儱校闁圭顭烽獮鍫ュΩ瑜濋幏鐑芥濞戞瑦鍠愮紒鐐劤閵堟悂寮诲澶婁紶闁告洦鍓欏▍銈夋⒑閹惰姤鏁遍柛銊ョ埣婵＄敻宕熼姘鳖唺闂佺粯鍔栧娆擃敂閸撲胶纾介柛灞剧懅椤︼附銇勯敂鍨祮妤犵偞鍔欓獮搴ㄦ寠婢跺矈鍞甸梻浣侯攰閹活亪姊介崟顖氱；闁告洦鍨遍崐鍫曠叓閸パ勬崳闁告柨绉归弻锟犲磼閿旇棄顏堕梻鍌氬�搁崐鐑芥嚄閸撲礁鍨濇い鏍ㄧ箖閹冲矂鏌ｉ悢鍝ョ煁婵犮垺锕㈠畷顖炲箻椤旂尨鎷锋笟锟藉顕�宕奸悢铚傜紦闂備礁鎲＄粙鎴︽晝閿曞倸鍌ㄩ柛顭戝亗缁诲棝鏌ｉ幇顒佲枙闁稿骸绻愯灃闁绘娅曢崐鎰拷瑙勬磸閸ㄥ鏁撻悾灞炬毈婵炵厧顭烽獮蹇旑槹鎼淬垹鏋傞梺鍛婃处閸撴盯藝椤撱垺鈷戠紒瀣硶缁犳煡鏌ㄩ弴妯虹伈濠碘�崇摠閹峰懘宕滈崣澶婄紦闂備浇娉曢崰宥囧垝濞嗘挾宓侀柛鎰╁妷閺嬪酣鏌熼幆褏锛嶉柣銈忔嫹闂傚倷绀侀悿鍥ь浖閵娧呯焼濞达綀顫夐崣蹇涘箹缁顫婃繛鎾愁煼閺屾洟宕煎┑瀣碉拷妤冿拷娈垮枔閸旀垿寮诲☉娆愬劅闁宠棄妫涢崥瀣煢濡崵绠為柡宀�鍠栭獮鍡涘级閸熷啯鎹囬弻娑欑節閸曨剚姣勭紓浣介哺鐢帟鐏冩繛杈剧秬閵嗭拷婵℃彃鐗撳铏规兜閸涱喚褰ч梺鍛婃⒐閻熲晠鐛崱娆庢勃缂佹稑顑嗛崓鐢告⒑閻撳孩鎲告い锝勭矙楠炲繘宕崟鍨瘜闂侀潧鐗嗗Λ妤呮煂濠婂牊鐓欓柣鎴犵摂濡垹绱掓潏銊ョ瑲鐎垫澘瀚敓鏂ょ秵閸嬪嫰宕径鎰拺閻犲洠锟借櫕鐏撻梺绋款儐缁嬫捇宕ｉ崨顓ф富闁靛牆鎳愮粻浼存煙閾忣偄濮嶇�规洏鍨介弻鍡楊吋閸″繑瀚奸梺鑽ゅ枑閻熴儳锟芥凹鍘惧▎銏ゅ蓟閵夛妇鍘惧┑鐐跺蔼椤曆囨倶閿旂瓔娈介柣鎰嚋闊剚顨ラ悙鍙夊枠鐎规洘顨婇、鏇㈠閳ヨ櫕鐏庨梻浣芥〃閻掞箓骞戦崶顒�鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘
				final SRefreshPetInfo refresh = new SRefreshPetInfo(pet.getProtocolPet());
				psendWhileCommit(roleid, refresh);
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡╂Ч濞存嚎鍊濋弻銈夊级閹稿骸浠撮悗娈垮枛閻栫厧鐣烽悡搴僵妞ゆ挾鍠撹ぐ鍛存⒒娴ｈ鍋犻柛鏂跨Ф閹广垽宕橀鍢夛箓鏌涢弴銊ョ仩闁告劧鎷锋俊鐐�栭崝锕�顭块敓鐣岀磼椤旂厧顣崇紒杈ㄦ尰缁楃喐绻濋崘顭戜紦婵犵數濮伴崹鐓庘枖濞戙埄鏁勯柛鏇ㄥ幗瀹曟煡鏌涢埄鍐檨闁绘挸绻橀弻娑㈩敃閿濆洨鐣洪梺闈╃稻濡炰粙寮诲☉銏℃櫜闁搞儯鍔屽▓灞筋渻閵堝倹娅呴柕鍫㈩焾閻ｇ兘濡搁埡濠冩櫍濠电偞鍨堕悷锕傚级閸涘﹣绻嗛柣鎰典簻閿熻姤鐗曢～蹇旂節濮橆厼浠遍梺鍝勫暙閻楀﹪宕愰崸妤佺厽闁逛即娼ф晶鎵磼閻樺啿鍔ゆい顓℃硶閹瑰嫭绗熼姘婵犵數鍋涘鍫曞箰閹惰棄钃熼柣鏂垮悑閻撱儵鎮楅敐搴濈敖濞寸厧鐭傚铏规嫚閳ヨ櫕鐏侀梺鎼炲姀濡嫰鎮惧畡鎷旀棃宕ㄩ鍏肩暟闂備礁鐤囧銊х矆娴ｈ櫣涓嶉柕澶嗘櫆閳锋帡鏌涚仦鍓ф噮妞わ讣绠撻弻鐔烘嫚瑜忕弧锟藉Δ鐘靛仦閸旀瑥鐣烽崡鐐╂婵☆垳鈷堝Σ瑙勪繆閻愵亜锟芥牠宕濊瀵板﹪宕稿Δ锟藉Ч鍙夋叏濮楀棗鍘撮柡锟芥禒瀣叆婵炴垶锚椤忊晛霉濠婂啨鍋㈤柡灞剧♁缁绘繈宕橀妸褌绱濋柣搴ゎ潐濞叉ê煤濡警鐒介煫鍥ㄧ☉閻撴盯鏌涚仦鎹愬缂併劊鍎茬换婵嗏枔閸喗鐏嶅銈冨妽閸旀瑩鐛箛鏃戞Ч閹兼惌鍨辩�氳绻涢崼婵堜虎闁哄绋掗妵鍕敇閻樻彃骞嬪Δ鐘靛仜閸熷瓨鎱ㄩ敓浠嬫煏閸繃顥滃ù鐘茬箻閺岋絾鎯旈姀鈶╂闂佹寧纰嶉妵鍕疀濮橆厾銆愰梺瀹狀潐閸ㄥ潡骞冨▎鎾崇骇闁瑰濮冲鎾翠繆閻愵亜锟芥洖霉濮橆厾顩叉い蹇撶墑閿熸垝绶氬顕�宕煎┑鍡欑崺婵＄偑鍊栧濠氬储瑜庣�靛吋鎯旈妸锔规嫽婵炶揪缍�椤宕戦悩缁樼厱閹兼番鍨婚惌鎺楁煛娴ｈ灏扮紒鍌涘笧閿熸枻缍嗘禍鐐哄传濡ゅ懏鈷戦柛蹇涙？閼割亪鏌涙惔顔肩仭缂佸倸绉撮…銊╁醇閻斿搫骞愰梻浣规偠閸庮噣寮插☉娆戭浄闁挎柨顫曟禍婊堟煏婢诡垰鍟╁Σ鎰版⒑鐠団�虫灍妞ゃ劌鎳橀敐鐐测攽鐎ｎ偄锟介攱銇勯幒鐐村濡炪倕楠忛幏锟�
				fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 160432, null);
				
				
				logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟撮崣鍕煏閸℃鏆ｅ┑锛勬焿椤︽挳鏌ｉ鐔烘噰闁哄本鐩濠氼敇濠婂喛鎷疯楠炲繘鎮滈挊澶愭暅濠德板�ч幏椋庣磼閻欐瑥娲﹂悡鏇熴亜閹板墎鎮奸柍钘夘槸閳规垿鍨鹃懠顒傜厯闂佸搫鏈粙鎴﹀煝鎼淬倗鐤�闁哄洨濯崯瀣節濞堝灝鏋涢柨鏇樺劚椤啴鎸婃径灞炬閻熸粎澧楃敮鈺呭极鐎ｎ喗鐓曟繛鎴濆船楠炴牕顭块悷閭︽Ч缂佺粯绻堥幃浠嬫濞戞鎹曢梻浣侯攰濞呮洟宕濋弽顐ｅ床婵炴垯鍨洪弲绋棵归悩宸剱闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濡炪値鍓欓崥瀣Φ閸曨垱鏅濆ù锝呮贡瑜把囨⒑闂堟稒鎼愰悗姘卞娣囧﹪骞栨担鑲濄劑鏌ㄩ弴顏呭濠电偛鐗婇〃濠傤潖妤﹁￥浜归柟鐑樻尰閺嗙娀姊洪幖鐐插婵炵》绻濋悰顕�宕橀纰辨綂闂侀潧鐗嗛幊鎰八囪濮婃椽宕楅懖鈹垮仦闂佸搫鎳忛惄顖炴偘椤旂⒈鍚嬪璺侯儌閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘电紓浣割儐鐎笛囁夐姀顫嫹鐟欏嫭绀堥柛鐘崇墵閵嗕線寮撮姀鈩冩珳闂佹悶鍎崝宥夘敊閸涱厸鏀介柣妯活問閺嗘粎绱掓潏銊︾鐎规洘鍨块獮瀣晝閿熺晫澹曡ぐ鎺撶厵閺夊牆澧介悾杈╃棯閹勫仴鐎殿喖鐖煎畷鐓庮潩椤撶喓褰嗛柣搴ゎ潐濞叉牕顕ｉ崼鏇炵疄闁靛鍎欓弮鍌︽嫹閿濆骸浜滄い蹇撶埣閺岋絾鎯旈姀鈺佹櫛闂佸摜濮甸悧鐘诲灳閿曞倹鍊婚柦妯侯槹閻庮剟鎮楅獮鍨姎妞わ富鍨崇划鍫拷锝庡亖娴滄粓鐓崶銊﹀鞍闁革絿鎳撻埞鎴︻敍濞嗗繐绁┑顔硷功缁垶骞忛崨瀛樻優闁荤喐澹嗛濂告⒒娴ｅ憡鍟炴俊顐ｅ灩缁骞樺畷鍥ㄦ濠电姴锕ら崯鐘诲几鎼淬劍鐓欓悗娑欘焽缁犮儲淇婇锝囩煉婵﹥妞藉畷姗�宕ｆ径瀣壍闂備胶顭堥敃銊ョ暦闂堟侗鍤曠憸鏃堝极閹惧顩烽悗锝庡亐閹锋椽姊婚崒姘卞缂佸鎸剧划濠氭倷閻戞鍘遍梺闈涱煭闂勫嫰濡靛┑鍫嫹鐟欏嫭绀堥柡浣割煼瀵偊骞樼�靛壊娴勯柣搴秵閸嬶拷闁归攱妞藉娲捶椤撗呭姼闁诲孩绋堥弲婊冾嚗閸曨垰绀嬫い鎰舵嫹闁荤喖鍋婇悡銉╁箹鐎涙绠橀柣鈺侀椤啴濡堕崱妯尖敍缂傚倸绉崇欢姘跺Υ娓氾拷瀵挳濮�閻欙拷濞煎﹪姊虹�圭姵銆冮柣鎺炵畵瀹曟劙顢涢悙绮规嫽婵炶揪缍�椤宕戦悩缁樼厱閹肩补妲呴悡鍏兼叏婵犱胶鐭欑�规洜鍠栭、娑橆潩妲屾牗效闂傚倷绀侀幉锟犲礉閿曞倸绐楁俊銈呮噹閻撴洟鏌熺�涙璐╃憸鐗堝笒缁�鍌炴煠濞村娅嗛柛锝庡櫍濮婃椽宕ㄦ繝鍌滅憪闂佸憡顨嗘繛濠傤嚕婵犳碍鏅搁柣妯荤叀閸炶泛顪冮妶鍡楀闁搞劌缍婇崺娑氾拷锝庡枟閳锋垿鎮归崶锝忔嫹閾忣偆浜舵俊鐐�戦崝宀勬晝椤忓牆违濞达絽澹婂鈺呮煠缁嬭法浠涙繛鍛灲濮婃椽鎳為妷鍐句邯钘濋柦妯侯樈閻掍粙鏌″搴″箺闁绘搫缍侀悡顐﹀炊閵婏箑闉嶉柣鐘冲姧缁辨洟鎯�椤忓牆绠氱憸宥夊箖閹达附鐓欏〒姘仢婵″ジ鎽堕弽顓熺叆闁绘梻绮ˉ澶愭懚閻愬绠鹃柛鈩兩戦幆鍕煛娴ｅ憡鍠橀柡灞熷棛鐤�闁瑰墽顥愮涵锟界紓浣哄亾瀹曟ê螞閸曨垱绠掗梻浣瑰缁诲倿骞婅箛娑樼畾闁割偆鍠嗘禍婊堝箹缁懓澧叉繝锟介弶澹冲酣宕惰闊剚顨ラ悙瀛樺磳妤犵偞甯掗埞鎴﹀箻閺夋埈浼撻梻浣芥硶閸ｏ箓骞忛敓锟�"+petkey+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟撮崣鍕煏閸℃鏆ｅ┑锛勬焿椤︽挳鏌ｉ鐔烘噰闁哄本鐩濠氼敇濠婂喛鎷疯楠炲繘鎮滈挊澶愭暅濠德板�ч幏椋庣磼閻欐瑥娲﹂悡鏇熴亜閹板墎鎮奸柍钘夘槸閳规垿鍨鹃懠顒傜厯闂佸搫鏈粙鎴﹀煝鎼淬倗鐤�闁哄洨濯崯瀣節濞堝灝鏋涢柨鏇樺劚椤啴鎸婃径灞炬閻熸粎澧楃敮鈺呭极鐎ｎ喗鐓曟繛鎴濆船楠炴牕顭块悷閭︽Ч缂佺粯绻堥幃浠嬫濞戞鎹曢梻浣侯攰濞呮洟宕濋弽顐ｅ床婵炴垯鍨洪弲绋棵归悩宸剱闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濡炪値鍓欓崥瀣Φ閸曨垱鏅濆ù锝呮贡瑜把囨⒑闂堟稒鎼愰悗姘卞娣囧﹪骞栨担鑲濄劑鏌ㄩ弴顏呭濠电偛鎲為崶銊㈡嫼闂佽崵鍠愬妯肩棯瑜旈弻鐔煎川婵犲倵鏋欓悗娈垮櫘閸嬪﹤鐣烽幒妤佸�烽柤纰卞墻閸熷姊绘担鍛婂暈濞撴碍顨婂畷浼村冀椤撗勬櫆闁荤姾妗ㄧ紞宥夊籍閸喎浜归梻鍌氱墛缁嬫劗鍒掗崼鏇熲拺閻犲洩灏欑粻鑼磼鐠囪尙澧曢柣锝呭槻閳规垿宕遍埡鍌氬厞婵＄偑鍊栭幐鐐叏閻戠瓔鏁婇柡鍥╁枔缁★拷闂侀潧楠忕徊浠嬫偂閹邦喚纾奸悗锝庡亝瀹曞矂鏌熼锟界粻鏍箖娴犲宸濆┑鐘插楠炲秵淇婇悙顏勶拷鏍ь潖婵犳碍鍋ら柡鍌氱氨閺嬫梹绻濇繝鍌涘珔闁圭兘顥撻幉鎾礋椤掑偆妲扮紓鍌欑贰閸犳骞戦崶褜鍤曟い鎰剁畱缁犺崵绱撴担鑲℃垵鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�"+petInfo.getName()+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闂囧鏌ㄥ┑鍡╂Ч濞存嚎鍊濋弻銈夊级閹稿骸浠村┑顔硷攻濡炰粙銆佸Δ鍛櫢闁伙絽鐬奸惌鎾绘煛鐏炶鍔滈柡鍛倐閺岋箑螣娓氼垱笑闂佽法鍠曞Λ鍕焽閿熺姴违濞达絿纭堕弸搴ㄦ煙閹咃紞妞わ富鍙冮幃宄邦煥閸愵亞顔掗柦妯荤箖閵囧嫰寮介妸褋锟芥帞绱掗悩鑽ょ暫鐎殿喖鐖煎畷鐓庘攽閸″繑瀵栭梻浣筋嚃閸犳盯宕戦幇鐗堝剦妞ゅ繐鐗滈弫鍥煟閹扮増娑ч柣鎾跺枛閹鈻撻崹顔界亾濡炪値鍘奸悧鎾汇�佸锟藉畷妤呮偂鎼达絿鐛┑鐘垫暩婵锟芥氨鍏樺畷顖炲炊閵娧呯槇闂佹眹鍨藉褔宕滃畷鍥╃＝鐎广儱鎳忛ˉ銏拷瑙勬礃缁矂鍩㈡惔銊ョ疀妞ゅ繐妫涢悾鎯р攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕卞☉娆忎簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鐓熼柟瀵镐紳椤忓牊鍊堕柣鏂垮悑閻撴洟鎮楅敐鍐ㄥ闁诲繑鐓￠弻锛勪沪闂堚晜瀚圭�规洖娲﹀▓鏇㈡⒑鐠恒劌鏋嶇紒顔界懃閻ｉ攱瀵奸弶鎴濆敤濡炪倖鎸炬慨瀵哥矈閿曞倹鈷戠紒顖涙礀婢ф煡鏌涢幋鐘冲殌閸楀崬鈹戦悩宕囶暡闁抽攱鍨块弻娑樷攽閸℃浠惧銈冨劗閿熷�熺М閻熼偊鐓ラ幖绮癸拷鏂ユ嫬闂備浇妗ㄩ悞锕傚箲閸ヮ剙绠栭柛鎾楀倹鍕冮梺缁樺姦閸撴岸鎯佹惔鈾�鏀介柣姗嗗亝婵即鏌涢弴鐐典粵闁伙絽鐖奸弻褔鎳￠妶鍛闂佸搫鏈惄顖炵嵁閸ヮ剚顥堟繛鎴炵懅娴滎亪姊绘担鑺ヮ棄闁哥喍鍗冲畷浼村冀椤撶偠鎽曢梺鍝勬川閸犳挾绮绘ィ鍐╃厱妞ゎ厽鍨甸弸娑樷攽椤旂⒈妲搁柍瑙勫灴閸╁嫰宕橀妸褏銈烽梻浣虹帛椤ㄥ懘鏁冮妷褏鐭氶弶鍫涘妿缁★拷闂佹悶鍎撮崺鏍疾椤掞拷閳规垿鎮╃紒妯婚敪濠碘槅鍋呴弻銊︽櫏濠德板�撻懗鍓佺不妤ｅ啯鍊甸柣銏☆問閻掗箖鎮介婵嗙厫缂佺粯绋撻幏鐘侯槻妞も晩鍓熼弻鐔肩嵁閸喚浠奸梺瀹狀潐閸ㄥ綊鏁撻弬銈囩У濞存粎鍋ゅ畷銏ゆ焼瀹ュ棌鎷洪柣鐘充航閸斿矂寮稿鍥╃＜妞ゆ梻鏅幊鍐煟閿濆懎妲绘い顐ｇ矒閺佹挻绂掔�ｎ亝妲梺鏂ユ櫅閸燁垱鍒婇幘顔解拺闁割煈鍣崕鎰版煃缂佹ɑ绀嬫慨濠勭帛閹峰懐绮电�ｎ亝顔勬繝娈垮枟閿曨偆绮婚幘缁樻櫜闁绘劖娼欑欢鐐测攽閻愭潙绗氭俊鐐扮矙瀵偊宕橀鑲╋紲濠殿喗蓱閸炶崵妲愰柆宥嗏拻濞达絽鎲￠崯鐐层�掑顓ф疁鐎规洖缍婇獮搴ㄦ嚍閵夈儱澹掓繝鐢靛仜濡鎹㈤崱娑樼哗濞寸姴顑嗛悡鐔镐繆椤栨碍鎯堢紒鐙欏喚鐔嗛悹鍝勬惈椤忣參鏌＄仦鍓с�掗柨鐔告灮缁插宕濈仦鐐弿闁稿瞼鍋為悡娑㈡倶閻愰鍤欏┑顔煎�块弻鐔碱敊閸濆嫸鎷峰┑鍡欐殾闁圭儤鍨熷Σ鍫熸叏濡わ拷濡梻妲愰敓锟�"+itemcode+"闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂嫮鐭婇棁澶愭煛瀹ュ骸骞楅柣鎾崇箰閳规垿鎮欓懠顑胯檸闂佸憡鏌ㄩ悺銊ф崲濞戙垹绠婚柟棰佽兌閸氬姊洪崫鍕伇闁哥姵鐗犻獮鍐煥閸愮偓寤洪梺绯曞墲椤洭寮抽妷褏纾藉ù锝夌細濡炬悂鏌涘▎蹇曠妤犵偛绻橀幃婊堟嚍閵夈垺瀚藉┑鐐舵彧缁插潡鎮洪弬娆剧劷闁规壆澧楅悡鏇㈠箹鏉堝墽鍒伴悽顖氱埣閹藉爼鎮欓悜妯煎幈闂佸搫娲㈤崝宀勬倶閿熺姵鐓冮梺鍨儏缁楁岸鏌曢崶褍顏�殿喕绮欓、鏇綖椤撶喎濯伴梻鍌欒兌缁垶骞愰崼鏇炵？闁汇垻顭堥拑鐔兼煥濠靛棭妲搁柛妤佸▕閺岋綁骞囬锝呮疂闂佸綊顥撻崗妯虹暦閻戠瓔鏁囬柕濠忕畱椤忚泛鈹戦绛嬬劷闁稿鎸鹃敓鑺ョ啲閹凤拷"+cost+"闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙寮稿☉銏＄厱闁靛濡囩粻鐐搭殽閻愬澧懣鎰亜閹虹偞瀚归梺璇叉禋娴滄繄鎹㈠☉銏犲窛妞ゆ牗顕撮敐鍚冲酣宕惰闊剙鈹戦垾宕囧煟鐎规洏鍔戦、娆撳礂绾板彉鍝楃紓鍌氬�搁崐鐑芥嚄閼稿灚鍙忛柟鎯版绾拷闂佽鍎煎Λ鍕嫅閻斿摜绠鹃柟瀵稿�戝顑╋綁宕奸悢绋垮伎濠德板�ч幏鐑芥煟濡わ拷閿曨亜顕ｉ锕�绠氱憸澶愬绩娴犲鐓熼柟閭﹀墮缁狙囨煕閿濆牊顥夐柍瑙勫灴閹粓宕堕妸銉紦闂傚倸鍊风粈渚�骞栭锔藉剹濠㈣泛鑻欢銈夋煕婵犲嫬鏋斿ù婊嗗Г缁绘繈鎮介棃娑楃捕濠碘槅鍋呴悷鈺佺暦閺囥垹绀冩繛鏉戭儐閻忎礁顪冮妶鍡樺蔼闁搞劍妞介崺娑㈠箣閿旂晫鍙冨┑鈽嗗灟鐠�锕�危閹间焦鐓涢柛鈩冪懃閺嬫盯鏌＄仦鍓ф创闁诡喒鏅涢悾鐑藉炊瑜夐幏浼存煟鎼淬埄鍟忛柛鐘崇墵閳ワ箓鎮滈挊澶岀暫闂侀潧绻堥崐鏍磻閸岀偛绠归弶鍫濆⒔缁夊灚淇婇幓鎺斿煟闁哄矉缍侀幃銏ゅ传閵壯呭帎闂傚倷绀佹惔婊呭緤娴犲鍋╅柣鎴ｅГ閸嬨劑鏌涘☉姗堟敾婵炲懌鍨藉娲嚍閵夊喚浜棟闁芥ê顦敓鑺ュ笚缁绘繂顫濋鐘插妇闂備礁澹婇崑鍛崲閸岀偛姹叉繛鍡樻尰閻撴洟鏌￠崘鎸庡濠殿喗菧閸斿骸危閹版澘绠抽柡鍐ㄥ�婚敍婊冣攽椤旂瓔娈旈柣妤佸姍閺佹捇宕愰悢鍝ャ�婇梺璺ㄥ枙婵倝顢欓弽顓炵獥闁哄稁鍘搁敓鏂ょ畵閹粓鎸婃径瀣拷顒勬⒑閻熸澘鈷旂紒顕呭灦瀹曟垿骞囬悧鍫㈠幘缂佺偓婢樺畷顒佹櫠閸撗呯＜闁告鍋涚痪褏绱掔紒妯肩疄闁诡喕绮欏Λ鍐归煬鎻掔伈闁哄矉缍�缁犳盯寮崹顔芥嚈闁诲氦顫夊ú妯兼崲閸繍鍤曞ù鐘差儛閺佸啴鏌曢崼婵囩ォ婵″弶鎮傚缁樻媴缁嬫妫岄梺绋款儏閹虫劙骞戦姀鐙�鍚嬮柛娑卞亾閹风兘骞掗幘鍓佺槇濠殿喗锕╅崢楣冨储椤忓牊鈷戦柛鎾村絻娴滄繄绱掔拠鎻掞拷鍧椼�佸Δ鍛潊闁靛繈鍨婚敍婊堟⒑閻撳孩鎲搁柡浣侯焾鐓ら柟缁㈠枟閻撴稓锟界櫢鎷烽柨鐔剁矙瀹曚即寮借閺嗭附绻涢崱妯诲碍閸ユ挳姊虹化鏇炲⒉妞ゃ劌绻戠�靛ジ鏁撻敓锟� "+colorpos1);
				return true;
			}
		}.submit();
		
		
	}
	
	/**
	 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲绻濆▓鍨珯闁归鍏樺娲棘閵夛附鐝旈梺鍝ュ枑婵粙濡甸幇鐗堟櫜濠㈣泛顑傞幏缁樼箾鏉堝墽鍒伴柟鑺ョ矌缁棃鎮滃Ο闀愮盎闂侀潧顧�闂勫嫬鐣峰畝锟介敓鍊燁潐濞叉﹢銆冮崨鎵航闂備焦鍎崇换妤咃綖婢跺ň鏋斿Δ锝呭暞閳锋垹绱撴担濮戭亪鎮橀埡鍛厽闁斥晛鍟ˉ鍫拷娈垮櫘閸嬪﹤鐣烽崼鏇ㄦ晢濞达絽鎼獮妤呮⒒娴ｅ摜绉洪柛瀣躬瀹曘垽宕楅崗鐓庡伎闂佺鐬奸崑鐐烘偂閺囥垹绠规繛锝庡墮婵℃椽鏌熼弻銉х暫闁哄苯绉规俊鐑筋敍濠婂懏娈奸梻浣侯攰濞呮洟銆冩繝鍥ワ拷浣糕槈閵忊剝娅滈梺鍝ュУ婢瑰寮插鍛床婵犻潧顑嗛崑銊╂⒒閸喓鈼ョ紒顔肩埣濮婂搫效閸パ冾瀷闂佺绻戦敃銏狀嚕椤愶箑绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴ㄤ憾閿濈偤顢旈崼鐔叉嫼闂佺鍋愰崑娑㈡晸閼恒儳澧悡銈夋煛瀹ュ骸骞楃紒鐘冲浮濮婄粯鎷呮笟顖滃姼缂備胶绮崝娆忕暦閵壯嶆嫹閿濆骸鏋涚痪鐐娣囧﹪濡堕崨顔兼闂佺粯鎸荤粙鎴︽箒闂佹寧绻傞幊蹇涘箟閹间礁鍐�闁跨喓濮甸埛鎴︽⒑椤愶絿銆掗柍瑙勫浮閺屾盯寮捄銊у姱闂佹寧绻勯崑娑⑩�﹂妸鈺侀唶婵犻潧妫滈敓钘夌仢閳规垶骞婇柛濞у洤绠瀣捣绾惧ジ鏌ｅΟ鍨毢缂佸鍎ら幈銊︾節閸愨斂浠㈤悗瑙勬磸閸斿秶鎹㈠┑瀣闁靛鍔嶉弳閬嶆⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯掗崹鍌炴煟閵忋倖浜ょ紓宥嗙墵閻擃偊宕堕妸锕�顎涘┑鐐叉▕娴滃爼寮崒鐐寸厱闁哄洢鍔屾禍鐐烘煟濞戞帗娅呴柍瑙勫灴閹晠宕归锝嗙槑濠电姵顔栭崰鏍敋椤撱垺鏅搁柤鎭掑劚閸ゎ剟鏌涘▎蹇撴殭闁伙絿鍏橀幖褰掝敃閵堝孩绁梺璇插嚱缂嶅棝宕戦敓浠嬫煙闁垮銇濇慨濠冩そ瀹曘劍绻濋崘銊э級闂佽绻愮换鎴︽偡閳轰胶鏆﹂柕蹇曞Л濡插牓鏌曡箛銉х？闁告﹢浜跺娲濞戣京鍔搁梺鍛婃煥椤戝鐣烽妷鈺婃晝闁靛牆娲ㄩ敍婊冾渻閵堝棙鈷掗柍宄扮墦瀹曟洝绠涢弬璁崇盎闂佽鍎抽崯鍧楀箖閹寸媴鎷烽崹顐ｇ凡閻庢凹鍘鹃幑銏犫攽鐎ｎ亞顦伴梻鍌氱墛缁嬫帡寮抽娑氱瘈闁汇垽娼у瓭闂佹眹鍎遍ˇ闈涱嚕閸洖绀岄柍鈺佸暙椤忓爼鎮峰鍕棃闁绘侗鍠涚粻娑樷槈濞嗗骏鎷锋繝姘厾闁诡厽甯掗崝銈夋煕濞嗗繐鏆ｆ慨濠冩そ瀹曘劍绻濋崒姣挎洘绻涚�涙鐭嬬紒顔芥尭椤曪絿绮欐惔鎾搭潔闂侀潧楠忕槐鏇㈠储閹间焦鍊甸柣褍鎲＄�氬綊姊虹捄銊ユ瀺缂侇喗鐟ラ悾閿嬪閺夋垵鍞ㄩ悷婊冪箻瀵娊鏁傞悾宀�鐦堟繝鐢靛Т閸婂綊鏁嶅鍡曠箚闁圭粯甯囬崑銏℃叏婵犲啯銇濇鐐寸墵閹瑧鎷犺鐎氬湱鎲搁弮鍫㈠祦闊洦绋掗悡銉╂倵閿濆倹娅囩紒鐘冲哺濮婅櫣绱掑Ο鍝勑曟繛瀛樼矋缁捇寮幘缁樺殟闁靛鍎虫导宀勬倵鐟欏嫭绀冩繛鍙夘焽閹广垹鈹戦崱鈺傚兊濡炪倖甯掗崑鍡涘船閻㈠憡鈷掑ù锝堝Г绾爼鏌涢敐蹇曠暤妤犵偛绻橀弫鎾绘晸閿燂拷
	 * @param petId
	 * @param colorpos
	 * @return
	 */
	public boolean isCanUseColor(int petId,int colorpos){
		Map<Integer, PetAttr> confs = ConfigManager.getInstance().getConf(PetAttr.class);
		if (confs != null) {
			PetAttr conf = confs.get(petId);
			if (conf != null) {
				String str=conf.getColorselect();
				if(str==null){
					return false;
				}
				String pos[]=str.split(";");
				if(pos==null){
					return false;	
				}
				for(String p:pos){
					String pos1[]=p.split(",");
					if(colorpos==Integer.parseInt(pos1[0])){
						return true;
					}
				}
				
			}
		}
		return false;
	}
	
	

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 786545;

	public int getType() {
		return 786545;
	}

	public int petkey; // 宠物ID
	public int colorpos1; // 部位1
	public int colorpos2; // 部位2

	public CReqUsePetColor() {
	}

	public CReqUsePetColor(int _petkey_, int _colorpos1_, int _colorpos2_) {
		this.petkey = _petkey_;
		this.colorpos1 = _colorpos1_;
		this.colorpos2 = _colorpos2_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(petkey);
		_os_.marshal(colorpos1);
		_os_.marshal(colorpos2);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		petkey = _os_.unmarshal_int();
		colorpos1 = _os_.unmarshal_int();
		colorpos2 = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CReqUsePetColor) {
			CReqUsePetColor _o_ = (CReqUsePetColor)_o1_;
			if (petkey != _o_.petkey) return false;
			if (colorpos1 != _o_.colorpos1) return false;
			if (colorpos2 != _o_.colorpos2) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += petkey;
		_h_ += colorpos1;
		_h_ += colorpos2;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(petkey).append(",");
		_sb_.append(colorpos1).append(",");
		_sb_.append(colorpos2).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CReqUsePetColor _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = petkey - _o_.petkey;
		if (0 != _c_) return _c_;
		_c_ = colorpos1 - _o_.colorpos1;
		if (0 != _c_) return _c_;
		_c_ = colorpos2 - _o_.colorpos2;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

