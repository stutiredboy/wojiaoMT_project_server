
package fire.pb.clan;

import java.util.Arrays;

import fire.pb.GameSystemConfig;
import fire.pb.SysConfigType;
import fire.pb.clan.srv.ClanBaseManager;
import fire.pb.talk.MessageMgr;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CClanInvitation__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CClanInvitation extends __CClanInvitation__ {
	@Override
	protected void process() {
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		xbean.ClanInfo clanInfo = ClanUtils.getClanInfoById(roleid, true);
		if(clanInfo==null){
			MessageMgr.sendMsgNotify(roleid, 145077, null);
			return;
		}
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繛鎴欏灩缁狅綁鏌ｉ幇銊︽珕闁挎稑鐗嗛埞鎴︽倷閸欏鏋欐繛瀛樼矋缁诲牆顕ｉ幓鎺嗘斀閻庯綆鍋嗛崢閬嶆煟韫囨洖浠ч柛瀣崌閹啴骞嬮悙顏冪盎闂佸搫鍊圭�笛囧吹閸ャ劍鍙忓┑鐘插暞閵囨繃淇婇銏犳殭闁宠棄顦～婵嬵敆婢跺鐦掓繝鐢靛Х閺佹悂宕戦悩娲绘晪婵犲﹤鐗婇埛鏃堟煕閺囥劌鐏犵紒锟介崱妞绘斀闁绘ɑ褰冮弳鐔兼⒒閸曨偄顏柡灞剧☉閳藉顫滈崼婵嗩潬闂備礁鎲￠敃銏＄鐠轰警娼栨繛宸簻閹硅埖銇勯幘璺轰粧濠㈣娲栭—鍐Χ閸愩劌顬堥梺纭呮珪閿曘垽鎮伴鐣岀瘈闁告侗鍨抽弶绋库攽閻愭潙鐏﹂柣鐔村劦閺佹捇鎸婃径灞肩驳闂侀潧娲ょ�氫即鐛Ο鍏煎磯闁绘垶顭囨禍鏍磽閸屾瑨鍏屽┑鐑囨嫹缂備胶濮甸悧鐘荤嵁閸愩剮鏃堟晸娴犲鐓″璺号堥弸搴繆椤栨粌甯跺┑顔芥そ濮婄粯鎷呯憴鍕╀户闂佸憡锚閵堟悂寮崘顔嘉ㄩ柨鏃堟暜閺�铏節閻㈤潧孝婵炴潙鍊垮顐﹀礃椤旂晫鍙嗗┑鐘绘涧濡瑩藟閹达附鐓欓柣銈庡灠閸氬湱绱掓潏銊﹀鞍缂佹鍠栧畷鎯邦槼闁绘繍鍣ｅ娲川婵犲海鍔稿┑鈽嗗亜鐎氫即銆佸璺何ㄩ柍杞拌兌椤︽澘顪冮妶鍡樺鞍缂佽鍟村畷鐔煎礃椤旇В鎷洪柣鐘叉礌閿熻棄纾敓鍊熷吹閿熺晫娅㈤幏鐑芥倵閿濆骸浜滄い蹇氭硾閳规垿鎮欓弶鎴犱户闂佹悶鍔嶅浠嬪春濞戙垹绠ｉ柨鏃傛櫕閸橀亶姊鸿ぐ鎺戜喊闁告挻鐟ч惀顏囶樄闁哄瞼鍠栭、娑橆潩閸楃偐鍙洪梻浣告惈閻ジ宕伴弽褏鏆︽慨妤嬫嫹鐎殿喖顭锋俊鐑藉Ψ閵夈儱鎸ら梻鍌氬�峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧紒鐘虫緲閳规垿鎮╅幓鎺撴缂備礁澧庨崑鐐寸┍婵犲浂鏁嶆慨姗嗗幗閸庢挻绻濋姀銏″殌妞ゆ垵顦～蹇曠磼濡顎撻梺鍛婄缚閸庤櫕顨欏┑锛勫亼閸婃垿宕曢弻銉ョ濠电姵鑹剧粻鐐烘煏婵炵偓娅呯紒鐘电帛閵囧嫰寮崶顭戞婵炲濮撮妶绋款潖閾忚宕夐柕濞垮劜閻忎焦绻濆▓鍨灈妞ゆ洦鍙冮幆锟芥い蹇撴祩濡嫰姊洪崫鍕拱闁烩晩鍨堕崹楣冩晝閸屾氨顓哄┑鐘绘涧濞层劍绂嶉崜褏纾介柛灞剧懅椤︼附銇勯幋婵堝ⅵ妞ゃ垺淇洪ˇ褰掓煕閳哄啫浠辨鐐差儔閺佸倿鎸婃径娑欏闁绘垼濮ら崐鍨箾閹寸偟鎳愰柣鎺旀櫕缁辨帞锟斤綆浜濋崰妯绘叏婵犲啯銇濈�规洏鍔嶇换婵嬪川椤撗勵棨濠碉紕鍋戦崐鏍垂閻㈢绠犳慨妤嬫嫹闁轰焦鍔欓幃娆徝圭�ｎ偅鏉搁梺璇插嚱缂嶅棝鏁撶粵瀣箰闁哄懐濞�瀵寮撮悢椋庣獮闂佸壊鍋呯换鍕妤ｅ啯鈷戦悹鍥皺缁狅絿绱掗懜浣冨妞ゎ偄绻橀幖鍦喆閸曨偆锛忛梻渚�娼ч…鍫ュ磿閺屻儲鍋熼柕蹇嬪�栭埛鎴︽煟閻斿憡绶叉繛鍫氭櫊閺岀喖宕欓妶鍡楊伓
		Integer refval = GameSystemConfig.getSysConfig(guestroleid, SysConfigType.refuseclan);
		if(refval != null && refval.intValue() == 1){
			MessageMgr.sendMsgNotify(roleid, 166061, null);
			return;
		}
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑濠㈣泛顑呭▓鐐翠繆閵堝繒鍒伴柛鐔哄█閺佹捇鎳為妷锔绘閻庤娲橀敃銏ゃ�侀弮锟介幆鏃堝閻欙拷娴兼捇姊绘担鐟邦嚋缂佽鍊婚懞杈ㄧ附閸涘﹦鍔峰銈嗙墬缁嬪繑绂嶅鍫濈婵烇綆鍓欓悞鐑樼箾閸喓鐭掗柡宀�鍠栭、娆撴嚃閳哄唭銊ノ旈悩闈涗粶婵炲樊鍙冮妴浣糕枎閹惧磭顦ч梺鍏肩ゴ閺呮瑩鏌囬鐐粹拻闁稿本鐟︾粊鐗堛亜閺囩喓澧电�规洘婢樿灃闁告侗鍋撻幏鐑藉礃椤斿ジ鍞跺┑鐘绘涧閸燁垶锝炲澶嬧拺婵懓娲ら悘顔姐亜椤撶偟澧曟い鏂跨箰閳规垿宕堕妷銈囩泿闂備浇顫夊畷妯衡枖濞戞鎽ラ梻浣圭湽閸╁嫰宕规潏鈺嬫嫹缁楁稑鎳忓畷鍙夌節闂堟侗鍎愰柛瀣ㄥ姂濮婂宕奸悢鍓佺箒闂佽法鍠曟慨銈夊箲閸ヮ剙钃熼柣鏃堫棑閺嗗鏌℃径瀣嚋娴滄盯姊绘笟锟藉褍螞濞嗘垶鏆滈柟鐑橆殣缂嶆牗绻濋棃娑卞剱闁稿﹪鏀遍妵鍕箳閻愭潙顏舵俊鐐�曠换鎰版偉婵傜钃熼柨婵嗘閸庣喖鏌曢崼婵嗩劉缂傚秴鐗嗛埞鎴︽倷閹绘帞楠囬梺鎸庢磸閸ㄨ姤淇婇幘顔肩闁冲搫鍟伴惁鍫ユ⒑閹肩偛鍔橀柛搴☆煼楠炲繘鏌ㄧ�ｎ剛鎳濋梺璺ㄥ枙濡嫰顢氶敐鍡欘浄閻庯絽鐏氶弲婵嬫⒑閹稿海绠撻柟铏姍閺佸秷绠涘☉娆屾嫽婵炴挻鐔幏閿嬬箾娴ｅ啿妫楀▍锝夋⒒娴ｅ憡鍟炲〒姘殜瀹曘垺銈ｉ崘銊э紮闂佽法鍣﹂幏锟�
		if(ClanUtils.getClanInfoById(guestroleid, true)!=null){
			MessageMgr.sendMsgNotify(roleid, 145115, null);
			return;
		}
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆戝幘闂佸綊妫块悞锕�鈽夎閳规垿顢欓崗鐓庢灎闂佸搫鐭夌粻鎾崇暦濮楋拷椤㈡棃宕熼鍌欓偗闂傚倷绀侀幖顐︽儗婢跺瞼绀婂ù锝呭閸ゆ洘銇勯弴顏呭閻庤娲栭悥濂稿灳閿曞倸绠ｆ繝濠傚暞閹层垹鈹戦悩娈挎殰缂佽鲸娲熷畷鎴︽偄閻撳海鐤囬梺瑙勫礃椤曆囨偪椤曪拷閺屾稖顦抽柕鍥ㄧ洴閺佹捇寮妶鍜佹喘闂佸湱鎳撶�氱増淇婇幖浣规櫇闁跨喓鏅竟鏇㈩敍閻愮补鎷洪梺璇″瀻閸涱垼鍞舵繝鐢靛閹风兘姊洪锟界粔瀵哥矆婢跺浜滈柡宥庡亜娴狅箓鏌嶉柨瀣仼缂佽鲸鎸婚幏鍛嫚閿涘嫬濮洪梻浣稿暱瑜扮偟娆㈠璺鸿摕闁绘梻鍘у婵嗏攽閻樻彃鏆欓柨鐔诲Г閸旀瑩寮诲☉銏犵厴闁割煈鍠栨慨鏇㈡倵閸偅绶查悗姘嵆閻涱噣宕堕澶嬫櫌闂佺琚崐鏇㈠疾椤忓牊鈷戦悹鍥у级閸炲銇勯銏╂Ц閻撱倝鏌″畵顕嗘嫹闁哄鐗犻弻銊╁即閻愯鎷风粙鎸庢殰闂傚倷绀侀崯鍧楀箹椤愶箑纾瑰┑鐘宠壘閸屻劑姊洪锟界粔鐢稿煕閹达附鍋℃繛鍡楃箰椤忊晜銇勬惔銏㈢煉闁哄本鐩崺锟犲磼濠婂啠鎷￠梻浣芥硶閸犳洘鎱ㄩ妶澶嬪亜妞ゆ帒瀚粻顖炴煥閻曞倹瀚�
		xbean.Properties properties = xtable.Properties.select(guestroleid);
		if (properties.getLevel() < ClanBaseManager.getInstance().getJoinClanLevel()) {// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬫繝娈垮櫙閹风兘姊洪弬銉︽珔闁哥喐濯介妵鎰板幢濞戞瑢鎷绘繛杈剧导鐠�锕傛倿閻愵兙浜滈柟瀛樼箖椤ャ垽鏌熼銊ュ悩閺冨牆宸濇い鎾虫祫缁犳捇寮诲☉銏犲嵆闁靛鍎虫禒鈺冪磽娴ｅ搫校闁烩晩鍨跺璇测槈閵忕姷顔掗梺鑹板濞夋盯宕㈤敓鐘斥拺闁告繂瀚ˉ鐘测攽閻戝洦瀚规繝娈垮枛閿曘劌鈻嶉敐澶婄闁告洦鍨版儫闂侀潧顧�婵″洦绂嶉悙瀵哥瘈缁剧増蓱椤﹪鏌涚�ｎ亜顏柨鐔诲Г閻噣宕￠幎钘壩ュ〒姘炬嫹鐎殿喕绮欓、姗�鎮欓棃娑虫嫹閻愬樊娓婚柕鍫濇闁叉粓鏌熼悜绛嬫缂佽鲸甯￠幃顏堟晸娴犲鍨傞柛顐ｆ礀閽冪喖鏌ㄥ┑鍡樺晵闁绘梻鍘ч崹鍌涖亜閺冨倸浜炬い鏇燁殜濮婄粯鎷呴崨濠冨創濠碘槅鍋呴〃濠囥�侀弽銊ョ窞闁归偊鍓濋幗鏇㈡⒑閺傘儲娅呴柛鐕佸亞濞嗐垽鎮欏ù瀣杸闂佺粯蓱瑜板啴顢旇閺屟嗙疀閹炬椿锟芥鏌嶇憴鍕伌妞ゃ垺鐟╅幃娆擃敆閿熻棄鈻撳畝鍕�垫繛鍫濈仢閺嬫稑顭胯闁帮綁鐛幋锕�顫呴柣姗嗗亝椤秹姊洪棃娑氱濠殿噣鏀遍〃銉╁炊椤掍讲鎷洪梺鑽ゅ枑婢瑰棝骞楅悩鐢电＜閻犲洦褰冮弳锝囷拷瑙勬礃閸旀瑩銆佸☉妯锋婵﹢纭搁崯搴ㄦ⒒娴ｇ懓顕滅紒璇插�块獮濠呯疀閺囩姷鐒惧銈嗗姧闂勫嫰鎮″▎鎾寸厱闁瑰瓨鐟ラ敓鑺ョ墱閿熻姤鐔幏锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎾寸厵妞ゆ牗绮岄。鍏笺亜閵夈儺妲虹紒杈ㄥ浮閹晠鎳犻鍌傘劑姊洪崫鍕潶闁稿﹥娲熷﹢渚�鏌ｆ惔顖滅У闁稿鎳橀幃鐢稿冀椤愩倗锛滈梺缁樺姦閸撴瑩宕濋妶澶嬬厪闁割偆鍠愰崐鎰拷娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�?
			MessageMgr.sendMsgNotify(roleid, 160371, Arrays.asList(ClanBaseManager.getInstance().getJoinClanLevel()+""));
			return;
		}
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹂柣鎾冲瘨閻斿棙绻濋棃娑氬闁搞倧鎷锋俊鐐�ら崑鍛崲閸曨垰绠查柛鏇ㄥ灡閹偤鎮归崶锝呭⒉鐞氀勭節閻㈤潧啸闁轰焦鎮傚畷鎴︽倷閸濆嫬鐎梺鍛婃尫缁�渚�寮搁崼顫嫹楠炲灝鍔氭い褝鎷风紓鍌氱У閻楃娀寮婚敓鐘茬倞闁靛鍎虫禒楣冩⒑缂佹ɑ灏甸柛鐘冲姈缁岃鲸绻濋崶顬囩叓閸ャ劍鐓ユい蹇撶埣濮婄粯鎷呴搹鐟扮濡炪們鍔岄幊鎰板箲閵忕媭娼ㄩ柨鐔诲Г娣囧﹪骞橀鐓庣獩闂佸搫顦伴崹濂稿箺閺囥垺鈷戦梻鍫熶緱濡狙冣攽閳ヨ櫕鍠樼�规洏鍨虹粋鎺旓拷锝庡亐閹锋椽姊洪懡銈呮灈闁稿锕畷鐢告偄閸忚偐鍘辨繝鐢靛Т閸熺増鏅堕崹顐闁绘劕妯婇崕蹇涙煃鐟欏嫬鐏寸�规洘锕㈤崺锟犲礃瑜忛幐澶愭⒒閸屾艾锟介绮堟担鍦彾濠电姴娲ょ壕濠氭煕濞戝崬濮搁柛婵嗗濞笺劑鏌ㄩ悢鍓佺煓妤犵偛鍟撮崹楣冨棘閵夛富娼旈梻渚�娼ф蹇曟閺囥垹鍌ㄩ梺顒�绉甸埛鎴︽煕濠靛棗顏柛灞诲姂閺屾盯濡搁妷锔藉創闂佸疇妫勯ˇ鎶剿囪ぐ鎺撶厸鐎癸拷鐎ｎ剛袣缂備胶濮甸惄顖氼嚕閹绢喗鍊烽柍鍝勫�婚敓鎴掑嵆濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挻绮ｉ幏閿嬫媴缁洘顫嶅┑鈽嗗灦閺�閬嶆倵婵犳碍鈷戦柣鐔稿閹界姷绱掔拠鎻掞拷鍧楀灳閺嶃劌绶為悗锝庡墰閻﹀牓姊哄Ч鍥х伈婵炰匠鍕浄鐟滄棃寮诲☉妯滅喖鎮╅崣澶婃閻庤娲栧鍫曞箞閵娿儙鏃傦拷锝庡亜椤忓爼姊绘担铏瑰笡濞撴碍顨婂畷鎶芥晲閸涱垱娈鹃梺鍛婎殘閸庢劕顭囬埡鍛厱闊洦鎸舵禒姘舵煃閸濆嫭鍣洪柍閿嬪笒闇夐柨婵嗙墛椤忕娀鎮介娑氭创闁哄瞼鍠栧畷銊︾節閸愵煉鎷烽幇顕嗘嫹鐟欏嫭绀冮柛鏃�鐟╅悰顕�寮介妸锕�顎撻梺鍛婄缚閸庡崬顕ｉ妸銉㈡斀闁绘﹩鍠栭悘閬嶆煕閳哄倻澧电�规洘绻堝鎾偐閸忓摜鐟濋梻浣哄帶椤洟宕愬Δ鍐棜闁稿繗鍋愮粻楣冩煙鐎电浠滈柛銈庡墴閺岋繝鏁撻懞銉ヮ嚤閻庢稒顭囬崢鍗炩攽椤旂瓔鐒介柛妯犲嫮顩叉繝濠傜墛閻撳啴鎮峰▎蹇擃仼闁诲繑鎸抽弻娑㈠煛娴ｅ壊浼冮悗瑙勬礃閿曘垽宕洪埄鍐╁闁告繂瀚柨顓㈡⒒閸屾艾锟界兘鎳楅崼鏇炵疇闁规崘顕ч崥褰掓煛瀹ュ骸骞栫紒鐙�鍨堕弻銊╂偆閸屾稑顏�
		if (ClanUtils.isClanMemberFull(clanInfo)) {
			// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹂柣鎾冲瘨閻斿棙绻濋棃娑氬闁搞倧鎷锋俊鐐�ら崑鍛崲閸曨垰绠查柛鏇ㄥ灡閹偤鎮归崶锝呭⒉鐞氀勭節閻㈤潧啸闁轰焦鎮傚畷鎴︽倷閸濆嫬鐎梺鍛婃尫缁�渚�寮搁崼顫嫹楠炲灝鍔氭い褝鎷风紓鍌氱У閻楃娀寮婚敓鐘茬倞闁靛鍎虫禒楣冩⒑缂佹ɑ灏扮紒瀣灴閳ワ妇鎹勯妸锕�纾繛鎾村嚬閸ㄤ即宕滄ィ鍐┾拺缂佸娉曢弰鍌炴煕鎼达絾鏆�殿喖顭烽弫鎰緞婵犲嫷鍟嬮梻浣告啞椤ㄥ牓宕戝☉娆愬弿闁挎洖鍊归埛鎴︽煕濠靛棗顏悗姘缁辨帗寰勬惔顔界秷婵烇絽娲ら敃顏堝箖濠婂牊瀵犲鍏夋杹閺呯娀寮婚妸鈺佺睄闁跨喍绮欏畷鏇㈠礃濞村顫嶉悷婊勬煥椤繒绱掑Ο璇差�撻梺鍛婄☉閿曘儵宕伴幇顓犵瘈婵炲牆鐏濋悘锟犳煙閸涘﹤鈻曢柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷
			MessageMgr.sendMsgNotify(roleid, 145011, null);
			return;
		}
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呯憴鍕哗闂佺瀛╁钘夌暦濠婂啠鏋庨柟瀛樼箥濡粓鎮峰鍛暭閻㈩垱顨婇幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀艾螖閻樿櫕鍊愰柣娑卞櫍瀵粙顢橀悢鍝勫籍闂備礁鎲￠崝锔界濠婂牆鍑犳繛鎴欏灪閻撴盯鎮橀悙鎻掆挃婵炲弶娼欓埞鎴︽晬閸曨偄骞嬮梺杞扮劍閸旀瑥鐣烽妸鈺婃晣鐟滃繘鏁撻懞銉︾稇闁宠鍨块幃娆撴嚑椤掍焦鍠栭梻浣规偠閸婃洟鏌婇敐鍛殾闁圭増婢橀崘锟藉銈嗗姧缁茶姤鎯旀繝鍌楁斀闁绘劖娼欓悘鐔兼煕閵娿儳绉洪柣娑卞櫍婵拷闁炽儴灏欑粻姘舵⒑闂堟稓澧曢柟鍐茬箻瀹曟娊宕烽銊﹀婵炲牆鐏濋弸娆撴煕濡わ拷閸熷潡锝炶箛鎾佹椽顢旈崟顓у晣闂備胶绮崝姗�顢氬鍫濈闁绘垼妫勯崡鎶芥煏韫囧﹥娅嗛柡鍛仦缁绘繈濮�閿濆懐鍘梺鍛婃⒐濞茬喖骞忛幋锔藉亜闁稿繗鍋愰崢顏堟⒑閸撴彃浜濈紒璇茬Т鍗遍柛婵勫劤濡垱銇勯幘鍗炲閻庢艾缍婂濠氬磼濞嗘帒鍘＄紓渚囧櫘閸ㄨ泛鐣峰┑瀣嵆闁绘劕绉堕崰鎰崲濠靛纾兼俊銈勮兌娴滄牗淇婇悙顏勶拷鏍箰閻愵剚鍙忓瀣椤ユ艾霉閻樺樊鍎愰柣鎾存礋閹﹢鎮欓棃娑楀闂佹眹鍔嶉崹褰掓晸閼恒儳鈾佺紒璇茬墕椤繘鎼圭憴鍕幑闂佸憡渚楅崰姘炽亹瑜斿娲箰鎼达綆鏆￠梺闈涙搐鐎氭澘顕ｉ幘顕呮晜闁糕剝顏伴幋锔界厽閹兼番鍔嶅☉褔鏌曢崼鐔稿�愰柣娑卞櫍瀵粙顢樿閺咃綁姊虹紒妯荤叆闁硅绻濋幃鐢割敃閳垛晜鏂�闂佺粯蓱閸撴岸宕箛娑欑厱闁绘ɑ鍓氬▓婊堟煛娴ｇ鏆ｉ柛鈺嬬節瀹曘劑顢橀悙韫喚婵犵數濞�濞佳囧磹婵犳埃锟斤箓宕奸姀銏㈢劶闂佸壊鍋侀崕鏌ユ偂韫囨挴鏀介柣鎰版涧娴滅偓绻涢崨顓燁棦闁哄本绋掔换婵嬪礋椤掍焦鐦撻梻浣筋嚃閸犳牠宕查弻銉ョ厺閹兼番鍊楅悿锟介梺鐟扮仢閸熲晝妲愰幋锔解拻濞达絼璀﹂弨鐗堜繆椤愩垹顏�规洦鍨堕獮姗�顢欓懖鈺冩毇婵犵妲呴崹闈涒枖閺囥垺鍋柨鐔剁矙濮婃椽宕崟顐ｆ闂佺锕ょ紞濠傜暦閹剁瓔鏁嬮柨鐔绘椤繐煤椤忓嫬绐涙繝鐢靛Т閸婂鎮烽弻銉︾厽闁靛繆鏅涢悘鑼磼缂佹绠撻柣锝夘棑閹叉挳宕熼埡浣风凹闂備礁鎲￠崝鎴﹀礉鎼淬劍鍋柨鐔绘閳规垿鎮欓懜闈涙锭缂備浇寮撶划娆撶嵁閺嶎収鏁冮柕蹇婃櫅濞堛劑姊虹憴鍕姸濠殿喓鍊濋崺娑㈠箳閹炽劌缍婇弫鎰板川椤旇棄鍓靛┑鐐差嚟婵潧顪冩禒瀣摕婵炴垶鐟﹂崕鐔兼煃閽樺顥滄繛鍫ｅ煐缁绘稓锟芥稒顭囬惌灞俱亜椤撶偟澧﹂柛鈹垮灪閹棃濡搁妷褜鍟嬮柣搴ゎ潐濞叉牕煤閿曞倹鍊垮Δ锝呭暞閳锋帒霉閿濆牆袚缁绢厼鐖奸弻娑㈡晲韫囨洜鏆ゅΔ鐘靛仜缁绘﹢寮幘缁樻櫢闁跨噦鎷�
		if(ClanUtils.isAddClanPositionFull(clanInfo)){
			MessageMgr.sendMsgNotify(roleid, 160310, null);
			return;
		}
		
		byte inviteType = 0;
//		// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍讲鏋欓梺缁樺笩婵倗鎹㈠☉銏犲耿婵☆垵顕х喊宥夋煟閻斿摜鎳曠紒鐘虫崌楠炲啫螖閸涱喗娅滈柟鐓庣摠缁诲嫰寮弽顓熲拺闁告繂瀚ˉ婊勪繆椤愶絿绠炵�殿喖顭烽幃銏ゅ礂鐏忔牗瀚介梺璇查叄濞佳勭珶婵犲伣锝夘敊鐏忔牗鏂�濡炪倖姊归娆忣焽閹扮増鐓熼柟缁㈠灲閹风兘骞囨担鍦▉婵犵數鍋涘Ο濠冪閸洖鏋侀柛鈩冪♁閻撱儵鏌ｉ弮鍌氬妺婵炲懏娲滅槐鎺楊敊閼恒儺妫冮悗娈垮枛閻栧ジ鐛�ｎ噮鏁囬柣鏃堫棑濡诧絾绻濋悽闈涗粶妞ゆ洦鍘介幈銊╁箻椤曞懏鏅為梺绯曞墲缁嬫垹澹曡ぐ鎺撶厱妞ゆ劧绲剧粈鍐煟閹捐泛鏋涢柡宀�鍠栭弻鍥晝閿熶粙鎮橀悩缁樼厽闁圭偓娼欐慨鍫ユ煏閸パ冾伃濠碉紕鍏樻俊鐑筋敊閸欘値鍥ㄢ拺闂傚牊绋掗幖鎰版倵濮樺崬顣煎ǎ鍥э躬閹粓鎸婃竟鈹垮姂閺屾洘绻涢崹顔煎Ф婵炲鍘ч崯鏉戭潖婵犳艾纾兼慨姗嗗幗閹瑥顪冮妶蹇擃洭闁轰浇顕ч锝囨嫚濞村顫嶅┑鐘诧工閹虫劙寮堕幖浣光拺闁告繂瀚婵嬫煕鐎ｎ偆鈾佺紒鍌涘笒椤粓鏁撻挊澶樻綎婵炲樊浜滃婵嗏攽閻樻彃顏柣锝呮惈閳规垿鏁嶉崟顐＄钵缂備緡鍠楅悷銉╊敋閿濆棛绡�婵﹩鍘藉▍銏ゆ⒑缂佹〞鎴ｃ亹閸愵喗鍤�闁割煈鍠掗弨浠嬫煟閹邦厽缍戦柣蹇ラ檮閵囧嫰濡搁妷锔绘＆閻庤娲樺姗�锝炲┑瀣殝缁剧増蓱鐎氬ジ姊绘担鍛婂暈缂佽鍊婚敓鑺ュ嚬閸ｏ綁骞冮悙鍝勯敜婵°倓鑳堕崢鐢告⒑閸涘﹤鐏熼柛濠冪墱閿熻姤鐔幏锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?  闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈笟妤�螞閿熺姵鈷戦柣鐔告緲閺嗛亶鏌￠崼顐㈠闁瑰箍鍨归埞鎴狅拷锝庡亜娴犳椽姊婚崒姘卞濞撴碍顨婇弫鎾绘嚍閵夛箑纾抽梺鍝勭灱閸犲酣鎮鹃敓鐘茬骇闁圭宸╅埡鍛拺闂傚牊绋掗ˉ鐐烘偨椤栨稑娴柨婵堝仜閳规垹锟斤綆鍋勯敓浠嬫敱閵囧嫰骞掗悙鏉戭伓婵＄偑鍊曠换鎰版偉婵傜钃熼柨婵嗘閸庣喖鏌曢崼婵嗩劉缂傚秴鐗嗛埞鎴︽倷閹绘帞楠囬梺缁橆殘婵烇拷妤犵偛鍟存俊鐑藉煛娴ｄ警妲梻浣侯焾缁绘帡宕㈣椤曪綁宕稿Δ浣叉嫼闁荤姵浜介崝宀勫几瀹ュ洨纾兼い鏃傛櫕閹冲洨锟芥鍠栭…宄邦嚕閹绢喖顫呴柣妯款嚙閺佽绻濋悽闈涒枅婵炰匠鍏犲綊宕掑В鍏肩洴閺佹捇鎮╅弬銉﹀濠电偞娼欓崥瀣偡閵娾晩鏁囨繛宸簼閻撴瑩鏌涢幋娆忥拷鏍拷姘炬嫹
//		if( clanInfo.getClanmaster()==roleid || clanInfo.getClanvicemaster()==roleid){
//			inviteType = 1;
//		}
		xbean.ClanMemberInfo masterInfo = clanInfo.getMembers().get(roleid);
		if(masterInfo.getClanposition()>=ClanPositionType.ClanMaster&&masterInfo.getClanposition()<=ClanPositionType.ClanArmyGroup4){
			inviteType = 1;
		}
		SClanInvitation sClanInvitation = new SClanInvitation();
		sClanInvitation.clanlevel = clanInfo.getClanlevel();
		sClanInvitation.clannname = clanInfo.getClanname();
		sClanInvitation.hostrolename = new fire.pb.PropRole(roleid, true).getName();
		sClanInvitation.hostroleid = roleid;
		sClanInvitation.invitetype = inviteType;
		gnet.link.Onlines.getInstance().send(guestroleid, sClanInvitation);
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮婚悢纰辨晬闁糕剝顨嗗﹢浼存倵闂堟稒婀扮紒缁樼〒閿熺晫鏁搁…鍫濈摥婵＄偑鍊栭崹鐢稿箠閹邦喖鍨濋柛顐犲劚绾惧ジ鏌ｉ幇顒夊殶闁告﹢浜跺娲濞戣鲸肖闂佹悶鍔岄幖顐﹀煝瀹ュ鐐婇柍鍝勫暞閿涘繘姊虹涵鍜佹綈闁告梹鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！闂侀潻绲惧浠嬪蓟閻旂⒈鏁嶆慨妯哄船閳敻姊洪崫鍕効缂佽鲸娲熼弫鎾诲棘閵堝洨校闂佺顑呯�氫即骞冨锟介崺锟犲川椤旀儳骞嶉梻浣告贡缁垳鏁Δ鍛柈闁绘劗鍎ら悡銉︾箾閹寸偟鎳冨┑顔肩墦閺岀喎鐣￠悧鍫濇畻闂佸湱顭堥敃銉ヮ嚗閸曨剛绡�闁稿本绻傜敮璺ㄧ磽閸屾艾锟芥悂宕愰幖浣哥９濡炲瀛╅浠嬫煥閻斿搫孝闂傚偆鍨遍妵鍕冀椤愵澀绮剁紓浣哄閸ㄥ爼寮婚妸鈺傚亞闁稿本绋戦锟�?
		MessageMgr.sendMsgNotify(roleid, 172017, null);
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 808461;

	public int getType() {
		return 808461;
	}

	public long guestroleid;

	public CClanInvitation() {
	}

	public CClanInvitation(long _guestroleid_) {
		this.guestroleid = _guestroleid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(guestroleid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		guestroleid = _os_.unmarshal_long();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CClanInvitation) {
			CClanInvitation _o_ = (CClanInvitation)_o1_;
			if (guestroleid != _o_.guestroleid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)guestroleid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(guestroleid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CClanInvitation _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(guestroleid - _o_.guestroleid);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

