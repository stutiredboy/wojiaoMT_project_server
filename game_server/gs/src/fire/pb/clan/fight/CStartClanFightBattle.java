
package fire.pb.clan.fight;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CStartClanFightBattle__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰效婵狅拷娓氾拷濮婅櫣绱掑Ο铏逛淮濡炪値鍋呭ú鐔煎极閹剧粯瀵犲璺侯煭閹风兘宕稿纭锋嫹娴ｅ壊娼╅柤绋跨仛濞呫垺绻涚�电孝妞ゆ垵娲ら悾鍨瑹閿熶粙鎮￠锕�鐐婇柕濞э拷濡俱劑姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婎潊闁绘ê妯婂Λ宀勬⒑鏉炴壆顦﹂柨鏇ㄤ邯瀵鍨鹃幇浣告倯闁硅偐琛ラ敓钘夌－椤旀劗绱撻崒娆戝妽闁告梹鐗犻妴鍐╃節閸パ嗘憰闂佺偨鍎查崜姘跺触鐎ｎ喖绠圭紒顔炬閹风兘宕樺顔煎Η闂傚倸鍊峰ù鍥ь浖閵娧呯焼濞达絿灏ㄩ幏宄邦潩椤愩垹绁悗娈垮枦椤曆囧煡婢跺á鐔兼煥鐎ｅ灚缍屽┑鐘垫暩閸嬫稑螞濞嗘挸绀夋俊銈呭暟閻瑩鏌涢妷顔煎闁抽攱鍨剁换娑㈡嚑妫版繂娈Δ鐘靛仦椤ㄥ棝濡甸崟顖毼╅柕澶樺灥閸氼偊鎮楀▓鍨灈妞ゎ厾鍏樺顐﹀箻缂佹ê浜归梺鑲┾拡閸撴瑩鏁撻悾灞戒槐婵﹨娅ｉ敓钘夋贡婵敻濡撮崘顔界厽闁硅櫣鍋熼悾鐢告煙椤旂瓔娈橀柟椋庡Т椤斿繘顢欓挊澶屾В闂傚倷绶氬褔鎮ч崱妞㈡稑鈻庨幋鐘电劶婵犮垼娉涢…顒�銆掓繝姘�垫繛鎴烆伆閹达箑纾归柟閭﹀弾濞堜粙鏌ｉ幇顖氱毢濠⒀嶇畱閳规垿鍩勯崘鈺侊拷鎰攽閿涘嫬鍘存い銏＄懇閹稿﹥寰勫畝锟芥径鍕⒒閸屾艾锟界兘鎳楅崜浣瑰厹闁割偅娲栫粈鍫熺節闂堟侗鍎嶉柨鐔绘閸熸潙鐣烽妸鈺婃晬婵犲鎷风紒妤�顦甸幃宄邦煥閸涱収鏆柣銏╁灡椤ㄥ﹪宕哄☉銏犵闁挎棁妫勬禒顖炴⒑閹肩偛鍔橀柛鏂块叄瀹曪綁鏁撴禒瀣拺缂備焦顭囬埦浣虹磼椤旇姤宕岀�殿喖顭烽幃銏ゆ偂鎼达綆妲遍梻渚�娼ч悧鍡椢涘Δ鍜佹晜闁跨噦鎷� battle PK by changhao
 * @author Administrator
 *
 */
public class CStartClanFightBattle extends __CStartClanFightBattle__ {
	@Override
	protected void process() {
		// protocol handle
				
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		
		mkdb.Procedure startclanfightbattle = new mkdb.Procedure()
		{
			@Override
			protected boolean process()  throws Exception
			{
				long cur = System.currentTimeMillis();
				
				Long battleid = xtable.Roleid2battleid.select(roleid);
				if (battleid != null)
				{
					String srcname = xtable.Properties.selectRolename(roleid);
					String targetname = xtable.Properties.selectRolename(targetid);
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ") " + srcname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + targetid + ") " + targetname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顖毿撻柟渚垮妼椤粓宕卞Δ锟介埛鎺楁⒑缂佹ê绗傜紒顔界懇瀵濡堕崱妯哄伎闂佸綊鍋婇崜銊╁箯閻戣棄鍐�妞ゆ劦鍓氱�氳鎱ㄥ鍡楀⒒闁绘挸銈搁弻鈥崇暆鐎ｎ剛袦閻庢鍣崳锝呯暦閹烘埈娼╂い鎴ｆ硶鐢稓绱撻崒姘拷椋庢閵堝绠�瑰嫰鍋婇悢鍡涙偣妤︽寧顏犻柣鎺戞健閺岀喐顦版惔鈥冲箣闂佺粯渚楅崳锝呯暦瑜版帩鏁婇柣鎾冲瘨濞兼稑鈹戦敍鍕杭闁稿ě鍜冩嫹闂堟稓鐒哥�规洖婀遍幑鍕惞鐟欏嫭顔曢柣鐔哥矌婢ф鏁幒鏂款棜闁稿繗鍋愮粻楣冩煙鐎电浠у邪鍛＜闁靛鍎洪悡鍏兼叏婵犲啯銇濈�规洜鍏橀、姗�鎮欓幓鎺濈�遍梻鍌欑劍閹爼宕濇惔銊ユ瀬濠电姵鍝庨敓鎴掔窔瀵噣宕煎┑鍫濆箰闂備胶顭堥張顒勬偡瑜忕划璇差潩椤掑瀵岄梺闈涚墕濡鎱ㄨ缁辨捇宕掑鍏尖枅濡ょ姷鍋涢澶愬箖濞嗘垵鏋堟俊顖滅帛閺嗐倖绻濋悽闈浶ラ柡浣告啞閹便劑寮堕幊銊︽そ閺佸啴宕掑鎲嬬串闂備胶绮崹鍏兼叏閵堝鍋傛繛鎴烇供閻斿棝鎮规潪鎷岊劅闁稿骸绻橀弻锝堢疀婵犲啯鐝曢梺闈涙搐鐎氫即寮崒鐐蹭紶闁告洦鍋掑搴㈢節濞堝灝鏋涢柨鏇樺劚椤啴鎸婃径灞炬闂侀潧顭俊鍥╁姬閿熶粙妫呴銏″闁瑰憡鐡曢妵鎰板幢濞戞瑢鎷绘繛杈剧悼閸庛倝宕甸敓浠嬫⒑閹肩偛锟芥牠鎮ч悩鑽ゅ祦闊洦绋掗弲鎼佹煥閻曞倹瀚�");
					return false;
				}
				
				Long targetbattleid = xtable.Roleid2battleid.select(targetid);
				if (targetbattleid != null)
				{
					String srcname = xtable.Properties.selectRolename(roleid);
					String targetname = xtable.Properties.selectRolename(targetid);
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ") " + srcname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + targetid + ") " + targetname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告梹鎮傚鍝勑ч崶褝鎷峰┑鍫笉闁哄稁鍘奸拑鐔猴拷骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰鎮肩紒杈ㄦ尰閹峰懘鎮烽弶娆炬綌婵＄偑鍊戦崝灞轿涘▎鎴犵煔閺夊牄鍔庣弧锟介梺鎼炲労閻忔稖顦归柡灞剧☉閳藉宕￠悙瀵镐邯婵犵數鍋涢幊宀勫磹濠靛棭娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告挻婢橀—鍐Χ韫囨搩娲梺杞版祰椤曆囶敋閿濆棛绡�婵﹩鍎甸埡鍛厪濠㈣泛鐗嗛悘顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佹兜鐠轰警鐎剁憸鏂款嚕閹绘帩鐓ラ柛娑卞灡閸ｎ噣姊婚崒姘拷鎼佸磹妞嬪海鐭嗗ù锝夋交閼板潡姊洪锟界粔瀵哥不閻樼粯鐓欓柛鎾楀懎绗￠梺绋款儏椤︻垶鍩為幋锕�纾兼繝濠傛捣閸旀悂姊洪挊澶婃殶闁哥姵鐗犲濠氭晸閻樿尙鍊為梺瀹犳〃閻掞箓鎮樻担铏圭＝濞达絽寮堕～澶愭煙妞嬪骸鍘存慨濠勭帛缁绘繃鎯旈垾鑼泿婵犵數鍋犻婊呯不閹寸姴寮叉繝鐢靛Т閿曘倝鎮ч崱妞パ囧蓟閵夛妇鍘藉┑鈽嗗灥閸嬫劗鏁☉銏＄厓闂佸灝顑呴悘鎾煙椤旇偐绉虹�规洖鐖奸、鏃堝礋椤撶噥鍤勭紓鍌氬�烽懗鑸垫叏閻㈠憡鍋傞柨鐔哄Т閽冪喖鏌ㄥ┑鍡╂Ц闁绘挻绋戦埞鎴︽偐閹绘帪鎷风紒妯碱浄闁归棿鐒﹂崐鍨箾閸繄浠㈤柡瀣♁閵囧嫰顢橀悩鎻掑箣閻庢鍣崑濠囩嵁濡偐纾兼俊顖濇〃濮规姊绘担钘変汗闁冲嘲鐗撳畷婊堝Ω瑜庨～鏇㈡煕濞嗗浚妲虹紒鈽呮嫹闂備焦鐪归崹钘夘焽瑜庣粋鎺楁晝閸屾稓鍘遍梺闈涱焾閸庢娊宕洪敐澶嬬厵妞ゆ柣鍔屽ú銈呂涘锟介獮鏍拷娑櫳戠亸浼存煟閹惧崬鐏╂い顏勫暣婵″爼宕ㄩ婊庡敹闂備胶绮〃鍛存晝椤忓牆鏄ユ繛鎴欏灩缁狅綁鏌ㄩ弮鍌涙珪闁告ɑ鍎抽埞鎴︽倷鐎涙绋囧銈嗗灥濡鍩㈠澶婄缂備焦顭囬崢鎼佹⒑缁洖澧叉い顓炴喘閹矂骞掑Δ浣哄幐閻庣櫢鎷烽柨鐔剁矙瀹曚即寮借閺嗭附绻涢崱妯诲碍閸ユ挳姊虹化鏇炲⒉妞ゃ劌绻戠�靛ジ鏁撻敓锟�");
					return false;
				}
				
				Long c1 = xtable.Roleid2clanfightid.select(roleid); //濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崸妤�绠板┑鐘插暟閻濆爼鏌嶉崫鍕靛剳缂佸鍠氶敓鍊燁潐濞叉粓宕伴弽顓滐拷浣糕槈濮楀棙鍍垫俊鎻掓湰閻楁洟寮幖浣光拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婄拋鏌ュ几濞嗘挻鈷戠紓浣姑粭鈺佲攽椤斿搫锟芥骞戦姀鐘闁靛繒濮撮懓鍨攽閳藉棗鐏ｇ紒顕呭灦瀹曟洘鎯旈妸锔规嫼闁哄鍋炴竟鍡浰囬敃鍌涘�垫慨姗嗗亜瀹撳棛锟芥鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏂炲懐纾芥慨妯跨簿婵娊鏌ｉ姀鐘冲暈闁抽攱鍨块弻鐔虹矙閹稿孩宕崇紓浣哄У閹稿濡甸崟顖涙櫆閻犲洩灏欐禒顖滅磽娓氬洤鏋涙い顓犲厴楠炲啴鎮滈挊澶岀枃婵犵數濮撮崐鑽ょ矓濞差亝鐓涘ù锝囨嚀婵秶锟借娲栧畷顒勫煝鎼淬劌绠涙い鎾跺仦濞呫垽姊绘担钘夊惞闁稿鍋熼崰濠傤吋閸ャ劌搴婇梺鍓插亝缁诲秴顭囬弽顐ょ＝濞达綀鍋傞幋鐐插灁闁圭虎鍠楅悡鐔兼煟閺冨倸甯跺ù婊�鍗抽弻娑㈠Χ閸滀礁鍓伴梺瀹狀潐閸ㄥ潡骞冨▎鎴嫹閸偅鍋犻柛瀣仱濮婃椽宕崟顒�娅ф繝鐢靛剳閹风兘姊虹紒妯圭繁闁哥姵绋撶划璇测槈濡攱顫嶅┑鐐叉閸ㄩ潧顕ｉ幎鑺モ拺閻犲洦褰冮崵杈╃磽瀹ュ懏顥㈢�规洘绮岄埥澶愬閳ュ啿澧鹃梻浣稿閸嬩線宕曢弻銉ョ厱闁硅揪闄勯崑锝夋煙椤撶喎绗掑┑鈥炽偢閺岋紕锟斤綆浜炶倴缂備浇椴哥敮锟犮�佸▎鎾村仼閻忕偞鍎冲▍姘舵⒒娓氾拷濞佳兾涢弮鍌涱偨婵﹩鍓﹂崵鏇熴亜閺囶亝瀚归悗瑙勬礈閸樠囧煘閹寸媴鎷烽敐搴濈凹闁哄棭浜滈埞鎴︽偐閸偅姣勬繝鐢靛剳閹峰嘲鈹戦悙鏉垮皟闁搞儯鍔屾禍鍗炩攽閻樿宸ラ柣妤�妫涢幉鎾晝閸屾稓鍘卞┑鐐村灥瀹曨剟寮搁妶鍥╃＜闁宠棄鎳忕�氬湱绱撻崒娆戭槮濠⒀嗗Г閺呰泛螖閸曨剚鍣峰┑锛勫亼閸娿倝宕戦崟顖涙櫇妞ゅ繐鐗嗛拑鐔哥箾閹存瑥鐏╅幆鐔兼⒑閹稿孩绌块柟椋庡厴閺屽秶绱掑Ο鑽ゎ槶闂佽法鍠庨敓鐣屽櫏濞兼劖绻涢崣澹濐亞鍙呴梺缁樻閺呰尙鎹㈤崱娑欑厱妞ゆ劧绲剧粈锟介梺缁樺姇閿曘儵濡甸崟顔剧杸闁规儳纾ぐ鍛存⒑閻愯棄鍔滈柡瀣偢瀵劑鎳為妷锝勭盎闂佸搫鍠涢幏鐑芥煛鐎ｎ剛甯涚紒妤冨枎閳藉濮�閿涘嫬骞堥梻濠庡亜濞诧箓寮搁崒鐑嗘晜闁告洦鍋嗛妶顐︽⒒閸屾瑧顦﹀鐟帮躬瀹曟垶绗熼敓钘夌暦閺囥垹钃熼柕澶涚畱娴滄姊洪棃娑辨Т闁哄懏绮撻幃锟犳偄閸忚偐鍘搁梺鎼炲劗閺呮稒绂掑鍫熺叆闁绘梻绮ˉ澶嬬節閿熶粙鏌嗗鍡樻闂佸吋浜介崕鎶藉疮閺屻儲鐓欓柛鎴欏�栫�氾拷? by changhao
				if (c1 == null)
				{
					String srcname = xtable.Properties.selectRolename(roleid);
					String targetname = xtable.Properties.selectRolename(targetid);
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ") " + srcname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + targetid + ") " + targetname + " 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｇ拠娴嬫婵☆垶鏀遍弬锟介梻浣告啞濞诧箓宕戦崟顒佸弿闁靛繈鍊栭埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠栭…鐑藉春閸曨垰绀冮柕濞у懐宓侀梻浣筋嚙閸戠晫绱為崱妯碱洸闁绘劕鎼崒銊╂煙閹殿喖顣奸柍閿嬪灴閺屻倕霉鐎ｎ偅鐝斿銈忕到閵堟悂骞冨Δ鍐當婵炴垶蓱閹兼劕顩奸崨瀛樷拺闁告稑锕ユ径鍕煕閻樺啿鍝洪柟顔兼健閺佹挻绂掔�ｎ偀鎷洪柣鐔哥懃鐎氼剛绮堥崘鈺冪濠㈣泛顑囧ú鎾煏閸℃锟藉潡骞栬ぐ鎺戞嵍妞ゆ挾濯寸槐鍐测攽閻愯埖褰х紒韫矙楠炴牠顢曢敂缁樻櫅闂佽鍎虫晶搴ｅ婵傚憡鐓犵痪鏉垮船婢ь喖霉濠婂啫鈷旂紒杈ㄥ笒閻ｆ繈宕橀鍏兼嚈缂傚倷鑳剁划顖滄崲閸繄鏆﹂柛顐ｆ礃閸ゅ鏌涢…鎴濅簼闁绘繍鍋勯埞鎴︽偐閸偅姣勬繝娈垮枟閹告娊寮崘顔嘉у璺猴功閺屽牆顪冮妶鍡楀Ё缂佽尪鍋愰幑銏ゅ幢濞戞瑧鍙勯棅顐㈡处閹歌崵鎷归敍鍕／闁硅鍔栭ˉ澶愭煏閸℃ê绗掓い顐ｇ箞椤㈡鎷呴崫銉у春闂傚倷绀侀幉陇鎽紓渚囧枟閹瑰洤顕ｆ繝姘亜闁绘挸娴烽ˇ鈺呮⒑闂堟稓澧曟俊顐ｎ殜椤㈡棃鏁撻敓锟�");

					return false;
				}
				
				Long c2 = xtable.Roleid2clanfightid.select(targetid); //濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崸妤�绠板┑鐘插暟閻濆爼鏌嶉崫鍕靛剳缂佸鍠氶敓鍊燁潐濞叉粓宕伴弽顓滐拷浣糕槈濮楀棙鍍垫俊鎻掓湰閻楁洟寮幖浣光拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婄拋鏌ュ几濞嗘挻鈷戠紓浣姑粭鈺佲攽椤斿搫锟芥骞戦姀鐘闁靛繒濮撮懓鍨攽閳藉棗鐏ｇ紒顕呭灦瀹曟洘鎯旈妸锔规嫼闁哄鍋炴竟鍡浰囬敃鍌涘�垫慨姗嗗亜瀹撳棛锟芥鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏂炲懐纾芥慨妯跨簿婵娊鏌ｉ姀鐘冲暈闁抽攱鍨块弻鐔虹矙閹稿孩宕崇紓浣哄У閹稿濡甸崟顖涙櫆閻犲洩灏欐禒顖滅磽娓氬洤鏋涙い顓犲厴楠炲啴鎮滈挊澶岀枃婵犵數濮撮崐鑽ょ矓濞差亝鐓涘ù锝囨嚀婵秶锟借娲栧畷顒勫煝鎼淬劌绠涙い鎾跺仦濞呫垽姊绘担钘夊惞闁稿鍋熼崰濠傤吋閸ャ劌搴婇梺鍓插亝缁诲秴顭囬弽顐ょ＝濞达綀鍋傞幋鐐插灁闁圭虎鍠楅悡鐔兼煟閺冨倸甯跺ù婊�鍗抽弻娑㈠Χ閸滀礁鍓伴梺瀹狀潐閸ㄥ潡骞冨▎鎴嫹閸偅鍋犻柛瀣仱濮婃椽宕崟顒�娅ф繝鐢靛剳閹风兘姊虹紒妯圭繁闁哥姵绋撶划璇测槈濡攱顫嶅┑鐐叉閸ㄩ潧顕ｉ幎鑺モ拺閻犲洦褰冮崵杈╃磽瀹ュ懏顥㈢�规洘绮岄埥澶愬閳ュ啿澧鹃梻浣稿閸嬩線宕曢弻銉ョ厱闁硅揪闄勯崑锝夋煙椤撶喎绗掑┑鈥炽偢閺岋紕锟斤綆浜炶倴缂備浇椴哥敮锟犮�佸▎鎾村仼閻忕偞鍎冲▍姘舵⒒娓氾拷濞佳兾涢弮鍌涱偨婵﹩鍓﹂崵鏇熴亜閺囶亝瀚归悗瑙勬礈閸樠囧煘閹寸媴鎷烽敐搴濈凹闁哄棭浜滈埞鎴︽偐閸偅姣勬繝鐢靛剳閹峰嘲鈹戦悙鏉垮皟闁搞儯鍔屾禍鍗炩攽閻樿宸ラ柣妤�妫涢幉鎾晝閸屾稓鍘卞┑鐐村灥瀹曨剟寮搁妶鍥╃＜闁宠棄鎳忕�氬湱绱撻崒娆戭槮濠⒀嗗Г閺呰泛螖閸曨剚鍣峰┑锛勫亼閸娿倝宕戦崟顖涙櫇妞ゅ繐鐗嗛拑鐔哥箾閹存瑥鐏╅幆鐔兼⒑閹稿孩绌块柟椋庡厴閺屽秶绱掑Ο鑽ゎ槶闂佽法鍠庨敓鐣屽櫏濞兼劖绻涢崣澹濐亞鍙呴梺缁樻閺呰尙鎹㈤崱娑欑厱妞ゆ劧绲剧粈锟介梺缁樺姇閿曘儵濡甸崟顔剧杸闁规儳纾ぐ鍛存⒑閻愯棄鍔滈柡瀣偢瀵劑鎳為妷锝勭盎闂佸搫鍠涢幏鐑芥煛鐎ｎ剛甯涚紒妤冨枎閳藉濮�閿涘嫬骞堥梻濠庡亜濞诧箓寮搁崒鐑嗘晜闁告洦鍋嗛妶顐︽⒒閸屾瑧顦﹀鐟帮躬瀹曟垶绗熼敓钘夌暦閺囥垹钃熼柕澶涚畱娴滄姊洪棃娑辨Т闁哄懏绮撻幃锟犳偄閸忚偐鍘搁梺鎼炲劗閺呮稒绂掑鍫熺叆闁绘梻绮ˉ澶嬬節閿熶粙鏌嗗鍡樻闂佸吋浜介崕鎶藉疮閺屻儲鐓欓柛鎴欏�栫�氾拷? by changhao
				if (c2 == null)
				{
					String srcname = xtable.Properties.selectRolename(roleid);
					String targetname = xtable.Properties.selectRolename(targetid);
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ") " + srcname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + targetid + ") " + targetname + " 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告梹鎮傚鍝勑ч崶褝鎷峰┑鍫笉闁哄稁鍘奸拑鐔猴拷骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰鎮肩紒杈ㄦ尰閹峰懘鎮烽弶娆炬綌婵＄偑鍊戦崝灞轿涘▎鎴犵煔閺夊牄鍔庣弧锟介梺鎼炲労閻忔稖顦归柡灞剧☉閳藉宕￠悙瀵镐邯婵犵數鍋涢幊宀勫磹濠靛棭娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告挻婢橀—鍐Χ韫囨搩娲梺杞版祰椤曆囶敋閿濆棛绡�婵﹩鍎甸埡鍛厪濠㈣泛鐗嗛悘顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佹兜閸洖绀堟繝闈涱儐閺呮繈鏌嶆潪鎵婵炴垯鍨瑰洿婵犮垼娉涢鍌炲箯濞差亝鍊甸悷娆忓缁�锟藉┑鐐茬湴閸斿酣寮灏栨婵炲棙鍔曞鎸庣節閻㈤潧孝闁稿妫濋幃鈩冪附閸涘﹦鍘告繛杈剧秬椤鐣峰畝鍕厵缂佸灏呴弨鑽わ拷鍨緲鐎氼剟鎮惧┑瀣櫢濞寸姴顑呭Ч鍙夌箾閹存瑥鐏柍閿嬪灩缁辨帞锟斤綆浜濋崑銉╂煕濞嗗繐顏╅棁澶嬬節婵犲倸鏆熼柛鈺嬬秮閺岋絽鈽夐崡鐐寸亶缂備胶绮换鍫濈暦閵娾晩鏁嶆繝濠傚缁额偄鈹戦悩鍨毄闁稿鍋ゅ畷褰掑醇閺囩喎娈為梺纭咁潐閸旀垶绂嶈ぐ鎺撶厱闁斥晛鍠氬▓銏＄箾閹炬剚鐓奸柡灞炬礋瀹曠厧鈹戦崶鑸殿棧缂傚倷鐒﹂〃鍡欐暜閿熺姴绠栨俊銈忔嫹妞ゎ偅绻堥幃鈩冩償閿涘嫮娼夐梻鍌欐祰椤曟牠宕伴幒妤佹櫢闁兼亽鍎查悘閬嶆煛鐎ｎ亪鍙勯柡宀�鍠栭幃娆擃敆娴ｈ櫣鈻忛梻浣芥硶閸犳洖螞閸曨垱鍊舵慨妯块哺瀹曞弶绻涢幋娆忕仼缂佺媴缍侀弻锝夊箛椤掑倷绮甸梺鍝ュУ缁嬫垿鍩為幋锕�鐓￠柛鈩冦仦缁ㄦ挳姊洪崨濠冪叆缂佸顫夋穱濠囨偨缁嬭法顦板銈嗘煥婢т粙寮堕幖浣光拺闁革富鍘兼禍楣冩煕閹惧顣茬紒鍌涘浮閺屽棗顓奸崱蹇斿闂備胶绮懝楣冩偤閵娧嶆嫹濮橆剛绉烘慨濠冩そ楠炴劖鎯旈姀銏╂К闂備胶顭堥敃銈囩礊婵犲洤绠栭柨鐔哄Т鍞梺鍐叉惈閸婂宕㈡禒瀣拺闁告繂瀚婵嬫煕鐎ｎ偆娲撮柡浣规崌閹稿﹥寰勭�ｎ厾顢呴梻浣芥硶閸犳洘鎱ㄩ妶澶嬪亜妞ゆ帒瀚粻顖炴煥閻曞倹瀚�");

					return false;
				}
				
				if (!c1.equals(c2)) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻樻爠鍥╁彄闁搞儯鍔嶉悡銉︺亜韫囨碍纭鹃柍瑙勫灴椤㈡瑩鎯岄顐＄盎闁伙絿鍏橀、妤呭礋椤愩垹浜堕梺璇叉捣閺佽顭囨繝姘濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔诲枛椤啴濡舵惔鈥茬盎濡炪倧绠撴禍鍫曞极閹惧顩烽悗锝庡亝闁款參姊洪棃娑氬ⅱ妞ゎ厼鐗撻、姘舵晲婢跺﹪鍞堕梺鍝勬川閸嬬喖顢樺ú顏呪拺缂備焦鈼ら鍫熷�舵慨姗嗗劮閹烘挻鍎熼柕蹇嬪灮閻﹀牓姊哄Ч鍥х伈婵炰匠鍕浄闁挎洖鍊归悡娆戠磼鐎ｎ偒鍎ラ柣鎾炽偢閺岀喖顢欓崫鍕紙濡炪們鍨洪〃濠傜暦閻旂⒈鏁冮柕鍫濋閺佸憡绻濈喊澶岀？闁稿鐩、鏍川閺夋垹顦╂繛瀵稿Т椤戝懐绮婚姘兼富閻庯綆浜滈銏ゆ煕閻樺弶顥㈤柡灞剧洴瀵挳濡搁妷銉骄婵＄偑鍊х�靛矂宕ｉ崘顭戞綎闁惧繐婀遍惌娆撴偣閹帒濡挎い鏂款樀閺岋箓宕橀妸銉ㄥ煘闁兼寧鍔欓弻娑㈠Ψ閹存繄啸闁告凹鍋勮灃闁绘﹢娼ф禒锕傛煟濡や緡娈滄鐐茬箻瀹曘劎锟芥稒锚濞堟劕鈹戦悩缁樻锭閻庢凹鍓氶幈銊╁磼閻愬鍘搁柣蹇曞仩椤曆勬叏閸屾粣鎷峰▓鍨灍闁瑰憡濞婇妴渚�寮崼婵嗙獩濡炪倖鎸嗛崒婊冾槱闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊瑜夐弸鏍煛閸ャ儱鐏╃紒鎰殜閺岋繝宕堕埡渚婃嫹閿濆應妲堥柕蹇曞Х椤︽澘顪冮妶鍡楀闁稿﹥鐗曢埢鎾诲箚瑜滃〒濠氭煏閸繃顥滅紒妤佸浮閹顫濋悡搴♀拫闂佽鍣换婵嬪垂妤ｅ啫绠涘ù锝呮惈閺佹悂姊绘担绋挎倯闁诡喖鍊搁…鍥槼闁逛究鍔戝畷濂稿Ψ閿旀儳骞愰梻浣告啞娓氭宕板Δ鍛９闁规壆澧楅悡娑㈡倶閻愰鍤欏┑顔煎�块弻鐔碱敊閸濆嫸鎷峰┑鍡欐殾闁圭儤鍨熷Σ鍫熸叏濡わ拷濡梻妲愰敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆欑穿闂備浇娉曢崰鎰板几閼姐倗涓嶉柟鎯х－閺嗭箓鏌ｉ幘鍐茬槰闁绘柨妫欑换婵嬫濞戞艾顤�闂佹悶鍊ч幏閿嬩繆閻愵亜锟姐倝宕戦崨顖涘床闁告洦鍨扮粻鏌ユ煕閺囥劌鐏￠柟顖滃仱閹綊宕堕敐鍛拤閻炴皜鍕瘈闁汇垽娼у暩闂佽桨鐒﹂幃鍌氱暦閹达附鍊烽柛婵嗗閻庮參姊洪崨濠冨矮缂侊拷娓氾拷瀵悂宕奸～顔藉妤犵偛鐏濋崝姘亜瑜濋幏椋庣磽閸屾氨校闁绘濞�瀵鏁撻悩鑼�為梺宕囧皑閹烽绱掗崡鐐碉紞闁瑰弶鎮傞幃褔宕煎┑鍫㈡噯缂傚倷绶ら幏鐑芥煕瀹�锟介崑鐐烘偂閺囥垻鍙撻柛銉ｅ姀婢规ê霉濠婂啯璐＄紒杈ㄥ笧閿熸枻缍嗘禍婵嗩啅濠靛牏纾奸弶鍫涘妽鐏忎即鏌熷畡鐗堝殗鐎规洦鍋婂畷鐔哄枈婢跺顏堕梺瑙勫劤婢у海澹曟總鍛婄厸閻忕偠顕ч崝銈夋煟閿濆洤鍔嬫い銊ｅ劦閹瑩鎳犻锟介埅鍨節绾版ê澧查柟顔煎�规穱濠囨煥鐎ｎ偄鍔呴梺闈涚箚濡狙囧箯婵犳碍鈷戦悹鎭掑妼閺嬫垿鏌＄�ｎ厼鍚圭紒杈╁仱瀹曞崬鈽夊Ο纭风幢闂備礁鎲″ú锕傚垂婵傜鏋侀柛宀�鍋為悡鏇熴亜閹板墎绋荤紒锟介崘顔界厓闂佸灝顑呯粭鎺楁煏閸℃ê绗掓い顐ｇ箞閹瑩顢楅敓浠嬵敂閼哥數绡�闁汇垽娼ф禒鈺侇熆閻熸壆澧曢柣锝囧厴閹粙宕归顐ｇ稐闂備胶绮崝鏇㈠箹椤愶附鍊峰┑鐘插暔娴滄粓鏌熼搹鐟颁沪閻庢艾婀辩槐鎾存媴閸濆嫷锟藉矂鏌涢妸銉у煟鐎殿喖顭锋俊鎼佸煛閸屾矮绨介梻浣侯焾閺堫剛绮欓幋锔绘晜闁跨噦鎷� by changhao
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬锟界痪褔鏌ｉ妶鍛伃婵﹦绮幏鍛存惞閻熸壆顐奸梻浣告啞濡垹绮婚幘宕囨殾婵犲﹤鍟犲Σ鍫ユ煏韫囧﹥顎嗛柟绋垮暣濮婃椽宕ㄦ繝鍐槱闂佹悶鍔戞禍鍫曞箖閳ユ枼妲堥柕蹇ョ磿閸橀亶姊虹憴鍕棎闁哄懏绋掓穱濠冪附閸涘﹦鍙嗛梺缁樻⒒缁垶藟婢跺浜滄い鎾跺仜濡插鏌ｉ敐鍥у幋闁搞劑绠栭獮鍥ㄦ媴閻熸澘鍘為梻鍌欒兌閸樠囧箺濠婂牆鏋侀柟闂寸閸屻劑鏌ｉ姀銏℃毄缁惧彞绮欓弻娑氫沪閸撗勫櫚濠碘�冲⒔閸忔﹢寮诲☉銏犖╅柕澹憛銊╂倵濞堝灝鏋ゆい顓炵墦閸┿儲寰勬繝搴㈠兊闁哄鐗冮弲顏嗘閺屻儲鈷掑ù锝堝Г绾爼鏌涢悩鑼ら柛鎺撳笒閳诲氦绠涢弴鐔割啎闂備礁婀遍崕銈夊垂閻旇偤锝夊醇閵夛妇鍘搁悗骞垮劚缁绘劙銆呴鍕厽闁宠桨绶氶崣鍕叏婵犲嫮甯涢柟宄版噺缁楃喖顢涘☉娆愭闂傚倷娴囬～澶婎渻閹稿海顩查柣鎰▕閸ゆ鈹戦悩鍙夋悙缂侊拷閸垺鍠愰幖娣妼缁�鍌涚節婵犲倻澧涢柣鎾存礋閺岀喖骞戦幇顒冩暱闂佺绻愰惉濂告儉椤忓牆绠氱憸瀣磻閵忋倖鐓涚�癸拷閿熶粙宕伴弽顓犲祦闊洦娲戝▽顏堟煟閿濆懓瀚伴悽顖氭健濮婅櫣鎷犻幓鎺濆妷闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹");
					return false;
				}
				
				xbean.EClanFightStatistics statistics1 = xtable.Roleid2clanfightstatistics.select(roleid);
				if (statistics1 == null)
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕宠缁辨挻鎷呯粙娆炬殺闂佺顑冮崐婵嗩嚕鐠囨祴妲堥柕蹇曞閵婏负浜滈柡鍐ㄥ�哥敮鑸点亜椤愮喐娅囩紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀佹竟濠囧磻閸℃稑绐楅柟鎹愭硾婵剟鏌ㄩ悢鍓佺煓婵﹤顭峰畷鎺戭潩閸楃儐鏉哥紓鍌欑椤戝棛鏁敓鐘叉瀬鐎广儱顦猾宥夋煕椤愩倕鏋旈柛姗�绠栧娲传閸曞灚歇濠电偛顦板ú妯肩矉閹烘顫呴柕鍫濇閸橆亪姊虹化鏇炲⒉闁挎氨绱掑Δ浣哥瑲闁靛洤瀚伴、鏇㈡晲閸モ晝鏉介梻浣筋嚃閸犳鎮烽埡鍛拷浣肝旈崨顔芥婵炲濮撮鎰板极閸岀偞鐓曟い鎰剁稻缁�鍐煟閹捐泛鏋涙鐐寸墪鑿愭い鎺炴嫹闁绘帗妞介弻娑㈡偄妞嬪海顔掗梺鍝勬湰閻╊垶寮幇顓熷劅闁斥晛鍟拌ぐ搴ㄦ煟鎼淬値娼愭繛鍙夛耿瀹曞綊宕滄担鐟板簥濠电娀娼ч鍛存倷婵犲嫭鍠愰煫鍥ㄧ♁閸嬧晜绻涘顔荤凹闁稿鍓濈换婵囩節閸屾凹浠鹃梺缁樻尪閸庣敻寮婚敐澶嬫櫜闁搞儜鍐ㄧ闂備浇顕栭崰鎺楀礈濠靛绠氶柡鍌濐嚦閻旇櫣纾兼俊顖滅帛缁额偊姊婚崒姘拷椋庣矆娴ｅ湱鐝跺┑鐘叉搐绾惧鏌涘☉鍗炵仯闁活厽鐟╅弻鐔猴拷鐢殿焾娴犙勩亜閳哄倻鍙�闁哄矉绲借灃闁跨喍绮欓幃褑绠涢弴鐐残氶梺璺ㄥ枍缁瑥顫忛崫鍕懷囧炊瑜忔导鍫濃攽閻愭澘灏冮柛銉戝拋妲堕柣搴ゎ潐濞叉牕煤閵娧冾棜濠靛倸鎲￠悡鐘绘煠鐟欏嫭绶查柣鎾村姈閵囧嫰濡烽妷顔解枅闂佽鍣换婵囦繆閼搁潧绶為悗锝庡墮楠炴绻濈喊妯活潑闁搞劑浜堕、鏍р枎閹惧啿鎯炲┑鐐叉閸ㄥ湱澹曟總鍛婄叆闁绘柨澧庨惌娆戯拷瑙勬礀閵堟悂骞冮姀銈嗘優闁革富鍘介～宀勬⒒閸屾艾锟芥悂宕愰幖浣瑰亱濠电姴瀚惌娆撴煙閻戞﹩娈旂紒鐘茬秺閺岀喖鏌囬敃锟介獮鎴澝瑰鍕煉闁哄矉绻濆畷鍫曟嚋閻㈢數鐛㈤梻浣筋潐閻擄紕绮婚弽顓炶摕闁挎稑瀚▽顏堟偣閸ャ劌绲绘い顐㈡喘濮婅櫣鎷犻垾铏亖闂佺锕ョ换鍌炴偩閻戣棄绠抽柟瀛樻⒐椤秴鈹戦绛嬫當婵☆偅姊诲Σ鎰版晸閿燂拷");
					return false;
				}
				
				xbean.EClanFightStatistics statistics2 = xtable.Roleid2clanfightstatistics.select(targetid);
				if (statistics2 == null)
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + targetid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告梹鎮傚鍝勑ч崶褝鎷峰┑鍫笉闁哄稁鍘奸拑鐔猴拷骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰鎮肩紒杈ㄦ尰閹峰懘鎮烽弶娆炬綌婵＄偑鍊戦崝灞轿涘▎鎴犵煔閺夊牄鍔庣弧锟介梺鎼炲労閻忔稖顦归柡灞剧☉閳藉宕￠悙瀵镐邯婵犵數鍋涢幊宀勫磹濠靛棭娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告挻婢橀—鍐Χ韫囨搩娲梺杞版祰椤曆囶敋閿濆棛绡�婵﹩鍎甸埡鍛厪濠㈣泛鐗嗛悘顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佹兜閸洖绀堟繝闈涱儐閺咁亝绻濋悽闈涗粶闁瑰啿绻掗幑銏ゅ醇濠垫劖缍庡┑鐐叉▕娴滄粍瀵奸悩缁樼厱闁哄洢鍔岄獮姗�鏌涢弬鎸庤础缂佽鲸鎸婚幏鍛村传閸曟埊缍侀弻鐔兼偡閻楀牊鎮欏銈嗘穿缁插潡骞忛悩宸晠妞ゆ柨鍚嬮崐顖氣攽閻橆喖鐏辨繛澶嬬洴閺佸啴鏁冮崒姘亶闂佸憡绋戦敃锔剧不妤ｅ啫绾ч柛顐ｇ箓閳锋棃鏌涢幒宥呭祮闁哄瞼鍠庨湁閻庯綀鍩栫�氬綊鏌￠崒妯哄姕闁诲繋绶氬娲嚃閳圭偓瀚涢梺鍛婃尰缁嬫挻绔熼弴銏″癄濠㈣绻傜紞濠囧极閹版澘宸濇い鏃囨閸撶敻姊洪崫鍕枌缂佺粯绻堝濠氭晲婢跺娼婇梺瀹犳〃閼宠埖瀵奸崼銏㈢＝濞达綀娅ｇ敮娑氱磼鐠囨彃锟藉潡銆佸鑸垫櫜闁糕剝鐟ч惁鍫濃攽椤旀枻渚涢柛鎾寸洴瀹曟繈骞橀瑙ｆ嫼闂佸憡绋戦敃銈嗘叏閿熶粙姊洪崫鍕櫤闁烩晩鍨堕妴渚�骞樼拠鑼啋缂傚倷鐒﹁彜闁归攱妞藉娲川婵犲嫧妲堥梺鎸庢穿婵″洨鍒掓繝姘缂備焦锚閿熻棄鐏氶幈銊ノ熼崫鍕煘闂佸憡锚椤曨參鏁撻懞銉晱闁哥姵顨嗙换娑欑節閸ャ儻鎷锋担鍓叉建闁跨喕濮ら幈銊╂晸娴犲鐓冮柕澹苯濮曢梺褰掝棑閸忔﹢骞冩禒瀣窛濠电姴鍊烽悽缁樼節閻㈤潧浠滄俊顐ｎ殘閹广垽骞囬柇锔芥櫆濡炪倕绻愰悧濠囧磹閸洜鍙撻柛銉╊棑閸掓澘霉濠婏拷閸楁娊寮婚垾宕囨殕閻庯綆鍓涜ⅵ婵°倗濮烽崑鐐垫暜閿熺姴绠栨繛鍡楁禋閸熷懏銇勯弮鍥棄闁哄濮风槐鎾诲磼濮橆剨鎷锋搴㈩偨闁跨喓濮寸粣妤佷繆閵堝繑瀚归梺浼欑稻缁诲牓鐛弽銊﹀婵繂鏈幉浼存⒒娴ｈ櫣銆婇柛鎾寸箞閵嗗啳绠涘☉妯啃曢柣搴秵閸犳鎮￠弴鐔虹闁瑰瓨绻傞懜褰掓煟韫囨洖孝闁宠鍨块、娆撴嚃閳轰胶鍘芥繝娈垮枛閿曪妇鍒掗鐐茬闁告稒娼欏婵嗏攽閻樻彃锟界懓鈻撳锟藉缁樻媴閸涘﹤鏆堥梺鐟扮毞閺呯姴鐣峰鍫熷亜濡炲瀛╁▓楣冩⒑闂堟单鍫ュ疾閳哄懎鏋佺�广儱顦伴悡銉︾節闂堟稒顥為柣鎿勬嫹闂備浇娉曢崳锕傚箯閿燂拷");
					return false;
				}
				
				if (cur < statistics2.getLastlosestamp() + 10 * 1000)
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 410062, null);
					return false;
				}
				
				if (statistics2.getAct() <= 0)
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告梹鎮傚鍝勑ч崶褝鎷峰┑鍫笉闁哄稁鍘奸拑鐔猴拷骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰鎮肩紒杈ㄦ尰閹峰懘鎮烽弶娆炬綌婵＄偑鍊戦崝灞轿涘▎鎴犵煔閺夊牄鍔庣弧锟介梺鎼炲労閻忔稖顦归柡灞剧☉閳藉宕￠悙瀵镐邯婵犵數鍋涢幊宀勫磹濠靛棭娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告挻婢橀—鍐Χ韫囨搩娲梺杞版祰椤曆囶敋閿濆棛绡�婵﹩鍎甸埡鍛厪濠㈣泛鐗嗛悘顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佹兜閸洖绀堟繝闈涱儐閺咁亝绻濋悽闈涗粶闁瑰啿绻掗幑銏ゅ醇濠垫劖缍庡┑鐐叉▕娴滄粍瀵奸悩缁樼厱闁哄洢鍔岄獮姗�鏌涢弬鎸庤础缂佽鲸鎸婚幏鍛村传閸曟埊缍侀弻鐔兼偡閻楀牊鎮欏銈嗘穿缁插潡骞忛悩宸晠妞ゆ柨鍚嬮崐顖氣攽閻橆喖鐏辨繛澶嬬洴閺佸啴鏁冮崒姘亶闂佸憡绋戦敃锔剧不妤ｅ啫绾ч柛顐ｇ箓閳锋棃鏌涢幒宥呭祮闁哄瞼鍠庨湁閻庯綀鍩栫�氬綊鏌￠崒妯哄姕闁诲繋绶氬娲嚃閳圭偓瀚涢梺鍛婃尰缁嬫挻绔熼弴銏″癄濠㈣绻傜紞濠囧极閹版澘宸濇い鏃囨閸撶敻姊洪崫鍕枌缂佺粯绻堝濠氭晲婢跺娼婇梺瀹犳〃閼宠埖瀵奸崼銏㈢＝濞达綀娅ｇ敮娑氱磼鐠囪尙澧﹂柟顔诲嵆椤㈡岸鏁撻挊澶屾殾婵鎷锋い銏℃瀹曘劑顢橀悪鍛闂傚倷娴囧畷鐢稿磻閻愮數鐭欓柛顐犲劚缁�鍫熺節闂堟侗鍎滅紓宥嗙墱閿熻棄绠嶉崕閬嶅箠婢舵劕缁╁ù鐘差儐閻撳啴鏌﹀Ο渚Ч妞ゃ儲绮撻弻锝堢疀閺囩偐鏋呴梺鍝勭焿缂嶏拷缂佺姵鐩顕�宕掑鍛緰濠碉紕鍋戦崐鎴﹀垂閸濆嫀娑㈠礃椤旂尨鎷锋担鍓叉建闁跨喍绮欓獮鍐閵堝棙鍎梺闈╁瘜閸樹粙锝炵仦瑙ｆ斀闁绘ê鐏氶弳鈺呮煕鐎ｎ偆娲撮柟顔ㄥ洤骞㈡繛鎴炵懃閿熷�熷煐缁绘繈妫冨☉鍗炲壈闂佸憡鍨规繛锟介柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻锝夊箻鐎靛憡鍒涢梺鍝勬湰缁嬫垿鍩ユ径鎰闁绘劕鍚�閸濇鏌ｆ惔銏⑩檨缂佽鐗嗛～蹇涙倻濡警鍤ゅ┑鐐叉閸ㄥ爼宕戣濮婅櫣绮欑捄銊ь唹闂佹寧娲忛崹褰掝敋閿濆鏁冮柨鏇嫹缂佺姾宕电槐鎾存媴閼测剝鍨甸埢宥夊閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷? ");
					return false;
				}
				
				if (statistics1.getAct() < fire.pb.activity.clanfight.ActivityClanFightManager.ATTACK_SUB_ACT)
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 410056, null);
					return false;
				}
				
				int which1 = -1;
				int which2 = -1;
				fire.pb.clan.fight.ClanFightBattleField bf1 = fire.pb.clan.fight.ClanFightFactory.getClanFightBattleField(c1, true);
				if (bf1 == null)
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮诲☉姘炬嫹閿濆啫濡奸柨鐔诲Г缁诲牆顕ｆ繝姘嵆闁绘棁娅ｉ鏇㈡⒑缂佹ê濮﹂柛鎾村哺閹敻寮撮姀鈾�鎷洪梺鍛婄箓鐎氼厽鍒婇悡骞熺懓顭ㄩ崟顓犵暭闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�婵炴挻纰嶉〃鍛粹�﹂崶褜娼╅柤鎼佹涧閿熻棄鐏氶〃銉╂倷閼碱兛铏庨梺鍛婃⒐绾板秵绌辨繝鍥舵晝闁挎繂瀛╅悿浣割渻閵堝啫鐏俊顐㈠暣楠炲﹤顭ㄩ崼鐔蜂缓闂佹眹鍨婚弫绋课ｉ崶顒佲拻濞达絽婀卞﹢浠嬫煕閵娿劍顥夋い顓炴穿椤﹀磭绱掗崒娑樻诞闁轰礁鍟村畷鎺戔槈濮橆剙绠為梻鍌欑窔濞佳団�﹂崼銉ョ？闁规儼妫勯弰銉╂煥濠靛棙锛嶆繛鍫滅矙閺岋綁骞囬鐔虹▏婵犳鍠栫粔鍫曟晸閸婄噥娼愭繛璇х畵瀹曟垶绻濋崘褏绠氶梺姹囧�ら崹鐓幬ｆィ鍐┾拺缂備焦蓱鐏忣厽銇勯幋婵愭Ц妞ゎ偄绻愮叅妞ゅ繐瀚畵宥咁渻閵堝棙灏ㄩ柛鎾寸箞椤㈡挸螖閸涱喒鎷洪梺鍛婄缚閸庤鲸鐗庢俊鐐�戦崝宀勬晝閵堝鍋╅柣鎴ｆ缁狅綁鏌ㄩ弴顏呭闁搞儱鐡ㄧ换婵嬪閿濆棛銆愬銈嗗灥濞差厼鐣烽姀銈庢晜闁告侗鍨抽惁鍫ユ⒑濮瑰洤鐏叉繛浣冲嫮顩风憸鏃堝蓟濞戞熬鎷烽敐搴′簼閻忓浚鍙冮弻宥囨嫚閼碱儷褏锟借娲忛崝搴ㄦ晸閼恒儳鈾佹い顓炴喘瀹曘垽鎮介崨濞炬嫼闁荤姴顑呮鎼佸疮椤栫偛鐤柣鎰劋閸婂灚鎱ㄥΟ鐓庝壕閻庢熬鎷�?");
					return false;
				}
				
				which1 = bf1.getSideByRoleId(roleid);
				
				fire.pb.clan.fight.ClanFightBattleField bf2 = fire.pb.clan.fight.ClanFightFactory.getClanFightBattleField(c2, true);
				if (bf2 == null)
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍х暦濠婂棭妲鹃柣銏╁灡閻╊垶寮诲☉姘炬嫹閿濆啫濡奸柨鐔诲Г缁诲牆顕ｆ繝姘嵆闁绘棁娅ｉ鏇㈡⒑缂佹ê濮﹂柛鎾村哺閹敻寮撮姀鈾�鎷洪梺鍛婄箓鐎氼厽鍒婇悡骞熺懓顭ㄩ崟顓犵暭闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�婵炴挻纰嶉〃鍛粹�﹂崶褜娼╅柤鎼佹涧閿熻棄鐏氶〃銉╂倷閼碱兛铏庨梺鍛婃⒐绾板秵绌辨繝鍥舵晝闁挎繂瀛╅悿浣割渻閵堝啫鐏俊顐㈠暣楠炲﹤顭ㄩ崼鐔蜂缓闂佹眹鍨婚弫绋课ｉ崶顒佲拻濞达絽婀卞﹢浠嬫煕閵娿劍顥夋い顓炴穿椤﹀磭绱掗崒娑樻诞闁轰礁鍟村畷鎺戔槈濮橆剙绠為梻鍌欑窔濞佳団�﹂崼銉ョ？闁规儼妫勯弰銉╂煥濠靛棙锛嶆繛鍫滅矙閺岋綁骞囬鐔虹▏婵犳鍠栫粔鍫曟晸閸婄噥娼愭繛璇х畵瀹曟垶绻濋崘褏绠氶梺姹囧�ら崹鐓幬ｆィ鍐┾拺缂備焦蓱鐏忣厽銇勯幋婵愭Ц妞ゎ偄绻愮叅妞ゅ繐瀚畵宥咁渻閵堝棙灏ㄩ柛鎾寸箞椤㈡挸螖閸涱喒鎷洪梺鍛婄缚閸庤鲸鐗庢俊鐐�戦崝宀勬晝閵堝鍋╅柣鎴ｆ缁狅綁鏌ㄩ弴顏呭闁搞儱鐡ㄧ换婵嬪閿濆棛銆愬銈嗗灥濞差厼鐣烽姀銈庢晜闁告侗鍨抽惁鍫ユ⒑濮瑰洤鐏叉繛浣冲嫮顩风憸鏃堝蓟濞戞熬鎷烽敐搴′簼閻忓浚鍙冮弻宥囨嫚閼碱儷褏锟借娲忛崝搴ㄦ晸閼恒儳鈾佹い顓炴喘瀹曘垽鎮介崨濞炬嫼闁荤姴顑呮鎼佸疮椤栫偛鐤柣鎰劋閸婂灚鎱ㄥΟ鐓庝壕閻庢熬鎷�?");
					return false;
				}
				
				which2 = bf2.getSideByRoleId(targetid);
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呭銈嗘⒐閸ㄦ繂顫濋敃鍌涒拻闁稿本鑹鹃敓浠嬵棑缁牊绗熼敓浠嬬嵁婢舵劖鏅搁柣妯哄暱娴狀參姊洪棃娑辨Т闁哄懏绮撳鎻掆攽鐎ｎ偆鍘繝銏ｆ硾濡瑥鈻嶉崨顓ф禆闁告稑鐡ㄩ埛鎴︽煕濞戞﹫鏀诲璺哄閺屾盯濡搁妶鍛ギ閻庤娲橀敃銏ゅ极閹惧顩烽悗锝庡亐閹锋椽姊婚崒姘卞濞戞挾鎳撻埥澶婎潩椤愶絽濯伴梻浣虹帛閸旓箓宕滈敃鍌氱柈闁搞儺鍓氶埛鎺楁煕鐏炴崘澹橀柨鐔烘櫕閸忔﹢骞婂Δ鍛唶闁哄洦顨愰幏鐑芥晝閸屾岸鍞堕梺缁樻磻閻掞箓顢欓弮鍫熲拺鐟滅増甯楅敍鐔兼煟閹虹偟鐣电�殿喗褰冮埞鎴﹀炊閵夈倗鐩庨梻濠庡亜濞诧箓骞愰悙顒佹珷闁哄洢鍨洪悡銏ゆ煕閹板吀绨婚柡瀣洴閺岋紕浠︾拠鎻掝潎闂佽鍠撻崹钘夌暦椤愶箑绀嬮柟瀛樼懃閻忣喚绱掓潏銊ユ诞闁轰焦鎹囬幃鎯х暆鐎ｎ偄顏堕梺鎸庣箓妤犳悂寮搁悢鍏肩厓闂佸灝顑呭ù顕�鏌＄仦鍓ф创妞ゃ垺娲熸俊鍫曞川椤斿彞绨撮梻鍌欑窔濞佳兾涘▎鎴炴殰闁圭儤顨嗙粻鎺楁⒒娴ｈ櫣甯涢柨鏇楁櫊瀹曟垿宕ㄩ娑欑�洪梺鍛婁緱閸犳挻绂嶅鍕╀簻闊洦鎸搁鈺呮煛閸☆厾鍒伴柍瑙勫灴閸ㄦ儳鐣烽崶褏鍘介柣搴ゎ潐濞叉牕鐣烽鍐航濠电偞鎸婚崙褰掑垂鏉堫偀鍚�闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偞顨呴…銊╁礋椤掞拷瀵潡姊婚崒姘卞濞撴碍顨呴…鍥煛閸涱喚鍘繝鐢靛仧閸嬫挸鈻嶉崨顖滅＜闁跨喍绮欏畷鍗炩槈濞嗘垵骞嶉梻浣虹帛閸ㄥ爼鏁冮埡浣叉灁闁哄洢鍨洪悡娑㈡煕濞戝崬鏋熼柛濠冨姍閺岋紕浠︾拠鎻掝潎闂佽鍠撻崐婵嗙暦閹烘垟妲堟慨妤�妫旂槐锟�? by changhao
				if (!(which1 == 0 && which2 == 1) && !(which1 == 1 && which2 == 0))
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告梹鎮傚鍝勑ч崶褝鎷峰┑鍫笉闁哄稁鍘奸拑鐔猴拷骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰鎮肩紒杈ㄦ尰閹峰懘鎮烽弶娆炬綌婵＄偑鍊戦崝灞轿涘▎鎴犵煔閺夊牄鍔庣弧锟介梺鎼炲労閻忔稖顦归柡灞剧☉閳藉宕￠悙瀵镐邯婵犵數鍋涢幊宀勫磹濠靛棭娼栭柧蹇撴贡閻瑦绻涢崱妯哄姢闁告挻婢橀—鍐Χ韫囨搩娲梺杞版祰椤曆囶敋閿濆棛绡�婵﹩鍎甸埡鍛厪濠㈣泛鐗嗛悘顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佹兜鐠轰警鐎剁憸鏂款嚕閹绘帩鐓ラ柛鏇ㄥ墯閻濓繝姊婚崒姘拷鎼佸磹閻戣姤鍊块柨鏃傛櫕缁犳儳鈹戦悩鍙夋悙缂備讲鏅犲娲敆閿熺晫绮旂�靛摜涓嶅ù鐓庣摠閻撴瑩姊婚崒姘煎殶闁告柨绉剁槐鎺楁偐閸愬弶璇炲┑顔硷功缁垶骞忛崨瀛樺仭闂侇叏绠戝▓婵堢磽閸屾瑦绁版い鏇嗗洤纾归柛褎顨堝畵浣糕攽閻樻彃鏆為柛搴ｅ枛閺屾洘绻涢崹顔煎闁哄鐗嗛悧鎾愁潖閾忓湱纾兼俊顖氭惈椤酣姊虹粙璺ㄦ槀闁稿﹥绻堥獮鍐晸閻樻彃宓嗛梺闈涚箳婵兘顢欓幇顔剧＝濞撴艾娲ら弸锔姐亜椤愩埄妯�闁挎繄鍋炵换婵嬪礃瑜忕粻姘舵⒑閸涘﹦鎳冩い锔垮嵆瀹曟劙骞囬悧鍫㈠幐闁诲繒鍋熼弲顐ｆ櫏闂備礁婀遍…鍫ユ晝閵夈儺鍤楅柛鏇ㄥ�犻悢鍏煎�婚柍鍝勫�婚敓鑺ユ緲閳规垶骞婇柛濠冾殕閹便劑鎮滈挊澶岋紱闂佺粯鍔楅崕銈夊疾椤忓牊鈷掑ù锝夘棑娑撹尙绱掗幓鎺撳仴鐎规洘顨呰灒闁惧繗顫夊▓楣冩⒑閸撴彃浜濇繛鍙夌墵閻涱噣濮�閵堝棛鍘甸梻渚囧弿缁犳垶鏅堕弶妫靛綊鎮╅懡銈囨毇濠殿喖锕ュ钘壩涢崘銊㈡婵炲棙鍔栭崐鐑芥⒑鐠囨彃顒㈢痪鏉跨Т椤灝顫滈敓浠嬨�佸鑸垫櫜濠㈣泛锕﹂鎺戭渻閵堝棙绀�闁瑰啿绻樺鎻掝煥閸啿鎷洪梺鍛婄☉閿曪絿娆㈤柆宥嗙厱婵炲棗绻愰銏ゆ倵闂堟稏鍋㈤柡浣规崌閺佹捇鏁撻敓锟�");
					return false;
				}
				
				if (bf1.getClanfightBean().getState() == xbean.ClanFightBattleField.STATE_CLAN_FIGHT_OVER)
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 410055, null);
					return false;
				}
				
				if (cur > bf1.getClanfightBean().getActivitystarttime() && cur < bf1.getClanfightBean().getActivitypreparetime())
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 410052, null);
					return false;
				}
				
				if (cur < bf1.getClanfightBean().getActivitypreparetime() || cur > bf1.getClanfightBean().getActivityendtime())
				{
					fire.pb.clan.fight.ClanFightBattleField.logger.error("CStartClanFightBattle:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁骞樼紒妯煎幗闂佸搫璇炴担闀愬垝闁诲孩顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�(ID = " + roleid + ")婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｇ拠娴嬫婵☆垶鏀遍弬锟介梻浣告啞濞诧箓宕戦崟顒佸弿闁靛繈鍊栭埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠栭…鐑藉春閸曨垰绀冮柕濞у懐宓侀梻浣筋嚙閸戠晫绱為崱妯碱洸闁绘劕鎼崒銊╂煙閹殿喖顣奸柍閿嬪灴閺屾稖绠涢幘铏�紓浣芥硾瀵墎鎹㈠☉姘厹濡炲娴烽惁鍫ユ倵濞堝灝鏋涙い顓犲厴瀵偊骞囬弶鍨獩濡炪倕绻愰幊鎰版晸閽樺鐓兼慨濠冩そ閹兘鏌囬敃锟藉▓鑸电節濞堝灝鐏遍柛妯兼櫕閿熶粙娼ч妶绋款嚕娴犲鏁囬柣鏂垮级鐎氫粙姊绘担渚劸闁哄牜鍓熼幊婵囥偅閸愨晜娅㈡繛瀵稿Т椤戞劕螞閹寸姷纾兼い鏃囧亹婢ф稓绱掑Δ鍐ㄦ灈闁轰焦鎸荤粋鎺旓拷锝庡墮缁侊箓姊洪崫鍕枆闁告瑥閰ｅ顐﹀礃椤旂晫鍙嗛梺鍝勬祩娴滄繄锟芥艾缍婂鍝勑ч崶褝鎷烽妶澶婄獥婵°倕鎳庢闂佸憡娲﹂崹鎵不濞戙垺鐓曟い鎰剁稻缁�鍐┿亜鎼达紕效婵﹨娅ｇ划娆忊枎閹冨婵＄偑鍊ф俊鍥极鐠囧樊鍤曞┑鐘崇閺呮彃顭跨捄鐚村姛妞ゆ梹甯″娲川婵犲倸顫屽┑鈽嗗灠閿曨亜鐣烽鍕垫晝闁冲灈鏅滈弬锟介梻浣虹帛閸旀牕顭囧▎鎾村�堕柣鏂垮悑閻撴洟鏌曟繛鍨姢缂佸妞介弻锛勪沪鐠囨彃顫囨繝纰橈拷宕囧煟鐎规洟浜跺鎾偐閻㈠灚姣庨梻鍌氬�风欢姘焽瑜旈幃褔宕卞▎鎰簥闂佺懓顕刊鎾箯瀹勯偊娼╂い鎺嶆祰绾拷缂傚倷娴囨ご鎼佸箰閼姐倗绠旈柣鏂挎憸缁★拷闂佸憡鍔﹂悡鍫熷閹剧粯鈷掗柛灞剧懄缁佺増绻涙径瀣鐎规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?");
					return false;
				}
				
				long attackerclanid = 0;
				long hitclanid = 0;
				if (which1 == 0)
				{
					attackerclanid = bf1.getClanfightBean().getClanid1();
					hitclanid = bf1.getClanfightBean().getClanid2();
				}
				else
				{
					attackerclanid = bf1.getClanfightBean().getClanid2();
					hitclanid = bf1.getClanfightBean().getClanid1();
				}
				
				fire.pb.team.Team team = fire.pb.team.TeamManager.selectTeamByRoleId(targetid);
				if (team != null)
				{
					if (team.isNormalMember(targetid)) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閳锋垶銇勯幒鐐村缂備礁顦遍弫濠氬箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫬鏆欓柛濠呭吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｉ搹鍦＜閺夊牄鍔嶇亸顓熴亜閹剧偨鍋㈢�规洦浜畷姗�顢橀悙鏉戝壍婵犲痉鏉匡拷妤佹叏閻戣棄纾绘繛鎴欏灩閻ゎ喗銇勯幇鈺佸姢濞存粈绮欏娲嚒閵堝憛銏＄箾濞村娅囧ù婊咁焾閳诲酣骞嬮悩闈涚闂備胶绮崝妤呭磿閵堝鐓曢柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘嚚鐟邦煥閿熶粙宕￠幎钘夎摕婵炴垯鍨圭粻濠氭倵闂堟稒鍟為柛锛卞喚娓婚柕鍫濇缁岃法绱掗煫顓犵煓闁诡噣绠栭弫鎾绘偐瀹曞洤濮洪梻浣瑰濡礁螞閸曨垱鍎婃繝濠傜墛閳锋帒銆掑鐐濠电偘鍖犻崶銊ヤ罕闂佺硶鍓濋妵鍌氣槈濡攱顫嶅┑鐐叉閸旀牠鎮靛畡閭︽富闁靛牆妫楅柌婊堟煙妞嬪骸鍘撮柡灞炬礋瀹曞崬螣閾忓湱鎳嗘俊鐐�ら崑鍛崲閸儯锟戒礁螣濞嗙偓歇闂備焦鐪归崐鎾舵濮樿泛绠栨俊銈呭暞閸犲棝鏌涢弴銊ュ妞わ负鍔庣槐鎾存媴缁涘娈梺缁橆殕閹告悂顢氶敐澶樻晝闁挎洩鎷风紒鐘差煼閹妫冨☉姗嗘濠电偞娼欑�氫即寮婚敐鍡樺劅妞ゆ牗绮庢牎闂備胶顭堥鍛涘┑鍡欐殾闁靛骏绱曢々鐑芥倵閿濆骸浜愰柟閿嬫そ濮婂宕掑鍗烆杸缂備礁顑嗛幐鍓у垝鐠囧樊娼╅柤鍝ユ暩閸樻悂姊洪崨濠佺繁闁哥姵鑹剧叅闁圭虎鍠楅悡娆愩亜閺冿拷閺嬪鎳撻崸妤佺厸濞达綀顫夊畷宀勬煙椤旇娅呴柣锝囧厴瀹曟儼顦茬紒鐘劚閳规垿鏁嶉崟顐℃澀闂佺锕ラ悧鏇綖韫囨梻绡�婵﹩鍓欓崑宥夋偡濠婂嫭顥堢�殿噮鍋婇獮妯肩磼濡桨鎮ｉ柣搴ｆ閹峰嘲鈹戦悩鎻掝仼濠殿喖銈搁弻锝嗘償閵堝孩缍堥梺鍦焾閹芥粓鏁撻懞銉ь暡婵犮垺锕㈤敐鐐剁疀閹句焦妞介、鏃堝礋椤撗冩暪闂備胶鎳撻崥瀣偩椤忓牆鍨傚┑鐘愁嚟閸ヮ剙唯闁冲搫鍊甸幏铏圭磽娴ｅ壊鍎忛悘蹇撴嚇瀹曟繈鎮㈤幖鐐扮盎濡炪倖鎸鹃崑鐔告櫠閿斿浜滈柕蹇ョ磿閹冲棛绱掗悩宕団槈闁宠棄顦埢搴ㄥ箛椤撗傛埛闂傚倸鍊峰ù鍥р枖閺囥垹闂柨鏇炲�哥粻顖炴煥閻曞倹瀚�? by changhao
					{
						targetid = team.getTeamLeaderId();
					}
				}
				
				if (xtable.Watcherid2battleid.select(targetid) != null)
				{
					new fire.pb.battle.watch.PEndWatchBattle(targetid).call();				
				}
								
				ClanFightEndHandler handler = new ClanFightEndHandler(c1, roleid, targetid, attackerclanid, hitclanid);
				fire.pb.battle.PNewBattle p = new fire.pb.battle.PNewBattle(roleid, targetid, fire.pb.battle.BattleType.BATTLE_CLAN_FIGHT, handler);
				p.call();
				
				return true;
			}
		};
		
		startclanfightbattle.submit();	
	}
	
	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 808534;

	public int getType() {
		return 808534;
	}

	public long targetid; // 目标id by changhao

	public CStartClanFightBattle() {
	}

	public CStartClanFightBattle(long _targetid_) {
		this.targetid = _targetid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(targetid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		targetid = _os_.unmarshal_long();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CStartClanFightBattle) {
			CStartClanFightBattle _o_ = (CStartClanFightBattle)_o1_;
			if (targetid != _o_.targetid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)targetid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(targetid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CStartClanFightBattle _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(targetid - _o_.targetid);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

