
package fire.pb.clan.fight;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CBattleFieldRankList__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/**
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繐鐖奸弻锝嗘償閵堝孩缍堝┑鐐村絻缁绘ê鐣烽弴銏犵闁兼亽鍎插▍銏ゆ⒑閸濆嫬锟藉爼宕愬Δ鍐煋闁汇垹鎲￠悡鏇㈡煟濡櫣锛嶅褍宕…璺ㄦ喆閸曨剛顦伴悗瑙勬礈椤牐鐏冩繛杈剧到閹碱偊鐛澶嬧拻濞达絿鐡旈崵鍐煕閵娿劍鐝柡鍛版硾铻栭柛姘虫椤︽澘顕ラ崟顖氱疀妞ゆ帒鍋嗛崯鍥⒒娴ｅ憡鎯堟い锔垮嵆瀹曠儤绻濋崶鈺佸絾濡炪倖甯掔�氼參鎮″☉銏″�堕柣鎰邦杺閸ゆ瑩鏌ㄩ悢璇残撶紒璇茬墦閻涱喗绻濋崒妤佹杸闁诲函缍嗘禍鐐侯敇閻撳寒娓婚柕鍫濇椤ュ棝鏌涚�ｎ偄濮堥柡鍛埣椤㈡稑顫濋敐鍡樻澑闂備胶绮崝妯间焊濞嗘挸绠洪柣妯兼暩绾惧吋銇勯弮鍥т汗闁诲繗浜槐鎺撴綇閳轰椒娌紓浣虹帛缁诲牆鐣烽幆閭︽▉闂佺濮ゅú鏍煘閹达附鍊烽柡澶嬪灩娴犙囨⒑閹肩偛濡块柟铏崌瀵偊顢欓幋鎺旂畾闂佺粯鍔︽禍婊堟晸閼恒儳澧い顐㈢箲缁绘繂顫濋锟介崑宥夋偡濠婂嫭顥堥柡浣瑰姍閹瑩宕崟顓炲箰闂備礁鎲￠崝锔界閻愮儤鏅繝闈涙川缁犻箖寮堕崼婵嗏挃闁告帊鍗抽弻鐔哄枈閸楃偘鍠婂銈冨灪閹瑰洭鐛锟藉畷婊勬媴閻氬搴婇梻鍌欐祰閸嬫劙鍩涢崼銉ョ婵炲棙鍔楅々鏌ユ煕閹炬鎳愰敍婊堟倵閻у憡瀚归梺鍛婂姦閸犳牠骞楅悽鐢电＝濞达綀娅ｇ敮娑氱磼鐠囪尙澧曢柣锝囧厴瀹曞ジ寮撮悢閿嬬杺闂備礁澹婇悡鍫ュ磻閸涘瓨鍋熸い鎰ㄦ噰閺�浠嬫煟濡櫣浠涢柡鍡忔櫅閳规垿顢欓懞銉ュ攭闂佽桨绀侀崯瀛樹繆閼搁潧绶炲┑鐘插閻掔偓淇婇悙顏勶拷鏍礉瑜忓濠囨嚃閳哄倸搴婇梺绯曞墲缁嬫帡鎮￠敐澶屽彄闁搞儯鍔嶇亸浼存偣閹板墎纾块柣銉邯楠炴垿骞囬褎顥夐梻鍌氭搐椤︾敻寮婚妸銉㈡斀闁糕檧鏅滄晥婵犵數鍋為崵顏堝礃閿濆棙鏉搁梻浣哄仺閸庡浜稿▎鎾村剹婵炲棙鎸婚悡娑㈡倶閻愰鍤欓柨鐔诲Г閻╊垱淇婇悽绋跨疀闁哄娉曢濠囨⒑閸濆嫬鏆欓柛濠勬嚀琚欓柛銉墯閳锋帒霉閿濆牊顏犻柕鍡楋躬閺岋繝宕掑顒婃嫹閸喚鏆﹂柡鍥ュ灩缁犵敻鏌熼悜妯肩畵婵炲牜鍋婂娲川婵犲啫顦╅梺鎼炲妽婢瑰棛鍒掔拠娴嬫婵炲棗绉崇花濠氭⒑閸︻厼鍔嬮柛銊ョ仛缁傚秹鎮欓悜妯煎幈闂佺粯妫冮ˉ鎾绘倿閸涘﹥鍙忓┑鐘插鐢盯鏌熷畡鐗堝殗鐎规洏鍔嶇换婵嬪磼濞戞瑧鏆梻鍌氬�风粈渚�骞夐垾鎰佹綎鐟滅増甯掗崹鍌炴煕椤垵鏋ら柡鍡檮缁绘繈妫冨☉娆樻￥闂佸搫妫楀Λ婵嬪蓟閵娾晜鍋勯柣鎴炆戦悵顏堟⒑閸涘﹤绗氶悽顖ょ節楠炲﹪鏁撻悩鍙傃囨煕閳╁喚娈樼憸鏉跨摠缁绘繈鎮介棃娑楁勃濠电偛鍚嬮悷鈺呫�侀弽顓炲耿婵炴垶蓱椤ユ繈姊虹捄銊ユ瀺缂侇喗鐟ラ～蹇曠磼濡顎撻梺鎯х箳閹虫挾绮敓鐘斥拺闁告稑锕ラ埛鎰亜椤撶偞澶勭紒鍌氱Ф缁瑦鎯旈幘瀵革拷濠氭⒑瑜版帒浜伴柛妯圭矙閹潧鐣￠幍铏杸闂佺粯鍔栧娆撴倶閻斿吋鐓曢柕濠忛檮閵囨繈鏌熼鍡欑瘈鐎殿喗鎸虫慨锟介柨娑樺鐢儳鈹戦悩鍨毄闁稿鐩幃妯衡攽鐎ｎ亞顦┑鐘诧工閻楀﹪宕戦敐澶嬬厵闁哄鐏濋。宕囩磼閳藉懏瀚归梻鍌欑閹碱偊寮甸鍕剮妞ゆ牜鍋熷畵渚�鏌熼悜姗嗘當缂佺姴顭烽弻褑绠涢敐鍛嚱闂佽皫鍌滅獢闁哄矉绲鹃幆鏃堝閳轰焦娅涢梻渚�娼荤紞鍡涘闯閿濆懐鏆﹂柟鎯板Г閺呮煡鏌涘☉鍗炵仭婵炲牏鍋撶换婵嬫濞戞﹫鎷烽崨濠勭彾濠电姴娲ら弸渚�鏌涢幇闈涙灍闁绘挶鍎茬换婵嬫濞戞瑯妫″銈冨劤閸嬨倝寮婚敐鍛斀闁归偊鍏涚花濠氭⒑鐎圭媭娼愰柛銊ユ健楠炲啴鍩￠崨顓犵杸婵炶揪绲介幉鈥斥枍濞戙垺鈷掑ù锝呮啞閹茬鈹戦鐐毈闁靛棗鍟换婵嬪炊瑜庨悗顒勬⒑閸涘﹤濮﹂柛鐘崇墵閹�斥槈閵忥紕鍘卞┑鐐村灥瀹曨剟鐛Ο姹囦簻闁挎棁顕ч獮鏍煃鐟欏嫬鐏撮柟顔界懇瀵爼骞嬮悩杈ㄥ煕闂傚倷鐒﹂幃鍫曞礉瀹ュ拋娓婚柦妯侯樈閸ゆ洟鏌＄仦璇插姎缂佺姷鎳撻湁闁挎繂鎳忕拹锟犳煕濞嗗繐鏆欓柍瑙勫灴閸┿儵宕卞Δ鍐ф埛闂佽崵濯撮幏鐑芥煥閺囶亝瀚归柧浼欑秮閺屾盯顢曢悩鎻掑闂佺粯鎸鹃崰鏍蓟閻旂厧绀堢憸宥嗙濞差亝鐓曢悗锝冨妼閻忔煡鏌″畝瀣？濞寸媴绠撳Λ鍐煛閸屾凹浼撻柣搴ゎ潐濞叉牕煤閿曪拷閳绘捇寮撮姀鈾�鎷洪柣鐘充航閸斿矂寮稿鍥╃＜妞ゆ梻鏅幊鍐煟閿濆鏁遍悗闈涖偢瀵爼骞嬪┑鍡樻殢濠碉紕鍋戦崐鏍箰妤ｅ啫纾婚柣鏂垮悑閸嬧晠鏌涘┑鍡楊仱闁猴拷娴犲鐓熸俊顖涱儥閸ゅ锟借鎮堕崕鐢稿蓟濞戞﹩娼╂い鎾卞姀閿熻棄娼￠弻鐔碱敊閸濆嫮浼堥悗瑙勬礃椤ㄥ﹤鐣峰Δ鍛亗閹肩补锟芥剚娼忛梻鍌氬�峰ù鍥х暦閸偅鍙忛柡澶嬪殮濞差亝鍋愮紓浣股戝▍銏ゆ⒑閼恒儍顏埶囬鐐叉辈闁告鍎愰悢鍡涙煟閻斿搫顣兼い銉у仧缁辨帞绱掑Ο鑲╃暭闂佸摜濮撮敃銉ヮ嚗閸曨偆鏆嗛柨鐔剁矙閺佸秹鎮㈤崗灏栨嫼缂備礁顑嗛娆撳磿閹扮増鐓曢柕濞垮劤娴犮垽鏌ｉ敐鍥у幋妤犵偛娲鍓佹嫚閻欐瑥娲﹂悡鏇熺節婵犲繑瀚归梺鐓庡暱閻栫厧鐣烽鍕瀭妞ゆ劑鍊楅鏇㈡⒑鐟欏嫬鍔ゆい鏇ㄥ弮瀹曨垶寮婚妷锔惧幍闂佺粯鍨兼慨銈夊极鏉堛劊浜滈柕濠忕到閸旓箓鏌熼鐣屾噰闁瑰磭濞�椤㈡宕掗妶鍛珨闂傚倸鍊峰ù鍥ь浖閵娾晜鍊块柨鏇炲�哥粻鏌ユ煕閵夘喖澧柡瀣╃窔閺岀喖宕滆鐢盯鏌￠崨顔藉�愰柡灞诲姂閹倝宕掑☉姗嗕紦 by changhao
 */
public class CBattleFieldRankList extends __CBattleFieldRankList__ {
	@Override
	protected void process() {
		// protocol handle
		
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		
		mkdb.Procedure battlefieldranklist = new mkdb.Procedure()
		{
			@Override
			protected boolean process()  throws Exception
			{
				Long c1 = xtable.Roleid2clanfightid.select(roleid); //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰緞婵犲嫮鏉告俊鐐�栫敮濠勬媼閺屻儱鍑犳繛鍡樻尰閳锋垹绱撴担濮戭亞绮埡浣叉斀妞ゆ柨鎼敓鑺ヮ殜楠炴垿濮�閻橆偅顫嶉梺闈涚箳婵挳鎳撻崹顔规斀闁宠棄妫楅悘锝囩磼椤曞懎鐏︾�规洘娲橀幆鏃堝Ω閿旇瀚奸梺鍝勵槺閸嬬偞绔熼崱娴板洭鏁冮崒娑橈拷鍨叏濮楀棗浜滅�规挸妫涢敓鑺ヮ問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯锕㈠褎鎱ㄩ崼鏇熲拻濞达絽鎲￠崯鐐烘煕閺傜偛鎳愮壕鑺ユ叏濡法绨垮┑顔藉▕閺岋綁濮�閻樺啿鏆堥梺鎶芥敱閸ㄥ潡寮婚悢铏圭煓闁圭瀛╁畷宕囩磽娴ｅ搫校闁圭顭锋俊鐢稿礋椤栨稒娅嗛柣鐘叉穿鐏忔瑦绂掗婊呯＝濞撴艾娲ら弸娑欍亜椤撶姴鍘存鐐插暣閹粓鎸婃径宀�鏋冨┑鐘垫暩婵挳宕愰懡銈囩煋婵炲樊浜濋悡娑樏归敐鍥ㄥ殌濠殿喖绉堕敓鍊燁潐濞叉牕鐣烽鍕厺閹兼番鍔岀粻娑欍亜閹捐泛浠︽繛鍛灲濮婄粯鎷呴挊澶婃優闂佺顑囬崑鐔煎窗婵犲偆鍚嬮柛銉ｅ妼鎼村﹪姊洪崜鎻掍簼缂佽绉撮…鍥冀椤愩倗锛濇繛杈剧秬閸嬪倿骞嬮悙鎻掔亖闂佸湱铏庨崰妤呮偂閻斿吋鐓熼柡鍐ㄥ�哥敮璺好瑰锟介崡鎶藉蓟濞戙垹围闁告粈绀侀崜浼存⒑鐎圭媭娼愰柛銊ユ健楠炲啫鈻庨幋顖涘闁割煈鍋呴崑鐘绘煕鐎ｎ剙浠辨慨濠冩そ瀹曨偊宕熼锟藉▍褎绻濋悽闈涘壋闁归鍏樺铏圭磼濡湱绻侀梺鍝ュУ缁嬫挾鍒掔拠娴嬫婵☆垶鏀遍～宥呪攽閻愬弶顥為柛銊╂涧椤曪綁骞庨懞銉㈡嫼闁荤姴娲﹁ぐ鍐吹鏉堚晝纾界�广儱鎳忛ˉ銏拷瑙勬礃缁矂鍩ユ径鎰潊闁炽儱鍟挎晶楣冩⒒娴ｇ顥忛柛瀣╃窔瀹曟洟寮婚妷銉у幈闂佺鎻梽鍕磻閿濆鐓欐い鎾跺枎缁楁帒鈹戦垾鐐藉仮闁哄矉绱曢敓鏂ょ秵娴滅偠鍊寸紓鍌欐祰妞村摜鏁敓鐘拷浣糕枎閹炬潙浠奸柣蹇曞仦閸庡啿鈻嶅鑸碘拻濞撴熬鎷锋繛浣冲吘娑㈠籍閸屾侗鍋ㄥ┑顔斤供閸擄箓宕甸弴鐔翠簻闁哄浂浜濈�氬綊鎮楃憴鍕闁告鍥х厴闁瑰濯撮幏鐑芥晲鎼存繄鍑归梺鍝勬－娴滄粓鍩為幋锔藉亹闁割煈鍋呭В鍕節閻㈤潧鍓抽柟宄板槻閳规垿鎮欓弶鍨殶闂佹悶鍎崝灞剧閸楃偐鏀介柣妯款嚋瀹搞儵鏌ｅΔ锟藉Λ娑㈠箟閹绢喗鏅濋柛灞剧〒閸樺崬鈹戦悙鏉戠仴鐎规洦鍓熷鎼佸Χ閸モ晝锛滈梺瀹犳閹冲繒锟芥艾婀辩槐鎾诲磼濞嗘埈妲繝鈷�鍡椥撻柡鍛版硾铻栭柛鏇ㄥ墯閸ｅ嘲鈹戦敍鍕杭闁稿鍊濆畷鎴﹀礋椤栨稒娅囧銈呯箰閻楀棝鎷戦悢鍝ョ闁瑰瓨鐟ラ悘鈺呭箚閻斿吋鈷戦柟绋垮缁屽潡鏌熸搴″幋闁哄苯绉剁槐鎺懳熼懡銈庢Ф闂備浇娉曢崰搴ㄦ晸閻ｅ苯娅忔繛鍏煎姈缁绘盯宕ｆ竟婵愪簽閸欏懘姊虹紒妯活棃闁哄懓灏欓幑銏ゅ幢濞戞瑧鍘卞銈嗗姧缁插墽绮堥敓浠嬫⒑缂佹ê濮囬柨鏇樺劦婵＄敻宕熼鍓ф澑闂佽鍎崇壕顓°亹閸涘瓨鈷戦柣鎰閸旀粓鏌＄�ｎ亗鍋㈢�殿喓鍔戦幊鐐哄Ψ閿濆嫮鐩庨梻浣告惈閸犳盯骞忛悜鑺ョ厸閻庯綆鍓涚敮娑氱磼濡ゅ啫鏋庨柍钘夘樀婵拷闁挎稑瀚獮鍫ユ⒒婵犲骸浜滄繛璇х畵瀵悂宕掗悜鍡樻櫆闂佸憡娲﹂崑鍡涘Χ椤愶附鈷掗柛灞剧懅椤︼箑顭块悷甯含鐎规洘鍨剁粭鐔兼晸閽樺鏆﹂柡鍥ュ灩閽冪喖鏌曟径娑氱暠濞存粍顨婂娲濞戣鲸孝闂佸搫鎳忕划鎾诲箖閿熺姵鍋勯柛蹇氬亹閸樻悂姊洪幖鐐插姉闁哄懏绋掔粋鎺戭煥閸喓鍙嗛梺缁樻⒒缁垶藟婢跺绡�闁跨喍绮欓弻鍡楊吋閸℃ɑ顏熼梻浣稿悑娴滀粙宕曢幎钘夌柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�? by changhao
				if (c1 == null)
				{
					return false;
				}
				
				xbean.EClanFightStatistics statistics = xtable.Roleid2clanfightstatistics.select(roleid);
				if (statistics == null)
				{
					return false;
				}
				
				long cur = System.currentTimeMillis();
				if (cur < statistics.getLastcbattlefieldrankliststamp() + 20000) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔搁柛鐑嗗灠椤啴濡堕崱姗嗘⒖婵犳鍠撻崐鏇㈠煝瀹ュ閱囬柕澶涜吂閹风粯绻涙潏鍓хК婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍煥閻旂儤娅曞瑙勬礋楠炴劖鎯斿┑鍫㈢暰闂備線娼ч悧鍡欙拷姘緲椤﹤鐣￠幊濠勬嚀椤劑宕熼鐘靛帨闂備礁鎼惌澶屾崲濠靛棛鏆﹂柟鐑樺焾濞尖晠鏌涘▎鎰电劸婵＄偓鎮傚缁樻媴閻熸壋鏋欓梺鐚存嫹闁告鍎愬鏍煠婵劕锟芥牠锝為弴銏＄厵闁绘垶锕╁▓鏇㈡煕鐎ｎ偄濮嶉柡灞熷棛鐤�闁挎繂鎳嶉懜顏勨攽閳藉棗浜滈柛鐔告綑椤繐煤椤忓嫪绱堕梺鍛婃处閸撴岸骞忔潏鈺冪＝濞达絽澹婇崕鎰版煕閵娿儲鍋ョ�规洘妞芥俊鐑芥晝閿熺晫娆㈤悙娴嬫斀闁绘劙娼ф禍楣冩煟鎼粹槅鐓兼慨濠囩細閵囨劙骞掗幋婊冩瀳闂備礁鎽滄慨闈涚暆閹间礁鏄ラ柕蹇ョ悼閻わ拷闂佸搫娲ㄦ慨鐑芥晬濠靛鈷戠紒瀣濠�浼存煟閻旀繂鎳忕�氳霉閻撳海鎽犻柣鎾存礋閹鏁愭惔婵堢泿濡炪倕娴氶崑鍡欐閹烘鏁婇柤鎭掑労濮婂潡姊洪棃娑欏闁告梹鐟╅悰顕�骞掑Δ锟界粻锝夋煥濠靛棙顥為柛鐔锋惈閳规垿鎮╅崹顐ｆ瘎闂佺顑囬崑銈呯暦瑜版帩鏁嶉柣鎰级濡差剟姊洪崨濠冨闁搞劋鍗冲鍛婄瑹閿熶粙寮诲☉銏犵疀闂傚牊绋掗悘宥夋⒑缂佹ɑ灏柛搴ゅ皺閹广垹鈹戠�ｎ偒妫冨┑鐐村灦閻燁垰螞閳ユ剚娓婚柕鍫濆暙閸斻倕鈹戦鐐毈濠碉紕鏁诲畷鐔碱敍濞戞瑦鐝曢梻浣告啞缁诲倻锟芥凹鍓熼敐鐐哄炊瑜夐弨鑺ャ亜閺冨倶锟藉寮ㄧ紒妯圭箚闁绘劖澹嗛惌娆撴煟濞戝崬娅嶆鐐叉喘椤㈡﹢鎮㈠畡鏉课ら梻鍌欑劍鐎笛呮崲閸岀偛绐楁繛鎴欏灩缁狀垶鏌ｉ幋锝嗩棄缂佺姾娅曟穱濠囧Χ閸曨喖鍘￠梺鍛婏耿娴滆泛顫忛搹鍦＜婵☆垰娴氭禍鐐寸珶閺囥埄鏁囬柣鏂挎啞閻濆嘲顪冮妶鍛闁瑰啿鏈粋宥咁煥閸曗晙绨婚梺瑙勫閺呮盯鎮橀鍓х＜闁绘ê鎼惃铏圭磼鏉堛劌绗х紒杈ㄥ笒铻ｉ柤娴嬫櫇閺嗐倖淇婇悙顏勶拷銈夊磻閸涱垱宕查柛顐犲劘閿熸垝绀佽灃闁告侗鍘鹃敍婊堟⒑闂堟稓澧曢柡灞斤龚椤︽煡鏌嶇憴鍕伌闁轰礁绉瑰畷鐔碱敃閳╁啯绶氶梻鍌欒兌椤牓鏁冮妷鈺傚亱婵犲﹤鐗嗛弸浣广亜閺囶亝瀚瑰銈冨灪濡啫鐣烽悡搴樻斀闁割偒鍋勯弫鎼佹⒑鐠囧弶鎹ｉ柟铏尵閿熻姤鍑归崢鐣岀博閻旂尨鎷烽敐搴℃灈缂備讲鏅犻弻銈夊箒閹烘垵濮屾繛瀛樼矋缁捇寮婚敓鐘茬＜婵ê褰夐搹搴ㄦ⒑鐠団�虫灍闁搞劌娼″璇测槈閵忊�充汗缂備焦绋撻、濠囨晸閽樺鍋ラ柡灞革拷宕囨殕閻庯綆鍓涢敍鐔哥箾鐎电顎撶紒鐘虫尭閻ｅ嘲顭ㄩ崱鈺傂梻浣告啞鐢鎯勯姘兼綎闁惧繒鎳撶�垫煡鏌￠崶鈺佹瀾闁绘縿鍔庣槐鎾存媴娴犲鎽靛┑鐐跺皺閸犳牕顕ｉ锕�绠婚悹鍥у级椤ユ繈姊洪棃娑氬婵炲眰鍔嶉悧搴ㄦ⒒閸屾瑨鍏屾い顓炵墦椤㈡牠宕ㄩ銈嗗婵﹩鍋勫畵鍡涙煏閸℃洜绐旂�殿噮鍣ｅ畷濂告偄閸涘浠ч梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷� by changhao
				{
					return false;
				}
				
				SBattleFieldRankList msg = new SBattleFieldRankList();
				msg.myrank = -1;
				
				fire.pb.clan.fight.ClanFightBattleField bf = fire.pb.clan.fight.ClanFightFactory.getClanFightBattleField(c1, true);
				if (bf != null)
				{
					msg.clanscore1 = bf.getClanfightBean().getClanscore1();
					msg.clanscroe2 = bf.getClanfightBean().getClanscore2();
					
					int which = bf.getSideByRoleId(roleid);
					if (which != 0 && which != 1)
					{
						return false;
					}
					
					java.util.List<xbean.BattleFieldScroeRank> list = null;
					java.util.Map<Long, Integer> map = null;
					if (which == 0)
					{
						list = bf.getClanfightBean().getClan1roleranklist();
						map = bf.getClanfightBean().getClan1rolerankmap();
					}
					else if (which == 1)
					{
						list = bf.getClanfightBean().getClan2roleranklist();
						map = bf.getClanfightBean().getClan2rolerankmap();					
					}
					else
					{
						return false;
					}
					
					Integer rank = map.get(roleid);
					if (rank != null)
					{
						msg.myrank = rank;
						xbean.BattleFieldScroeRank r = list.get(rank);
						if (r != null)
						{
							msg.myscore = r.getScroe();
						}
					}
					
					int count = 0;
					for (xbean.BattleFieldScroeRank e : bf.getClanfightBean().getClan1roleranklist())
					{
						if (count >= 50) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喛顕ч埥澶娢熼柨瀣澑闂備礁鎲″ú锕傚磻閸曨剚鍙忛柣鎴ｅГ閳锋垿鏌ｉ悢鍛婄凡婵℃彃顭烽弻娑㈠閿涘嫬寮ㄩ梺鎸庣箘閸嬫盯鍩為幋鐙呮嫹閿濆骸浜滃ù婊勵殜閺岀喖鎳濋悧鍫濇锭缂備浇椴稿ú鐔煎箚閸儱绀嬫い鏍ㄧ〒閸樹粙鏌熼崗鑲╂殬闁稿鍊曢…鍥箛椤撶姷顔曢梺鍛婄懃椤︿粙鎮炴禒瀣厵妤犵偛鐏濋悘鑼拷瑙勬礈閸樠囧煘閹达箑绠涙い鎺嶇贰閸氭瑩姊婚崒娆戭槮婵狅拷闁秵鎯為幖娣妼缁愭鏌″搴″伎缂傚秵鐗犻弻娑樷槈濡吋鎲奸梺缁樻尵閸犳劖绌辨繝鍥舵晬婵炴垶锕╅崵瀣⒑缂佹绠ュù婊呭仱楠炲啴顢氶敓浠嬪极閹版澘宸濇い蹇撴噺閺夋悂姊绘担铏瑰笡妞ゎ厼鐗忔禍绋库枎瀵邦偅鐩畷鐔碱敍濞戞艾骞愬┑鐘灱濞夋盯鏁冮妶澶嬪剭闁跨喓濮甸悡娆忣渻鐎ｎ亜顒㈤柣鎺撳閵囧嫰鏁冩笟鍥ㄧ秷濡炪們鍔婇崕鐢稿箖濞嗘挻鍤戞い鎺戝亞閸炶淇婇悙顏勶拷褎淇婇崶銊︽珷婵°倕鎳庣粻姘舵煛閸愩劎澧曟い顐㈡嚇閺岋絽螣婢剁鎯堥梺姹囧劚閹冲酣鍩為幋锔藉亹闁割煈鍋呭В鍕⒑缁嬫鍎愮紒瀣灱閻忓鈹戦悙鍙夘棡闁圭鎽滅划濠氬级鐠囩偓妫冮弫鎰板川椤撶喐顔勯梻浣规た閸樹粙銆冩繝鍥ц摕闁绘梻鍘х粈鍫㈡喐韫囨洘鏆滄繛鎴欏灪閻撶喖鏌熼幆褏鎽犵紒锟界�ｎ喗鐓涢悘鐐靛亾缁�鍐拷鍨緲鐎氼剟鍩ユ径濠庢僵妞ゆ帪鎷烽柣鎾冲�搁埞鎴︽偐閼碱剚顥夐梺闈涚墕閹叉盯骞樼紒妯煎帾闂佹悶鍎滈崘鍙ョ磾濠电姷顣槐鏇㈠礂濮楋拷瀵偊宕掑鍛粹攺闁诲函缍嗛崑鎺懳涢崘顔解拻闁稿本鐟чˇ锕傛煙绾板崬浜扮�殿喚鏁婚、妤呭磼濠婂懐鍘梻浣烘嚀婢х晫鍒掗鐐茬柧闁归棿鐒﹂悡娑㈡煕鐏炰箙顏堟晸閼恒儺娈樼紒顔界懄缁绘繂顫濋鐘插箰闂佽绻掗崑鐘活敋瑜庢穱濠冪附閸涘﹤浜楅梺闈涚墕椤︿即鎮￠妷鈺傜厸闁搞儮鏅涙禒婊堟煥閻旂粯顥夌紓宥咃工閻ｇ兘骞嬮敃锟界壕濂告煟閹邦剦鍤熼柛妯绘倐濮婃椽骞栭悙鎻掑闂佸搫鎳忛惄顖氼嚕閹间礁绫嶉柛灞剧矌閿涙粓姊虹紒姗嗙劸鐎规洜鏁婚幃鎯洪鍛幐闁诲繒鍋涙晶钘壝洪幘顔界厱闁宠桨绀侀顓狅拷瑙勬礃閿曘垽寮幇鏉垮耿妞ゆ挾濮烽ˇ鈺呮⒒閸屾艾锟介绮堟笟锟藉畷銉э拷锝庡墰閻牓鏌熺紒銏犳灈闁汇倝绠栭弻锝夊箛椤掑倹鎲奸梺鍛婄懃缁绘﹢寮诲☉銏犵疀妞ゆ帊璁查弸娆忊攽閻愬瓨灏い顓犲厴楠炲啫螖閸涱喗娅滈柟鐓庣摠缁诲嫰宕欒ぐ鎺撯拺闁革富鍘介鐔虹磼閹绘帗鍋ラ柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂濞戞熬鎷烽惂鍛婂闂佽法鍠嶇划娆忕暦娴兼潙鍐�妞ゆ挾濮寸粊锕傛⒑鐟欏嫬绀冩い鏇嗗懐涓嶉柧蹇ｅ亞缁★拷闂傚倸鐗婄粙鎺椝夊鍐剧唵闁荤喖鍋婂Ο锟藉┑顔硷龚濞咃綁骞忛悩璇茬闁圭儤绻傛俊鐑芥⒒娴ｈ櫣甯涙俊顐㈢箻瀹曟粓鎮㈤懖鈺佺ウ闂婎偄娲︾粙鎺楀疾閹间焦鐓ラ柣鏇炲�圭�氾拷50濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柛婵嗗椤忋儵鏌涙惔銊ゆ喚闁糕晝鍋ら獮瀣晜閽樺姹楅梻浣告啞閻熴儵藝娴兼潙绠栨繛鍡樺灩绾捐棄霉閿濆懏鎯堟い搴＄焸閺屾盯濡搁妷褍鐓熼悗娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�? by changhao
						{
							break;
						}
						
						fire.pb.clan.fight.RoleBattleFieldRank r = new fire.pb.clan.fight.RoleBattleFieldRank();
						String name = bf.getClanfightBean().getEnterroleids().get(e.getRoleid());
						if (name != null)
						{
							r.rolename = name;
							r.rolescroe = e.getScroe();
							msg.ranklist1.add(r);
							count ++;							
						}
					}
					
					count = 0;
					for (xbean.BattleFieldScroeRank e : bf.getClanfightBean().getClan2roleranklist())
					{
						if (count >= 50) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喛顕ч埥澶娢熼柨瀣澑闂備礁鎲″ú锕傚磻閸曨剚鍙忛柣鎴ｅГ閳锋垿鏌ｉ悢鍛婄凡婵℃彃顭烽弻娑㈠閿涘嫬寮ㄩ梺鎸庣箘閸嬫盯鍩為幋鐙呮嫹閿濆骸浜滃ù婊勵殜閺岀喖鎳濋悧鍫濇锭缂備浇椴稿ú鐔煎箚閸儱绀嬫い鏍ㄧ〒閸樹粙鏌熼崗鑲╂殬闁稿鍊曢…鍥箛椤撶姷顔曢梺鍛婄懃椤︿粙鎮炴禒瀣厵妤犵偛鐏濋悘鑼拷瑙勬礈閸樠囧煘閹达箑绠涙い鎺嶇贰閸氭瑩姊婚崒娆戭槮婵狅拷闁秵鎯為幖娣妼缁愭鏌″搴″伎缂傚秵鐗犻弻娑樷槈濡吋鎲奸梺缁樻尵閸犳劖绌辨繝鍥舵晬婵炴垶锕╅崵瀣⒑缂佹绠ュù婊呭仱楠炲啴顢氶敓浠嬪极閹版澘宸濇い蹇撴噺閺夋悂姊绘担铏瑰笡妞ゎ厼鐗忔禍绋库枎瀵邦偅鐩畷鐔碱敍濞戞艾骞愬┑鐘灱濞夋盯鏁冮妶澶嬪剭闁跨喓濮甸悡娆忣渻鐎ｎ亜顒㈤柣鎺撳閵囧嫰鏁冩笟鍥ㄧ秷濡炪們鍔婇崕鐢稿箖濞嗘挻鍤戞い鎺戝亞閸炶淇婇悙顏勶拷褎淇婇崶銊︽珷婵°倕鎳庣粻姘舵煛閸愩劎澧曟い顐㈡嚇閺岋絽螣婢剁鎯堥梺姹囧劚閹冲酣鍩為幋锔藉亹闁割煈鍋呭В鍕⒑缁嬫鍎愮紒瀣灱閻忓鈹戦悙鍙夘棡闁圭鎽滅划濠氬级鐠囩偓妫冮弫鎰板川椤撶喐顔勯梻浣规た閸樹粙銆冩繝鍥ц摕闁绘梻鍘х粈鍫㈡喐韫囨洘鏆滄繛鎴欏灪閻撶喖鏌熼幆褏鎽犵紒锟界�ｎ喗鐓涢悘鐐靛亾缁�鍐拷鍨緲鐎氼剟鍩ユ径濠庢僵妞ゆ帪鎷烽柣鎾冲�搁埞鎴︽偐閼碱剚顥夐梺闈涚墕閹叉盯骞樼紒妯煎帾闂佹悶鍎滈崘鍙ョ磾濠电姷顣槐鏇㈠礂濮楋拷瀵偊宕掑鍛粹攺闁诲函缍嗛崑鎺懳涢崘顔解拻闁稿本鐟чˇ锕傛煙绾板崬浜扮�殿喚鏁婚、妤呭磼濠婂懐鍘梻浣烘嚀婢х晫鍒掗鐐茬柧闁归棿鐒﹂悡娑㈡煕鐏炰箙顏堟晸閼恒儺娈樼紒顔界懄缁绘繂顫濋鐘插箰闂佽绻掗崑鐘活敋瑜庢穱濠冪附閸涘﹤浜楅梺闈涚墕椤︿即鎮￠妷鈺傜厸闁搞儮鏅涙禒婊堟煥閻旂粯顥夌紓宥咃工閻ｇ兘骞嬮敃锟界壕濂告煟閹邦剦鍤熼柛妯绘倐濮婃椽骞栭悙鎻掑闂佸搫鎳忛惄顖氼嚕閹间礁绫嶉柛灞剧矌閿涙粓姊虹紒姗嗙劸鐎规洜鏁婚幃鎯洪鍛幐闁诲繒鍋涙晶钘壝洪幘顔界厱闁宠桨绀侀顓狅拷瑙勬礃閿曘垽寮幇鏉垮耿妞ゆ挾濮烽ˇ鈺呮⒒閸屾艾锟介绮堟笟锟藉畷銉э拷锝庡墰閻牓鏌熺紒銏犳灈闁汇倝绠栭弻锝夊箛椤掑倹鎲奸梺鍛婄懃缁绘﹢寮诲☉銏犵疀妞ゆ帊璁查弸娆忊攽閻愬瓨灏い顓犲厴楠炲啫螖閸涱喗娅滈柟鐓庣摠缁诲嫰宕欒ぐ鎺撯拺闁革富鍘介鐔虹磼閹绘帗鍋ラ柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂濞戞熬鎷烽惂鍛婂闂佽法鍠嶇划娆忕暦娴兼潙鍐�妞ゆ挾濮寸粊锕傛⒑鐟欏嫬绀冩い鏇嗗懐涓嶉柧蹇ｅ亞缁★拷闂傚倸鐗婄粙鎺椝夊鍐剧唵闁荤喖鍋婂Ο锟藉┑顔硷龚濞咃綁骞忛悩璇茬闁圭儤绻傛俊鐑芥⒒娴ｈ櫣甯涙俊顐㈢箻瀹曟粓鎮㈤懖鈺佺ウ闂婎偄娲︾粙鎺楀疾閹间焦鐓ラ柣鏇炲�圭�氾拷50濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柛婵嗗椤忋儵鏌涙惔銊ゆ喚闁糕晝鍋ら獮瀣晜閽樺姹楅梻浣告啞閻熴儵藝娴兼潙绠栨繛鍡樺灩绾捐棄霉閿濆懏鎯堟い搴＄焸閺屾盯濡搁妷褍鐓熼悗娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�? by changhao
						{
							break;
						}
						
						fire.pb.clan.fight.RoleBattleFieldRank r = new fire.pb.clan.fight.RoleBattleFieldRank();
						String name = bf.getClanfightBean().getEnterroleids().get(e.getRoleid());
						if (name != null)
						{
							r.rolescroe = e.getScroe();
							r.rolename = name;
							msg.ranklist2.add(r);
							count ++;
						}
					}
					
					psendWhileCommit(roleid, msg);
				}
				
				return true;
			}
		};
		
		battlefieldranklist.submit();			
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 808538;

	public int getType() {
		return 808538;
	}


	public CBattleFieldRankList() {
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CBattleFieldRankList) {
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CBattleFieldRankList _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

