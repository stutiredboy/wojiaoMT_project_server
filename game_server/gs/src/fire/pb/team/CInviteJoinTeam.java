
package fire.pb.team;

import fire.pb.PropRole;
import fire.pb.StateCommon;
import fire.pb.battle.PlayPKManage;
import fire.pb.buff.BuffAgent;
import fire.pb.buff.BuffConstant;
import fire.pb.buff.BuffConstant.StateType;
import fire.pb.buff.BuffRoleImpl;
import fire.pb.buff.OperateType;
import fire.pb.clan.ClanUtils;
import fire.pb.main.ConfigManager;
import fire.pb.map.MapConfig;
import fire.pb.talk.MessageMgr;





// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CInviteJoinTeam__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CInviteJoinTeam extends __CInviteJoinTeam__ {
	//final static int MEMBER_MAX_COUNT = 4;//4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈡晲閸犳壆鍠愮换婵嬫偨闂堟刀锝嗐亜閺冿拷閻楃姴鐣风憴鍕嚤閻庢稒锚娴犻亶姊洪棃娴ゆ盯宕熼銏㈠搸濠电姷鏁告繛锟芥繛浣冲厾娲Ω瑜嶆慨顒勬煥閻斿墎鐭欐慨濠呮缁瑩骞愭惔銏″缂傚倷绀侀鍡涘垂閻㈢鐓濈�广儱顦洿婵犮垼娉涢鍌炲箯濞差亝鈷戦柛娑橈功缁犳捇鎮楀鐓庡籍閽樼喐绻濇繝鍌涘櫧缁炬崘鍋愮槐鎾存媴婵埈浜濋幈銊ヮ吋閸℃瑧鐦堥梺璺ㄥ枙婵倝骞忛崨顖氬闁哄洨鍠愰弶鎼佹⒒娴ｈ櫣甯涙い顓炵墦椤㈡艾顭ㄩ崘鎯ф櫊闂侀潧顦弲婊堟偂閺囥垺鐓熼柡鍌涘閸熺偤鎮樿箛銉ヮ洭闁跨喎锟界噥娼愭繛娴嬫櫇缁辩偞鎷呴崫銉︽闂佺粯姊婚埛鍫ュ极閸曨垱鍋ｉ柟顓熷笒婵″潡鏌ｉ敐澶岀暫婵﹥妞介幊锟犲Χ閸涘懌鍨虹换娑欑珶椤栨碍鎼愰柣鎰攻閵囧嫰顢橀悢椋庡帎闂佺懓鍢查崲鏌ヮ敇閸忕厧绶為悗锝庡墮楠炴姊虹涵鍛棈闁规椿浜炲濠冦偅閸愩劍杈堥梺鍐叉惈閹冲繘鎮￠弴鐔剁箚妞ゆ牗绮屽瓭濠电偞娼欓崐鍨嚕椤愶箑鐐婄憸澶愬绩娴犲鐓曢悘鐐插⒔閻倝鏌ｉ幒鏂夸壕妞ゃ劊鍎甸幃娆擃敂閸曨厺鐥┑鐑囩到濞层倝鏁冮鍛箚闁割偅娲栧婵囥亜閹捐泛鏋戞い鎾村缁绘繈鎮介棃娑楃捕濡炪倖娲﹂崣鍐ㄧ暦濡わ拷铻ｅ〒姘煎灡缂嶅海绱撻崒娆戝妽閽冨崬鈹戦娑欏唉闁哄本绋戦埥澶婎潨閸繀绱ｉ梻浣告惈濡鎮ц箛鏇燁潟闁规儳鐡ㄦ刊鎾煕閹炬潙绲婚柛鎾讳憾閺岋綁濮�閳轰胶浠梺绋款儐閻╊垶寮崘顔碱潊闁斥晛鍟鎾剁磽娓氬洤鐏℃繛鍙夛耿瀵剟鏁撻懞銉ょ箚闁绘劦浜滈敓鑺ョ墪椤繑绻濆顒傦紱闂佽宕橀褔宕ヨぐ鎺撶叆闁绘梻绮ˉ澶嬨亜椤忓嫬鏆ｅ┑鈩冨劶缁犳盯寮撮悩铏啌濠电姷鏁搁崑姗�宕犻悩璇茬倞闁肩鐏氬▍鏃堟⒒娴ｇ懓顕滅紒璇插�胯棟濞寸姴顑呴弸渚�鏌涢幇闈涙灍闁绘挸绻橀弻娑㈩敃閿濆洨鐣哄銈冨劤閸嬬偟鎹㈠☉銏犻唶闁绘柨鎽滈崙鈥愁渻閵堝簼绨婚柛鐔风摠娣囧﹪宕奸弴鐐茶�垮┑鈽嗗灣閸樠冾嚕閸愭祴鏀介柣姗嗗亝婵即鏌涚仦鍓х煂闁绘挻鎹囬弻锕�螣閼姐倗鐤勯梺鍝勮嫰缁夌懓鐣烽锕�绀嬫い鎰靛墯鐎氬綊鏌ゆ慨鎰拷妤佺▔瀹ュ憘鏃堟晲閸涱厽娈查梺缁樻尰閻熲晠骞冨Δ鍛仺婵炲牐娉曢崝鍛婄箾鐎电顎撶紒鐘虫崌楠炲啫螣鐠恒劎鏉搁梺鎸庣箓閹冲海绮婚懡銈囩＝濞达絼绮欓崫娲偨椤栨侗娈旀い鏇樺劦瀹曠喖顢楅崒婊呮闂佺鍋愮悰銉╁礈濠靛鏁婄�广儱顦伴埛鎺懨归敐鍫澬撶痪顓炵埣閺屾盯鎮╅搹顐ゎ槬闁捐崵鍋ら弻娑㈠即閵娿儳浠梺绋匡龚閸╂牠骞堥妸銉庣喖宕归鎯у缚闂備礁鎼幊蹇曟崲閸儱钃熼柡鍥风磿閻わ拷闁诲函缍嗘禍鐑藉箯瀹勬嫈鏃堟晸娴犲鍋╅柛顭戝亞閻熷綊鏌ㄩ悢鍓佺煓闁诡噯绻濋、鏇㈡晝閿熶粙鎮欐繝鍥ㄧ厪濠电偛鐏濋敓鑺ヮ殘閹广垺绗熼敓钘夘潖閻戞ɑ濮滈柟娈垮櫘濡差喖鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵潙鐣甸崱娑欌拺闂傚牊渚楅悞楣冩煕鎼淬倝鍝洪柟渚垮妽鐎佃偐锟芥稒菤閹锋椽姊洪崨濠勭畵閻庢凹鍙冨畷鎺楀Ω閳哄倻鍘遍梺闈涱煭闂勫嫰濡靛┑瀣厱闁冲搫鍊诲ú瀛橆殽閻愭潙绗掗摶鏍归敐鍛儓鐎殿喗濞婂缁樻媴閾忕懓绗￠梺鍝勮閸斿秹寮查懜鍨劅闁靛绠戦崜鐟扳攽閻愬弶顥為柛鈺侊躬楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬鐔虹瘈闁汇垽娼ч崜鎶芥煙妞嬪骸鍘存慨濠勫劋濞碱亪骞嶉鍛滅紓鍌欑椤﹂亶骞婇幘缁樺仼闁绘垼濮ら崑鍕棯閹峰矂鍝洪柡鍜冪秮閹嘲顭ㄩ崘顕咃拷妤呮煟閳藉棗寮慨濠傤煼瀹曟帒顫濋濠冨闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰娲箹閻愯鎷烽弽顓炵闁哄稁鍘兼闂佸憡娲﹂崹浼村礃閿熻棄顪冮妶鍡楀Е婵狀澁鎷风紓渚囧枛婢у海妲愰幘瀛樺闁告繂瀚呴敐澶嬬厽婵°倕鍟埢鍫拷娈垮枛椤兘骞冮姀銈嗗亗閹艰揪缍嗛崬褰掓⒒娓氾拷閿熻姤绋戝畵鍡樼箾娴ｅ啿鍟犻弸鏃�銇勯幘璺盒ョ痪鎹愭閵嗘帒顫濋浣规倷婵炲瓨绮嶇划搴ｆ閹烘挸绶炲┑鐘插妤旀俊銈囧Х閸嬫盯宕幎钘壩﹂柟鐗堟緲缁犳娊鏌熺�涙鐭岄柣鎰躬濮婄粯鎷呴崨濠傛殘濠电偠顕滅粻鎾崇暦濠婂喚娼╅悹楦挎閿涚喖姊虹憴鍕姢濠⒀冩捣婢规洟鎸婃竟婵嗙秺閺佹劙宕堕崜浣稿Ъ缂傚倷鑳剁�氬繘宕熼鍡欑暰闂備胶绮崝鏍ㄧ珶閸℃稒鍎楁繛鍡樺煀閹峰嘲鈻撻崹顔界仌濡炪倖娉﹂崶褏鍙�婵犮垼鍩栭崝鏇綖閸涘瓨鐓熸俊顖涙た閸熷繘鏌涘顒佸殗婵﹦绮幏鍛存偡闁箑娈濈紓鍌欐祰椤曆囧磹濮濆瞼浜辨俊鐐�栭幐楣冨窗閹炬眹锟藉懘鎮滈懞銉у帗闁哄鍋炴刊浠嬵敊婢舵劖鐓涢柨鐔诲Г缁傛帞锟斤綆鍋嗛崢浠嬫⒑瑜版帒浜伴柛銊ゅ嵆閹啴宕崟鐢靛數閻熸粌閰ｉ幆鍕敍閻愯尪鎽曞┑鐐村灟閸ㄨ鍎梻渚�娼ч¨锟界紒鐘冲灦缁傛帡骞橀钘夛拷鍨箾閸繄浠㈤柡瀣♁閵囧嫰顢橀悩鎻掑箣閻庢鍣崑濠囩嵁濡偐纾兼俊顖滅帛椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掑Δ锟介崡铏繆椤栨繍娼愰柣顐㈢箻濮婄粯鎷呴崨濠呯闂佺绨洪崐婵嬬嵁閹邦厹鍋呴柛鎰╁妼閸嬪秹姊洪崷顓炲妺闁搞劎鍠栧銊︾鐎ｎ偆鍘藉┑鈽嗗灡椤戞瑩宕电�ｎ剨鎷风憴鍕仩闁稿海鏁诲濠氭晲閸涘倹妫冮弫鎾绘寠婢光晜绋戦埞鎴﹀幢閳轰焦顓块梻浣哥秺濡潡鎮為敃鍌氱柧闁归棿鐒﹂悡銉╂煟閺囩偛锟藉湱锟芥熬鎷�?
	
	//final static long MAX_INVITE_TIMEOUT = 30*1000;//30s,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝呂熷▎鎯ф缂備胶濮撮悘姘跺Φ閸曨喚鐤�闁圭偓鎯屽Λ鐐电磽娴ｇ晫鍫柛濠冪箞瀵鈽夐姀鐘殿啋濠德板�ч幏鐑芥煕閻曚礁浜伴柟顔缴戠换婵嬪炊閵娧冨箥闂備胶顭堢换妤呭磻閹版澘姹叉慨妤嬫嫹闁哄本鐩顒傛崉閵娧冨П闁诲孩顔栭崰鏍箟閿涘嫮绠旈柣鏂垮悑閺呯霉閻樺樊鍎忛柦鍐枛閺岋繝宕堕妷銉т患闂備礁宕ú锔炬崲濠靛顥堟繛鎴炵懅閵堚晛鈹戦埥鍡椾簴闁稿﹥娲熼垾鏃堝礃椤斿槈褔鏌涚仦鍓р檨闁绘繃娲熷铏圭磼濡粯鍎撶紓浣虹帛缁诲牓骞冩导鎼晪闁跨喕妫勯锝嗙鐎Ｑ嶆嫹閺嶎厼唯闁靛鏅涘鏉款渻閵堝啫鐏い銊ワ躬瀵偊骞樼紒妯烘疅闂侀潧顦崐妤冪不濮橆厾绡�闂傚牊绋戦敓鑺ユ倐楠炲鏁撻悩鍐蹭簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛鎰╁妼閿熷�熷吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｈぐ鎺撶厪闁搞儜鍐句純濡ょ姷鍋涢鍛村煘閹达箑鐐婄憸搴ㄦ倶鎼搭澀绻嗛柕鍫濇搐鍟搁梺绋款儐缁嬫捇骞戦姀鐙�娼ㄩ柨鐔剁矙閻涱噣宕橀鑲╁幐闂佸憡鍔︽禍鐐烘晬濠婂啠鏀介柍钘夋閻忋儲淇婂鐓庡闁诡垽鎷峰銈呯箰閹冲秶鎹㈤崱娑欑厽闁规澘鍚�缁ㄥ鏌ㄩ悢璇残撻柣妤冨█楠炲啳顦查摶鏍煕閹伴潧骞栫亸蹇撯攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕ㄦ潏鍓х◤闂佸憡绋戦悺銊╂偂韫囨稒鐓曟い鎰剁悼缁犳牗銇勯妷褍鈻堥柡灞剧☉铻ｇ紓浣姑敓鑺ュ姈閹便劍绻濋崘鈹夸虎閻庤娲忛崝宥囨崲濠靛纾兼慨锝嗗濞茬喎顫忓ú顏勫窛濠电姴瀚崳褔姊绘担绋跨盎缂佽弓绮欓幃楣冩倻缁涘鏅梺缁樺姌鐏忔瑩宕愰悙鐑樷拺闁告劕寮堕幆鍫ユ煕閻旇泛宓嗛柡浣哥Т椤劑宕奸悢鍝勫箰濠电姰鍨煎▔娑㈡晝閿旇姤娅犻柟杈鹃檮閻撴洟鏌￠崒娑橆嚋闁圭櫢绲跨槐鎺楊敊绾拌京鍚嬮梺璇″枟閻熝囧窗婵犲啫绶為悗锝庝憾娴兼捇姊洪懡銈呮瀾闁荤喆鍎抽敓鑺ュ嚬閸樼偓绔熼弴銏犵濞达絽婀遍崢閬嶆煙閸忚偐鏆橀柛濠冪墵閹敻顢旈崱娆戯紲闂佺鏈粙鎴澝归锟介弻鈩冩媴缁嬫寧娈婚悗瑙勬礃鐢帡鍩ユ径濞㈢喖鎳￠妶鍡橆啀闂傚倸鍊搁崐椋庣矆娓氾拷瀹曨垶宕稿Δ锟界粻瑙勩亜閹板爼妾柡鍛箞閺屻劌鈹戦崱妯侯槱濡炪値鍋呭ú姗�骞堥妸銉庢梻锟斤綆鍋勯鑸电節濞堝灝鏋涢柨鏇樺�濋垾锕�鐣￠幍顔芥闂佸湱鍎ら崹鐔煎几鎼淬劍鐓欓悗鐢殿焾鍟搁梺纭呮閻倸顫忕紒妯诲闁绘垶锚濞堝矂姊洪幖鐐诧拷鏍偋閻樿崵宓侀煫鍥ㄧ♁閺呮悂鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋鐑芥⒑閼姐倕顎撻柟椋庡厴閺屻劑寮撮悙璇ф嫹瑜版帒纾归柣銏犳啞閻撶娀鏌涘┑鍕姕闁哄棌鏅濈槐鎺楁偐閹绘巻鎸冮梺璺ㄥ枔閺咁偊骞婇幘瀵哥彾濠电姴娲ょ粣妤呮煛閸モ晛鞋濠殿喗濞婇弻銈嗘叏閹邦剨鎷峰Δ鍐棜濠靛倸鎲￠悡銉╂煟閺傚灝顣抽柣顓熺懅閿熷�燁潐濞叉牕鐣烽鍕叀濠㈣泛艌閺嬪酣鏌熺�涙绠撶紒鐘哄吹缁辨捇宕掑顒婃嫹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鐓庘攽閸愨晝浜欓梻浣告惈濞层劑宕伴幘姹囷拷鍛存煥鐎ｎ剛顔曢梺鐟邦嚟閸嬬喖骞婇敓鑺ョ箾鐎涙鐭嬬紒顔芥崌瀵偅鎯旈姀銏㈢槇濠殿喗锕╅崜娑㈠磹閻愮儤鈷戦梻鍫熶緱閻掗箖鏌涢妸銊︻仩闁跨喕濮ら惌顔惧垝濞嗗浚娼栫紓浣股戞刊鎾煠閹帒鍔ら柕鍡楋躬濮婃椽妫冮埡鍐ょ紓浣哄У閹瑰洭鎮伴璺ㄧ杸婵炴垶鐟﹀▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?

	private long now = 0L;//procedure闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪Ч濠�渚�姊虹紒妯虹仴妞ゎ偅娲熼弫鎾绘寠婢跺鎷烽崸妞硷拷浣割潩閼稿灚娅㈡繛瀵稿Т椤戝洤鐣垫笟锟介悡顐﹀炊閵娧�妾ㄩ梺鍝勬噺閹倿寮婚妸鈺傚亞闁稿本绋戦锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冩繝鍥ц摕闁炽儲鍓氶崥瀣箹缁櫢鎷烽崘宸妧闂傚倷娴囧銊х矆娴ｇ尨鎷峰顐㈠祮鐎殿喛顕ч埥澶愬閻橀潧濮堕梻浣告啞閸旀宕戦幘娲绘晣闁荤喐澹嬮弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濠庢僵妞ゆ劧绲芥刊浼存⒒娴ｅ憡鍟為柟绋挎缁楃喐绻濋崘顭戜紦闂備礁婀遍崕銈夈�冮崱娑欏亗闁告劦鍠楅悡鐔兼煟閺冨偆鐒炬い銉ヮ儔瀵粙鏁嶉崟顓狅紳婵炶揪缍�濞咃絿鏁☉姘辩＜閻犲洩灏欐晶鏇㈡懚閻愮儤鐓曢柟鎵虫櫅婵￠攱淇婇幓鎺斿缂佺粯鐩畷鍗炍熼弴鐔风伌闁轰焦鎹囨俊鐑藉煛閸屾瀚藉┑鐐舵彧缁蹭粙骞夐敍鍕闁跨喓濮甸悡娑㈡煕濠婏拷缁�浣圭濠靛鐓欏〒姘仢婵倹顨ラ悙杈捐�挎い銏＄懇閹虫牠鍩℃担鍝ュ摋濠电姷鏁告慨浼村垂婵傜鏄ラ柡宥庡幖缁�澶愭煛瀹ュ骸骞栭柣銈夌畺閺岀喖姊荤�电濡介梺缁樻尪閸庣敻寮婚敐澶婂嵆闁绘劘顕滈幏鐑藉捶椤撱劍瀚规慨妯煎亾鐎氾拷?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹鐓戞繝銏ｆ硾閻ジ鎯侀崼鐔虹瘈闁汇垽娼у瓭闂佺锕ょ紞濠傜暦閹惰姤鍋╃�癸拷閿熺晫澹曟總鍛婄叆闁绘棁顕ц缂備胶绮换鍫濈暦閸洖惟闁靛鍨辩�氬綊鏌ｉ姀鐘冲暈闁绘挶鍎茬换婵嬫濞戞瑯妫﹀銈呭椤ㄥ﹪寮婚敍鍕舵嫹閿濆骸浜為柕鍡樺笧缁辨帗娼忛妸銉﹁癁闂佽桨鐒﹂幐鑽ょ矉閹烘棑鎷烽敐搴濋偗闁哥偠娉涢—鍐Χ鎼粹�茶埅闂佸摜濮甸〃鍫ユ晸閼恒儰浜㈡い顐㈩樀閵嗗啴濡烽埡鍌氾拷鐑芥煠绾板崬鍘搁柧蹇撻叄濮婃椽宕ㄦ繝鍐ｆ嫻缂佺偓婢樼粔鐢电矚鏉堛劎绡�闁搞儴鍩栭弲婵嬫⒑閹稿海绠撴繛璇х畵瀹曡櫕瀵肩�涙鍙冨┑鈽嗗灥瀹曠數绮诲锟介弻鐔煎矗婢跺锟芥劗锟芥鍣崜娆撳煝鎼淬劍鍊锋い鎺戝�婚埢澶嬬節閻㈤潧啸闁轰礁鎲￠幈銊╂偨閸涘﹤娈為梺鍛婃寙閸愮偓顥￠梻浣侯焾缁绘宕戦幇顔煎К闁跨喍绮欏濠氬磼濮樺崬顤�缂備礁顑嗙敮锟犵嵁閺嶎厼绠涙い鎾跺Х椤旀洟姊洪悷鏉挎毐闁搞垺鐓￠獮濠囧箛椤旂⒈妫滈梺鑺ッˉ銏ｃ亹閹烘挻娅滈梺鍛婃处閸橀箖鎮￠幘缁樷拺闁告稑锕︾粻姘箾閸滃啰鎮兼俊鍙夊姍楠炴帡寮敓鐣岋拷姘哺閺岀喓绱掑Ο铏圭懖濠电偛鐗嗘晶搴ｆ閹惧鐟归柛銉戝嫮浜堕柣搴ｆ閹烽绱掔�ｎ厽纭堕柡鍡畵閺屻劑鎮㈤崫鍕戯綁鏌涙繝鍕幋闁哄苯绉瑰畷顐﹀礋椤愵剚瀚圭憸鐗堝笒缁狙呯磼鐎ｎ亞姘ㄩ柡锟芥禒瀣厽婵☆垵娅ｆ禒娑㈡煛閸″繑娅呴柍瑙勫灴椤㈡瑧鍠婇崡鐐搭啀闂備浇娉曢崰鏇熸叏閵堝绀勭憸鐗堝笒閻鏌涢幇闈涙灍闁哄懏鐓￠弻锝夊箛椤掍讲鏋欓梺鍛婅壘椤戝寮诲☉妯锋闁告瑦顭囬崙褰掓⒑閸濆嫬浜伴柟宄板槻閳规垿鏁嶉崟顐℃澀闂佺锕ラ悧鏇綖韫囨梻绡�婵﹩鍓涢弻褍顪冮妶鍡楀闁稿﹥顨嗙粙澶婎吋婢跺鍘繝銏ｅ煐缁嬫挾妲愰幍顔剧＜閻犲洤寮堕ˉ銏ゆ煛鐏炲墽鈽夐柍璇叉唉缁犳盯鏁愰崱蹇旂亖闂傚倷绀侀幉鈥愁潖閻熸嫈鐔煎锤閸у獛ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺缂佸鍎婚～锕傛煕閺冿拷閸ㄥ灝顕ｆ繝姘櫇闁跨喎锟界喓浜藉┑鐐存尰閸戝綊宕归柆宥呯厺闁圭偓鏋奸弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濞㈢喖宕楅崗鑲╂殾闂傚倷娴囧▔鏇㈠窗瀹ュ洤鍨濇繛鍡楃箳閺嗭箓鏌熸潏楣冩闁稿﹦鍏橀弻娑樷攽閸℃浼�闂佸憡锕㈡禍璺侯潖濞差亜鎹舵い鎾跺仜婵″搫顪冮妶鍐ㄥ婵☆偅绻傞悾鐑藉箛閻楀牆浠洪梺鍛婄☉鑹岄柟宄邦煼濮婃椽宕滈幓鎺嶇敖闂佸摜濮甸幑鍥春閿旂晫鐟归柨鐔剁矙瀵鈽夐姀鈥充簻闂佸憡绻傜�氼亜危閹扮増鈷戦柛婵嗗閻掕法绱撳鍕獢鐎殿噮鍋婇獮鍥级閸ф鏁规繝鐢靛Т閿曘倝宕鐐茬？闁规儳澧庣壕浠嬫煕鐏炲墽鎳勭紒浣规緲椤啰锟芥稒蓱閸婃劖顨ラ悙鏉戝缂佺粯绻傞～婵嬵敆閸屻倕鏁搁梻鍌欑閹诧紕绮欓幒鎴劷婵炲棙鍔曢閬嶆煟濡偐甯涢柣鎾存礋閺岋繝宕堕妷銉ヮ瀳婵犫拃鍌氬祮闁哄被鍔戦幃銏ゅ礄閵堝棗顏堕梺缁樻煥婢瑰﹥绂掗埡鍐＝濞达絼绮欓崫娲煙缁嬫鐓兼鐐茬箻瀹曘劑顢涘☉妯荤�梻浣告啞濞插繘宕濆鍥锋嫹濮橆剦鐓兼慨濠勭帛閹峰懘鎮滃Ο鐑樼暚闂備浇顫夌粊鎾礈濠靛牊宕叉繛鎴炵懅缁★拷闂佹悶鍎崝灞剧閹烘埈娓婚柕鍫濇缁屽潡鏌熸搴″幋闁哄备鍓濋幏鍛喆閸曨偆锛撻梻浣芥〃閻掞箓骞戦崶顒�鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?
	
	@Override
	protected void process()
	{
		// protocol handle
		TeamManager.logger.debug("Enter: " + this.getClass());
		final long inviterRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (inviterRoleId < 0)
			return;
		final long invitedRoleId = roleid;
		if(inviterRoleId == invitedRoleId)
		{
			MessageMgr.sendMsgNotify(inviterRoleId, 166006,  null);			
			
			return;
		}
		
		if (invitedRoleId < 0)
		{
			return;
		}
		
		BuffAgent agent = new BuffRoleImpl(inviterRoleId, true);
		if (agent.existBuff(PlayPKManage.BuffDuelID)) {
			if (fire.pb.team.TeamManager.isInTeam(inviterRoleId))
				MessageMgr.sendMsgNotify(inviterRoleId, 141866,  null);
			else 
 			    MessageMgr.sendMsgNotify(inviterRoleId, 141133,  null);
			return;
		}
	
		Long inviterclanfightid = xtable.Roleid2clanfightid.select(inviterRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞﹩娼ㄩ柨鐔烘櫕缁寮借閺嗭附绻濋棃娑卞剱闁哄懏鎮傞弻銊╂偆閸屾稑顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
		if (inviterclanfightid != null)
		{
			Long invitedclanfightid = xtable.Roleid2clanfightid.select(invitedRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夋偂閻旇偐鍙撻柛銉ｅ妽缁�锟芥繛瀵稿缁犳捇寮诲☉娆愬劅闁靛牆妫涜ぐ褏绱撴担绋匡拷鍦暜閻旇櫣涓嶆繛鎴欏灩缁犲ジ鏌涢幇銊︽珔闁伙附绮撳缁樼瑹閿熻棄顭囪閹囧幢濡炪垺绋戣灃濞达絿鎳撳鍧楁偡濠婂啰绠虫俊鍙夊姍楠炴帒螖娴ｉ晲姹楅梻浣告啞閸旀浜稿▎鎰嚤鐎癸拷閸曨兘鎷洪柡澶屽仦婢瑰棝宕濆澶嬬厵闁荤喓澧楅崰妯活殽閻愭潙濮堢紒缁樼箞瀹曟﹢濡歌閻涱喗绻濈喊妯活潑闁搞劋鍗抽獮鏍敃閿濆洨褰鹃柣搴秵閸犳鍩涢幒鎳ㄥ綊鏁愰崨顔藉枑缂備礁顦遍崕銈夊Φ閸曨垰唯闁挎棁妫勯棄宥囩磽娴ｈ櫣甯涢柣鈺婂灦瀵偊骞樼�靛壊娴勯柣搴秵閸嬪棝宕㈤棃娑辨富闁靛牆妫欓悡銉╂煕濮橆剦鍎旂�规洘鍨挎俊鐑藉煛閸屾粌骞愬┑鐐舵彧缂嶏拷妞ゎ偄顦悾宄扮暆閸曨剛鍘告繛杈剧秬椤鐣峰畝鍕厸濞达綀顫夊畷宀勬煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
			if (!inviterclanfightid.equals(invitedclanfightid))
			{
 			    MessageMgr.sendMsgNotify(inviterRoleId, 410022,  null);
 			    return;
			}
			else
			{
				xbean.ClanInfo claninfo = ClanUtils.getClanInfoById(inviterRoleId, true);
				if (claninfo == null)
				{
					return;
				}
				
				xbean.ClanMemberInfo memberinfo = claninfo.getMembers().get(invitedRoleId);
				if (memberinfo == null)
				{
	 			    MessageMgr.sendMsgNotify(inviterRoleId, 410023,  null);
					return;
				}
			}
		}
		else
		{
			Long invitedclanfightid = xtable.Roleid2clanfightid.select(invitedRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夋偂閻旇偐鍙撻柛銉ｅ妽缁�锟芥繛瀵稿缁犳捇寮诲☉娆愬劅闁靛牆妫涜ぐ褏绱撴担绋匡拷鍦暜閻旇櫣涓嶆繛鎴欏灩缁犲ジ鏌涢幇銊︽珔闁伙附绮撳缁樼瑹閿熻棄顭囪閹囧幢濡炪垺绋戣灃濞达絿鎳撳鍧楁偡濠婂啰绠虫俊鍙夊姍楠炴帒螖娴ｉ晲姹楅梻浣告啞閸旀浜稿▎鎰嚤鐎癸拷閸曨兘鎷洪柡澶屽仦婢瑰棝宕濆澶嬬厵闁荤喓澧楅崰妯活殽閻愭潙濮堢紒缁樼箞瀹曟﹢濡歌閻涱喗绻濈喊妯活潑闁搞劋鍗抽獮鏍敃閿濆洨褰鹃柣搴秵閸犳鍩涢幒鎳ㄥ綊鏁愰崨顔藉枑缂備礁顦遍崕銈夊Φ閸曨垰唯闁挎棁妫勯棄宥囩磽娴ｈ櫣甯涢柣鈺婂灦瀵偊骞樼�靛壊娴勯柣搴秵閸嬪棝宕㈤棃娑辨富闁靛牆妫欓悡銉╂煕濮橆剦鍎旂�规洘鍨挎俊鐑藉煛閸屾粌骞愬┑鐐舵彧缂嶏拷妞ゎ偄顦悾宄扮暆閸曨剛鍘告繛杈剧秬椤鐣峰畝鍕厸濞达綀顫夊畷宀勬煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
			if (invitedclanfightid != null)
			{
				if (!invitedclanfightid.equals(inviterclanfightid))
				{
	 			    MessageMgr.sendMsgNotify(inviterRoleId, 410024,  null);	
	 			    return;
				}				
			}
		}
		
		PropRole prole = new PropRole(invitedRoleId, true);
		if(prole.getProperties().getCruise() > 0) {
			TeamManager.logger.info("CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閻戞ê鏋戦悗骞垮劚椤э拷缂傚秵鐗楃换婵嬫濞戝崬鍓鹃梺杞扮濡繈寮婚妸鈺傚亜闁告挷鑳堕悡鎾绘⒑鏉炴壆鍔嶉柟鐟版喘楠炴劖绻濋崘銊х獮閻庣櫢鎷烽柨鐔诲Г椤ㄦ瑩姊婚崒娆愮グ妞ゆ洘鐗犲畷褰掑级濡灚妞介、姗�濮�閻樺磭锟筋剟姊洪悷鏉库挃缂侇噮鍨跺鏌ュ箹娴ｅ湱鍙嗛梺缁樻礀閸婂湱锟芥熬鎷�" + invitedRoleId + "闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冮叄閵嗗啴濡疯閻瑩鏌涢弻顓滃�ч幏鐑藉锤濡わ拷缁狙囨煕椤愶絿顣叉繛鍛閺屾稖绠涢弮鍌滅厜闂佸搫鏈惄顖炪�侀弴銏℃櫜闁糕剝鐟Σ顒傜磽閸屾瑧绛忛柟椋庡厴閺屾盯顢曢妶鍛亖缂備讲妲勯幏鐑芥⒒閸屾艾锟芥悂鎮ф繝鍐懝婵°倕鎳庣壕鍧楁煙閹殿喖顣奸柣鎾存礋閹鏁愭惔婵囧枤濠碘槅鍨介幏鐑芥⒒娴ｅ憡鎯堥柡鍫墴閹嫰顢涢悙顏庢嫹娓氾拷瀵挳濮�閳╁啯鐝抽梻浣虹《閸撴繈鎮烽姣硷絾瀵肩�涙ǚ鎷绘繛杈剧导鐠�锕傛倿閻愵兙浜滈柟瀛樼箖椤ャ垻锟借娲樼换鍌炲煝鎼淬劌绠婚悗鍦У閹蹭即姊绘笟锟藉褔鎮ч崱娴板洦瀵煎銈咁樀瀹曞ジ濡烽敂鎯у笚闂備礁鎲＄换鍌滐拷姘煎墴閺佹捇鎳為妷锕�锟芥劖銇勯姀鈩冾棃闁轰焦鎹囬弫鎾绘晸閿燂拷??,婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ姀鐘差棌闁轰礁锕弻鈥愁吋鎼粹�崇缂備焦鍔栭〃鍡樼┍婵犲洤围闁告侗鍘藉▓鍓佺磽娴ｇ懓鏁剧紒鐘虫崌瀵鈽夊搴⑿俊鐐�戦崝宀勫箠閹邦厾鐝堕柡鍤堕姹楅梺鍦劋閹搁箖宕㈤幖浣瑰�甸悷娆忓閹嫰鏌涢悩宕囧⒌鐎殿喚鏁婚、妤呭磼閿旇棄顏堕梻鍌氱墛缁嬫捇鎮為崨濠冨弿濠电姴鎳忛鐘电磼椤旂晫鎳囨鐐村姈閹棃濮�閳ユ剚浼嗙紓鍌氬�搁崐椋庣矆娓氾拷椤㈡牠宕卞☉妯碱唹闂佹悶鍎洪崜娆撳及閵夆晜鐓忛煫鍥ь儏閿熻姤娲滈悮鎯ь吋婢跺鍘遍悗鐧告嫹閻庯綆鍠楅宥夋煟鎼搭澀浜㈡い顐㈩樀閵嗗啴濡烽埡鍌氾拷鐑芥煠绾板崬鍘搁柧蹇撻叄濮婃椽宕ㄦ繝鍐ｆ嫻閻庣櫢鎷烽柟闂寸閽冪喖鏌ㄥ┑鍡樺晵闁哄啫鐗婇弲鎼佹煢濡尨绱氭繛鎴炃氶弨浠嬫煕閳╁啰鎳勬繛鍫ョ畺濮婃椽妫冨☉姘辩杽闂佺锕ュú婊呭垝閼姐倗纾兼俊顖炴櫜缁ㄥ姊洪崫鍕殭闁稿﹦鎳撻埢宥夊即閵忥紕鍘卞┑顔筋殣閹峰嘲霉濠婂棙纭鹃摶鐐烘煕濞戞瑦鍎楅柡浣稿暣閺屾洝绠涙繝鍌氣拤闂佽鍠楅悷銉┾�旈崘顔嘉ч柛鈩冾殘娴犳挳姊虹涵鍛彧闁挎岸鏌ｉ敐鍛Щ闁宠鍨归敓鏂ょ秵閸嬪懎鈻嶉崱娑欌拺闁荤喐澹嗛幗鐘绘偨椤栨粌浠х紒顔款嚙椤繈鎳滈悽闈涘箺闂備胶绮敋鐎殿喖鐖煎畷銏ゅ磼閻愬鍘遍梺鍝勬储閸斿本绂嶉挊澹濆湱娑甸柨瀣伓");
			fire.pb.talk.MessageMgr.sendMsgNotify(inviterRoleId, 162026, null);
			return;
		}
		
		PropRole inviterroleid = new PropRole(inviterRoleId, true);
		if(inviterroleid.getProperties().getCruise() > 0) {
			TeamManager.logger.error("CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇㈡倷婵犲洦鐓忓┑鐘茬箻濡绢喗銇勮箛鏇炴灈婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑闂堚晝绉剁紒鐘虫崌閻涱喛绠涘☉娆愭闂佽法鍣﹂幏锟�" + inviterroleid + "闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閻戞ê鏋戦悗骞垮劚椤э拷缂傚秵鐗楃换婵嬫濞戝崬鍓鹃梺杞扮濡繈寮婚妸鈺傚亜闁告挷鑳堕悡鎾绘⒑鏉炴壆鍔嶉柟鐟版喘楠炴劖绻濋崘銊х獮閻庣櫢鎷烽柨鐔诲Г椤ㄦ瑩姊婚崒娆愮グ妞ゆ洘鐗犲畷褰掑级濡灚妞介、姗�濮�閻樺磭锟筋剟姊洪悷鏉库挃缂侇噮鍨跺鏌ュ箹娴ｅ湱鍙嗛梺缁樻礀閸婂湱锟芥熬鎷�" + invitedRoleId + "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晜銇勯幒鎴濓拷鐟扳枔婵傚憡鍊垫鐐茬仢閸旀碍銇勯敂鍨祮闁糕晜鐩獮瀣晜鐟欙絾瀚介梻浣稿閸嬪棝宕板鍥偨闂侇剙绉甸悡鐔兼煙閻戞﹩娈橀柣锝嗘そ閺岋紕浠﹂崜褉妾ㄩ梺璇″灡濡啴宕洪妷鈺佸耿婵°倓绶￠崯锟界紓鍌氬�搁崐椋庢閿熺姴闂い鏍ㄧ矊缁躲倝鏌涙繝鍕灁濞存粍鐟ラ埞鎴︽倷閼搁潧娑х紓鍌氱▌閹峰嘲鈹戦悙鍙夊珔缂傚秳绶氶妴浣糕枎閹惧啿宓嗛梺闈涚箚濡狙囧箯濞差亝鐓熼柣鏂挎憸閹冲啴鎮楀鐓庡缂侇喖鐗撳畷姗�鍩￠崘顏嶅晭闂備礁鎲℃笟妤呭窗濡ゅ啰鐭嗛悗锝庡亽濞堜粙鏌ｉ幇顒佲枙婵¤尪娅ｇ槐鎺楊敊閻ｅ本鍣梺璇″灡濡啴鐛Ο纭锋嫹濞戞鎴濐熆閹存績鏀介柨娑樺娴滃ジ鏌涙繝鍐ⅹ閾荤偛霉閿濆牜娼愰柛娆忕箻閺屾洟宕煎┑鎰︾紒鐐劤缂嶅﹪寮婚悢鍏肩劷闁挎洩鎷风�殿喚鍋撶换娑㈠醇濠婂懐鐓撻梺鍝勭焿缂嶄線鐛�ｎ亖鏀介柛銉戝本袩闂備浇顕х�涒晠鎮㈤鍕闁跨噦鎷�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐鐢�崇暦閿濆牏鐤�闁哄倸澧界粻姘舵⒑闂堟稓澧曢柟宄邦儔瀹曟洟骞囬悧鍫濓拷鍨叏濮楀棗澧扮紒澶屽劋閹便劍绻濋崘鈹夸虎閻庤娲﹂崑濠傜暦閻旂⒈鏁囬柣妯诲絻铦庨梻鍌氬�烽懗鍫曞箠閹捐鍚归柡宥庡幖缁狀垶鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锕備憾瀵偆鎷犻懠顒佹闂佺鎻粻鎴犲婵傚憡鐓熼柟閭﹀墻閸ょ喖鏌涘锟芥禍璺侯潖濞差亝顥堟繛鎴ｉ哺椤庡棛绱撴担钘夎敿濠殿喓鍊栫粚杈ㄧ節閸パ咁唶闁圭厧鐡ㄧ粙鎰姳婵犳碍鈷戦柛鎰级閹牊銇勯幋婵囶棤闁跨喕濮ら悢顒勫箯閿燂拷?");
			fire.pb.talk.MessageMgr.sendMsgNotify(inviterRoleId, 162026, null);
			return;
		}
		
		agent = new BuffRoleImpl(invitedRoleId,true);
		if (agent.existBuff(PlayPKManage.BuffDuelID)) {
			MessageMgr.sendMsgNotify(inviterRoleId, 141865,  null);
			return;
		}

		if (checkPvP(inviterRoleId, invitedRoleId) != 0) {
			return;
		}

		mkdb.Procedure createTeamP = new mkdb.Procedure()
		{

			@Override /*lock濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴濐潟閿熻棄鍊块、娆撴倷椤掑缍楅梻浣告惈濞层垽宕归崷顓烆棜濠电姵纰嶉悡娆撳级閸繂鈷旈柣锝堜含閻ヮ亪骞嗚缁夋椽鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝囩磽閸屾瑨鍏屽┑顕�绠栭敐鐐村緞閹邦儵锕傛煕閺囥劌鐏犵紒鐘崇洴閺屽秵娼幍顔剧摌闂佺懓鍢查崲鏌ュ煡婢跺ň鏋庨柟閭﹀墮娴煎酣姊绘担绛嬫綈闁稿骸鍚嬮幈銊╁Χ婢跺浜楅梺闈涱槴閺呮粓鎮￠悢鍏肩厸闁搞儮鏅涙禒婊堟煥閻旂粯顥夋繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚� team->roleid->match by changhao*/
			protected boolean process()
			{
				Team team = null;
				//lock start 
				Long teamId = xtable.Roleid2teamid.select(inviterRoleId);
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁涘缍堟繝銏㈡嚀濡瑩寮茬捄浣曟棃宕ㄩ鐙呯幢闂佽鍑界紞鍡涘窗濡ゅ懏鍋傛繛鍡樻尰閻撴洟鏌熼悙顒夋當闁瑰啿娴风划顓㈡晸閻樻枼鎷虹紓浣割儐椤戞瑩宕曢幇鐗堝珔閺夊牃鏅濈壕鑲╃磽娴ｈ鐒芥繛鎻掝嚟閿熷�燁潐濞叉牕鐣烽鍐航闂備焦鍎崇换姗�鏁撻懞銉р檨妞ゃ垺锕㈠缁樻媴缁涘娈柣搴㈢▓閺呮繈宕版繝鍌ゅ悑濠㈣泛顑呭▓鐐翠繆閵堝繒鍒伴柛鐕佸亯缁绘岸姊绘担鍛婅础闁稿簺鍊濆畷娲醇濠垫劗鍔烽梺鍐叉惈閹冲繘鎮￠悢鍏肩厵濞寸厧鐡ㄥ☉褍顭胯閸犳濡甸崟顔剧杸婵﹩鍓涢崢顐ょ磽娴ｈ櫣甯涚紒璇插�块、姘跺Ψ閳轰礁鍤戝銈嗗姦濠線骞忛悜钘壩у璺猴工閹偤鏌ｆ惔顖滅У闁哥姵顨婇崺娑㈠箳濡や胶鍘遍梺鍝勬储閸斿本绂嶅鍕╀簻闊浄绲芥禍浼存煛鐏炶濮傞柟顔哄灲閹粌螣閼姐倕娑ч梻鍌欐祰濡椼劑鎮為敃鍌氱畺闁稿本姘ㄩ弳锕傛煏韫囥儳绉垫俊顖氬椤啴濡堕崘銊т痪闁藉啳浜槐鎺楁惞鐟欏嫭鐝紓渚囧枟閻熲晛鐣疯ぐ鎺濇晩闁告牑鍓濈�氬綊鏌涢…鎴濇灀闁猴拷娴犲鐓冮柦妯侯槹椤ユ粓鏌ｈ箛銉хМ闁哄本绋掗幆鏃堝閻樺吀鎮ｇ紓鍌欑贰閸犳牠鈥﹂悜鐣屽祦婵☆垰鍚嬬�氭岸鏌ら懝鏉跨厫闁硅尙澧楃换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮崘顔肩厸濞撴艾娲ㄩ崝鐑芥⒑閸愬弶鎯堥柟鍐茬箻閹繝寮撮姀锛勫幍闂佺粯鍔﹂崜锕�鈻撻弮鍫熺厵闁惧浚鍋勬慨宥夋煙椤旇宓嗗┑锛勫厴閸╋繝宕掑Δ浣割伖闂傚倷鑳堕崢褔锝為弴銏犵９闁哄洨鍠撴晶锟犳⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯囬敓钘夊暞缁绘繈宕掑鍕啎濠电偞娼欓崥瀣焽濞嗘垹涓嶅┑鐘崇閸嬶綁鏌涘┑鍡楊仾闁诡垰鐗撻弻锝堢疀閹垮嫯鍚┑顔硷龚濞咃綁骞戦崟顖毼╅柕澶涘瑜版岸姊绘担鐑樺殌闁搞倖鐗犻獮蹇涙晸閿燂拷?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繒绱掑Ο鑲╂嚌闂佹悶鍎滈崘鐐氦缂傚倸鍊风粈渚�藝椤栫儐鏁嬫い鎾跺Т閸ㄦ繈鏌ㄥ┑鍡樺晵闁哄啫鐗嗗婵囥亜閺冿拷閸庢娊鐛崼鐔虹瘈闁汇垽娼ф禒锕傛煕閵娾晜娑ч柣锝囧厴椤㈡宕熼锟介敓钘夌埣閺岋紕浠︾拠鎻掑闂佺粯鎸婚悷鈺呭蓟閿濆绠ｉ柣妯虹仛閹叉ê鈹戦埥鍡椾簼闁搞劌娼″濠氭偄閻撳海鐓戞繝銏ｆ硾椤戝懘宕径鎰�甸悷娆忓缁�鍫ユ煕閻樺磭澧甸柕鍡曠铻ｆ繛鍡欏亾姝囧┑鐘垫暩閸嬫盯鎮ч幇甯稏濠㈣泛鏈畷鍙夌節闂堟稓澧曢柡瀣墛閹便劌螖閿熶粙鎮ф繝鍕舵嫹濮橆剛绉洪柡灞剧洴楠炲洭顢涘杈嚄濠德板�楁慨鏉懨洪鐑嗘綎闁惧繗顫夌�氭岸鏌嶉妷銊︾彧闁诲繐鐗撳铏圭矙閸栤剝鏁鹃梺璇″枛閸婂潡鐛崘鈹垮亝闁告劏鏅涢敓钘夘煼閺岋箑螣閻氬绀嗛梺闈浥堥弲婊堟偂閸愵喗鐓曟繝闈涙椤忊晠鏌ㄩ悢鐑樻珪闁硅櫕鎹囬崺銏狀吋婢跺﹦鍊炲銈嗗笂鐠佹煡骞忛搹鍦＝濞达絽澹婇崕鎰版倵缁楁稑鍠涢懓鍧楁煙濞堝灝鏋ょ痪鎯с偢閹鏁愭惔鈥茬盎濠电偞鎯岄崰姘舵晸閼恒儺鍟忛柛鐘崇☉閳诲秹寮撮悩鐢电厯婵犵數濮寸�氼剛锟戒絻灏欓惀顏堝箥椤旇偐姣爈ock
				if(teamId != null)
				{//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚泛鈹戦悩娈挎殰缂佺粯绻傞…鍥樁闁诲繑甯炵槐鎾诲磼濞嗘垵濡藉銈庡幖濞层劎鍒掗弮鍌涘磯閻炴稈鍓濋弬锟介梻浣虹帛閸旀洟鎮洪妸褌鐒婃い鎾卞灪閻撴瑩鏌ｉ敐鍛伇濠㈣顤俹ck
					team = new Team(teamId,false);
					//if(!team.isTeamLeader(inviterRoleId))
					//	return true;//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柟缁㈠枟閸庡顭块懜闈涘缂佺嫏鍥ㄧ厱闁哄秲鍊曟晶鏌ユ倵濮樻剚娼愬ǎ鍥э躬婵″爼宕熼鐐差瀴闂備礁鎲￠悷銉ф崲濮楋拷瀵鎮㈤搹鍦紲闂侀潧绻掓慨鐢告倶瀹ュ鈷戠紒瀣仢椤掋垺銇勯妸銉﹀殗濠碘剝鎸抽獮鎺楀箣椤撶喎鍏婇梻浣虹帛閸旓箓宕滃▎鎿冩晜闁割偅娲橀埛鎺懨归敐鍥╂憘闁搞倕鍟撮弻娑⑩�﹂幋婵堜桓闂佽鍠氶崑銈夊极閸愵喗鏅稿ù鐘差儛閺佸鏌曟径鍡樻珔缂侊拷鐎ｎ偁浜滈柟鎯ь嚟缁犳牠鏌涢弴鐐叉殻婵﹨娅ｉ幏鐘诲灳瀹曞浄鎷锋繝姘厱婵炴垵宕顕�鏌涘▎娆戠瘈婵﹤顭峰畷鎺戭潩椤掑﹥瀚瑰瀣椤愯姤鎱ㄥ鍡楀⒒闁绘帞鏅幉鎼佸籍閸ヮ煈妫ㄦ繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁糕剝绋戠壕濠氭煕瀹�锟介崑鐐烘偂閺囩喆浜滈柟鏉垮閹偐绱掗悩顔煎姦闁哄矉缍侀獮鎺戭吋閸モ晝鍘梻浣告惈鐞氼偊宕濋幋锕�绠栭柕蹇嬪�曟导鐘绘煕閺囩喎鐓�缂傚秳绶氬濠氭晲婢跺﹦顔掗柣鐘荤細閵嗭拷闁哄鎳樺娲传閸曨厾鍔圭紓鍌氱С缁舵岸鐛崘顔碱潊闁靛牆鎳庣粣娑欑節閻㈤潧孝閻庢凹鍓熷畷鐢稿箳閺冨倻锛濋梺绋挎湰閻熴劑宕楀畝鍕�垫慨姗嗗墰缁犺崵锟借娲滈崰鏍�侀弮鍫濆耿婵炲棙鍨跺В搴ㄦ⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樺啿浠梺闈涱槴閺侊繝宕堕妸銉殼闂佸搫顦伴崹褰掓晬濞嗘挻鈷戠憸鐗堝笒娴滀即鏌涢敐搴＄仸妤犵偛绻戦ˇ鐗堟償閵忕姵鐎梻浣告啞濞诧箓宕滃☉銏℃櫖婵鎷锋慨濠呮缁瑩骞愭惔銏犻棷闂備浇妗ㄥù鍥敋瑜旈、姘舵晲婢舵ɑ鏅濋梺鎸庢穿閹烽绱掗敓浠嬪礃椤旂晫鍘撻梺鍛婄箓鐎氼剟鏁撻懞銉﹀�愭い銏℃崌楠炴绱掑Ο閿嬪闂備浇顕栭崹搴ㄥ川椤栵絽鏅ュ┑锛勫亼閸婃牕煤濮楋拷閹囨偐閼碱剚娈惧銈嗙墱閸嬫稓澹曟總鍛婄厽闁归偊鍠涜棢闂佸綊顥撶划顖滄崲濞戞瑦缍囬柛鎾楀啫鐓傞梻浣侯攰椤曟粎鎹㈠┑瀣祦闁糕剝绋戦柋鍥煏婢舵稓鐣遍柨鐔绘閻忔岸骞堥妸銉庣喖宕崟顔肩厴闂備礁鎲￠敋妞ゆ洦鍙冮弫鎾诲磹閻曚焦缍堝┑鐐插级閻楁洟鏁冮姀銈嗙劶鐎广儱鎳愰澶愭⒑閸涘﹥澶勯柛鎾寸閸掑﹪骞橀鐣屽幐闂佹悶鍎插﹢鍦姳閻ｅ瞼纾煎鑸得▍宥夋煛鐏炵澧查柟宄版噽缁瑩宕犻埄鍐伓闂佺鍕垫當缂佺姵婢橀埞鎴︽偐閹绘帗娈紓浣稿閸嬬偞绌辨繝鍥舵晬婵犲﹤鍟俊鍝勵渻閵堝棙鈷愰柟鐟版搐椤繘鎼圭憴鍕彴闂佸搫琚崕娲晸閼恒儺娈樼紒杈ㄥ浮閹晠鎳犻顐庡拑鎷风憴鍕婵炶尙鍠庨悾鐑芥晸閻樺啿锟藉墎绱撴担鑲℃垿濡靛┑瀣厸濞达絿顭堥弳锝囷拷瑙勬礃鐢帡鍩ユ径濞㈢喓鎲撮崟顐＄凹闂傚倸鍊搁崐鎼佸磹妞嬪孩顐介柨鐔哄Т缁�鍫熺箾閸℃ê鐏╅柣顓熸崌閺岋綁濮�閵忊晝鍔搁梺缁樻尰濞茬喖寮婚悢鍏煎�绘慨妤�妫欓悾鐑芥⒑缂佹ɑ灏版繛鑼枛瀵鎮㈤悡搴ｉ獓闂佸壊鐓堥崰妤呭磹鎼达絿纾藉ù锝夋涧婵″吋銇勯鐘插幋鐎殿喖顭烽弫宥夊礋閼搁潧顏堕梺鎸庣箓妤犲憡绂嶉悙瀵哥闁告瑥顦扮亸锕傛煛鐏為潻鎷峰畷鍥ㄦ畷闁诲函缍嗛崜娑㈡儊閸儲鍊甸悷娆忓缁�瀣瑰鍐煟闁靛棔绀侀～婊堟晸娴犲绠栭柕蹇ョ磿闂勫嫬顭跨捄渚Ш濠㈣鎷�
				}
				
				// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴婵﹥妞介、妤呮晸閻ｅ瞼鐭撴い鏇嫹闁轰焦鎹囧顒勫Χ閸モ晜娈奸柣搴ゎ潐濞叉牠濡堕崨濠佺箚濡炲鍑介幏鐑芥晲鎼存繄鍑归梺鍝ュУ閿曘垽寮婚悢纰辨晩闁绘劦鍓氶悵顏嗙磽娓氬洤鏋熼柣鐔濆洤绠柣妯虹－閳瑰秹鏌涘Δ鍐ㄤ粶濠殿噯绠戣灃闁绘﹢娼ф禒锕傛煟濡や焦绀夌憸棰佺椤啴濡堕崱妤呭殝闂佸綊顥撻崗姗�寮婚敐鍫㈢杸闁挎繂瀚伴崑妤呮⒑閸濆嫭婀扮紒瀣浮楠炲棝寮崼鐔告珳闂佸憡渚楅崰姘椤忓牊鈷掑ù锝堟鐢盯鏌熺亸鏍ㄦ珚鐎规洘鍨剁换婵嬪磼濠婂嫭顔曢梻浣稿閸嬪懎煤閺嶃劌鍔旈梺鑽ゅ枑缁矂藝椤栫偐锟芥牗绻濋崶顬晠鏌嶉崫鍕拷鐢稿箯濞差亝鐓涘璺鸿嫰娴狅箑顭块悷鐗堫棦鐎规洘绻傞濂稿幢閹邦亞鐩庨梻浣告贡閸庛倕顫忚ぐ鎺戠？闁谎呯倰lock闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笩濡嫰鍩為幋锔藉亹閻庡湱濮撮ˉ婵堢磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷? teamlock
				Long inviterTeamId = null;
				Long invitedTeamId = null;
				if (inviterRoleId < invitedRoleId)
				{
					inviterTeamId = xtable.Roleid2teamid.get(inviterRoleId);
					invitedTeamId = xtable.Roleid2teamid.get(invitedRoleId);
				} else
				{
					invitedTeamId = xtable.Roleid2teamid.get(invitedRoleId);
					inviterTeamId = xtable.Roleid2teamid.get(inviterRoleId);
				}
				//lock end
				
				now = System.currentTimeMillis();
				
				if(!checkOnline(invitedRoleId, inviterRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀勩�傚ú顏呪拺闁芥ê顦弳鐔兼煕閻樺磭澧电�殿喖顭峰鎾偄閾忚鍟庨梻浣稿閻撳牓宕伴弽銊х彾闁告洦鍋�閺�浠嬫煟閹邦剙绾ч柍缁樻礀闇夋繝濠傚閻帞锟借娲橀敃銏ゅ极閹惧顩烽悗锝庡亜娴狀厼鈹戦悩璇у伐闁哥姵鑹惧嵄闁归棿绀佺涵锟介梻渚囧墮缁夌敻鎮￠弴鐔翠簻闁归偊鍠栧瓭闂佸憡姊圭划鎾诲蓟閿濆绠婚悗娑欘焽椤︺劑姊洪棃娑欐悙閻庢矮鍗抽悰顕�宕堕锟介悡娑樸�掑顒婃敾閻庢艾缍婇弻锟犲炊閵夈儳浠奸梺鍛婂灩婵兘鏁撻挊澶岀暛闁稿骸宕叅闁靛ě鍐炬婵犻潧鍊婚…鍫㈢棯瑜旈弻娑㈩敃閿濆洠妲堟繝纰橈拷宕囦虎妞ゎ叀鍎婚ˇ鎾煛娴ｅ壊鐓肩�殿喖顭烽幃銏㈠枈鏉堛劍娅撻梻浣告贡椤牆霉閻戣棄违闁归偊鍓﹀〒濠氭煏閸繈顎楀ù婊勭箘缁辨帞鎷犻懠顒�鈪靛Δ鐘靛仜閸熸挳宕洪崟顖氱闁宠桨绀佹俊铏節閻㈤潧鈻堟繛浣冲吘娑樷枎閹炬潙锟界敻鏌熼幆鏉啃撻柍閿嬪浮閺屾稓浠﹂崜褎鍣梺绋跨箰閺堫剟濡甸崟顖ｆ晣闁绘劙娼ч埅鐢告⒑鏉炴壆顦﹂柛鐔风摠娣囧﹪鎳滈棃娑氱獮濠碘槅鍨崇划顖氣枍閸儲鈷掑ù锝堫潐閸嬬娀鏌涙惔銏°仢鐎规洘绮岄埢搴ㄥ箣閻樿京鐟濇俊鐐�栭悧婊堝磻閻愮儤鍋傞柣鏃堟櫜缁诲棙銇勯弽銊х闁搞倖鐟ラ…鑳檨闁搞劏椴哥粚杈ㄧ節閸パ咁唽闂佸湱鍎ゅ缁橆殭濠德板�楁慨鐑藉磻閻愮儤鍋嬮柡鍥ｏ拷宕囧�掑┑锛勫亼閸婃牜鏁鍫濈闁绘垼濮ら悡鐔肩叓閸ラ鍒版繛鍛Ч閺屸�崇暆鐎ｎ剛鐦堥悗瑙勬礀瀹曨剟鍩㈡惔銈囩杸濠电姴鍟伴敓鐣屽缁绘繂鈻撻崹顔界亪闂佹寧娲忛崝宀勫煝瀹ュ鏅查柛銉厛濞肩喖姊洪崷顓炲妺闁搞倧绠撻幃銏ゅ传閵壯勫殞婵＄偑鍊栭悧妤佺瑹濡わ拷铻為柕澶嗘櫆閳锋帡鏌涚仦鍓ф噮妞わ讣绠撻弻鐔哄枈閸楃偘鍠婂Δ鐘靛仜閿曘劎绮诲☉妯锋婵炲棗绻愭竟鍡樹繆閻愵亜锟芥牠鎮у鍫濈；闁硅揪闄勯弲鎼佹煙鐎涙ê绗фい锔肩畵閺屽秶鎷犻崣澶婃敪缂備胶濮甸惄顖炲极閹版澘宸濇い鏃傘�嬮幏鐑筋敍閻愮补鎷绘繛杈剧秬濞咃綁濡存繝鍥ㄧ厱闁规儳顕粻鐐烘煙椤旀儳鍘村┑顕嗘嫹闂侀潧鐗嗛幊搴ㄥ吹閹达附鈷戦柛婵嗗閳诲鏌涘Ο鍦煓鐎规洘鍔欏畷褰掝敃椤愶綆鍟嶉梻浣虹帛閸旀浜稿▎鎰浄闁靛繈鍊栭悡鏇㈡煛閸愭寧瀚归悗鐧告嫹闁归棿绀侀拑鐔兼煟閺冨倸甯剁紒锟介崘顔界厾缁炬澘宕晶鐗堛亜閺冿拷鐢�愁潖閾忓湱纾兼俊顖滅帛閸庡酣姊洪崨濠冨暗闁哥姵鐗犳俊瀛樻媴閼叉繃妫冨畷銊╊敇閻欏懐搴婂┑鐘垫暩婵挳鏁冮妶澶婄闁瑰濮甸～鏇㈡煛鐏炶鍔滈柍閿嬪笒闇夐柨婵嗙墕琚氱紒缁㈠幖閻栧ジ寮诲☉銏℃櫜闊洦娲滈弳銈呂旈悩闈涗粶缂佺粯锕㈠顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷?(illegal)
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑濠㈣泛顑呭▓鐐翠繆閵堝繒鍒伴柛鐔哄█閺佹捇鎳為妷锔绘閻庤娲橀敃銏ゃ�侀弮锟介幆鏃堝閻欙拷娴兼捇姊绘担鐟邦嚋缂佽鍊婚懞閬嶆嚃閳哄嫬小缂傚倷鐒﹁彠濞存粍绮撻弻鐔煎传閸曢潧鍓伴梺璇茬箲閻擄繝寮婚垾宕囨殕閻庯綆鍓涜ⅵ闂備浇妗ㄩ悞锕傚礉閺嵮屽殫闁告洦鍓欑欢鐐烘倵閿濆簼绨奸柣蹇旀崌濮婂宕掑▎鎴М闂佸湱鈷堥崑濠囧箚鐏炴儳绶為悘鐐垫櫕缁涘繑绻涚�电孝妞ゆ垵鎳橀幃鈥愁潨閿熶粙寮诲☉銏犵疀闂傚牊绋掗悘宥夋⒑缁嬪尅韬柡锟介柆宥呂﹂柛鏇ㄥ灠缁犲磭锟藉箍鍎遍悧鍡涘储閿熺姵鍋℃繝濠傚缁舵煡鏌熼崘鑼缂佸矁椴哥换婵嬪炊閵娿儻鎷烽柨瀣ㄤ簻闊洦鎸搁鐢告煙妞嬪骸鍘寸�殿喕绮欓、姗�鎮欓懜鍨暫闂傚倷绶氬褑鍣归梺鍛婁緱閸ㄦ娊宕㈤悩缁樷拻濞达絽婀卞﹢浠嬫煕閵娿儺鐓肩�殿噮鍋婇獮鏍ㄦ媴閻熸澘澹掓繝鐢靛仜濡霉濮樿埖鍋勯柛鈩冪♁閸嬶綁寮堕悙鏉戭�滄い鎺斿枛閺岋綁骞欓崘銊モ拫闂佸搫鏈粙鎴︼綖濠靛鏁嗗璺猴工婢瑰酣姊绘担鍛婃儓闁哄牜鍓涚划娆撳箣閿曪拷閻撯�愁熆閼搁潧濮囩痪顓ㄦ嫹闂備胶绮崝鏇㈩敋椤撶喓顩风�癸拷閸曨兘鎷绘繛杈剧到閹诧繝宕悙鐑樼厱闁瑰瓨绻勭粔铏癸拷瑙勬礃閸ㄥ灝鐣烽崡鐐╂瀻闁规澘鐏氱紞妤呮⒒娴ｇ瓔娼愰柛搴㈠▕椤㈡岸顢橀姀鈥充画闂佽崵鍠愭竟瀣绩娴犲鐓熸俊顖濐嚙缁插鏌￠崱妯兼噭闁靛洤瀚粻娑㈠Ψ閿曪拷椤忥拷?,RoleId: "+invitedRoleId);
				}
				else if(!checkInviterStatus(inviterRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷?? 
					MessageMgr.psendMsgNotify(inviterRoleId, 141618, null);
//					psend(inviterRoleId, new STeamError(TeamError.SelfInUnteamState));
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??,RoleId: "+inviterRoleId);
				}
				else if(!checkInvitedStatus(invitedRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷?? 
					MessageMgr.psendMsgNotify(inviterRoleId, TeamManager.ERROR_MSG_OBJECT_CANT_IN_TEAM, null);
//					psend(invitedRoleId, new STeamError(TeamError.SelfInUnteamState));
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??,RoleId: "+invitedRoleId);
				}
				else if(!checkInvitedTeamFuctionEnable(invitedRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炲箻濡ょ姴娲娲礈閹绘帊绨肩紒鐐緲缁夋挳鍩㈠澶婄倞闁冲搫鍟敍蹇涙⒑绾拋娼愰柛鏃�鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！缂備椒璁查弲鐘诲蓟閿濆绠抽柡鍌氥仒婢规洟姊洪棃娑欐悙閻庢凹鍨崇划璇测槈閵忊剝娅滈梺鍛婁緱閸橀箖顢欓幋婵冩斀闁绘垵娲ㄩ崚鐗堢箾鐏炲倸锟芥繈寮崘顔芥櫇闁稿本姘ㄩ鍡涙⒑缂佹◤鑲╂媰閿曪拷鍗卞Δ锝呭暞閳锋垵霉閸忚偐鎳呴柟顔笺偢閺屸剝鎷呯憴鍕拷鎰版煛娴ｈ宕岀�规洘鍔欓幃銈嗘媴閸︻厾啸濠电姷鏁搁崑娑橆嚕閸洍锟斤箓宕堕锟界粻鏌ユ煏韫囧锟芥洟鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈夋煟閿濆棙銇濇慨濠冩そ濡啫鈽夊杈╂澖闂備焦鎮堕崝蹇撯枍閿濆鏅搁柤鎭掑劤椤ｈ尙锟界櫢鎷烽柟闂寸閽冪喖鏌ｉ弮鍥仩缁炬儳鍚嬫穱濠囶敍濠靛浂浠╅梺鑽ゅ枂閸斿海妲愰幘瀛樺闁告繂瀚烽敓鑺ユ尵缁辨帡骞撻幒鎴旀寖闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�缂備礁顑嗛崝妤呭礆閹烘鍤嬮柣銏㈡暩閻﹀牓姊洪棃娑㈢崪缂佹彃澧藉☉鐢告倷椤掑倻顔曢悗鐟板閸犳牠鐛弽顓熺厽闁挎繂鎳庡Σ缁樸亜椤撴粌濮傜�规洘锕㈤弫鎰板幢濡粯绶梻鍌氬�烽懗鍓佹兜鐠轰綍锝夊川閺夋垹鐓戦梺璺ㄥ枍缁瑩寮婚妸鈺傚亜缂備焦锕╁Λ鍕⒑鐠囪尙绠茬紒璇茬墛娣囧﹪骞橀鑲╊唺闂佽鎯岄崢浠嬪磽閻㈠憡鈷戠紓浣姑慨锕傛煕閹惧鎳囨い銏℃閹虫粓宕楅崫銉х暰闂備線娼ч悧鍡椕洪妶鍛瘎闂傚倷鑳堕…鍫ヮ敄閸℃瑧鐭欓柟鎹愭硾閸ㄦ繈鏌￠崘銊﹀偍濞存粌缍婇弻鐔兼倻濡崵鍙嗙紓浣风筏缁犳垿鍩為幋锕�鐓￠柛鈩冾殘娴犳潙鈹戦悙鍙夊珔缂傚秳绀侀锝夊箮閼恒儲娅囬梺绋挎湰缁嬫捇宕㈤柆宥嗏拺闂傚牊渚楀Σ鍫曟煕閵娿儲鎯堥柍璇茬Ч瀵噣宕掑鍜冪床闂備浇顫夎ぐ鍐敄閸℃瑱鎷峰鐐
//					psend(inviterRoleId, new STeamError(TeamError.ObjectTeamFunctionClose));
					MessageMgr.psendMsgNotify(inviterRoleId, 141201, null);
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炲箻濡ょ姴娲娲礈閹绘帊绨肩紒鐐緲缁夋挳鍩㈠澶婄倞闁冲搫鍟敍蹇涙⒑绾拋娼愰柛鏃�鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！缂備椒璁查弲鐘诲蓟閿濆绠抽柡鍌氥仒婢规洟姊洪棃娑欐悙閻庢凹鍨崇划璇测槈閵忊剝娅滈梺鍛婁緱閸橀箖顢欓幋婵冩斀闁绘垵娲ㄩ崚鐗堢箾鐏炲倸锟芥繈寮崘顔芥櫇闁稿本姘ㄩ鍡涙⒑缂佹◤鑲╂媰閿曪拷鍗卞Δ锝呭暞閳锋垵霉閸忚偐鎳呴柟顔笺偢閺屸剝鎷呯憴鍕拷鎰版煛娴ｈ宕岀�规洘鍔欓幃銈嗘媴閸︻厾啸濠电姷鏁搁崑娑橆嚕閸洍锟斤箓宕堕锟界粻鏌ユ煏韫囧锟芥洟鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈夋煟閿濆棙銇濇慨濠冩そ濡啫鈽夊杈╂澖闂備焦鎮堕崝蹇撯枍閿濆鏅搁柤鎭掑劤椤ｈ尙锟界櫢鎷烽柟闂寸閽冪喖鏌ｉ弮鍥仩缁炬儳鍚嬫穱濠囶敍濠靛浂浠╅梺鑽ゅ枂閸斿海妲愰幘瀛樺闁告繂瀚烽敓鑺ユ尵缁辨帡骞撻幒鎴旀寖闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�缂備礁顑嗛崝妤呭礆閹烘鍤嬮柣銏㈡暩閻﹀牓姊洪棃娑㈢崪缂佹彃澧藉☉鐢告倷椤掑倻顔曢悗鐟板閸犳牠鐛弽顓熺厽闁挎繂鎳庡Σ缁樸亜椤撴粌濮傜�规洘锕㈤弫鎰板幢濡粯绶梻鍌氬�烽懗鍓佹兜鐠轰綍锝夊川閺夋垹鐓戦梺璺ㄥ枍缁瑩寮婚妸鈺傚亜缂備焦锕╁Λ鍕⒑鐠囪尙绠茬紒璇茬墛娣囧﹪骞橀鑲╊唺闂佽鎯岄崢浠嬪磽閻㈠憡鈷戠紓浣姑慨锕傛煕閹惧鎳囨い銏℃閹虫粓宕楅崫銉х暰闂備線娼ч悧鍡椕洪妶鍛瘎闂傚倷鑳堕…鍫ヮ敄閸℃瑧鐭欓柟鎹愭硾閸ㄦ繈鏌￠崘銊﹀偍濞存粌缍婇弻鐔兼倻濡崵鍙嗙紓浣风筏缁犳垿鍩為幋锕�鐓￠柛鈩冾殘娴犳潙鈹戦悙鍙夊珔缂傚秳绀侀锝夊箮閼恒儲娅囬梺绋挎湰缁嬫捇宕㈤柆宥嗏拺闂傚牊渚楀Σ鍫曟煕閵娿儲鎯堥柍璇茬Ч瀵噣宕掑鍜冪床闂備浇顫夎ぐ鍐敄閸℃瑱鎷峰鐐,invitedRoleId: "+invitedRoleId);
				}
				else if(!checkInvitedInNoTeam(invitedTeamId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垿鏌熼幆鏉啃撻柡渚�浜堕幃浠嬵敍閵堝洨鐦堥悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佽鲸甯楀鍕節閸屻倖娈烘繝纰橈拷鍐茬骇闁告梹鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧顦﹂柣銈呮搐椤╁ジ濡搁妷顔藉瘜闂佸湱鍎ら崹鐔煎蓟閿斿浜滈煫鍥ㄦ尰椤ョ姷鐥幑鎰棄闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑欐償閵忋垻鐓夐梺鍝勭灱閸犳牕鐣峰▎鎾澄ч柛鈩冾殢娴硷拷?
					//psend(inviterRoleId, new STeamError(TeamError.ObjectInTeam));
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垿鏌熼幆鏉啃撻柡渚�浜堕幃浠嬵敍閵堝洨鐦堥悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佽鲸甯楀鍕節閸屻倖娈烘繝纰橈拷鍐茬骇闁告梹鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧顦﹂柣銈呮搐椤╁ジ濡搁妷顔藉瘜闂佸湱鍎ら崹鐔煎蓟閿斿浜滈煫鍥ㄦ尰椤ョ姷鐥幑鎰棄闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑欐償閵忋垻鐓夐梺鍝勭灱閸犳牕鐣峰▎鎾澄ч柛鈩冾殢娴硷拷?,invitedRoleId: "+invitedRoleId);
					fire.pb.talk.MessageMgr.psendMsgNotify(inviterRoleId, 141191, null);
				}
				else if(!checkNotBeingInvited(invitedRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏腹鎷诲銈嗙墬缁嬪繑绂嶅鍫熺厸闁搞儲婀圭花濂告倵濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆО缂傚倷娴囬褔鎮ч幘鎰佸殨妞ゆ劧绠戠粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儜閹风兘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇旂節濮橆剛锛滃┑顔矫畷顒勩�傞悽鍛娾拺闁告繂瀚崳浠嬫煕鐎ｎ剙鏋旈柛鎺撳浮瀹曞ジ锝為钘夘伓闂佹寧绻傛鎼佸几閻斿吋鐓熼柟鎯х摠缁�瀣煛瀹�瀣瘈鐎规洘甯掗埞鎴﹀炊閳瑰尅鎷锋繝鍕＝濞达絽鎼瓭濡炪値鍘鹃崗妯侯嚕婵犳艾惟闁靛鍨洪弬锟介梻浣稿閸嬪懐鎹㈤敓鑺ヤ繆閸欏濮嶆慨濠勫劋濞碱亪骞嶉鍛滈梻浣告憸閸犳劕顭囧▎鎾村仼闁绘垼妫勭粻鎶芥煙閹碱厼骞楅柛宥呯仛娣囧﹪骞撻幒鎾存嫳闂佺粯顨嗛〃澶愬焻閸洘鈷掗柛灞捐壘閿熻姤鎮傚畷鎰槹鎼达絿鐒兼繛鎾寸啲閹烽攱顨ラ悙瀵稿⒌妞ゃ垺娲熼弫鍌炴寠婢跺缍嶉梻鍌氼煬閸嬪嫬煤閿斿墽鐭欓柟杈剧畱閸戠姴銆掑鐐闂佸搫鐬奸崰鏍ь潖閼姐倧鎷烽悽娈跨劸濠碘�茬矙濮婅櫣绱掑Ο缁樺創缂傚倸绉崇欢姘嚕鐠囨祴妲堟慨姗嗗亝閸曞啰绱撻崒娆撴闁搞劎鎳撻埢鎾诡樄婵﹥妞介幊锟犲Χ閸涱喚浜梻浣侯焾椤戝懘鏁冮鍫濈畺闁跨喓濮村敮闂佸啿鎼崐濠氬储闁秵鈷戦柛婵嗗閸屻劑鏌涢弬璺ㄧ劯鐎规洏鍨藉Λ鍐归姀鐘电Ш闁诡喒鏅犻、娆撴嚃閳猴拷缁辨瑦绻濆▓鍨灈闁挎洏鍔岄埢宥夋晲閸パ冪亰濠电偛妫欓幐鍝ョ矆瀹�鍕厓闁靛鍎辩敮鐘电磼閹插绋诲ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄稁鍘奸崹鍌炴⒒閸喕锟借棄煤椤忓秵鏅ｉ梺闈涚箞閸ㄥ湱绮婇敃鍌涱棅妞ゆ劑鍨烘径鍕磼鐎ｎ偄娴�规洘鍨块獮鍥敊閸撗嶇闯濠电偠鎻紞锟介柛瀣�块獮瀣晝閿熶粙鎮块锟介弻銊モ攽閸♀晜效闂佹娊鏀遍崹鍦閹烘棑鎷烽敐搴′簻妞ゆ洘绮嶇换婵嬫晸娴犲绠ユい鏂垮⒔閿涙粓鏌ｉ悩鍙夊鐟滄澘鍟撮弫鎾绘寠婢跺浠撮梺璇″枙閸楁娊銆佸鑸垫櫢濞寸姴顑呴弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓 
//					psend(inviterRoleId, new STeamError(TeamError.BeingInvited));
					fire.pb.talk.MessageMgr.psendMsgNotify(inviterRoleId, 141202, null);
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏腹鎷诲銈嗙墬缁嬪繑绂嶅鍫熺厸闁搞儲婀圭花濂告倵濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆО缂傚倷娴囬褔鎮ч幘鎰佸殨妞ゆ劧绠戠粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儜閹风兘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇旂節濮橆剛锛滃┑顔矫畷顒勩�傞悽鍛娾拺闁告繂瀚崳浠嬫煕鐎ｎ剙鏋旈柛鎺撳浮瀹曞ジ锝為钘夘伓闂佹寧绻傛鎼佸几閻斿吋鐓熼柟鎯х摠缁�瀣煛瀹�瀣瘈鐎规洘甯掗埞鎴﹀炊閳瑰尅鎷锋繝鍕＝濞达絽鎼瓭濡炪値鍘鹃崗妯侯嚕婵犳艾惟闁靛鍨洪弬锟介梻浣稿閸嬪懐鎹㈤敓鑺ヤ繆閸欏濮嶆慨濠勫劋濞碱亪骞嶉鍛滈梻浣告憸閸犳劕顭囧▎鎾村仼闁绘垼妫勭粻鎶芥煙閹碱厼骞楅柛宥呯仛娣囧﹪骞撻幒鎾存嫳闂佺粯顨嗛〃澶愬焻閸洘鈷掗柛灞捐壘閿熻姤鎮傚畷鎰槹鎼达絿鐒兼繛鎾寸啲閹烽攱顨ラ悙瀵稿⒌妞ゃ垺娲熼弫鍌炴寠婢跺缍嶉梻鍌氼煬閸嬪嫬煤閿斿墽鐭欓柟杈剧畱閸戠姴銆掑鐐闂佸搫鐬奸崰鏍ь潖閼姐倧鎷烽悽娈跨劸濠碘�茬矙濮婅櫣绱掑Ο缁樺創缂傚倸绉崇欢姘嚕鐠囨祴妲堟慨姗嗗亝閸曞啰绱撻崒娆撴闁搞劎鎳撻埢鎾诡樄婵﹥妞介幊锟犲Χ閸涱喚浜梻浣侯焾椤戝懘鏁冮鍫濈畺闁跨喓濮村敮闂佸啿鎼崐濠氬储闁秵鈷戦柛婵嗗閸屻劑鏌涢弬璺ㄧ劯鐎规洏鍨藉Λ鍐归姀鐘电Ш闁诡喒鏅犻、娆撴嚃閳猴拷缁辨瑦绻濆▓鍨灈闁挎洏鍔岄埢宥夋晲閸パ冪亰濠电偛妫欓幐鍝ョ矆瀹�鍕厓闁靛鍎辩敮鐘电磼閹插绋诲ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄稁鍘奸崹鍌炴⒒閸喕锟借棄煤椤忓秵鏅ｉ梺闈涚箞閸ㄥ湱绮婇敃鍌涱棅妞ゆ劑鍨烘径鍕磼鐎ｎ偄娴�规洘鍨块獮鍥敊閸撗嶇闯濠电偠鎻紞锟介柛瀣�块獮瀣晝閿熶粙鎮块锟介弻銊モ攽閸♀晜效闂佹娊鏀遍崹鍦閹烘棑鎷烽敐搴′簻妞ゆ洘绮嶇换婵嬫晸娴犲绠ユい鏂垮⒔閿涙粓鏌ｉ悩鍙夊鐟滄澘鍟撮弫鎾绘寠婢跺浠撮梺璇″枙閸楁娊銆佸鑸垫櫢濞寸姴顑呴弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓,invitedRoleId: "+invitedRoleId);
				}
				else if(!checkNotInvitedIn30s(invitedRoleId, inviterRoleId, inviterTeamId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�??30缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崼銉ヨ摕闁绘柨鐨濋弸鏃堟煕椤垵鏋熼柣蹇撶Ч濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鍋勯柛蹇曞帶閿熺晫绮幈銊ノ旈敓钘壩涘▎鎾村仼闁割偅娲橀埛鎴︽煠濞村娅撻柣鎺戝⒔缁辨挸顓奸崪鍐惈閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍫曟煕椤愮姴鍔滈柍閿嬪灴閺屾稑鈽夊鍡欏彆濠电偛鐗婂ú鏍煘閹达附鍊烽悹鍥囧棗鎯堥柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯蓱椤旀牠宕�ｎ偆绡�鐎典即鏀卞姗�鏁撶粣鏍ф搐缁狀垶鏌ｉ幋锝呅撻柣鎾寸懇閺屟嗙疀閿濆懍绨绘繝娈垮枛濞诧箓濡甸崟顖ｆ晝闁靛繈鍨婚澶愭⒑闂堟稓澧崇紓宥勭閻ｅ嘲顫滈敓浠嬪春閿熺姴绀冮柕濞垮劤椤旀垿姊婚崒姘拷鐑芥嚄閸撲礁鍨濇い鏍仜缁�澶愭煛瀹擃喖鐬奸崝宄扳攽閻愬弶顥為柟鍛婃倐瀹曘儳鎲撮崟鈺�绨婚梺鍦劋閸ㄧ敻顢旈鍫熺厽闁规儳鐡ㄧ粈瀣煙椤旂瓔娈滈柡浣瑰姈閹柨鈹戦崶褝鎷烽敐澶嬪�甸悷娆忓閸嬬娀鏌涙惔銊︽锭闁伙絿鍏橀弫鎾绘偐瀹曞洤濮搁柣搴＄畭閸庡崬螞濞戙垹鐭楅柛鈩冪♁閳锋垿鏌涘┑鍡楊仼闁哄棙鐟︾换娑氭嫚瑜忛悾鐢告寠閻斿鐔嗛悹杞拌閸庡秴霉濠婂嫮鐭掗柡宀嬬節瀹曞爼鏁愯箛鏂款伓闂佸湱绮敮妤呭磿閹剧粯鈷掑ù锝堝Г绾爼鏌涢悩铏閾荤偤鏌涢弴銊ュ箻濞戞挸绉堕敓钘夌畭閸庨亶藝椤栨粌顥氶柛褎顨嗛悡鏇熶繆閵堝懎鏆欓柨鐔告灮缁蹭粙鍩ユ径濞㈢喎顭ㄩ崟顒夋閻庤娲忛崝鎴︺�佸▎鎴炲厹闂佸灝顑呴鍫曟⒑閼测晩鐒鹃柛姘炬嫹缂備浇顕уΛ婵嬪蓟閺囥垹閱囨繝闈涙搐濞呫倝姊洪棃鈺冪ɑ婵＄偘绮欏濠氭晲婢跺﹦顔掗柣鐘荤細閵嗭拷闁哄鎳樺娲传閸曨偒妲甸梺鍛婃尰缁诲倿顢氶妷鈺佺妞ゆ挶鍔嶇�氬綊鏌ㄥ┑鍡欏嚬闁规煡绠栭弻娑㈠Χ閸滀礁鍓跺┑顔硷攻濡炶棄螞閸愵喖鐓涢柛鎰碉拷銊﹀灴濮婅櫣鎷犻垾铏亪闂佺锕ラ幃鍌炴晲閻愬墎鐤�闁瑰彞鐒﹀浠嬨�侀弮鍫濈妞ゆ挾濮撮獮锟藉┑鐘垫暩婵即宕归悡搴樻灃婵炴垯鍨洪崕鏂库攽閸屾碍鍟為柛瀣�搁湁闁挎繂鐗婇鐘电棯閹规劖顥夐棁澶愭煥濠靛棙绁╅柣鎺楃畺閺屻劑鎮㈢紒姗嗘闂佺濮ょ划搴ㄥ礆閹烘绫嶉柛宀嬮檮鐎氬綊鏌ｉ姀鈽嗗晱闁绘帒澧介敓鑺ヮ問閸犳牕顕ｉ懜鐢碘攳濠电姴娲﹂崐閿嬨亜韫囨挸顏甸柟椋庡厴瀵挳鎮╅崘鎻掔哎闂備礁缍婇崑濠囧闯椤栫偛绠�瑰嫰鍋婂鈺傘亜閹捐泛鏋庨柨鐔诲Г閸旀牠銆冮妷鈺傚�烽柤纰卞墰椤斿顪冮妶蹇擃洭濠⒀勵殜楠炲棝寮崼顐ｆ櫖濠电偞鍨堕敃鈺傚閹剧粯鈷掑ù锝囨嚀椤曟粎绱掔拠鎻掞拷褰掋�冮妷鈺佸窛濠电姴鍟悵宄邦渻閵堝棛澧遍柛瀣仱瀹曟劙宕归锝呭伎濠殿喗顨呭Λ妤呯嵁閺嶎厽鐓曟繝闈涙处閵囨繈鏌＄仦闈╂嫹瀹曞洦娈曢柣搴秵閸撴稖鈪垫繝鐢靛Т閻ュ濡堕崨顖氬缚闂備浇顕栭崹鍗炍涢崘顔兼瀬鐎广儱顦粈瀣亜韫囨挸顏╂い鏇嗗懐纾介柛灞捐壘閿熻姤鎮傚畷鎰版倻閼恒儱娈戦梺鍏兼倐濞佳囧垂閺冨牊鐓欑紓浣靛灩閺嬫稓绱掗悪锟介崹鍫曞蓟閵娾晜鍋嗛柛灞剧☉椤忥拷
					//psend(inviterRoleId, new STeamError(TeamError.InvitedIn30s));
					TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�??30缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崼銉ヨ摕闁绘柨鐨濋弸鏃堟煕椤垵鏋熼柣蹇撶Ч濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鍋勯柛蹇曞帶閿熺晫绮幈銊ノ旈敓钘壩涘▎鎾村仼闁割偅娲橀埛鎴︽煠濞村娅撻柣鎺戝⒔缁辨挸顓奸崪鍐惈閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍫曟煕椤愮姴鍔滈柍閿嬪灴閺屾稑鈽夊鍡欏彆濠电偛鐗婂ú鏍煘閹达附鍊烽悹鍥囧棗鎯堥柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯蓱椤旀牠宕�ｎ偆绡�鐎典即鏀卞姗�鏁撶粣鏍ф搐缁狀垶鏌ｉ幋锝呅撻柣鎾寸懇閺屟嗙疀閿濆懍绨绘繝娈垮枛濞诧箓濡甸崟顖ｆ晝闁靛繈鍨婚澶愭⒑闂堟稓澧崇紓宥勭閻ｅ嘲顫滈敓浠嬪春閿熺姴绀冮柕濞垮劤椤旀垿姊婚崒姘拷鐑芥嚄閸撲礁鍨濇い鏍仜缁�澶愭煛瀹擃喖鐬奸崝宄扳攽閻愬弶顥為柟鍛婃倐瀹曘儳鎲撮崟鈺�绨婚梺鍦劋閸ㄧ敻顢旈鍫熺厽闁规儳鐡ㄧ粈瀣煙椤旂瓔娈滈柡浣瑰姈閹柨鈹戦崶褝鎷烽敐澶嬪�甸悷娆忓閸嬬娀鏌涙惔銊︽锭闁伙絿鍏橀弫鎾绘偐瀹曞洤濮搁柣搴＄畭閸庡崬螞濞戙垹鐭楅柛鈩冪♁閳锋垿鏌涘┑鍡楊仼闁哄棙鐟︾换娑氭嫚瑜忛悾鐢告寠閻斿鐔嗛悹杞拌閸庡秴霉濠婂嫮鐭掗柡宀嬬節瀹曞爼鏁愯箛鏂款伓闂佸湱绮敮妤呭磿閹剧粯鈷掑ù锝堝Г绾爼鏌涢悩铏閾荤偤鏌涢弴銊ュ箻濞戞挸绉堕敓钘夌畭閸庨亶藝椤栨粌顥氶柛褎顨嗛悡鏇熶繆閵堝懎鏆欓柨鐔告灮缁蹭粙鍩ユ径濞㈢喎顭ㄩ崟顒夋閻庤娲忛崝鎴︺�佸▎鎴炲厹闂佸灝顑呴鍫曟⒑閼测晩鐒鹃柛姘炬嫹缂備浇顕уΛ婵嬪蓟閺囥垹閱囨繝闈涙搐濞呫倝姊洪棃鈺冪ɑ婵＄偘绮欏濠氭晲婢跺﹦顔掗柣鐘荤細閵嗭拷闁哄鎳樺娲传閸曨偒妲甸梺鍛婃尰缁诲倿顢氶妷鈺佺妞ゆ挶鍔嶇�氬綊鏌ㄥ┑鍡欏嚬闁规煡绠栭弻娑㈠Χ閸滀礁鍓跺┑顔硷攻濡炶棄螞閸愵喖鐓涢柛鎰碉拷銊﹀灴濮婅櫣鎷犻垾铏亪闂佺锕ラ幃鍌炴晲閻愬墎鐤�闁瑰彞鐒﹀浠嬨�侀弮鍫濈妞ゆ挾濮撮獮锟藉┑鐘垫暩婵即宕归悡搴樻灃婵炴垯鍨洪崕鏂库攽閸屾碍鍟為柛瀣�搁湁闁挎繂鐗婇鐘电棯閹规劖顥夐棁澶愭煥濠靛棙绁╅柣鎺楃畺閺屻劑鎮㈢紒姗嗘闂佺濮ょ划搴ㄥ礆閹烘绫嶉柛宀嬮檮鐎氬綊鏌ｉ姀鈽嗗晱闁绘帒澧介敓鑺ヮ問閸犳牕顕ｉ懜鐢碘攳濠电姴娲﹂崐閿嬨亜韫囨挸顏甸柟椋庡厴瀵挳鎮╅崘鎻掔哎闂備礁缍婇崑濠囧闯椤栫偛绠�瑰嫰鍋婂鈺傘亜閹捐泛鏋庨柨鐔诲Г閸旀牠銆冮妷鈺傚�烽柤纰卞墰椤斿顪冮妶蹇擃洭濠⒀勵殜楠炲棝寮崼顐ｆ櫖濠电偞鍨堕敃鈺傚閹剧粯鈷掑ù锝囨嚀椤曟粎绱掔拠鎻掞拷褰掋�冮妷鈺佸窛濠电姴鍟悵宄邦渻閵堝棛澧遍柛瀣仱瀹曟劙宕归锝呭伎濠殿喗顨呭Λ妤呯嵁閺嶎厽鐓曟繝闈涙处閵囨繈鏌＄仦闈╂嫹瀹曞洦娈曢柣搴秵閸撴稖鈪垫繝鐢靛Т閻ュ濡堕崨顖氬缚闂備浇顕栭崹鍗炍涢崘顔兼瀬鐎广儱顦粈瀣亜韫囨挸顏╂い鏇嗗懐纾介柛灞捐壘閿熻姤鎮傚畷鎰版倻閼恒儱娈戦梺鍏兼倐濞佳囧垂閺冨牊鐓欑紓浣靛灩閺嬫稓绱掗悪锟介崹鍫曞蓟閵娾晜鍋嗛柛灞剧☉椤忥拷,invitedRoleId: "+invitedRoleId);
					fire.pb.talk.MessageMgr.psendMsgNotify(inviterRoleId, 141050, null);
				}
				else if(team != null)
				{
					//Team team = new Team(inviterTeamId,false);
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插鐢盯鏌￠崨鐗堢【闁宠棄顦垫慨锟介柨娑樺鐢姊婚崒娆戭槮闁诲繑绻堥、鏍幢濡ゅ啯娈鹃悗鐧告嫹闁告洦鍓涢崢鎼佹倵閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮�ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灠閹碱偆鐥椤法鎹勯崫鍕典純闂佸搫鐭夌紞渚�鐛Ο鍏煎磯闁绘垶顭囨禍顏堟⒒娴ｅ憡鎯堥柡鍫墮鐓ゆ俊顖氬悑瀹曞弶绻涢幋娆忕仼闁搞劌鍊归妵鍕籍閸屾艾浠樺銈庡亝閹哥粯绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮撮悘鑽ゆ嚀椤繄鎹勯搹鍦幀闂備礁鎲￠崝锕傚窗閺嶎厽瀚呴柣鏂挎憸缁犻箖鏌熺�电浠ч柟鍐叉噽缁辨帡鍩ラ崨顔碱伓闂傚倸鍊烽懗鍫曗�﹂崼銏″仏妞ゆ劧绠戠壕褰掓煛閸ャ儱鐏╃紒锟介崼銉︾厵闁诡垱婢樿闂佹娊鏀遍崹鍧楀蓟閿濆鍋勯柛娑橈功閸戔�斥攽閻愯尙澧愰柡鍛█瀵鎮㈤悡搴ｎ槱闂侀潧鐗嗗Λ妤咁敂閿燂拷?
					//if(!checkInviterIsLeader(inviterRoleId, team))
					//{
					//	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙缁嬫鐓奸柟顖氬椤㈡盯鎮欓懠鑸垫啺婵犵數鍋為崹顖炲垂瑜版帒纭�闁规儼濮ら悡蹇涚叓閸パ嶅伐濠⒀勭叀濮婂搫鈻庨幆褍绫嶅┑顔硷龚濞咃綁骞忛悩璇茶摕闁靛／鍐┿仢闂傚倸鍊搁崐鍝ワ拷姘煎墰閿熻姤鍑归崢鍓у垝濮橆厽缍囬柕濞у懐妲囬梻浣告啞濞诧箓宕滃▎鎾村仧濞寸厧鐡ㄩ崑鈩冪節婵犲倸鏆熺紒鐘差煼閺岀喖顢氶敓鐣岀不閺嵮呮殾鐟滅増甯╅弫鍐煥濠靛棙鍣瑰ù鐓庨閳规垿鎮╅崹顐ｆ瘎婵犳鍠栭顓㈠箲閵忋倕绠ｉ柣娆忔噺鐎氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?(illegal)
					//	TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙缁嬫鐓奸柟顖氬椤㈡盯鎮欓懠鑸垫啺婵犵數鍋為崹顖炲垂瑜版帒纭�闁规儼濮ら悡蹇涚叓閸パ嶅伐濠⒀勭叀濮婂搫鈻庨幆褍绫嶅┑顔硷龚濞咃綁骞忛悩璇茶摕闁靛／鍐┿仢闂傚倸鍊搁崐鍝ワ拷姘煎墰閿熻姤鍑归崢鍓у垝濮橆厽缍囬柕濞у懐妲囬梻浣告啞濞诧箓宕滃▎鎾村仧濞寸厧鐡ㄩ崑鈩冪節婵犲倸鏆熺紒鐘差煼閺岀喖顢氶敓鐣岀不閺嵮呮殾鐟滅増甯╅弫鍐煥濠靛棙鍣瑰ù鐓庨閳规垿鎮╅崹顐ｆ瘎婵犳鍠栭顓㈠箲閵忋倕绠ｉ柣娆忔噺鐎氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?,RoleId: "+inviterRoleId);
					//}
					if(!checkTeamNotFull(team))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚圭紒鐐緲缁夌數绮氭潏銊х瘈闁搞儴鍩栭弲婵嬫⒑閹稿海绠撻悗娑掓櫊閹箖鎮滈懞銉㈡嫼闂備緡鍋呯粙鎾诲煘閹烘鐓曢柡鍐挎嫹闁搞劌娼℃俊瀛樻媴閼叉繃妫冨畷銊╊敊閼恒儺浠ф繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁糕剝鐟ф稉宥夋煙閻戞﹩娈曢柍閿嬪笒闇夐柨婵嗙墕琚氱紒缁㈠幖閻栧ジ寮诲☉銏℃櫜闊洦娲滈弳銈呂旈悩闈涗粶缂佺粯锕㈠顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷?
						psendWhileCommit(inviterRoleId, new STeamError(TeamError.TeamFull));
						TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚圭紒鐐緲缁夌數绮氭潏銊х瘈闁搞儴鍩栭弲婵嬫⒑閹稿海绠撻悗娑掓櫊閹箖鎮滈懞銉㈡嫼闂備緡鍋呯粙鎾诲煘閹烘鐓曢柡鍐挎嫹闁搞劌娼℃俊瀛樻媴閼叉繃妫冨畷銊╊敊閼恒儺浠ф繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁糕剝鐟ф稉宥夋煙閻戞﹩娈曢柍閿嬪笒闇夐柨婵嗙墕琚氱紒缁㈠幖閻栧ジ寮诲☉銏℃櫜闊洦娲滈弳銈呂旈悩闈涗粶缂佺粯锕㈠顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷?,TeamId: "+inviterTeamId);
					}
					else if(!checkTeamFilter(team, invitedRoleId))
					{
						TeamManager.logger.info("FAIL:CInviteJoinTeam:TeamFilter闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处缂併劎绮穱濠囨倷椤忓嫸鎷烽弽顐ｆ殰闁圭儤顨呯壕鍦磽娴ｈ鐒介柍缁樻⒒閿熻棄绠嶉崕閬嵥囨导瀛樺亗婵炲棙鎸哥痪褔鏌涢锝囩畵闁抽攱妫冮弻锝夋晲閸粌鎯堢紓浣介哺鐢繝鐛崶顒夋晣鐟滃酣鎮挎笟锟藉娲传閸曨噮娼堕梺鍛婃⒐閸ㄥ潡鐛崘顔嘉у璺猴功閿涙粌鈹戦悙鏉戠仸闁挎洍鏅滅�靛ジ鏁撻敓锟�,TeamId: "+inviterTeamId);
					}
					else if(!checkTeamInviteNotFull(team))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚圭紒鐐緲缁夊爼骞戦姀鐘婵﹩鍘奸悵浼存偡濠婂啰绠婚柟顕�绠栭幃浠嬪川婵犲嫬骞嶆俊鐐�栧褰掑磿閾忣偆顩查柣鎰靛墰缁犻箖鏌ｉ幘铏崳缂佺姾顕ч埞鎴﹀焺閸愨晛锟芥劙鏌℃担绋挎殻闁轰焦鎹囬幐濠冨緞濡儤顓块梻浣稿閻撳牓宕伴幒妤�缁╁ù鐘差儐閻撶喐淇婇姘变虎闁汇劌鎼湁闁绘ê纾ú鎾煛瀹�锟介崰鏍嵁閺嶃劍濯撮柧蹇氼潐濮ｅ洭鏌ｆ惔銈庢綈婵炲弶锚閻ｆ繈骞栨担鍝ョ暫閻熸粍鏌ㄩ悾閿嬬附缁嬫娼婇梺闈涚箞閸ㄦ椽锝炲畝鍕拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘婢橀濂稿炊瑜嶉悘濠傗攽閻愬弶顥為柟绋跨埣閺佹捇骞嬮幒鏃傜崲閻庢鍣崳锝呯暦閻撳簶鏀介悗锝庝簼閺嗩亪姊婚崒娆掑厡缂侇噮鍨跺濠氬Ω閳轰胶顔愬銈嗗姧缁查箖宕ｈ箛娑欑叆闁绘洖鍊圭�氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晠鏌ら幖浣规锭闁跨喕妫勯悘姘跺Φ閸曨垰绠抽柟瀛樼箥娴犻箖姊洪幎鑺ユ暠闁搞劌娼″濠氭晲婢跺浜滈梺鍛婄☉閿曪箓宕欓垾鏂ユ斀闁斥晛鍟徊缁樸亜椤撶姴鍘寸�殿喖顭烽弫鎾绘偐閺屻儱鏁规俊鐐�栭崝鎴﹀垂瑜版帒鐓曞鑸靛姈閳锋垿姊婚崼鐔衡檨濠㈣泛瀚伴弻娑㈠籍閿熶粙鏁冮姀锝嗩棨闁荤喐绮庢晶妤冩暜濡ゅ懏鍋傛繛鎴欏灪閸婂爼鏌ｉ幇顓炵祷闁抽攱姊圭换娑㈠矗婢跺鍞夐梺鍝勫閸撴繈骞忛崨顖涘枂闁告洦鍋嗛敍鎾绘⒒娴ｈ姤銆冮柣鎺炵畵楠炴垿宕堕锟介弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈠即閻樺弶妲梻鍌氬�搁崐椋庣矆娴ｅ搫顥氭い鎾跺Т閸ㄦ繃銇勯弽銊ュ毈婵炲吋鐗曢埞鎴︽偐瀹曞浂鏆￠梺鍝勬噺閹倿寮婚敃锟借灒濞撴凹鍨辨闂備椒绱紞鍡涘矗閸愵喖钃熸繛鎴炵懄閸庣喖鏌曟繛鍨拷鏍窗濮樿埖鈷戦悹鍥ｏ拷铏闂佹悶鍎滈崘顓ㄦ嫹閸喒鏀介柣鎰綑閻忥箓鏌ㄥ鑸电厱閻庯綆浜炴晥濠殿喖锕ュ钘夌暦閻戠瓔鏁囬柍鈺佸枤閿熻姤顨婂娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅幓鎺戠ギ闂備線娼ф蹇曟閺囥垹鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浠搁梺鍝勬嚀閸╂牜锟介潧銈稿鍫曞箣閻愮鎷烽鍕拺闁告挻褰冩禍鏍煕鎼淬垻鍙�闁糕晜鐩獮瀣偐閻㈢绱查梺璇插嚱缂嶅棙绂嶅鍫熷剭闁挎稑瀚搁幏椋庢喆閸曨剙浠╅梺绋垮閻撯剝淇婇悽绋跨妞ゆ牗姘ㄩ鍝勨攽閻樼粯娑ф繛灞傚�濆鎼佹偐閸欏倹妫冮幃鈺呮濞戞鎹曠紓鍌欒兌缁垶鏁冮姀銈囧祦闁告劦鍠栭悡娑㈡煕閹板吀绨介柨娑欑矊閳规垿鍩ラ崱妤冧化闂佸憡顭嗛崘鎯ф闂佽鍎兼慨銈夊煕閹达附鍋ｉ柛銉ｅ妼缁插鏌涢妶鍫滃惈缂佽鲸鎸搁濂稿川椤曞懏锛嗛柣搴ゎ潐濞叉﹢宕归崹顔炬殾闁告鍋愬Σ鍫熶繆椤栨壕鎷℃俊鏌ヤ憾濮婄粯鎷呯粙鎸庡�繛瀛樼矆缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ灆婵☆偄瀚伴垾鏃堝礃椤斿槈褔骞栫划鐧告嫹閼艰泛鐒婚梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐醇閵夛附娅㈤梺鍏间航閸庢娊宕弻銉︾厵闁告垯鍊栫�氾拷?
						psend(inviterRoleId, new STeamError(TeamError.InviteingsFull));
						TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚圭紒鐐緲缁夊爼骞戦姀鐘婵﹩鍘奸悵浼存偡濠婂啰绠婚柟顕�绠栭幃浠嬪川婵犲嫬骞嶆俊鐐�栧褰掑磿閾忣偆顩查柣鎰靛墰缁犻箖鏌ｉ幘铏崳缂佺姾顕ч埞鎴﹀焺閸愨晛锟芥劙鏌℃担绋挎殻闁轰焦鎹囬幐濠冨緞濡儤顓块梻浣稿閻撳牓宕伴幒妤�缁╁ù鐘差儐閻撶喐淇婇姘变虎闁汇劌鎼湁闁绘ê纾ú鎾煛瀹�锟介崰鏍嵁閺嶃劍濯撮柧蹇氼潐濮ｅ洭鏌ｆ惔銈庢綈婵炲弶锚閻ｆ繈骞栨担鍝ョ暫閻熸粍鏌ㄩ悾閿嬬附缁嬫娼婇梺闈涚箞閸ㄦ椽锝炲畝鍕拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘婢橀濂稿炊瑜嶉悘濠傗攽閻愬弶顥為柟绋跨埣閺佹捇骞嬮幒鏃傜崲閻庢鍣崳锝呯暦閻撳簶鏀介悗锝庝簼閺嗩亪姊婚崒娆掑厡缂侇噮鍨跺濠氬Ω閳轰胶顔愬銈嗗姧缁查箖宕ｈ箛娑欑叆闁绘洖鍊圭�氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晠鏌ら幖浣规锭闁跨喕妫勯悘姘跺Φ閸曨垰绠抽柟瀛樼箥娴犻箖姊洪幎鑺ユ暠闁搞劌娼″濠氭晲婢跺浜滈梺鍛婄☉閿曪箓宕欓垾鏂ユ斀闁斥晛鍟徊缁樸亜椤撶姴鍘寸�殿喖顭烽弫鎾绘偐閺屻儱鏁规俊鐐�栭崝鎴﹀垂瑜版帒鐓曞鑸靛姈閳锋垿姊婚崼鐔衡檨濠㈣泛瀚伴弻娑㈠籍閿熶粙鏁冮姀锝嗩棨闁荤喐绮庢晶妤冩暜濡ゅ懏鍋傛繛鎴欏灪閸婂爼鏌ｉ幇顓炵祷闁抽攱姊圭换娑㈠矗婢跺鍞夐梺鍝勫閸撴繈骞忛崨顖涘枂闁告洦鍋嗛敍鎾绘⒒娴ｈ姤銆冮柣鎺炵畵楠炴垿宕堕锟介弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈠即閻樺弶妲梻鍌氬�搁崐椋庣矆娴ｅ搫顥氭い鎾跺Т閸ㄦ繃銇勯弽銊ュ毈婵炲吋鐗曢埞鎴︽偐瀹曞浂鏆￠梺鍝勬噺閹倿寮婚敃锟借灒濞撴凹鍨辨闂備椒绱紞鍡涘矗閸愵喖钃熸繛鎴炵懄閸庣喖鏌曟繛鍨拷鏍窗濮樿埖鈷戦悹鍥ｏ拷铏闂佹悶鍎滈崘顓ㄦ嫹閸喒鏀介柣鎰綑閻忥箓鏌ㄥ鑸电厱閻庯綆浜炴晥濠殿喖锕ュ钘夌暦閻戠瓔鏁囬柍鈺佸枤閿熻姤顨婂娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅幓鎺戠ギ闂備線娼ф蹇曟閺囥垹鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浠搁梺鍝勬嚀閸╂牜锟介潧銈稿鍫曞箣閻愮鎷烽鍕拺闁告挻褰冩禍鏍煕鎼淬垻鍙�闁糕晜鐩獮瀣偐閻㈢绱查梺璇插嚱缂嶅棙绂嶅鍫熷剭闁挎稑瀚搁幏椋庢喆閸曨剙浠╅梺绋垮閻撯剝淇婇悽绋跨妞ゆ牗姘ㄩ鍝勨攽閻樼粯娑ф繛灞傚�濆鎼佹偐閸欏倹妫冮幃鈺呮濞戞鎹曠紓鍌欒兌缁垶鏁冮姀銈囧祦闁告劦鍠栭悡娑㈡煕閹板吀绨介柨娑欑矊閳规垿鍩ラ崱妤冧化闂佸憡顭嗛崘鎯ф闂佽鍎兼慨銈夊煕閹达附鍋ｉ柛銉ｅ妼缁插鏌涢妶鍫滃惈缂佽鲸鎸搁濂稿川椤曞懏锛嗛柣搴ゎ潐濞叉﹢宕归崹顔炬殾闁告鍋愬Σ鍫熶繆椤栨壕鎷℃俊鏌ヤ憾濮婄粯鎷呯粙鎸庡�繛瀛樼矆缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ灆婵☆偄瀚伴垾鏃堝礃椤斿槈褔骞栫划鐧告嫹閼艰泛鐒婚梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐醇閵夛附娅㈤梺鍏间航閸庢娊宕弻銉︾厵闁告垯鍊栫�氾拷?,TeamId: "+inviterTeamId);
					}
					else if(!checkTeamLeaderState(inviterRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚圭紒鐐緲缁夊爼骞戦姀鐘婵﹩鍘奸悵浼存偡濠婂啰绠婚柟顕�绠栭幃浠嬪川婵犲嫬骞嶆俊鐐�栧褰掑磿閾忣偆顩查柣鎰靛墰缁犻箖鏌ｉ幘铏崳缂佺姾顕ч埞鎴﹀焺閸愨晛锟芥劙鏌℃担绋挎殻闁轰焦鎹囬幐濠冨緞濡儤顓块梻浣稿閻撳牓宕伴幒妤�缁╁ù鐘差儐閻撶喐淇婇姘变虎闁汇劌鎼湁闁绘ê纾ú鎾煛瀹�锟介崰鏍嵁閺嶃劍濯撮柧蹇氼潐濮ｅ洭鏌ｆ惔銈庢綈婵炲弶锚閻ｆ繈骞栨担鍝ョ暫閻熸粍鏌ㄩ悾閿嬬附缁嬫娼婇梺闈涚箞閸ㄦ椽锝炲畝鍕拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘婢橀濂稿炊瑜嶉悘濠傗攽閻愬弶顥為柟绋跨埣閺佹捇骞嬮幒鏃傜崲閻庢鍣崳锝呯暦閻撳簶鏀介悗锝庝簼閺嗩亪姊婚崒娆掑厡缂侇噮鍨跺濠氬Ω閳轰胶顔愬銈嗗姧缁查箖宕ｈ箛娑欑叆闁绘洖鍊圭�氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晠鏌ら幖浣规锭闁跨喕妫勯悘姘跺Φ閸曨垰绠抽柟瀛樼箥娴犻箖姊洪幎鑺ユ暠闁搞劌娼″濠氭晲婢跺浜滈梺鍛婄☉閿曪箓宕欓垾鏂ユ斀闁斥晛鍟徊缁樸亜椤撶姴鍘寸�殿喖顭烽弫鎾绘偐閺屻儱鏁规俊鐐�栭崝鎴﹀垂瑜版帒鐓曞鑸靛姈閳锋垿姊婚崼鐔衡檨濠㈣泛瀚伴弻娑㈠籍閿熶粙鏁冮姀锝嗩棨闁荤喐绮庢晶妤冩暜濡ゅ懏鍋傛繛鎴欏灪閸婂爼鏌ｉ幇顓炵祷闁抽攱姊圭换娑㈠矗婢跺鍞夐梺鍝勫閸撴繈骞忛崨顖涘枂闁告洦鍋嗛敍鎾绘⒒娴ｈ姤銆冮柣鎺炵畵楠炴垿宕堕锟介弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈠即閻樺弶妲梻鍌氬�搁崐椋庣矆娴ｅ搫顥氭い鎾跺Т閸ㄦ繃銇勯弽銊ュ毈婵炲吋鐗曢埞鎴︽偐瀹曞浂鏆￠梺鍝勬噺閹倿寮婚敃锟借灒濞撴凹鍨辨闂備椒绱紞鍡涘矗閸愵喖钃熸繛鎴炵懄閸庣喖鏌曟繛鍨拷鏍窗濮樿埖鈷戦悹鍥ｏ拷铏闂佹悶鍎滈崘顓ㄦ嫹閸喒鏀介柣鎰綑閻忥箓鏌ㄥ鑸电厱閻庯綆浜炴晥濠殿喖锕ュ钘夌暦閻戠瓔鏁囬柍鈺佸枤閿熻姤顨婂娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅幓鎺戠ギ闂備線娼ф蹇曟閺囥垹鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浠搁梺鍝勬嚀閸╂牜锟介潧銈稿鍫曞箣閻愮鎷烽鍕拺闁告挻褰冩禍鏍煕鎼淬垻鍙�闁糕晜鐩獮瀣偐閻㈢绱查梺璇插嚱缂嶅棙绂嶅鍫熷剭闁挎稑瀚搁幏椋庢喆閸曨剙浠╅梺绋垮閻撯剝淇婇悽绋跨妞ゆ牗姘ㄩ鍝勨攽閻樼粯娑ф繛灞傚�濆鎼佹偐閸欏倹妫冮幃鈺呮濞戞鎹曠紓鍌欒兌缁垶鏁冮姀銈囧祦闁告劦鍠栭悡娑㈡煕閹板吀绨介柨娑欑矊閳规垿鍩ラ崱妤冧化闂佸憡顭嗛崘鎯ф闂佽鍎兼慨銈夊煕閹达附鍋ｉ柛銉ｅ妼缁插鏌涢妶鍫滃惈缂佽鲸鎸搁濂稿川椤曞懏锛嗛柣搴ゎ潐濞叉﹢宕归崹顔炬殾闁告鍋愬Σ鍫熶繆椤栨壕鎷℃俊鏌ヤ憾濮婄粯鎷呯粙鎸庡�繛瀛樼矆缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ灆婵☆偄瀚伴垾鏃堝礃椤斿槈褔骞栫划鐧告嫹閼艰泛鐒婚梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐醇閵夛附娅㈤梺鍏间航閸庢娊宕弻銉︾厵闁告垯鍊栫�氾拷?
						//psend(inviterRoleId, new STeamError(TeamError.InviteingsFull));
						TeamManager.logger.info("FAIL:CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ憡顓块梻浣稿閸嬪懎煤閺嶎厽鐓侀柛銉ｅ妸娴滄粓鏌熼弶璺ㄤ粵缂佽埖姘ㄧ槐鎺楀Ω閵壯勬喖缂備胶绮粙鎾绘晸閼恒儳鈾佹い顓炴喘閹本绻濋崟顓狅紳閻庡箍鍎遍幏鎴︾叕椤掑偊鎷峰▓鍨灈妞ゎ厾鍏橀獮鍐閵堝棗浜楅柟鑹版彧缁插潡寮虫导瀛樼厽闁绘柨鎽滈惌濠勭磼婢跺本鍤�妞ゆ洩缍侀幖褰掝敃閿濆洨肖闂備線娼ч…顓犲緤閼测晞濮冲┑鐘崇閳锋垿姊婚崼鐔恒�掑褎娲熼弻鐔煎礃閼碱剛顔掗悗瑙勬礈閺佽鐣烽崼鏇ㄦ晢濞达絽鎼獮鎰版煟鎼达絾顏熼柟椋庡厴閹鏁愭惔鈥愁潻闂佺硶鏅涢惌鍌炲蓟瑜庣�电厧鈻庨幋鐘樻粓姊洪崫鍕拱闁烩晩鍨堕崹楣冩晝閸屾氨顓哄┑鐘绘涧濞层劍绂嶆ィ鍐┾拻濞达絽鎲￠崯鐐烘煥閺囥劌浜版鐐茬箻閺佹捇鏁撻敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫ょ紓渚婃嫹濠电姴鍊堕敓鑺ュ笒椤繈鎮欓锟介鍫曟⒑閼恒儺鐒介柛鐘崇墵瀵鎮㈤悡搴ｎ槶閻熸粌绻掗弫顔尖槈閵忥紕鍘遍柣搴�ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙閸濄儱浜剧紒缁樼洴閺佹挻绂掔�ｎ偆鍘搁柣蹇曞仜婢т粙鈥栭懖鈺冪＜闁绘ê纾ú瀛橆殽閻愯揪鑰跨�殿喖鐖奸獮瀣倻閸℃洘顫曢梻鍌氬�搁崐鐑芥倿閿曪拷椤啴宕稿Δ锟介崒銊ッ归悩宸剱闁稿绻濋弻宥夊传閸曨剙娅ｉ梺钘夊暟閸犳劗鎹㈠☉銏犵闁绘劕鐏氶崳顔剧磽娴ｅ弶顫夐柟椋庡厴濮婄粯鎷呮笟顖滃姼闁荤偞鍑归崑濠傜暦閹版澘鍗抽柕蹇曞Х椤︻參姊虹憴鍕姸濠殿喓鍊濋崺娑㈠箣閻樺啿鏋戦梺缁橆殔閻楀棙绌遍娑楃箚妞ゆ劧绲介悘銉╂煃鐟欏嫬鐏撮柟顔界矒瀹曞爼濡搁妷顔荤处闂傚倷娴囬褏锟芥稈鏅犻、娆撳冀椤撶偟鐛ュ┑掳鍊曢幊搴ｇ不閺嶎厽鐓曠�癸拷閿熶粙宕戝☉銏犲嚑濞撴熬鎷烽柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻锟犲川椤旇棄锟芥劙鏌＄仦璇插闁诡喓鍊濆畷鎺戔槈濮楀棔绱�??");
					}
//					else if (fire.pb.buff.Module.existState(invitedRoleId,
//								BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
//						MessageMgr.sendMsgNotify(inviterRoleId, 160202, null);
//						TeamManager.logger.info("CInviteJoinTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + roleid+")invite濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墵瀹曟繈骞嬮敃锟界壕褰掓煏閸繃鍟掗柨婵嗩槹閸ゅ鏌涜箛鎾存喐缂佺姵宀稿铏圭磼濡搫袝婵炲瓨绮嶇划鎾诲极閹剧粯鍤嶉柕澹啠鎷伴梻浣筋嚃閸燁偊宕楅悙顒侇棃鐎规洘锕㈤、鏃堝幢濞嗗繐绠氶梻鍌氬�风粈浣革耿闁秴纾块柕鍫濐槶閿熻棄鍟村畷銊╊敍濠婏拷缁楀顪冮妶鍡欏⒈闁稿鍋ら幃锟犲即閻斿墎绠氶梺闈涚墕閹冲酣寮冲▎寰濈懓顭ㄩ崱鈺傜秷婵烇絽娲ら敃顏堢嵁閹捐绠抽柡鍌氱氨閸欐椽姊绘担鍛婃儓閻炴凹鍋婂畷婵嬪箣閿曪拷缁犳牠鏌曢崼婵愭Ц缁炬儳鍚嬬换娑㈠箣閻戝洣绶垫繛瀵搞�嬮幏锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐閸旀骞戦姀銈呭耿婵☆垶鏅茬花濠氭⒑閸濆嫮袪闁告柨娴风划濠氬箻鐡掍胶鎳撻…銊╁礃閳哄嫮顢呴梻浣圭湽閸庣儤绂嶉鍫㈠祦闁糕剝鍑瑰Σ褰掓⒑缁嬫鍎嶉柛銊ょ矙瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂佽瀛╅鏍窗濡ゅ懎绠伴柧蹇ｅ亗缁诲棝鏌熼梻瀵割槮閸烆垶鎮峰鍐劯闁诡喛濮ょ换婵嗩潩椤撶姴骞楅梻浣虹帛閸旀洟顢氶銏犵柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�");
//					}
					else{
						if(!checkMap()){
							return false;
						}
						
						boolean isForceTeam = TeamManager.getInstance().isForceTeam(teamId, invitedRoleId);
												
						TeamManager.logger.info("SUCC:CInviteJoinTeam:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚悢铏圭＜闁靛繒濮甸悘鍫ユ⒑缂佹ɑ灏甸柛鐘崇墵瀵寮撮悢椋庣獮闂佺硶鍓濊摫闁绘繃妫冮弻娑㈠Ψ閿旇棄鍞夊┑顔硷攻濡炶棄鐣烽妸锔剧瘈濞达綀娅ｇ粻鎺楁⒒娴ｅ憡鍟為惇澶岀磼椤旂晫鎳囨鐐插暙椤粓鏁撻挊澶屾殾闁告鍋愬Σ鍫熺箾閸℃婀伴悗姘虫閳规垿鎮欓懜闈涙锭缂備浇寮撶划娆撶嵁婢舵劖鏅搁柣妯垮皺閻ｉ箖姊洪崜鎻掍簽闁哥姴妫欑粋宥咁煥閸喓鍙嗛梺鍝勫暙濞村倿宕靛▎寰濈懓顭ㄩ敓浠嬪础閹惰棄钃熼柍鈺佸暞婵挳鎮峰▎蹇擃仼缁剧偓濞婂娲捶椤撗呭姼闂佹寧娲忛崕閬嶎敋閵夆晛绀嬫い鎺戝�婚惁鍫ユ⒑閸涘﹥澶勯柛銊ュ暱閻ｅ嘲顭ㄩ崘锝嗘杸闂佹寧绋戠�氼剚绂嶆總鍛婄厱濠电姴鍟版晶鐢碉拷瑙勬礃缁诲牓鐛幒妤�妫橀柛顭戝枤娴滅増绻濋悽闈涗粶婵☆偅鐟╅獮鎰板箹娴ｇ懓鐝旈梺缁樻煥閸氬鎮¤箛鎾斀闁绘劘灏欐禒銏ゆ煕閺冿拷椤ㄥ棙绌辨繝鍥х闁圭儤鏌ㄩ·锟藉┑鐑囩到濞层倝鏁冮鍫涳拷浣糕槈濮楀棙鍍甸梺鍛婄懄椤牆顬婇崨濠佺箚闁绘劦浜滈敓鑺ユ礀闇夋慨妯挎硾閻鏌涢幇闈涙灈缂佺姵鐗滈敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亗闁靛鏅滈悡鏇㈡煛閸ャ儱濡煎褌鍗抽弻娑㈠箣椤栨粎鐦堥梺璇″枟椤ㄥ懘鍩㈤幘璇插瀭妞ゆ梻鏅禍顏勨攽閻橆偅濯伴柛鎰ㄦ櫆瀹曟娊姊洪崨濠傜瑲閻㈩垳鍋ら弫鎾诲棘閵堝洨校闂佸摜濮甸悧婊呭垝婵犳碍鎯炴い鎰剁磿缁犳岸姊洪棃娑氬缂佺粯鍨归敓鑺ヨ壘缂嶅﹪寮诲☉銏″�婚柛鈩冾殘娴犵鈹戦纭锋敾婵＄偠妫勮灋闁告劑鍔夊Σ鍫ュ级閸稑澹夐柕鍫濐槹閳锋垹绱掔�ｎ亝鍋ユい搴㈩殜閺屾盯鎮㈤柨瀣淮闂佽鍠楅崕鎶藉煘閹达箑骞㈤煫鍥ㄦ濞兼棃姊绘笟锟藉褏鎹㈤崱妤婄�剁憸鏃堢嵁韫囨拋娲敂閸涱亝瀚奸梻浣告啞缁嬫垿鏁冮敃鍌氱叀濠㈣埖鍔栭悡銉╂煛閸ヮ煁顏堟晸閼恒儳绠炴鐐插暙椤粓鏁撴禒瀣瀬闁稿瞼鍋涚粻锝夋煙閻戞ɑ鈷掗柣锝夌畺濮婄粯鎷呴搹鐟扮闂佸憡姊归敃銏犵暦濞差亜鍐�妞ゆ挸瀚ˇ鏉款嚗閸曨垰绠涙い鎺戝亞閺�銊╂⒒閸屾瑧璐伴柛鎾寸懅缁棃鎮介崨濠備簵闂侀潧顦弲婊堟偂濞戙垺鐓曢柟鎵虫櫅婵¤棄顭跨捄鍝勵仾闁靛洤瀚版俊鐑藉Ψ椤斿彨褔姊洪棃娑欐悙閻庢碍婢橀锝夊箻椤旇偐浼嬮梺鍦帛鐢宕曢幘缁樷拻濞达綀濮ょ涵鍫曟煕閻樿櫕绀�閾荤偤鏌涢弴銊ュ箻濞戞挸绉堕敓钘夌畭閸庨亶藝椤栨粌顥氶柛褎顨嗛埛鎴炪亜閹虹偞瀚归梺鍛婎殕濞茬喎鐣烽崼鏇ㄦ晢濠㈣泛顑嗗▍鏍⒒娴ｈ櫣甯涢柛鏃�娲熼幃娲Ω閵夈垺鐎洪梺闈涚箞閸婃牠鍩涢幋锔界厾闁诡厽甯掗崜顓熴亜韫囨挾鍚囬柛銉ｅ妿椤╃兘鎮楅敐搴濈敖闁挎稓鍠栧铏规兜閸涱喖娑ч梻鍌氬鐎氫即骞冮垾鏂ユ瀻闁规儳顕崢閬嶆⒑閻熸壆鎽犻柣鐔村劦閺佹捇鎳為妷褍鈷堥梺璺ㄥ枙婵倝鎮㈤鍕闁跨噦鎷�? "+inviterTeamId);
						// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚悢铏圭＜闁靛繒濮甸悘鍫ユ⒑缂佹ɑ灏甸柛鐘崇墵瀵寮撮悢椋庣獮闂佺硶鍓濊摫闁绘繃妫冮弻娑㈠Ψ閿旇棄鍞夊┑顔硷攻濡炶棄鐣烽妸锔剧瘈濞达綀娅ｇ粻鎺楁⒒娴ｅ憡鍟為惇澶岀磼椤旂晫鎳囨鐐插暙椤粓鏁撻挊澶屾殾闁告鍋愬Σ鍫熺箾閸℃婀伴悗姘虫閳规垿鎮欓懜闈涙锭缂備浇寮撶划娆撶嵁婢舵劖鏅搁柣妯垮皺閻ｉ箖姊洪崜鎻掍簽闁哥姴妫欑粋宥咁煥閸喓鍙嗛梺鍝勫暙濞村倿宕靛▎寰濈懓顭ㄩ敓浠嬪础閹惰棄钃熼柍鈺佸暞婵挳鎮峰▎蹇擃仼缁剧偓濞婂娲捶椤撗呭姼闂佹寧娲忛崕閬嶎敋閵夆晛绀嬫い鎺戝�婚惁鍫ユ⒑閸涘﹥澶勯柛銊ュ暱閻ｅ嘲顭ㄩ崘锝嗘杸闂佹寧绋戠�氼剚绂嶆總鍛婄厱濠电姴鍟版晶鐢碉拷瑙勬礃缁诲牓鐛幒妤�妫橀柛顭戝枤娴滅増绻濋悽闈涗粶婵☆偅鐟╅獮鎰板箹娴ｇ懓鐝旈梺缁樻煥閸氬鎮¤箛鎾斀闁绘劘灏欐禒銏ゆ煕閺冿拷椤ㄥ棙绌辨繝鍥х闁圭儤鏌ㄩ·锟藉┑鐑囩到濞层倝鏁冮鍫涳拷浣糕槈濮楀棙鍍甸梺鍛婄懄椤牆顬婇崨濠佺箚闁绘劦浜滈敓鑺ユ礀闇夋慨妯挎硾閻鏌涢幇闈涙灈缂佺姵鐗滈敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亗闁靛鏅滈悡鏇㈡煛閸ャ儱濡煎褌鍗抽弻娑㈠箣椤栨粎鐦堥梺璇″枟椤ㄥ懘鍩㈤幘璇插瀭妞ゆ梻鏅禍顏勨攽閻橆偅濯伴柛鎰ㄦ櫆瀹曟娊姊洪崨濠傜瑲閻㈩垳鍋ら弫鎾诲棘閵堝洨校闂佸摜濮甸悧婊呭垝婵犳碍鎯炴い鎰剁磿缁犳岸姊洪棃娑氬缂佺粯鍨归敓鑺ヨ壘缂嶅﹪寮诲☉銏″�婚柛鈩冾殘娴犵鈹戦纭锋敾婵＄偠妫勮灋闁告劑鍔夊Σ鍫ュ级閸稑澹夐柕鍫濐槹閳锋垹绱掔�ｎ亝鍋ユい搴㈩殜閺屾盯鎮㈤柨瀣淮闂佽鍠楅崕鎶藉煘閹达箑骞㈤煫鍥ㄦ濞兼棃姊绘笟锟藉褏鎹㈤崱妤婄�剁憸鏃堢嵁韫囨拋娲敂閸涱亝瀚奸梻浣告啞缁嬫垿鏁冮敃鍌氱叀濠㈣埖鍔栭悡銉╂煛閸ヮ煁顏堟晸閼恒儳绠炴鐐插暙椤粓鏁撴禒瀣瀬闁稿瞼鍋涚粻锝夋煙閻戞ɑ鈷掗柣锝夌畺濮婄粯鎷呴搹鐟扮闂佸憡姊归敃銏犵暦濞差亜鍐�妞ゆ挸瀚ˇ鏉款嚗閸曨垰绠涙い鎺戝亞閺�銊╂⒒閸屾瑧璐伴柛鎾寸懅缁棃鎮介崨濠備簵闂侀潧顦弲婊堟偂濞戙垺鐓曢柟鎵虫櫅婵¤棄顭跨捄鍝勵仾闁靛洤瀚版俊鐑藉Ψ椤斿彨褔姊洪棃娑欐悙閻庢碍婢橀锝夊箻椤旇偐浼嬮梺鍦帛鐢宕曢幘缁樷拻濞达綀濮ょ涵鍫曟煕閻樿櫕绀�閾荤偤鏌涢弴銊ュ箻濞戞挸绉堕敓钘夌畭閸庨亶藝椤栨粌顥氶柛褎顨嗛埛鎴炪亜閹虹偞瀚归梺鍛婎殕濞茬喎鐣烽崼鏇ㄦ晢濠㈣泛顑嗗▍鏍⒒娴ｈ櫣甯涢柛鏃�娲熼幃娲Ω閵夈垺鐎洪梺闈涚箞閸婃牠鍩涢幋锔界厾闁诡厽甯掗崜顓熴亜韫囨挾鍚囬柛銉ｅ妿椤╃兘鎮楅敐搴濈敖闁挎稓鍠栧铏规兜閸涱喖娑ч梻鍌氬鐎氫即骞冮垾鏂ユ瀻闁规儳顕崢閬嶆⒑閻熸壆鎽犻柣鐔村劦閺佹捇鎳為妷褍鈷堥梺璺ㄥ枙婵倝鎮㈤鍕闁跨噦鎷�?
						SInviteJoinTeam snd = new SInviteJoinTeam();
						snd.op = 0;
						snd.invitername = xtable.Properties.get(inviterRoleId).getRolename();
						snd.inviterlevel = xtable.Properties.get(inviterRoleId).getLevel();
						// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?,闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀劼烽敓浠嬫⒒娴ｄ警鐒炬い鎴炲灩閹广垹鈹戠�ｎ亣鎽曢悗骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰绉慨濠傤煼瀹曟帒顫濋璺ㄦ晼闂備焦鎮堕崝蹇撯枖濞戭澁缍栭煫鍥ㄦ媼濞差亶鏁傞柛鏇ㄥ亞閿熺瓔鍘奸—鍐Χ閸℃顦ラ梺鐟板暱闁帮絽鐣峰鍫濈闁兼亽鍎幏娲倵鐟欏嫭绀�婵炲眰鍔庨弫顔尖槈濞嗘劕寮挎繝鐢靛Т閸嬪棝鎮℃總鍛婄厸濞达綀顫夊畷宀勬煙缁嬪尅鏀荤�垫澘瀚悾婵嬫晸娴犲姹叉繛鎴欏灪閳锋垹绱掔�ｎ亝鍋ユい搴㈩殘閿熷�燁潐濞诧箓宕滃☉銏犵煑闁告稑鐡ㄩ埛鎴︽煙缁嬪灝顒㈢紒锟介敓浠嬫⒑缁嬪尅鍔熸い顓炵墛閺呫儵姊洪崫鍕潶闁稿孩濞婂畷锝夊箻缂佹鍘遍梺闈涱檧缁茶姤淇婇崸妤佺厓闁告瑣鍎崇粣鏃堟煛鐏炲墽鈾佺紒缁樼箞瀹曠喖顢楁担鍦闂傚倷娴囬鏍窗閺嶎厼搴婇柡灞诲劚閻撴繈骞栧ǎ顒�锟芥鎮块敓浠嬫⒑閻熸壆浠㈤柛鐔叉櫇濡叉劙骞嬮悙鎵畾闂佺粯鍔︽禍婊堟晸缁愭牕鎳庣欢銈夋煢濡警妯堥柛銈嗘礋閺屻倝宕妷锔芥瘎闂佸磭鎳撶粔鎾煘閹达附鍋愰柛娆忣槸椤︹晠姊虹粙鍖″姛闁稿繑锕㈠濠氭偄閾忓湱锛滃┑鈽嗗灡濡炰粙宕电�ｎ喗鈷戠憸鐗堝俯濡垿鏌涜箛鏂嗩亪鎮鹃悿顖樹汗闁圭儤绻冮弲鈺呮⒑缂佹ê濮﹂柛鎾村哺椤㈡瑩寮撮姀鈾�鎷绘繛杈剧悼閻℃柨顭囬幇鐗堢厱閹兼番鍊曢ˉ宥嗐亜閿濆鐣烘慨濠呮閹瑰嫰濡搁妷锔撅拷楣冩⒑閸濆嫷鍎撶�规洜鏁搁崚鎺撶節濮橆剛顔掗梺鐓庮潟閸婃洜绮婇敃鍌涒拺闁革富鍘奸崝瀣亜閵娿儲鍣介柣姘劤椤撳吋寰勭�ｎ剙骞堥梺璇茬箳閸嬬娀顢氳閺佹捇鎳為妷褍鈪归梺鍝勬閺呯姴顫忔繝姘＜婵﹩鍓ㄩ幏鐑藉箹娴ｅ摜锛欐俊鐐差儏濞寸兘鎯岄崱妞硷拷鎺戭潩閻愵剙顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵犲﹤鐗嗙壕缁樼箾閹存瑥鐏╅柛銊ュ�块弻娑氫沪閸撗�妫ㄦ繛瀛樼矋缁捇寮婚垾鎰佸悑闁告劑鍔岄‖瀣⒑闂堟稒顥為悽顖涱殜婵＄敻宕熼姘卞幐闂佺鏈划灞筋嚕閵娾晜鈷戦柛婵嗗閻忛亶鏌涢悩宕囧⒌妤犵偛鍟…銊╁礂閸撗冩灈闁诡喗绮撻崺锟犲磼濮橀棿绱╅梻鍌氬�搁崐鐑芥嚄閸洍锟斤箓宕奸妷顔芥櫈闂佺硶鍓濈粙鎺楀磻鐎ｎ偂绻嗛柕鍫濇噺閸ｇ懓顩奸崨瀛樷拺闁告稑锕ユ径鍕煕閵婏箑顥嬬紒顔款嚙閳藉濮�閿涘嫬甯楅梺鍝勵槺閸嬬偞鍒婃禒瀣閻忕偟鐓ぐ鎺撳亹閻忕偛鍊告禒顕�姊虹拠鈥虫灕婵炲鐩敐鐐测攽鐎ｎ亞顢呴梺缁樺姇椤曨厽绂嶉鍛瘈婵炲牆鐏濋弸娑㈡煥閺囨ê鍔氭い顏勫暣閹稿﹥寰勭仦鐐啎婵＄偑鍊栭崝褏绮婚幋鐘电焼閻庯綆鍋佹禍婊堟煙娴煎瓨娑у褜鍨堕幃妤�顫濇潏銊ユ畬闂佸疇顫夐崹鍧楀箖閳哄喛鎷烽崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕戙儱鈹戦悜鍥ㄥ闂備礁鎼惉濂稿窗閺嶎厾宓侀柟杈剧畱缁犳稒銇勯幒鎴濓拷鍝ユ暜閹稿簼绻嗛柣鎰典簻閿熷鍊濆畷鎴﹀川椤掑吋妞介幃銏ゆ偂鎼淬倖鎲伴柣搴＄畭閸庨亶藝椤栨碍鏆滈梺鑽ゅ枑缁瞼绮旈悽鐢电焿闁圭儤鍤氬ú顏嶆晜闁告侗鍨板鎶芥⒒娴ｈ櫣甯涙俊顐＄窔椤㈡俺顦舵い锝呮健濮婂搫效閸パ呭姶闂佸壊鐓堟禍顏堝极閹剧粯瀵犲璺虹焿缁辩偤姊洪崫鍕紨缂佺姵鎹囧濠氬即閻旇櫣顔曢悷婊冪Ф缁棃鎮界喊澶嬪婵ɑ鍓氬鎰磼缂佹娲存鐐差儔閹瑩宕归銏☆仱闂傚倷鑳剁划顖滄暜閻愬搫鐤炬い鎰剁畱缁犵喖鏌涘┑鍕姕闁哄棙绮嶉妵鍕籍閸ヮ煈妫勫銈呴獜閹凤拷
						//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Ω閵堝棗鏋ら柣搴㈩問閸犳洟宕￠搹顐＄箚闁汇値鍨煎顏堟⒑瑜版帩妫戦柛蹇旓耿楠炲棝宕掗悙鎻掔獩婵犵數濮撮崑鍡樺閹剧粯鈷掗柛灞剧懅椤︼箓鏌熷ù瀣舵嫹鐡掍焦妞介弫鍐磼濮橀硸妲繝娈垮枟椤ㄦ劙骞忛柨瀣垫闁绘劖娼欐慨宥夋煛娴ｈ灏扮紒鍌涘笧閿熸枻缍嗛崑锟介柟椋庣帛缁绘稒娼忛崜褏袣濠电偛鎷戠徊鍧楀极椤斿皷妲堥柕蹇ョ磿閸樻悂鏌ｈ箛鏇炰哗妞ゆ泦鍕箚濞寸姴顑嗛悡娑㈡煕濞戞瑦绶查柣鎾村姍閺岀喖顢涘☉娆樻闂佽桨鐒﹂崝娆忕暦閸洖鐓涢柛鎰╁妼绗戦梻鍌氬�搁崐宄懊归崶褉鏋栭柡鍥ュ灩闂傤垶鏌ㄩ弴鐐诧拷鍝ョ不椤栫偞鐓ラ柣鏇炲�圭�氾拷
						team.getTeamInfo().getInvitingids().put(invitedRoleId,now);
						//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Ω閵堝棗鏋ら柣搴㈩問閸犳洟宕￠搹顐＄箚闁汇値鍨煎顏堟⒑瑜版帩妫戦柛蹇旓耿楠炲棝宕掗悙鎻掔獩婵犵數濮撮崑鍡樺閹剧粯鈷掗柛灞剧懄缁佺増绻涙径瀣鐎规洘婢橀濂稿炊瑜嶉悘濠傗攽閻愬弶顥為柟鍛婂劤閻ｅ灚绗熼敓浠嬪蓟濞戙垹绠涢梻鍫熺♁閻濐噣姊烘潪鎵槮妞ゆ垵顦靛濠氬Ω閳哄倸浜滈梺鍛婃尫閼冲爼鎮￠幘缁樷拺闂傚牊绋掗ˉ娆戠磼閼镐絻澹樻い鏇秮楠炴﹢顢欑喊杈ㄧ秱闂備焦鏋奸弲娑㈠疮椤栫偞鍋熼柡宥庡幗閳锋帒霉閿濆牆袚缁绢厼鐖奸弻娑㈡偐閼碱儷銈夋煕閹烘挸绗掗柍璇查叄楠炴﹢鎼归銈忔嫹椤掑嫭鈷戦柣鐔告緲閳锋梻绱掗鍛仯闁跨喓鏅弫鍛婃叏閹绢喒锟斤箓宕稿Δ浣告疂閻庣數澧楅〃蹇旂椤忓嫮鏆︽繝濠傜墕缁狀噣鏌ら幁鎺戝姉闁归攱妞介幃宄邦煥閸涱収鏆柣銏╁灙閺呮稖鐏嬮梺鐟扮摠缁洪箖寮ㄦ禒瀣厽闁瑰瓨绻冩径鍕倵濮橆剛绉烘慨濠勭帛閹峰懐绮电�ｎ亝鐣伴梻浣告憸婵敻鎮ч弴鈶╋拷锕傚炊椤掍焦娅㈤梺缁橈供閸ｎ垶骞忛柨瀣缂侇垱娲橀～宥呪攽椤旂瓔娈旀俊顐ｇ懃椤曟瑥煤椤忓應鎷洪梺鍛婃尰瑜板啯绂嶉悙鐑樼厱闁绘ɑ鐓￠崣鍕亜閵忊剝顥堢�规洖銈稿鎾偄閸欏顏归梻鍌欑閹诧紕绮欓幋锔芥櫇闁靛牆妫欓崣蹇涙煥閺囩偛锟藉綊鎮￠弴銏＄厽婵☆垵顕ф晶顖涚箾閸喓鐭岄柨鐔诲Г椤旀牠宕板Δ鍛亗闁跨喓濮伴敓鎴掔铻栭柛娑卞幘椤︽澘顪冮妶鍡楅嚋闁归鍏橀弻銊╂偄缂佹﹩妫勯梺缁樼墪閵堢顕ｆ繝姘櫜濠㈣泛锕﹂悿锟芥俊鐐�栭悧妤�顫濋妸鈺佸偍妞ゆ劑鍩勫〒濠氭煏閸繂鏆欓柛鏃�纰嶉妵鍕晜閻愵剚姣堝Δ鐘靛仜閸燁垳绮嬮幒鏃撴嫹閿濆懐浠涢柡鍜佸墮閳规垿鍩ラ崱妤冧哗闂佸湱鈷堥崑鍛村箞閵娾晜鏅濋柛灞剧▓閹锋椽姊洪崨濠勭畵閻庢凹鍣ｉ幃鐐垫崉閵娧咃紳閻庡箍鍎辩�氼喚绮ｉ弮鍫熺厪闁糕剝娲滅粣鏃傦拷娈垮櫘閸ｏ絽鐣烽悡搴樻斀闁割偒鍋呮晥闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬪┑鐘插閻瑩鏌熺�电浠ч柣婵嗗閿熻棄绠嶉崕鍗炍涢弮鍌涘床闁糕剝绋掗悡鐔兼煙閺夊灝鎮佺紒銊ヮ煼閺屻劑鎮㈡總澶嬬稐闂佺锕ョ换鍌炴偩閻戣棄绠ｉ柨鏇嫹缂佺姴顭烽弻娑㈠箻閸欏妯傜紓浣诡殔椤﹂潧顫忛搹瑙勫枂闁告洦鍋嗛ˇ銊ヮ渻閵堝棙鑲犻柛銉ｅ妼閻濇棃姊虹紒妯荤叆闁告艾顑夐幃锟犲Ψ閳哄倻鍘介梺鍝勬川閸嬫盯鏁撻挊澶嬭础闁跨喕濮ら悢顒勫箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掑Δ锟界猾宥夋煥閻斿墎鐭欑�规洑鍗冲畷鍗炩槈濞嗘垵骞堥梻浣告惈濞层垽宕濆畝鍕祦闁规壆澧楅悡娑㈡煥閻斿墎鐭欓柟鐓庣秺椤㈡洟濡堕崶鈺傤潓闂傚倷鐒﹂惇褰掑垂閽樺鐒界憸宥夋偤椤撶喓绡�闁汇垽娼ф禒婊堟煟椤忓啫宓嗙�规洘鍔曡灃闁告劑鍔岄悘濠冪節閻㈤潧校闁肩懓澧界划濠氬箮閼恒儳鍘甸梺璇″瀻閸愵亞袦缂傚倷闄嶉崝宀勨�﹀畡閭︽綎婵炲樊浜滄导鐘绘煕閺囥劌甯ㄩ柣妯肩帛閻撴洟鏌￠崒姘仴闁告瑥瀚伴弻娑㈠煛鐎ｎ喗顎嶉梺鐟板槻閹虫﹢骞栬ぐ鎺戞嵍妞ゆ挾濮靛▓浠嬫⒒閸屾瑨鍏屾い銏狅躬楠炴捇顢旈崼鐔叉寖闂佸憡娲﹂崹浼存偂閺囥垺鐓欓弶鍫ョ畺濡绢噣鏌ｉ幘瀛樼缂佺粯鐩獮瀣倻閸パ冨絾闂備礁鎲″濠氬窗閺嶎厼钃熸繛鎴欏灪閸嬪嫰鎮归崶顏勭毢婵絻鍨荤槐鎾存媴娴犲鎽甸柣銏╁灲缁绘繈鐛崘顔肩厸闁告侗鍘鹃ˇ銊╂⒑閼测斁鎷￠柛蹇旂〒濡叉劕鈹戠�ｎ偆鍘介柟鍏肩暘閸娿倕顭囬幇顓犵闁告瑥顧�閼板潡鏌熼鎯у幋闁糕晪绻濆畷銊╊敇閻旂尨鎷烽鍕�垫鐐茬仢閸旀碍銇勯敂璇茬仯缂侇喖鐗忛敓鏂ょ秵閸犳鎮￠悩缁樼厵闂傚倸顕崝宥嗙箾閹冲嘲瀚ㄦ禍婊堢叓閸ャ劎顣茬痪顓㈢畺閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺侇嚕閸洖绠ｉ柣妯块哺椤㈡ê鈹戦敍鍕杭闁稿﹥娲栭湁婵﹩鍘鹃々鍙夈亜韫囨挾澧戦柨鐔稿灊缁舵艾顕ｉ锟藉畷鐓庘攽閸偅效闂傚倷娴囬鏍垂閻楀牊鍎熸繝濠傜墕缁狀垶鏌ｉ幋锝嗩棄闂佽￥鍊栨穱濠囧Χ閸曨喖鍘￠梺鍛婄懃濡繂顫忛搹鍦＜婵☆垵宕甸ˇ銉╂⒑缁嬪尅宸ユ繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�
						xbean.InviteInfo inviteInfo = xtable.Teaminvite.get(invitedRoleId);
						if(inviteInfo == null)
						{
							inviteInfo = xbean.Pod.newInviteInfo();
							xtable.Teaminvite.add(invitedRoleId, inviteInfo);
						}
						
						if (inviterTeamId == null)
						{
							return false;
						}
						
						inviteInfo.setBeinginvited(true);
						inviteInfo.getInviting().setTeamid(inviterTeamId);
						inviteInfo.getInviting().setRoleid(inviterRoleId);
						inviteInfo.getInviting().setInvitetime(now);						
						inviteInfo.getInvited().add(inviteInfo.getInviting().copy());
						
						if (isForceTeam && force == 1)
						{
							snd.op = 1;
							mkdb.Procedure.psendWhileCommit(invitedRoleId, snd);								
						}
						else if (!team.isTeamLeader(inviterRoleId)) //濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞﹩娼ㄩ柨鐔烘櫕缁寮借閺嗭附绻濋棃娑卞剱闁哄懏鎮傞弻銊╂偆閸屾稑顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙缁嬫鐓奸柟顖氬椤㈡盯鎮欓懠鑸垫啺婵犵數鍋為崹顖炲垂瑜版帒纭�闁规儼濮ら悡蹇涚叓閸パ嶅伐濠⒀勭叀濮婂搫鈻庨幆褍绫嶅┑顔硷龚濞咃綁骞忛悩璇茶摕闁靛／鍐┿仢闂傚倸鍊搁崐鍝ワ拷姘煎墰閿熻姤鍑归崢鍓у垝濮橆厽缍囬柕濞у懐妲囬梻浣告啞濞诧箓宕滃▎鎾村仧濞寸厧鐡ㄩ崑鈩冪節婵犲倸鏆熺紒鐘差煼閺岀喖顢氶敓鐣岀不閺嵮呮殾鐟滅増甯╅弫鍐煥濠靛棙鍣瑰ù鐓庨閳规垿鎮╅崹顐ｆ瘎婵犳鍠栭顓㈠箲閵忋倕绠ｉ柣娆忔噺鐎氳鎱ㄥΟ鐓庝壕閻庢熬鎷�? by changhao
						{
							snd.op = 2;
							snd.leaderroleid = team.getTeamLeaderId();
							psendWhileCommit(inviterRoleId, new SInviteJoinSucc(invitedRoleId));
							MessageMgr.psendMsgNotify(inviterRoleId, 142358, null);
							// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺绋款儏鐎氼參濡甸崟顖氱闁瑰瓨绻嶆禒鑲╃磽娴ｅ搫顎岄柛銊ョ埣瀵鏁愭径濠勵吅闂佹寧绻傞幉娑㈠箻缂佹鍘介梺瑙勫劤閻°劎绮堥敓浠嬫⒑鐎圭媭娼愰柛銊ユ健楠炲啴鍩￠崨顓狀唽闂佺懓鎼粔鍫曞极閺嶎厽鈷掑ù锝勮閻掗箖鎮楀☉鎺撴珚鐎规洖缍婂畷绋课旈敓浠嬫嫅閻斿吋鐓熼柡鍐ㄥ�哥敮鍓佺磼閿熶粙宕熼娑氬帾闂佸壊鍋呯换鍐夊鍕╀簻闊洢鍎茬�氾拷?
							mkdb.Procedure.psendWhileCommit(invitedRoleId, snd);								
						}
						else
						{
							
							xbean.Properties invitedProp = xtable.Properties.select(invitedRoleId);
							if (invitedProp != null)
							{
								Integer v = invitedProp.getSysconfigmap().get(11);
								if (v != null)
								{
									if (v == 1)
									{
										MessageMgr.psendMsgNotify(inviterRoleId, 166060, null);
										return false;
									}
								}
							}
							
							snd.op = 0;
							psendWhileCommit(inviterRoleId, new SInviteJoinSucc(invitedRoleId));
							MessageMgr.psendMsgNotify(inviterRoleId, 142358, null);
							// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺绋款儏鐎氼參濡甸崟顖氱闁瑰瓨绻嶆禒鑲╃磽娴ｅ搫顎岄柛銊ョ埣瀵鏁愭径濠勵吅闂佹寧绻傞幉娑㈠箻缂佹鍘介梺瑙勫劤閻°劎绮堥敓浠嬫⒑鐎圭媭娼愰柛銊ユ健楠炲啴鍩￠崨顓狀唽闂佺懓鎼粔鍫曞极閺嶎厽鈷掑ù锝勮閻掗箖鎮楀☉鎺撴珚鐎规洖缍婂畷绋课旈敓浠嬫嫅閻斿吋鐓熼柡鍐ㄥ�哥敮鍓佺磼閿熶粙宕熼娑氬帾闂佸壊鍋呯换鍐夊鍕╀簻闊洢鍎茬�氾拷?
							mkdb.Procedure.psendWhileCommit(invitedRoleId, snd);							
						}
					}
			
				}
				else
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插暞閸婃劖銇勯姀鈩冾棃妞ゃ垺娲熼弫鍌炴偩鐏炶棄绗氱紓鍌氬�搁崐鐑芥倿閿曚焦鎳岄梻浣瑰▕閺�閬嶅礉濞嗘挸钃熼柡鍥ュ灩閻愬﹦鎲稿澶樻晜妞ゆ帒鍊荤壕濂告煟濡櫣锛嶆繛鎻掔摠椤ㄣ儵鎮欐潏鎹愶拷鍧楁煙閻撳海绉烘い銏℃礋閺佹劖鎯旈埄鍐╂瘔闂傚倸鍊搁崐鎼佸磹閻戣姤鍊块柨鏇嫹妞ゎ亜鍟撮獮鎰償閿濆孩閿ゆ繝鐢靛仜濡瑩宕归悽绋垮瀭婵犻潧娲ㄧ粻楣冩煕閳╁叐鎴犱焊椤撱垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦璇插闁宠鍨垮畷閬嶅煛閸屽偊绠撻弻鐔碱敍濠婂啯鐏堝┑顔硷攻濡炶棄螞閸愩劉妲堥弶鍫涘壉閵堝鈷戠紒瀣閹癸綁鏌涙惔娑橈拷妤呮晸娴犲娑ч柕鍫㈩焾閻ｅ嘲顫滈敓浠嬨�佸▎鎴炲枂闁挎繂妫楅鍦磽閸屾艾锟介绮堟笟锟介、鏍川椤栨瑧鍓ㄩ梺鍛婁緱閸欏酣宕崨瀛樼厪濠㈣埖绋栫粈瀣瑰鍕煉闁哄瞼鍠撻敓鑺ョ♁椤洨绮婚弽顓熺厱闁绘ɑ鍨氶幋锔猴拷鍐Ψ閳哄倸锟界兘鏌ょ喊鍗炲妞ゆ梹甯″鐑樻姜閹殿喖濡介梺鍦嚀濞差厼顕ｉ锕�绠荤紓浣股戝▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?
					if(!checkSingleInviteNotFull(inviterRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏腹鎷诲銈嗙墬缁嬪繑绂嶅鍫熺厸闁搞儲婀圭花濂告倵濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆО缂傚倷娴囬褔鎮ч幘鎰佸殨妞ゆ劧绠戠粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儜閹风兘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇旂節濮橆剛锛滃┑顔矫畷顒勩�傞悽鍛娾拺闁告繂瀚崳浠嬫煕鐎ｎ剙鏋旈柛鎺撳浮瀹曞ジ锝為钘夘伓闂佹寧绻傛鎼佸几閻斿吋鐓熼柟鎯х摠缁�瀣煛瀹�瀣瘈鐎规洘锕㈤獮鎰償閳藉棔绱﹂梻鍌氬�烽悞锕傚箖閸洖绀夌�癸拷閸曨剙锟借埖绻濋棃娑卞剱闁稿鏅犻弻锝夊箣閿濆棭妫勭紓浣哄У缁嬫帡濡甸崟顖氬嵆闁绘劖鎯屽Λ锟犳煟鎼淬垼澹樼紓宥咃躬瀵濡搁妷銏℃杸闂佺硶鍓濇笟妤呮晸閼恒儺娈旀い顓″劵椤т線鏌涢妸銉у煟妤犵偛鍟灃闁跨喍绮欓敐鐐测攽鐎ｅ灚鏅ｉ梺缁樺姇瀵爼骞婂▎鎾粹拻濞达絽鎲￠幆鍫ユ煟椤愶絿鎳囩�规洘锕㈤幃娆擃敆閿熶粙宕楁繝鍐х箚闁绘劦浜滈敓鑺ョ墱閺侇噣顢旈崼婵堫唵闂佺粯鍨兼慨銈夋偂閵夆晜鐓熼柡鍐ㄥ�荤敮娑欍亜閵夈儺妲虹紒杈ㄦ尭椤撳ジ宕崘顓炴儓婵°倗濮烽崑娑樜涘┑鍡欐殾闁割偅娲栨儫閻熸粍绮岄湁闁告洦鍨遍悡鐔煎箹閹碱厼鐏ｇ紒澶屾暬閺屾稓锟斤綆浜濋ˉ銏拷瑙勬磸閸ㄨ棄鐣烽妸锔剧瘈闁告洦鍙庨崯搴ㄦ⒑閸濆嫷妲搁柣妤�妫欓弲鑸电鐎ｎ亞鐣烘繝闈涘�搁幉锟犳偂濞嗘挻鐓ｉ煫鍥风到娴滄繄锟借娲栭張顒勫Φ閸曨垰顫呴柍鈺佸暙绾板秴顪冮妶搴″箲闁告梹鍨甸悾閿嬬附閸涘﹤浜滈梺鍛婄箓鐎氼剛绮婚妷銉㈡斀闁绘ê鐏氶弳鈺呮煕鐎ｎ剙啸濞存粍鎮傞、鏃堝醇椤愶絾娅撳┑鐘垫暩婵潙煤閿曞倹鍊块柤鎭掑劘娴滄粓鏌″鍐ㄥ闁绘粌顭烽弻鐔兼倻缁涘顥栭梺鐟板级閹稿啿鐣烽悢纰辨晢闁稿本顨嗛弲顒勬⒒閸屾瑨鍏岄柟铏崌瀹曠敻寮介鐐殿唵闂佽法鍣﹂幏锟�?4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈠即閻樺弶妲梻鍌氬�搁崐椋庣矆娴ｅ搫顥氭い鎾跺Т閸ㄦ繃銇勯弽銊ュ毈婵炲吋鐗曢埞鎴︽偐瀹曞浂鏆￠梺鍝勬噺閹倿寮婚敃锟借灒濞撴凹鍨辨闂備椒绱紞鍡涘矗閸愵喖钃熸繛鎴炵懄閸庣喖鏌曟繛鍨拷鏍窗濮樿埖鈷戦悹鍥ｏ拷铏闂佹悶鍎滈崘顓ㄦ嫹閸喒鏀介柣鎰綑閻忥箓鏌ㄥ鑸电厱閻庯綆浜炴晥濠殿喖锕ュ钘夌暦閻戠瓔鏁囬柍鈺佸枤閿熻姤顨婂娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅幓鎺戠ギ闂備線娼ф蹇曟閺囥垹鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浠搁梺鍝勬嚀閸╂牜锟介潧銈稿鍫曞箣閻愮鎷烽鍕拺闁告挻褰冩禍鏍煕鎼淬垻鍙�闁糕晜鐩獮瀣偐閻㈢绱查梺璇插嚱缂嶅棙绂嶅鍫熷剭闁挎稑瀚搁幏椋庢喆閸曨剙浠╅梺绋垮閻撯剝淇婇悽绋跨妞ゆ牗姘ㄩ鍝勨攽閻樼粯娑ф繛灞傚�濆鎼佹偐閸欏倹妫冮幃鈺呮濞戞鎹曠紓鍌欒兌缁垶鏁冮姀銈囧祦闁告劦鍠栭悡娑㈡煕閹板吀绨介柨娑欑矊閳规垿鍩ラ崱妤冧化闂佸憡顭嗛崘鎯ф闂佽鍎兼慨銈夊煕閹达附鍋ｉ柛銉ｅ妼缁插鏌涢妶鍫滃惈缂佽鲸鎸搁濂稿川椤曞懏锛嗛柣搴ゎ潐濞叉﹢宕归崹顔炬殾闁告鍋愬Σ鍫熶繆椤栨壕鎷℃俊鏌ヤ憾濮婄粯鎷呯粙鎸庡�繛瀛樼矆缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ灆婵☆偄瀚伴垾鏃堝礃椤斿槈褔骞栫划鐧告嫹閼艰泛鐒婚梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐醇閵夛附娅㈤梺鍏间航閸庢娊宕弻銉︾厵闁告垯鍊栫�氾拷?
						psend(inviterRoleId, new STeamError(TeamError.InviteingsFull));
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏腹鎷诲銈嗙墬缁嬪繑绂嶅鍫熺厸闁搞儲婀圭花濂告倵濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆО缂傚倷娴囬褔鎮ч幘鎰佸殨妞ゆ劧绠戠粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儜閹风兘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇旂節濮橆剛锛滃┑顔矫畷顒勩�傞悽鍛娾拺闁告繂瀚崳浠嬫煕鐎ｎ剙鏋旈柛鎺撳浮瀹曞ジ锝為钘夘伓闂佹寧绻傛鎼佸几閻斿吋鐓熼柟鎯х摠缁�瀣煛瀹�瀣瘈鐎规洘锕㈤獮鎰償閳藉棔绱﹂梻鍌氬�烽悞锕傚箖閸洖绀夌�癸拷閸曨剙锟借埖绻濋棃娑卞剱闁稿鏅犻弻锝夊箣閿濆棭妫勭紓浣哄У缁嬫帡濡甸崟顖氬嵆闁绘劖鎯屽Λ锟犳煟鎼淬垼澹樼紓宥咃躬瀵濡搁妷銏℃杸闂佺硶鍓濇笟妤呮晸閼恒儺娈旀い顓″劵椤т線鏌涢妸銉у煟妤犵偛鍟灃闁跨喍绮欓敐鐐测攽鐎ｅ灚鏅ｉ梺缁樺姇瀵爼骞婂▎鎾粹拻濞达絽鎲￠幆鍫ユ煟椤愶絿鎳囩�规洘锕㈤幃娆擃敆閿熶粙宕楁繝鍐х箚闁绘劦浜滈敓鑺ョ墱閺侇噣顢旈崼婵堫唵闂佺粯鍨兼慨銈夋偂閵夆晜鐓熼柡鍐ㄥ�荤敮娑欍亜閵夈儺妲虹紒杈ㄦ尭椤撳ジ宕崘顓炴儓婵°倗濮烽崑娑樜涘┑鍡欐殾闁割偅娲栨儫閻熸粍绮岄湁闁告洦鍨遍悡鐔煎箹閹碱厼鐏ｇ紒澶屾暬閺屾稓锟斤綆浜濋ˉ銏拷瑙勬磸閸ㄨ棄鐣烽妸锔剧瘈闁告洦鍙庨崯搴ㄦ⒑閸濆嫷妲搁柣妤�妫欓弲鑸电鐎ｎ亞鐣烘繝闈涘�搁幉锟犳偂濞嗘挻鐓ｉ煫鍥风到娴滄繄锟借娲栭張顒勫Φ閸曨垰顫呴柍鈺佸暙绾板秴顪冮妶搴″箲闁告梹鍨甸悾閿嬬附閸涘﹤浜滈梺鍛婄箓鐎氼剛绮婚妷銉㈡斀闁绘ê鐏氶弳鈺呮煕鐎ｎ剙啸濞存粍鎮傞、鏃堝醇椤愶絾娅撳┑鐘垫暩婵潙煤閿曞倹鍊块柤鎭掑劘娴滄粓鏌″鍐ㄥ闁绘粌顭烽弻鐔兼倻缁涘顥栭梺鐟板级閹稿啿鐣烽悢纰辨晢闁稿本顨嗛弲顒勬⒒閸屾瑨鍏岄柟铏崌瀹曠敻寮介鐐殿唵闂佽法鍣﹂幏锟�?4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈠即閻樺弶妲梻鍌氬�搁崐椋庣矆娴ｅ搫顥氭い鎾跺Т閸ㄦ繃銇勯弽銊ュ毈婵炲吋鐗曢埞鎴︽偐瀹曞浂鏆￠梺鍝勬噺閹倿寮婚敃锟借灒濞撴凹鍨辨闂備椒绱紞鍡涘矗閸愵喖钃熸繛鎴炵懄閸庣喖鏌曟繛鍨拷鏍窗濮樿埖鈷戦悹鍥ｏ拷铏闂佹悶鍎滈崘顓ㄦ嫹閸喒鏀介柣鎰綑閻忥箓鏌ㄥ鑸电厱閻庯綆浜炴晥濠殿喖锕ュ钘夌暦閻戠瓔鏁囬柍鈺佸枤閿熻姤顨婂娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅幓鎺戠ギ闂備線娼ф蹇曟閺囥垹鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浠搁梺鍝勬嚀閸╂牜锟介潧銈稿鍫曞箣閻愮鎷烽鍕拺闁告挻褰冩禍鏍煕鎼淬垻鍙�闁糕晜鐩獮瀣偐閻㈢绱查梺璇插嚱缂嶅棙绂嶅鍫熷剭闁挎稑瀚搁幏椋庢喆閸曨剙浠╅梺绋垮閻撯剝淇婇悽绋跨妞ゆ牗姘ㄩ鍝勨攽閻樼粯娑ф繛灞傚�濆鎼佹偐閸欏倹妫冮幃鈺呮濞戞鎹曠紓鍌欒兌缁垶鏁冮姀銈囧祦闁告劦鍠栭悡娑㈡煕閹板吀绨介柨娑欑矊閳规垿鍩ラ崱妤冧化闂佸憡顭嗛崘鎯ф闂佽鍎兼慨銈夊煕閹达附鍋ｉ柛銉ｅ妼缁插鏌涢妶鍫滃惈缂佽鲸鎸搁濂稿川椤曞懏锛嗛柣搴ゎ潐濞叉﹢宕归崹顔炬殾闁告鍋愬Σ鍫熶繆椤栨壕鎷℃俊鏌ヤ憾濮婄粯鎷呴懞銉с�婇梺闈╃秶缁犳捇鐛箛娑欐櫢闁跨噦鎷� "+inviterRoleId);
					}
					else if(!checkTeamFilter(inviterRoleId, invitedRoleId))
					{
						TeamManager.logger.debug("FAIL:TeamFilter闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处缂併劎绮穱濠囨倷椤忓嫸鎷烽弽顐ｆ殰闁圭儤顨呯壕鍦磽娴ｈ鐒介柍缁樻⒒閿熻棄绠嶉崕閬嵥囨导瀛樺亗婵炲棙鎸哥痪褔鏌涢锝囩畵闁抽攱妫冮弻锝夋晲閸粌鎯堢紓浣介哺鐢繝鐛崶顒夋晣鐟滃酣鎮挎笟锟藉娲传閸曨噮娼堕梺鍛婃⒐閸ㄥ潡鐛崘顔嘉у璺猴功閿涙粌鈹戦悙鏉戠仸闁挎洍鏅滅�靛ジ鏁撻敓锟�,TeamId: "+inviterTeamId);
					}
					else if (fire.pb.buff.Module.existState(invitedRoleId,
							BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
//						Message.sendMsgNotify(inviterRoleId, 160202, null);
						TeamManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + invitedRoleId+")invite濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墵瀹曟繈骞嬮敃锟界壕褰掓煏閸繃鍟掗柨婵嗩槹閸ゅ鏌涜箛鎾存喐缂佺姵宀稿铏圭磼濡搫袝婵炲瓨绮嶇划鎾诲极閹剧粯鍤嶉柕澹啠鎷伴梻浣筋嚃閸燁偊宕楅悙顒侇棃鐎规洘锕㈤、鏃堝幢濞嗗繐绠氶梻鍌氬�风粈浣革耿闁秴纾块柕鍫濐槶閿熻棄鍟村畷銊╊敍濠婏拷缁楀顪冮妶鍡欏⒈闁稿鍋ら幃锟犲即閻斿墎绠氶梺闈涚墕閹冲酣寮冲▎寰濈懓顭ㄩ崱鈺傜秷婵烇絽娲ら敃顏堢嵁閹捐绠抽柡鍌氱氨閸欐椽姊绘担鍛婃儓閻炴凹鍋婂畷婵嬪箣閿曪拷缁犳牠鏌曢崼婵愭Ц缁炬儳鍚嬬换娑㈠箣閻戝洣绶垫繛瀵搞�嬮幏锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐閸旀骞戦姀銈呭耿婵☆垶鏅茬花濠氭⒑閸濆嫮袪闁告柨娴风划濠氬箻鐡掍胶鎳撻…銊╁礃閳哄嫮顢呴梻浣圭湽閸庣儤绂嶉鍫㈠祦闁糕剝鍑瑰Σ褰掓⒑缁嬫鍎嶉柛銊ょ矙瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂佽瀛╅鏍窗濡ゅ懎绠伴柧蹇ｅ亗缁诲棝鏌熼梻瀵割槮閸烆垶鎮峰鍐劯闁诡喛濮ょ换婵嗩潩椤撶姴骞楅梻浣虹帛閸旀洟顢氶銏犵柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�");
					}
					else if (fire.pb.buff.Module.existState(inviterRoleId,
							BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
//						Message.sendMsgNotify(inviterRoleId, 160202, null);
						TeamManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + inviterRoleId+")invite濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墵瀹曟繈骞嬮敃锟界壕褰掓煏閸繃鍟掗柨婵嗩槹閸ゅ鏌涜箛鎾存喐缂佺姵宀稿铏圭磼濡搫袝婵炲瓨绮嶇划鎾诲极閹剧粯鍤嶉柕澹啠鎷伴梻浣筋嚃閸燁偊宕楅悙顒侇棃鐎规洘锕㈤、鏃堝幢濞嗗繐绠氶梻鍌氬�风粈浣革耿闁秴纾块柕鍫濐槶閿熻棄鍟村畷銊╊敍濠婏拷缁楀顪冮妶鍡欏⒈闁稿鍋ら幃锟犲即閻斿墎绠氶梺闈涚墕閹冲酣寮冲▎寰濈懓顭ㄩ崱鈺傜秷婵烇絽娲ら敃顏堢嵁閹捐绠抽柡鍌氱氨閸欐椽姊绘担鍛婃儓閻炴凹鍋婂畷婵嬪箣閿曪拷缁犳牠鏌曢崼婵愭Ц缁炬儳鍚嬬换娑㈠箣閻戝洣绶垫繛瀵搞�嬮幏锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐閸旀骞戦姀銈呭耿婵☆垶鏅茬花濠氭⒑閸濆嫮袪闁告柨娴风划濠氬箻鐡掍胶鎳撻…銊╁礃閳哄嫮顢呴梻浣圭湽閸庣儤绂嶉鍫㈠祦闁糕剝鍑瑰Σ褰掓⒑缁嬫鍎嶉柛銊ょ矙瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂佽瀛╅鏍窗濡ゅ懎绠伴柧蹇ｅ亗缁诲棝鏌熼梻瀵割槮閸烆垶鎮峰鍐劯闁诡喛濮ょ换婵嗩潩椤撶姴骞楅梻浣虹帛閸旀洟顢氶銏犵柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�");
					}
					else
					{
						if(!checkMap()){
							return false;
						}
						
						TeamManager.logger.debug("SUCC:婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚悢铏圭＜闁靛繒濮甸悘鍫ユ⒑缂佹ɑ灏甸柛鐘崇墵瀵寮撮悢椋庣獮闂佺硶鍓濊摫闁绘繃妫冮弻娑㈠Ψ閿旇棄鍞夊┑顔硷攻濡炶棄鐣烽妸锔剧瘈濞达綀娅ｇ粻鎺楁⒒娴ｅ憡鍟為惇澶岀磼椤旂晫鎳囨鐐插暙椤粓鏁撻挊澶屾殾闁告鍋愬Σ鍫熺箾閸℃婀伴悗姘虫閳规垿鎮欓懜闈涙锭缂備浇寮撶划娆撶嵁婢舵劖鏅搁柣妯垮皺閻ｉ箖姊洪崜鎻掍簽闁哥姴妫欑粋宥咁煥閸喓鍙嗛梺鍝勫暙濞村倿宕靛▎寰濈懓顭ㄩ敓浠嬪础閹惰棄钃熼柍鈺佸暞婵挳鎮峰▎蹇擃仼缁剧偓濞婂娲捶椤撗呭姼闂佹寧娲忛崕閬嶎敋閵夆晛绀嬫い鎺戝�婚惁鍫ユ⒑閸涘﹥澶勯柛銊ュ暱閻ｅ嘲顭ㄩ崘锝嗘杸闂佹寧绋戠�氼剚绂嶆總鍛婄厱濠电姴鍟版晶鐢碉拷瑙勬礃缁诲牓鐛幒妤�妫橀柛顭戝枤娴滅増绻濋悽闈涗粶婵☆偅鐟╅獮鎰板箹娴ｇ懓鐝旈梺缁樻煥閸氬鎮¤箛鎾斀闁绘劘灏欐禒銏ゆ煕閺冿拷椤ㄥ棙绌辨繝鍥х闁圭儤鏌ㄩ·锟藉┑鐑囩到濞层倝鏁冮鍫涳拷浣糕槈濮楀棙鍍甸梺鍛婄懄椤牆顬婇崨濠佺箚闁绘劦浜滈敓鑺ユ礀闇夋慨妯挎硾閻鏌涢幇闈涙灈缂佺姵鐗滈敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亗闁靛鏅滈悡鏇㈡煛閸ャ儱濡煎褌鍗抽弻娑㈠箣椤栨粎鐦堥梺璇″枟椤ㄥ懘鍩㈤幘璇插瀭妞ゆ梻鏅禍顏勨攽閻橆偅濯伴柛鎰ㄦ櫆瀹曟娊姊洪崨濠傜瑲閻㈩垳鍋ら弫鎾诲棘閵堝洨校闂佸摜濮甸悧婊呭垝婵犳碍鎯炴い鎰剁磿缁犳岸姊洪棃娑氬缂佺粯鍨归敓鑺ヨ壘缂嶅﹪寮诲☉銏″�婚柛鈩冾殘娴犵鈹戦纭锋敾婵＄偠妫勮灋闁告劑鍔夊Σ鍫ュ级閸稑澹夐柕鍫濐槹閳锋垹绱掔�ｎ亝鍋ユい搴㈩殜閺屾盯鎮㈤柨瀣淮闂佽鍠楅崕鎶藉煘閹达箑骞㈤煫鍥ㄦ濞兼棃姊绘笟锟藉褏鎹㈤崱妤婄�剁憸鏃堢嵁韫囨拋娲敂閸涱亝瀚奸梻浣告啞缁嬫垿鏁冮敃鍌氱叀濠㈣埖鍔栭悡銉╂煛閸ヮ煁顏堟晸閼恒儳绠炴鐐插暙铻ｇ紓浣诡焽缁夊爼姊洪棃娑辩劸闁稿﹥顨堢划璇差潩椤戣姤鏂�闂佹寧绋戠�氼剚绂掕閺屾稑螣閻樻彃顏柛娆忕箻閺屾稑鐣濋敓浠嬪磻閻愮儤鍋傛繛鎴欏灪閸婂爼鏌ｉ幇顖ｅ殝闁归鍏橀幃銏＄附婢跺纾炬繝纰夌磿閸嬫垿宕愰妶澶婂偍鐟滅増甯掔粈澶愭煙鐎涙绠橀柡鍡畵閺岋綁寮崒妤佸珱闂佽桨绀佸ú銊╁箟閸涘﹥鍎熼柕濠忓閸欏棝姊洪棃娑氬婵☆偅绋撳褔鏁撴禒瀣拺婵懓娲ら悘鍙夌箾娴ｅ啿瀚々閿嬬節婵犲倸顏х紒璇叉閵囧嫰寮介妸褍鏆￠梺鐚存嫹闁煎鍊楃壕濂告煕鐏炵偓鐨戠�涙繂顪冮妶搴″箲闁告梹鍨甸悾閿嬬附閸涘﹤浜滈梺鍛婄☉椤剚绂掕濮婂宕掑▎鎰偘婵犳鍠撻崐婵嬪极鐎ｎ亶娓婚柕鍫濈箳缁辨壆绱掗鐣屾噧闁伙絿鍏樺鎾閻樻鍚呴梻浣瑰濮婂寮查锕�鍌ㄩ柣銏犳啞閳锋垿鏌涘☉姗堝伐闁诲繒鍠栭弻娑欑節閸愵亜鈷堥梺璺ㄥ枙婵倝鎮㈤鍕闁跨噦鎷�? "+inviterRoleId);
						// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚悢铏圭＜闁靛繒濮甸悘鍫ユ⒑缂佹ɑ灏甸柛鐘崇墵瀵寮撮悢椋庣獮闂佺硶鍓濊摫闁绘繃妫冮弻娑㈠Ψ閿旇棄鍞夊┑顔硷攻濡炶棄鐣烽妸锔剧瘈濞达綀娅ｇ粻鎺楁⒒娴ｅ憡鍟為惇澶岀磼椤旂晫鎳囨鐐插暙椤粓鏁撻挊澶屾殾闁告鍋愬Σ鍫熺箾閸℃婀伴悗姘虫閳规垿鎮欓懜闈涙锭缂備浇寮撶划娆撶嵁婢舵劖鏅搁柣妯垮皺閻ｉ箖姊洪崜鎻掍簽闁哥姴妫欑粋宥咁煥閸喓鍙嗛梺鍝勫暙濞村倿宕靛▎寰濈懓顭ㄩ敓浠嬪础閹惰棄钃熼柍鈺佸暞婵挳鎮峰▎蹇擃仼缁剧偓濞婂娲捶椤撗呭姼闂佹寧娲忛崕閬嶎敋閵夆晛绀嬫い鎺戝�婚惁鍫ユ⒑閸涘﹥澶勯柛銊ュ暱閻ｅ嘲顭ㄩ崘锝嗘杸闂佹寧绋戠�氼剚绂嶆總鍛婄厱濠电姴鍟版晶鐢碉拷瑙勬礃缁诲牓鐛幒妤�妫橀柛顭戝枤娴滅増绻濋悽闈涗粶婵☆偅鐟╅獮鎰板箹娴ｇ懓鐝旈梺缁樻煥閸氬鎮¤箛鎾斀闁绘劘灏欐禒銏ゆ煕閺冿拷椤ㄥ棙绌辨繝鍥х闁圭儤鏌ㄩ·锟藉┑鐑囩到濞层倝鏁冮鍫涳拷浣糕槈濮楀棙鍍甸梺鍛婄懄椤牆顬婇崨濠佺箚闁绘劦浜滈敓鑺ユ礀闇夋慨妯挎硾閻鏌涢幇闈涙灈缂佺姵鐗滈敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亗闁靛鏅滈悡鏇㈡煛閸ャ儱濡煎褌鍗抽弻娑㈠箣椤栨粎鐦堥梺璇″枟椤ㄥ懘鍩㈤幘璇插瀭妞ゆ梻鏅禍顏勨攽閻橆偅濯伴柛鎰ㄦ櫆瀹曟娊姊洪崨濠傜瑲閻㈩垳鍋ら弫鎾诲棘閵堝洨校闂佸摜濮甸悧婊呭垝婵犳碍鎯炴い鎰剁磿缁犳岸姊洪棃娑氬缂佺粯鍨归敓鑺ヨ壘缂嶅﹪寮诲☉銏″�婚柛鈩冾殘娴犵鈹戦纭锋敾婵＄偠妫勮灋闁告劑鍔夊Σ鍫ュ级閸稑澹夐柕鍫濐槹閳锋垹绱掔�ｎ亝鍋ユい搴㈩殜閺屾盯鎮㈤柨瀣淮闂佽鍠楅崕鎶藉煘閹达箑骞㈤煫鍥ㄦ濞兼棃姊绘笟锟藉褏鎹㈤崱妤婄�剁憸鏃堢嵁韫囨拋娲敂閸涱亝瀚奸梻浣告啞缁嬫垿鏁冮敃鍌氱叀濠㈣埖鍔栭悡銉╂煛閸ヮ煁顏堟晸閼恒儳绠炴鐐插暙铻ｇ紓浣诡焽缁夊爼姊洪棃娑辩劸闁稿﹥顨堢划璇差潩椤戣姤鏂�闂佹寧绋戠�氼剚绂掕閺屾稑螣閻樻彃顏柛娆忕箻閺屾稑鐣濋敓浠嬪磻閻愮儤鍋傛繛鎴欏灪閸婂爼鏌ｉ幇顖ｅ殝闁归鍏橀幃銏＄附婢跺纾炬繝纰夌磿閸嬫垿宕愰妶澶婂偍鐟滅増甯掔粈澶愭煙鐎涙绠橀柡鍡畵閺岋綁寮崒妤佸珱闂佽桨绀佸ú銊╁箟閸涘﹥鍎熼柕濠忓閸欏棝姊洪棃娑氬婵☆偅绋撳褔鏁撴禒瀣拺婵懓娲ら悘鍙夌箾娴ｅ啿瀚々閿嬬節婵犲倸顏х紒璇叉閵囧嫰寮介妸褍鏆￠梺鐚存嫹闁煎鍊楃壕濂告煕鐏炵偓鐨戠�涙繂顪冮妶搴″箲闁告梹鍨甸悾閿嬬附閸涘﹤浜滈梺鍛婄☉椤剚绂掕濮婂宕掑▎鎰偘婵犳鍠撻崐婵嬪极鐎ｎ亶娓婚柕鍫濈箳缁辨壆绱掗鐣屾噧闁伙絿鍏樺鎾閻樻鍚呴梻浣瑰濮婂寮查锕�鍌ㄩ柣銏犳啞閳锋垿鏌涘☉姗堝伐闁诲繒鍠栭弻娑欑節閸愵亜鈷堥梺璺ㄥ枙婵倝鎮㈤鍕闁跨噦鎷�?
						xbean.Properties inviterProperty = xtable.Properties.get(inviterRoleId);
						SInviteJoinTeam snd = new SInviteJoinTeam();
						snd.op = 0;
						snd.invitername = inviterProperty.getRolename();
						snd.inviterlevel = xtable.Properties.get(inviterRoleId).getLevel();
						// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?,闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀劼烽敓浠嬫⒒娴ｄ警鐒炬い鎴炲灩閹广垹鈹戠�ｎ亣鎽曢悗骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰绉慨濠傤煼瀹曟帒顫濋璺ㄦ晼闂備焦鎮堕崝蹇撯枖濞戭澁缍栭煫鍥ㄦ媼濞差亶鏁傞柛鏇ㄥ亞閿熺瓔鍘奸—鍐Χ閸℃顦ラ梺鐟板暱闁帮絽鐣峰鍫濈闁兼亽鍎幏娲倵鐟欏嫭绀�婵炲眰鍔庨弫顔尖槈濞嗘劕寮挎繝鐢靛Т閸嬪棝鎮℃總鍛婄厸濞达綀顫夊畷宀勬煙缁嬪尅鏀荤�垫澘瀚悾婵嬫晸娴犲姹叉繛鎴欏灪閳锋垹绱掔�ｎ亝鍋ユい搴㈩殘閿熷�燁潐濞诧箓宕滃☉銏犵煑闁告稑鐡ㄩ埛鎴︽煙缁嬪灝顒㈢紒锟介敓浠嬫⒑缁嬪尅鍔熸い顓炵墛閺呫儵姊洪崫鍕潶闁稿孩濞婂畷锝夊箻缂佹鍘遍梺闈涱檧缁茶姤淇婇崸妤佺厓闁告瑣鍎崇粣鏃堟煛鐏炲墽鈾佺紒缁樼箞瀹曠喖顢楁担鍦闂傚倷娴囬鏍窗閺嶎厼搴婇柡灞诲劚閻撴繈骞栧ǎ顒�锟芥鎮块敓浠嬫⒑閻熸壆浠㈤柛鐔叉櫇濡叉劙骞嬮悙鎵畾闂佺粯鍔︽禍婊堟晸缁愭牕鎳庣欢銈夋煢濡警妯堥柛銈嗘礋閺屻倝宕妷锔芥瘎闂佸磭鎳撶粔鎾煘閹达附鍋愰柛娆忣槸椤︹晠姊虹粙鍖″姛闁稿繑锕㈠濠氭偄閾忓湱锛滃┑鈽嗗灡濡炰粙宕电�ｎ喗鈷戠憸鐗堝俯濡垿鏌涜箛鏂嗩亪鎮鹃悿顖樹汗闁圭儤绻冮弲鈺呮⒑缂佹ê濮﹂柛鎾村哺椤㈡瑩寮撮姀鈾�鎷绘繛杈剧悼閻℃柨顭囬幇鐗堢厱閹兼番鍊曢ˉ宥嗐亜閿濆鐣烘慨濠呮閹瑰嫰濡搁妷锔撅拷楣冩⒑閸濆嫷鍎撶�规洜鏁搁崚鎺撶節濮橆剛顔掗梺鐓庮潟閸婃洜绮婇敃鍌涒拺闁革富鍘奸崝瀣亜閵娿儲鍣介柣姘劤椤撳吋寰勭�ｎ剙骞堥梺璇茬箳閸嬬娀顢氳閺佹捇鎳為妷褍鈪归梺鍝勬閺呯姴顫忔繝姘＜婵﹩鍓ㄩ幏鐑藉箹娴ｅ摜锛欐俊鐐差儏濞寸兘鎯岄崱妞硷拷鎺戭潩閻愵剙顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵犲﹤鐗嗙壕缁樼箾閹存瑥鐏╅柛銊ュ�块弻娑氫沪閸撗�妫ㄦ繛瀛樼矋缁捇寮婚垾鎰佸悑闁告劑鍔岄‖瀣⒑闂堟稒顥為悽顖涱殜婵＄敻宕熼姘卞幐闂佺鏈划灞筋嚕閵娾晜鈷戦柛婵嗗閻忛亶鏌涢悩宕囧⒌妤犵偛鍟…銊╁礂閸撗冩灈闁诡喗绮撻崺锟犲磼濮橀棿绱╅梻鍌氬�搁崐鐑芥嚄閸洍锟斤箓宕奸妷顔芥櫈闂佺硶鍓濈粙鎺楀磻鐎ｎ偂绻嗛柕鍫濇噺閸ｇ懓顩奸崨瀛樷拺闁告稑锕ユ径鍕煕閵婏箑顥嬬紒顔款嚙閳藉濮�閿涘嫬甯楅梺鍝勵槺閸嬬偞鍒婃禒瀣閻忕偟鐓ぐ鎺撳亹閻忕偛鍊告禒顕�姊虹拠鈥虫灕婵炲鐩敐鐐测攽鐎ｎ亞顢呴梺缁樺姇椤曨厽绂嶉鍛瘈婵炲牆鐏濋弸娑㈡煥閺囨ê鍔氭い顏勫暣閹稿﹥寰勭仦鐐啎婵＄偑鍊栭崝褏绮婚幋鐘电焼閻庯綆鍋佹禍婊堟煙娴煎瓨娑у褜鍨堕幃妤�顫濇潏銊ユ畬闂佸疇顫夐崹鍧楀箖閳哄喛鎷烽崷顓炐㈡い銉︾箘缁辨挻鎷呴崫鍕戙儱鈹戦悜鍥ㄥ闂備礁鎼惉濂稿窗閺嶎厾宓侀柟杈剧畱缁犳稒銇勯幒鎴濓拷鍝ユ暜閹稿簼绻嗛柣鎰典簻閿熷鍊濆畷鎴﹀川椤掑吋妞介幃銏ゆ偂鎼淬倖鎲伴柣搴＄畭閸庨亶藝椤栨碍鏆滈梺鑽ゅ枑缁瞼绮旈悽鐢电焿闁圭儤鍤氬ú顏嶆晜闁告侗鍨板鎶芥⒒娴ｈ櫣甯涙俊顐＄窔椤㈡俺顦舵い锝呮健濮婂搫效閸パ呭姶闂佸壊鐓堟禍顏堝极閹剧粯瀵犲璺虹焿缁辩偤姊洪崫鍕紨缂佺姵鎹囧濠氬即閻旇櫣顔曢悷婊冪Ф缁棃鎮界喊澶嬪婵ɑ鍓氬鎰磼缂佹娲存鐐差儔閹瑩宕归銏☆仱闂傚倷鑳剁划顖滄暜閻愬搫鐤炬い鎰剁畱缁犵喖鏌涘┑鍕姕闁哄棙绮嶉妵鍕籍閸ヮ煈妫勫銈呴獜閹凤拷
						//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Ω閵堝棗鏋ら柣搴㈩問閸犳洟宕￠搹顐＄箚闁绘垼妫勯悡娑㈡煕鐏炲墽鍟查柟椋庡厴瀹曞ジ寮撮悢鍝勫箺闂備礁缍婇崑濠囧储閼测晛绶ゅ┑鐘崇閻撳啴姊洪崹顕呭剱妞ゃ儱鐗撻弻锛勪沪閻ｅ睗銈囩磼鏉堛劌绗掗摶锝夋煟閹存梹娅嗛悗姘煼濮婄粯绗熼敓钘夘焽瑜嶇叅闁靛牆娴勯幏宄邦潩閻撳海浠紓渚囧枦椤曆囧煡婢舵劕顫呴柣妯活問閸熷姊绘担鐟板姢婵炲瓨宀稿畷鎴﹀川閹碱厽鏅╂繝銏ｅ煐閸旀牠鍩涢幒鎳ㄥ綊鏁愰崼顐ｇ秷闂侀潧娲ㄩ崰搴ㄦ箒濠电姴锕ょ�氼噣骞婇崨瀛樼厱闁圭儤鎸哥粭鎺楁煃鐠囧弶鍞夌紒鐘崇洴閺佹劙宕卞▎鎴旀瀱婵犵數濮烽弫鎼佸磻濞戞鐔哥節閸愵亶娲稿┑鐘绘涧椤戝懘鎮挎ィ鍐╃厵闂傚倸顕崝宥夋煟閹惧崬鍔﹂柡宀嬬秮瀵挳鎮欑拠褎瀚归柛锔诲弿閹峰嘲顫濋悙顒�顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡濠电偛寮剁换鍕箲閵忕媭娼╅柤鍝ヮ暯閹风粯绻涙潏鍓хК濠殿喓鍊楀☉鐢稿醇閺囩喓鍘遍梺鎸庣箓缁绘帡鎮鹃崹顐闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�
						xbean.SingleInvitings singleInvitings = xtable.Singleinviting.get(inviterRoleId);
						if(singleInvitings == null)
						{
							singleInvitings = xbean.Pod.newSingleInvitings();
							xtable.Singleinviting.add(inviterRoleId, singleInvitings);
						}
						singleInvitings.getInvitingids().put(invitedRoleId, now);
						//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀵彃顭ㄩ崼鐔哄幗闂侀�涘嵆濞佳勬櫠椤曪拷楠炴牠寮堕幋顖濆惈濠殿喖锕ㄥ▍锝囧垝濞嗘垶宕夐柕濞у倻绀冮梻鍌欒兌椤牓顢栭崶顒�纾婚柕鍫濇噽閺嗭箓鏌熸潏鍓х暠閸ュ瓨绻濋姀锝嗙【妞ゆ垵娲畷銏ゎ敂閸涱垳鐦堥梺姹囧灲濞佳勭瑜旈弻娑氾拷锝庡亝鐏忣參鏌嶇拠鑼х�规洖宕埥澶娾枎閹存繂绠洪梻鍌欒兌椤㈠﹤鈻嶉敐澶婄；闁绘劗顣幏宄邦潩閻愵剙顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Ω閵堝棗鏋ら柣搴㈩問閸犳洟宕￠搹顐＄箚闁汇値鍨煎顏堟⒑瑜版帩妫戦柛蹇旓耿楠炲棝宕掗悙鎻掔獩婵犵數濮撮崑鍡樺閹剧粯鈷掗柛灞剧懄缁佺増绻涙径瀣鐎规洘婢橀濂稿炊瑜嶉悘濠傗攽閻愬弶顥為柟鍛婂劤閻ｅ灚绗熼敓浠嬪蓟濞戙垹绠涢梻鍫熺♁閻濐噣姊烘潪鎵槮妞ゆ垵顦靛濠氬Ω閳哄倸浜滈梺鍛婃尫閼冲爼鎮￠幘缁樷拺闂傚牊绋掗ˉ娆戠磼閼镐絻澹樻い鏇秮楠炴﹢顢欑喊杈ㄧ秱闂備焦鏋奸弲娑㈠疮椤栫偞鍋熼柡宥庡幗閳锋帒霉閿濆牆袚缁绢厼鐖奸弻娑㈡偐閼碱儷銈夋煕閹烘挸绗掗柍璇查叄楠炴﹢鎼归銈忔嫹椤掑嫭鈷戦柣鐔告緲閳锋梻绱掗鍛仯闁跨喓鏅弫鍛婃叏閹绢喒锟斤箓宕稿Δ浣告疂閻庣數澧楅〃蹇旂椤忓嫮鏆︽繝濠傜墕缁狀噣鏌ら幁鎺戝姉闁归攱妞介幃宄邦煥閸涱収鏆柣銏╁灙閺呮稖鐏嬮梺鐟扮摠缁洪箖寮ㄦ禒瀣厽闁瑰瓨绻冩径鍕倵濮橆剛绉烘慨濠勭帛閹峰懐绮电�ｎ亝鐣伴梻浣告憸婵敻鎮ч弴鈶╋拷锕傚炊椤掍焦娅㈤梺缁橈供閸ｎ垶骞忛柨瀣缂侇垱娲橀～宥呪攽椤旂瓔娈旀俊顐ｇ懃椤曟瑥煤椤忓應鎷洪梺鍛婃尰瑜板啯绂嶉悙鐑樼厱闁绘ɑ鐓￠崣鍕亜閵忊剝顥堢�规洖銈稿鎾偄閸欏顏归梻鍌欑閹诧紕绮欓幋锔芥櫇闁靛牆妫欓崣蹇涙煥閺囩偛锟藉綊鎮￠弴銏＄厽婵☆垵顕ф晶顖涚箾閸喓鐭岄柨鐔诲Г椤旀牠宕板Δ鍛亗闁跨喓濮伴敓鎴掔铻栭柛娑卞幘椤︽澘顪冮妶鍡楅嚋闁归鍏橀弻銊╂偄缂佹﹩妫勯梺缁樼墪閵堢顕ｆ繝姘櫜濠㈣泛锕﹂悿锟芥俊鐐�栭悧妤�顫濋妸鈺佸偍妞ゆ劑鍩勫〒濠氭煏閸繂鏆欓柛鏃�纰嶉妵鍕晜閻愵剚姣堝Δ鐘靛仜閸燁垳绮嬮幒鏃撴嫹閿濆懐浠涢柡鍜佸墮閳规垿鍩ラ崱妤冧哗闂佸湱鈷堥崑鍛村箞閵娾晜鏅濋柛灞剧▓閹锋椽姊洪崨濠勭畵閻庢凹鍣ｉ幃鐐垫崉閵娧咃紳閻庡箍鍎辩�氼喚绮ｉ弮鍫熺厪闁糕剝娲滅粣鏃傦拷娈垮櫘閸ｏ絽鐣烽悡搴樻斀闁割偒鍋呮晥闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬪┑鐘插閻瑩鏌熺�电浠ч柣婵嗗閿熻棄绠嶉崕鍗炍涢弮鍌涘床闁糕剝绋掗悡鐔兼煙閺夊灝鎮佺紒銊ヮ煼閺屻劑鎮㈡總澶嬬稐闂佺锕ョ换鍌炴偩閻戣棄绠ｉ柨鏇嫹缂佺姴顭烽弻娑㈠箻閸欏妯傜紓浣诡殔椤﹂潧顫忛搹瑙勫枂闁告洦鍋嗛ˇ銊ヮ渻閵堝棙鑲犻柛銉ｅ妼閻濇棃姊虹紒妯荤叆闁告艾顑夐幃锟犲Ψ閳哄倻鍘介梺鍝勬川閸嬫盯鏁撻挊澶嬭础闁跨喕濮ら悢顒勫箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掑Δ锟界猾宥夋煥閻斿墎鐭欑�规洑鍗冲畷鍗炩槈濞嗘垵骞堥梻浣告惈濞层垽宕濆畝鍕祦闁规壆澧楅悡娑㈡煥閻斿墎鐭欓柟鐓庣秺椤㈡洟濡堕崶鈺傤潓闂傚倷鐒﹂惇褰掑垂閽樺鐒界憸宥夋偤椤撶喓绡�闁汇垽娼ф禒婊堟煟椤忓啫宓嗙�规洘鍔曡灃闁告劑鍔岄悘濠冪節閻㈤潧校闁肩懓澧界划濠氬箮閼恒儳鍘甸梺璇″瀻閸愵亞袦缂傚倷闄嶉崝宀勨�﹀畡閭︽綎婵炲樊浜滄导鐘绘煕閺囥劌甯ㄩ柣妯肩帛閻撴洟鏌￠崒姘仴闁告瑥瀚伴弻娑㈠煛鐎ｎ喗顎嶉梺鐟板槻閹虫﹢骞栬ぐ鎺戞嵍妞ゆ挾濮靛▓浠嬫⒒閸屾瑨鍏屾い銏狅躬楠炴捇顢旈崼鐔叉寖闂佸憡娲﹂崹浼存偂閺囥垺鐓欓弶鍫ョ畺濡绢噣鏌ｉ幘瀛樼缂佺粯鐩獮瀣倻閸パ冨絾闂備礁鎲″濠氬窗閺嶎厼钃熸繛鎴欏灪閸嬪嫰鎮归崶顏勭毢婵絻鍨荤槐鎾存媴娴犲鎽甸柣銏╁灲缁绘繈鐛崘顔肩厸闁告侗鍘鹃ˇ銊╂⒑閼测斁鎷￠柛蹇旂〒濡叉劕鈹戠�ｎ偆鍘介柟鍏肩暘閸娿倕顭囬幇顓犵闁告瑥顧�閼板潡鏌熼鎯у幋闁糕晪绻濆畷銊╊敇閻旂尨鎷烽鍕�垫鐐茬仢閸旀碍銇勯敂璇茬仯缂侇喖鐗忛敓鏂ょ秵閸犳鎮￠悩缁樼厵闂傚倸顕崝宥嗙箾閹冲嘲瀚ㄦ禍婊堢叓閸ャ劎顣茬痪顓㈢畺閺屽秶鎲撮崟顐や紝闂佽鍠楅悷鈺侇嚕閸洖绠ｉ柣妯块哺椤㈡ê鈹戦敍鍕杭闁稿﹥娲栭湁婵﹩鍘鹃々鍙夈亜韫囨挾澧戦柨鐔稿灊缁舵艾顕ｉ锟藉畷鐓庘攽閸偅效闂傚倷娴囬鏍垂閻楀牊鍎熸繝濠傜墕缁狀垶鏌ｉ幋锝嗩棄闂佽￥鍊栨穱濠囧Χ閸曨喖鍘￠梺鍛婄懃濡繂顫忛搹鍦＜婵☆垵宕甸ˇ銉╂⒑缁嬪尅宸ユ繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�
						xbean.InviteInfo inviteInfo = xtable.Teaminvite.get(invitedRoleId);
						if(inviteInfo == null)
						{
							inviteInfo = xbean.Pod.newInviteInfo();
							xtable.Teaminvite.add(invitedRoleId, inviteInfo);
						}
						inviteInfo.setBeinginvited(true);
						if(inviterTeamId == null)
							inviterTeamId = -1L;
						inviteInfo.getInviting().setTeamid(inviterTeamId);
						inviteInfo.getInviting().setRoleid(inviterRoleId);
						inviteInfo.getInviting().setInvitetime(now);						
						inviteInfo.getInvited().add(inviteInfo.getInviting().copy());
						
						// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺绋款儏鐎氼參濡甸崟顖氱闁瑰瓨绻嶆禒鑲╃磽娴ｅ搫顎岄柛銊ョ埣瀵鏁愭径濠勵吅闂佹寧绻傞幉娑㈠箻缂佹鍘介梺瑙勫劤閻°劎绮堥敓浠嬫⒑鐎圭媭娼愰柛銊ユ健楠炲啴鍩￠崨顓狀唽闂佺懓鎼粔鍫曞极閺嶎厽鈷掑ù锝勮閻掗箖鎮楀☉鎺撴珚鐎规洖缍婂畷绋课旈敓浠嬫嫅閻斿吋鐓熼柡鍐ㄥ�哥敮鍓佺磼閿熶粙宕熼娑氬帾闂佸壊鍋呯换鍐夊鍕╀簻闊洢鍎茬�氾拷?
						psendWhileCommit(inviterRoleId, new SInviteJoinSucc(invitedRoleId));
						MessageMgr.psendMsgNotify(inviterRoleId, 142358, null);
						mkdb.Procedure.psendWhileCommit(invitedRoleId, snd);
					}
				}
					
				return true;
			}
			
			private boolean checkMap(){
							
				boolean inWaiting1 = false;
				boolean inWaiting = false;

				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬫寧婀伴柛鈺佸暣瀵劍绂掔�ｎ偆鍘遍柣蹇曞仜婢т粙鎯岄妶澶嬬厽闁圭儤鍨甸埛鏃傜磼鏉堛劌娴柟顔规櫅閻ｇ兘宕惰缂佲晠姊绘担鍛婃儓閻炴凹鍋婂畷婵嗙暆閸曨偆鍘撮梺纭呮彧缁犳垿鐛姀鈩冨弿婵°倧鎷锋俊顐ｇ懇閺佹捇濡烽敂璺ㄧ畾闂佺粯鍔︽禍婊堟晸閼恒儱濮嶇�殿喗鐓￠、鏃堝醇濠靛牜鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?
				final fire.pb.map.Role  invitMaprole = fire.pb.map.RoleManager.getInstance().getRoleByID(inviterRoleId);
				final fire.pb.map.Role  desMaprole = fire.pb.map.RoleManager.getInstance().getRoleByID(invitedRoleId);
				if(invitMaprole == null || desMaprole == null){
					return true;
				}
				int srcMapId = invitMaprole.getMapId();
				MapConfig cfg = ConfigManager.getInstance().getConf(MapConfig.class).get(srcMapId);
				
				int desMapId = desMaprole.getMapId();
				MapConfig descfg = ConfigManager.getInstance().getConf(MapConfig.class).get(desMapId);
				
				if (srcMapId != desMapId) {
					
//					if (fire.pb.buff.Module.existState(inviterRoleId,
//							BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
//						MessageMgr.sendMsgNotify(inviterRoleId, 160202, null);
//						return false;
//					}
					
				} else {
					if (inWaiting || inWaiting1) {
						fire.pb.talk.MessageMgr.psendMsgNotifyWhileRollback(
								inviterRoleId, 145250, null);
						return false;
					}
				}
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笂缁瑩寮婚妶鍡樺弿闁归偊鍓ㄩ幏鐑藉冀椤愵剚瀚规慨姗嗗墻閻撳ジ鏌″畝瀣М鐎殿噮鍣ｅ畷鎺戭潩椤戣法甯涚紓鍌氬�风欢銈夊箯瀹勯偊鐔嗛悹楦挎閻掑潡鏌熸搴″幋闁诡垰鍊垮畷銊︾節閸屻倓绱﹂梻鍌氬�风粈渚�骞夐垾瓒佹椽鏁冮崒姘鳖槶濠电偛妫欓崝妤呫�呭畡鎵虫斀闁稿本纰嶉崯鐐烘煃闁垮鐏存慨濠傤煼瀹曞ジ鎮㈠畡鎵槹闂備礁澹婇崑渚�宕曢柆宥嗗仾闁绘劦鍓涚粻楣冩煙鐎电浠﹂柣銊﹀灴閺岋綁顢橀悙鎼＆闂佸搫鏈粙鎴︽偩濠靛鏅稿ù鐘差儏绾惧鏌ｉ幇顔煎妺闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶棄鐏婇梺瑙勫礃椤曆囨嫅閻斿摜绠鹃柟瀛樼懃閻忊晠鏌涘Δ浣糕枙闁哄本娲濈粻娑氾拷锝庝簽娴煎嫰姊洪崫鍕紞闁稿锕ら～蹇撁洪鍕炊闂佸憡娲﹂崜姘跺箯闁秵鈷戦柣鎴旀櫆濞呮捇鏌涢妸銊︾【妞ゆ洩缍侀、鏇㈡晝閿熺晫绮婚懡銈囩＝濞达綀鍋傞幋婵冩瀺闁靛繈鍊栭埛鎴︽偣閹帒濡兼繛鍛姍閺岀喖宕欓妶鍡楊伓? 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲孩缍傞梻浣虹帛閿氶柛鐔锋健瀵娊宕奸妷锔规嫼缂備礁顑嗛娆撳磿韫囨柣浜滈柟瀛樼箥濡拷闂佺粯渚楅崳锝咁嚕娴犲锟芥牠濡烽妷鈺佸及濡炪們鍨洪〃濠囧极閹惧顩烽悗锝庡亜閿熻棄娼￠弻锝夊箣閻戝棛鍔风紓浣哄█缁犳牠寮诲☉銏╂晝闁绘灏欐禒鎯р攽閻愬弶鍣烘繛鑼枛瀵濡搁埡鍌氫簻闂佺粯鍨惰摫闁绘繍浜滈埞鎴︽倷閸欏娅￠梺鎼炲妺缁瑩鎮伴璺ㄧ杸婵炴垶鐟ラ敓钘夘煼閺屻倝骞侀幒鎴濆Б闂佸憡鐟ュΛ婵嗩潖閾忓湱纾兼俊顖滃劦閹峰姊虹粙璺ㄦ槀闁稿﹥娲熼崺銏狀吋婢跺﹤宓嗛梺闈涢獜缁辨洟宕㈤柆宥嗏拺闁革富鍘奸崝瀣煙缁嬫寧鎲哥紒顕呭弮楠炴帡骞橀崣妯肩泿闂備浇顫夐崕鎶藉疮閸ф绠栭柟瀵稿閹风兘宕归锝囧嚒闁诲孩鍑归崳锝夊极閹捐妫橀柕鍫濇４閹风兘濡烽埡浣侯槹濡炪倖鍔戦崐鏍叾?
				if(cfg == null || descfg == null){
					return true;
				}
				if(cfg.getSafemap() == descfg.getSafemap() && cfg.getSafemap() == 1){
					return true;
				}
				
				return true;	
			}
		};
		createTeamP.submit();
	}

	// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋婵愭綗闁跨喕妫勯崐鍧楀箰婵犲啰鐝堕柍鍝勵儑缁夘喚锟借娲滈崰鏍�佸☉姗嗘僵濡插本鐗曢弫鎼佹⒒閸屾瑦绁版繛澶嬫礋瀹曟娊鏁冮崒姘鳖唵闂佽法鍣﹂幏锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊璁查弸娆撴⒑缂佹ê绗╁┑顔哄�楅幑銏犫槈閵忕姴鑰垮┑鈽嗗灥椤曆呭枈瀹ュ鈷戠紓浣股戠亸浼存煥閺囨ê鐏茬�殿喖顭烽幃銏ゆ倻濡櫣锛忔俊鐐�ら崢浠嬪垂閸洦鏁侀柨鐕傛嫹
	private static int checkPvP(long inviterRoleId, long invitedRoleId) {
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锔垮嵆楠炴劙宕橀懠顒佹閻熸粎澧楃敮鎺斿閸忚偐绠鹃柟瀵稿仧閹冲啰锟芥鍠栭悘婵嬪煘閹达箑鐓￠柛鈩冾殘娴狀參鏌ｆ惔锝囨嚄闁告侗鍠栭崢褰掓⒑閸涘﹥瀵欑�广儱妫楅鍫曟偡濠婂懎顣奸悽顖涱殕缁傚秹濡舵径瀣幍闂佸憡鍨崐鏍拷姘炬嫹?
		return fire.pb.battle.pvp.PvPTeamHandle.onInviteJoinTeam(inviterRoleId, invitedRoleId);
	}

	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈浥堥弲婊堟偂閻斿吋鐓ユ繝闈涙閸ｄ粙鏌ｉ幒鎴炲仴闁哄瞼鍠庨悾锟犲级閹稿巩鈺侇渻閵堝骸浜濈紒璇茬墦閵嗕礁顫滈敓浠嬪箖閳哄懎绠甸柟鐑樻煥閹藉姊婚崒姘拷宄懊归崶顒夋晪闁哄稁鍘肩粣妤佺箾閹寸們姘跺几閺嶃劎绠鹃柟鎼幗缁舵稓绱撳鍡欏缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣侯焾椤戝懘宕愰崸妤冨祦闁哄稁鍋撻幏宄扳槈濞嗘鍔风紓浣哄У閹瑰洭寮婚敍鍕舵嫹閿濆簼绨藉褝闄勯幈銊︾節閸曨厼绗￠梺鐟板槻閹冲繒绮悢纰辨晬婵犲﹤鍟瓏闂傚倸鍊烽悞锔撅拷绗涘厾楦跨疀濞戞锛欏┑鐘绘涧椤戝啴鏁撻幋鎺旂獢鐎殿喕绮欓、姗�鎮欓棃娑虫嫹閻愬樊娓婚柕鍫濇闁叉粓鏌熼悜绛嬫缂佽鲸甯￠幃顏堟晸娴犲鍨傞柛顐ｆ礀閽冪喖鏌ㄥ┑鍡樺晵闁绘柨鍚嬮崵鍐煃鏉炴媽鍏屾い鎰偢濮婄粯鎷呮笟顖滃姼濡炪倖鍨堕崝鏍矉瀹ュ鏁傞柛顐ｇ箚閹芥洟姊洪棃娴ュ牓寮插鍫濈；闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍钘夘槹閵囧嫯绠涢妷锕�顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹殿喚纾奸柣鎰靛墮閸斻倗绱撳鍜冨伐妞ゎ偄绻愮叅妞ゅ繐绉甸弲銏ゆ⒑鐠恒劌鏋旈柡鍜佸亞閸掓帡寮崼鐔蜂缓闂佸憡绋戦敃銈嗙濡わ拷閳规垿鎮欓弶鎴犱户闂佹悶鍔嶅浠嬪箖閿熺姴鍗抽柕蹇ョ磿閸樺灚绻涚�电甯堕柣掳鍔岄埥澶庮槼妞ゃ劊鍎甸幃娆撳箹椤撶喓鏆梻浣圭湽閸庣儤绂嶉鍫涳拷浣割潨閿熶粙骞冮埡鍛彄妞ゆ挾鍎愬Λ婊呯磽閸屾艾锟界兘鎳楅崜浣稿灊妞ゆ牗绮嶅畷鏌ユ煕椤愮姴鍔氶柡瀣╃窔閺岀喖骞嗚閸ょ喐銇勯埡鍐ㄥ幋闁诡喗顨婇弫鎰板川椤栨瑧椹抽梻浣告惈閹冲繒鍒掗幘鎰佹綎闁惧繒鎳撶�垫煡鏌￠崶鈺佷粶闁冲嘲顦靛娲嚒閵堝懏鐝㈢紓浣哄У閹瑰洤顕ｉ銏╁悑濠㈣泛顑嗗▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹??闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkOnline(long invitedRoleId, long inviterRoleId)
	{
		if(StateCommon.isOnlineBuffer(invitedRoleId))
			return true;
		else
		{
			//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆戝幘闂佸綊妫块悞锕�鈽夎閳规垿顢欓崗鐓庢灎闂佸搫鐭夌粻鎾崇暦濮楋拷椤㈡棃宕熼鍌欓偗闂傚倷绀侀幖顐︽儗婢跺瞼绀婂ù锝呭閸ゆ洘銇勯幒鎴濐仼缂佺姳鍗抽獮鏍庨锟介悘鈺呮煛鐎ｎ偄鐏存慨濠勭帛閹峰懘宕妷顖滅缂傚倷绶￠崳顕�宕规导杈剧稏闊洦姊荤弧锟藉┑顔斤供閸樿棄鈻嶉姀銈嗏拺闁兼亽鍎嶉鍩跺洭鏌嗗鍡椾患濡炪倖鎸堕崹娲偂閺囥垹绠规繛锝庡墮婵℃椽鏌熼懠顒�浜炬い銊ｅ劦閹瑧鎷犺缁跺绱撴担鍝勑ｇ紒瀣灴閸┿儲寰勬繝搴㈠兊濡炪倖甯幏椋庣磼閼碱剙浜惧ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄稁鍋呴弳婊堟煙閻戞﹩娈旂痪鎯х秺閺屻倖鎱ㄩ幇顒婃嫹閺団懞澶婎潩椤戣姤鏂�闂佺鏈喊宥夊疮閻愮儤鐓熼柟鎯у船閸旓箓鏌″畝瀣М鐎殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涢敂璇插伎闁瑰嘲鍢查～婵嬫倷椤掞拷椤忥拷?
			MessageMgr.sendMsgNotify(inviterRoleId, 141701, null);
			return false;
		}
	}	
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥鐗曠叅闁哄稁鍘肩粻顖炴煙鏉堝墽鐣辩紒鐙�鍨抽敓鐣屾嚀鐎氼厾锟芥艾鐗撳顕�宕煎┑鍫О闂備礁鐤囧銊╂倿閿曞倹鍊靛Δ锝呭暞閳锋帒霉閿濆懏鍟為柟顖氱墛閵囧嫰鏁傜拠鑼桓闂佽鍠楅敋闁宠鍨垮畷濂稿閳藉懐纭�闂佽崵鍠愮划宀�鎹㈤幒鎳筹綁骞囬弶璺唺濠德板�ч幏椋庣棯閹冩倯缂佺粯鐩獮瀣倷閸℃ê鐏╅柟椋庡█閹瑧锟介潧鎽滈惁鍫㈢磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幐闁诲繒鍋熼悺鏂课熼敓浠嬫煢濡崵绠為柡宀�鍠撶槐鎺楀閻樺磭浜堕梻浣虹帛閹搁箖宕伴幇鏉课﹂柛鏇ㄥ灠缁犲鎮归崫鍕儓濠㈢懓顦靛铏圭矙閸噮鍔夊┑顔硷工缂嶅﹪鐛崼銉ノ╅柨鏂垮⒔閻﹀牓姊虹粙鑳潶闁稿﹥顨婂畷銉э拷锝庡枟閸婄敻鎮峰▎蹇擃仾缂侊拷閸愵喗鐓ラ柡鍥悘鏌ユ煏閸℃洜绐旂�殿噮鍣ｅ畷鐓庘攽閸偅效濠碉紕鍋戦崐鏍暜閹烘纾瑰瀣唉婵娊鏌℃径瀣亶闁猴拷娴犲鐓熸俊顖濇娴犳盯鏌￠崱蹇旀珚闁哄本绋撻敓鏂ょ秵閸嬪棗煤閹绢喗鐓欐い鏂诲妼鐎氼喚寮ч敓浠嬫⒑閹肩偛鍔�闁告劦浜烽幏鐑筋敇閵忊檧鎷虹紓浣割槸濡锟芥艾鍢查埢鎾诲籍閸屾粎锛滈梺缁樏壕顓熸櫠閻㈠憡鐓涢悘鐐垫櫕鏁堥悗瑙勬处閸嬪﹤鐣烽悢纰辨晢闁跨喕妫勯埢宥夊Χ婢跺鎷洪梺纭呭亹閸嬫盯鏁撻懞銉︾妞ゃ垺鐗楀鍕箛椤掑啯鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姕闁哥姴妫濋弻銊╁籍閸屾矮澹曢梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃�鎱ㄥΟ鍨厫闁绘挾鍠栭弻鐔煎箚瑜嶉懜褰掓煕閺冿拷缁海妲愰幒鏃傜＜婵☆垰鍚嬮崚娑樜旈悩闈涗粶妞ゆ垵顦甸獮鍐煥閸繂鑰垮┑鐐叉缁绘劖顨欐繝鐢靛Х閺佸憡鎱ㄩ銏犵闁告劦鐓堥崥瀣熆鐠轰警鍎涢柨鐔绘缁夊墎妲愰幘瀛樺闁惧繒鎳撶粭锛勭磽娴ｅ壊鍎愰柟鐟版搐閻ｇ兘鎮ч崼銏㈢槇闂佹悶鍎滈崨顖氬箑濠电姷顣藉Σ鍛村垂娴兼潙瑙﹂悗锝庡枛閻ゆ儳鈹戦崒姘暈闁抽攱甯掗湁闁挎繂鎳忛崯鐐烘偣閹板墎绡�闁哄瞼鍠栭幖褰掝敃閿濆懏娈梻浣芥硶閸犳洘鎱ㄩ妶澶嬪剹妞ゆ洩鎷风�规洩绻濋獮搴ㄦ嚍閵夈儰绮ф俊鐐�栧褰掑箯濠靛绠柣鎴ｅГ閺呮煡骞栫�涙绠橀柟绋款樀濮婃椽鎮�涙ê顏跺┑鐐差嚟婵挳顢栭崱娑欏亗闁哄洢鍨洪悡蹇擃熆閼哥數銆掗柛鎺撴緲閳规垿妾辨繛澶嬫礋楠炲骞栨担鍝ラ獓闁荤姵浜介崜杈槼闁逛究鍔嶇换婵嬪礋椤撶偟顐肩紓鍌欑劍椤ㄥ牓宕伴弽顓炴瀬闁瑰墽绮�电姴顭块懜娈跨劷闁告梻鍏橀幃宄邦煥閸愵�儵鏌ｈ箛鎿冨剶婵﹥妞藉畷顐﹀礋椤愶絾顔勯梻浣侯焾閿曘倗绱炴繝鍥ワ拷渚�寮撮姀鈥虫疅闂侀潧顧�缁犳垵顕ｉ崹顔规斀闁宠棄妫楅悘锝夋煃瀹勬壆澧涢悗闈涖偢瀹曟帒顫濋懖鈺佹暩闂備礁鍚嬮幃鍌氼焽瑜庨幈銊╁醇閵夛妇鍘搁梺鍛婁緱閸犳岸宕ｉ敓浠嬫⒑閸濆嫭婀伴柣鈺婂灡娣囧﹪鎮滈懞銉︽珳闂佸憡渚楅崣搴ㄦ倵閸愭祴鏀介柣鎰▕閸ょ喎鈹戦鐐毄闁轰緡鍣ｉ弫鎾绘偐閼艰埖鎲伴梻浣瑰缁诲倿鎮ц箛娑欏仾闁跨喍绮欏娲传閸曨剙绐涢梺绋款儐缁嬫帞绮╅悢鐚存嫹閿濆骸鏋熼柍閿嬪灴閺岋綁鎮㈤崨濠勫嚒濠电偛鐗冮弲鐘诲蓟閻旂厧绀勯柕鍫濇椤忥拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮诲☉婊庢Ъ闂侀潧娲﹂惄顖炲极閹捐妫橀柕鍫濇川閺嗐倝鎮楃憴鍕闁靛牆鎲￠幈銊╂晸娴犲鐓忛煫鍥ь儏閻忣噣鏌涢弬璺ㄥ煟婵﹨娅ｉ幏鐘诲箵閹烘垶鐦ｇ紓鍌氬�哥粔鏉懳涘┑瀣瀬闁规儳鐡ㄩ崣蹇涙煙闁箑澧板ù鐓庡濮婅櫣娑甸崨顔惧涧闂佸湱鎳撳ú顓㈠垂妤ｅ啯鏅濋柛灞绢嚤閳哄懏鐓冮弶鐐村椤︼箓鏌ら弶璺ㄤ虎闁宠鍨块崺銉╁幢濡ゅ啩妗撴繝鐢靛仧閸樠団�﹂悜鐣屽祦闊洦绋掗崐濠氭煢濡警妲烘い锔哄妼椤啴濡堕崱妯锋嫽闂佸搫鎷嬮崑濠傜暦閵忋倖顥堟繛纾嬫珪濡啴骞冮埡鍛棃婵炴垶顨堥幑鏇㈡⒒娴ｇ瓔鍤欑紒缁樺灩閹广垽宕奸妷銉х暫濠殿喗顨愰幏鐑芥煙瀹曞洤鈻堟い銏☆殕缁绘繈宕橀…鎴滅处闂備浇宕甸崰鎰版偡閵壯嶆嫹濮樼厧骞樼紒顔肩墦瀹曟﹢顢旈崱娆欑床闂佽崵濮村ú鈺冧焊濞嗘劖娅犻柨鏃�鎷濋幏宄扳枔閸喗鐝梺绋款儏鐎氫即銆佸锟藉畷妤呮偂鎼达絿鐛┑鐘垫暩婵锟芥艾鍢插嵄閻熸瑥瀚换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃娀鐛幇顓滃亝闁告劑鍔庨悰銉╂⒑閸︻厼顣兼繝銏☆焽婢规洟骞愭惔娑楃盎闂佸搫绋侀崑鍕閿曞倹鐓冮梺鍨儏缁楁帡妫佹径鎰叆婵犻潧妫欑粊鈺呮煟閹烘鐣洪柡宀嬬秮閳ワ箓骞掗弮鍌滄闂備礁鎼惉濂稿窗閺嵮呮殾婵炲棙鎸稿洿闂佺硶鍓濋〃蹇斿閿燂拷?
	private boolean checkInviterStatus(long inviterRoleId)
	{
		BuffAgent buffagent = new BuffRoleImpl(inviterRoleId,true);
		if(!buffagent.canAddBuff(BuffConstant.StateType.STATE_TEAM))
		{
			TeamManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + inviterRoleId+")濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮敓浠嬪箯閸涘瓨鍋￠梺顓ㄨ閹风兘骞樼紒妯煎幗闂佺粯鍔曢顓㈠煝閹剧粯鐓曢柟鎯ь嚟缁犵偤鏌熼鏂よ�跨�规洘锕㈤、娆撴偩鐏炶棄绠洪梻浣侯攰婢瑰牓骞撻鍡橆潟闁哄洢鍨洪崑鈺傘亜閹惧崬鐏柣鎾存礋楠炴牕菐椤掞拷婵℃椽鏌熼弻銉х暫闁哄瞼鍠栭、娆撳Ω閵夛附鎮欏Δ鐘靛亼閸ㄨ櫣鎹㈠☉銏犵闁诲繑妞挎禍顏勭暦閹存繍鍚嬪璺侯儑閸樹粙鏌熼崗鑲╂殬闁告柨绉撮埥澶庮樄闁哄瞼鍠栭幊鐐哄Ψ瑜忛悡鍌涚節閵忥綆娼愭繛鑼枛楠炴劖绻濋崘顏嗗骄濠电娀娼уΛ娑氱矓濞差亝鐓涘ù锝囨嚀婵秶锟借娲栭悥鐓庣暦濠婂嫭濯寸紒瀣櫇椤忓嫧鏀介柨娑樺娴滃ジ鏌涙繝鍐╃闂囧鎱ㄥΟ鎸庣【闁稿被鍔戦弻銈夊箒閹烘垵濮㈤梺宕囨嚀缁夋挳鍩為幋锔藉亹闁圭粯甯╂禒楣冩煟鎼淬垻顣叉慨妯稿姂楠炲顫㈠畝锟介悿锟藉┑鐐村灦閻熴儲绂掓總鍛娾拺婵懓娲ら悘鈺呮煙鐠囇呯瘈闁诡喒锟芥枼鏋庨柟鎵虫櫃缁ㄥ姊洪崫鍕犻柛鏂跨箲缁旂喎顫滈敓浠嬪蓟閿熺姴骞㈡い鎾跺У閸嬔囨⒑鐠恒劌鏋庨柨鐔烘櫕閸ｃ儱顭囬幇顓犵闁告瑥顦遍惌鎺旓拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣婵犲﹥鍔栫�氱懓霉閿濆懎顥忔繛绗哄姂閺屻劑鎮㈤崜浣虹厯濡ょ姷鍋涢崯顐﹀煝鎼淬劌绠荤�规洖娲ㄩ弶鎼佹⒒娴ｅ憡鍟為柟鍝ュ厴閹虫宕奸弴鐐磋緢闂侀潧鐗嗛ˇ浼村煕閹达附鐓曟繝闈涙椤忣偊鏌ｈ箛娑楁喚闁哄本鐩幃鈺佺暦閸パ�鎷伴柣搴㈩問閸ｎ噣宕戞繝鍥╁祦婵☆垵鍋愮壕鍏间繆椤栨粎甯涙い蹇曞枛濮婄粯鎷呴懞銉с�婇梺闈╃秶缁犳捇鐛箛娑欐櫢闁跨噦鎷�?");
			return false;
		}
		return true;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥鐗曠叅闁哄稁鍘肩粻顖炴煙鏉堝墽鐣辩紒鐙�鍨抽敓鐣屾嚀鐎氼厾锟芥艾鐗撳顕�宕煎┑鍫О闂備礁鐤囧銊╂倿閿曞倹鍊靛Δ锝呭暞閳锋帒霉閿濆懏鍟為柟顖氱墛閵囧嫰鏁傜拠鑼桓闂佽鍠楅敋闁宠鍨垮畷濂稿閳藉懐纭�闂佽崵鍠愮划宀�鎹㈤幒鎳筹綁骞囬弶璺唺濠德板�ч幏椋庣棯閹冩倯缂佺粯鐩獮瀣倷閸℃ê鐏╅柟椋庡█閹瑧锟介潧鎽滈惁鍫㈢磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幐闁诲繒鍋熼悺鏂课熼敓浠嬫煢濡崵绠為柡宀�鍠撶槐鎺楀閻樺磭浜堕梻浣虹帛閹搁箖宕伴幇鏉课﹂柛鏇ㄥ灠缁犲鎮归崫鍕儓濠㈢懓顦靛铏圭矙閸噮鍔夊┑顔硷工缂嶅﹪鐛崼銉ノ╅柨鏂垮⒔閻﹀牓姊虹粙鑳潶闁稿﹥顨婂畷銉э拷锝庡枟閸婄敻鎮峰▎蹇擃仾缂侊拷閸愵喗鐓ラ柡鍥悘鏌ユ煏閸℃洜绐旂�殿噮鍣ｅ畷鐓庘攽閸偅效濠碉紕鍋戦崐鏍暜閹烘纾瑰瀣唉婵娊鏌℃径瀣亶闁猴拷娴犲鐓熸俊顖濇娴犳盯鏌￠崱蹇旀珚闁哄本绋撻敓鏂ょ秵閸嬪棗煤閹绢喗鐓欐い鏂诲妼鐎氼喚寮ч敓浠嬫⒑閹肩偛鍔�闁告劦浜烽幏鐑筋敇閵忊檧鎷虹紓浣割槸濡锟芥艾鍢查埢鎾诲籍閸屾粎锛滈梺缁樏壕顓熸櫠閻㈠憡鐓涢悘鐐垫櫕鏁堥悗瑙勬处閸嬪﹤鐣烽悢纰辨晢闁跨喕妫勯埢宥夊Χ婢跺鎷洪梺纭呭亹閸嬫盯鏁撻懞銉︾妞ゃ垺鐗楀鍕箛椤掑啯鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姕闁哥姴妫濋弻銊╁籍閸屾矮澹曢梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃�鎱ㄥΟ鍨厫闁绘挾鍠栭弻鐔煎箚瑜嶉懜褰掓煕閺冿拷缁海妲愰幒鏃傜＜婵☆垰鍚嬮崚娑樜旈悩闈涗粶妞ゆ垵顦甸獮鍐煥閸繂鑰垮┑鐐叉缁绘劖顨欐繝鐢靛Х閺佸憡鎱ㄩ銏犵闁告劦鐓堥崥瀣熆鐠轰警鍎涢柨鐔绘缁夊墎妲愰幘瀛樺闁惧繒鎳撶粭锛勭磽娴ｅ壊鍎愰柟鐟版搐閻ｇ兘鎮ч崼銏㈢槇闂佹悶鍎滈崨顖氬箑濠电姷顣藉Σ鍛村垂娴兼潙瑙﹂悗锝庡枛閻ゆ儳鈹戦崒姘暈闁抽攱甯掗湁闁挎繂鎳忛崯鐐烘偣閹板墎绡�闁哄瞼鍠栭幖褰掝敃閿濆懏娈梻浣芥硶閸犳洘鎱ㄩ妶澶嬪剹妞ゆ洩鎷风�规洩绻濋獮搴ㄦ嚍閵夈儰绮ф俊鐐�栧褰掑箯濠靛绠柣鎴ｅГ閺呮煡骞栫�涙绠橀柟绋款樀濮婃椽鎮�涙ê顏跺┑鐐差嚟婵挳顢栭崱娑欏亗闁哄洢鍨洪悡蹇擃熆閼哥數銆掗柛鎺撴緲閳规垿妾辨繛澶嬫礋楠炲骞栨担鍝ラ獓闁荤姵浜介崜杈槼闁逛究鍔嶇换婵嬪礋椤撶偟顐肩紓鍌欑劍椤ㄥ牓宕伴弽顓炴瀬闁瑰墽绮�电姴顭块懜娈跨劷闁告梻鍏橀幃宄邦煥閸愵�儵鏌ｈ箛鎿冨剶婵﹥妞藉畷顐﹀礋椤愶絾顔勯梻浣侯焾閿曘倗绱炴繝鍥ワ拷渚�寮撮姀鈥虫疅闂侀潧顧�缁犳垵顕ｉ崹顔规斀闁宠棄妫楅悘锝夋煃瀹勬壆澧涢悗闈涖偢瀹曟帒顫濋懖鈺佹暩闂備礁鍚嬮幃鍌氼焽瑜庨幈銊╁醇閵夛妇鍘搁梺鍛婁緱閸犳岸宕ｉ敓浠嬫⒑閸濆嫭婀伴柣鈺婂灡娣囧﹪鎮滈懞銉︽珳闂佸憡渚楅崣搴ㄦ倵閸愭祴鏀介柣鎰▕閸ょ喎鈹戦鐐毄闁轰緡鍣ｉ弫鎾绘偐閼艰埖鎲伴梻浣瑰缁诲倿鎮ц箛娑欏仾闁跨喍绮欏娲传閸曨剙绐涢梺绋款儐缁嬫帞绮╅悢鐚存嫹閿濆骸鏋熼柍閿嬪灴閺岋綁鎮㈤崨濠勫嚒濠电偛鐗冮弲鐘诲蓟閻旂厧绀勯柕鍫濇椤忥拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮诲☉婊庢Ъ闂侀潧娲﹂惄顖炲极閹捐妫橀柕鍫濇川閺嗐倝鎮楃憴鍕闁靛牆鎲￠幈銊╂晸娴犲鐓忛煫鍥ь儏閻忣噣鏌涢弬璺ㄥ煟婵﹨娅ｉ幏鐘诲箵閹烘垶鐦ｇ紓鍌氬�哥粔鏉懳涘┑瀣瀬闁规儳鐡ㄩ崣蹇涙煙闁箑澧板ù鐓庡濮婅櫣娑甸崨顔惧涧闂佸湱鎳撳ú顓㈠垂妤ｅ啯鏅濋柛灞绢嚤閳哄懏鐓冮弶鐐村椤︼箓鏌ら弶璺ㄤ虎闁宠鍨块崺銉╁幢濡ゅ啩妗撴繝鐢靛仧閸樠団�﹂悜鐣屽祦闊洦绋掗崐濠氭煢濡警妲烘い锔哄妼椤啴濡堕崱妯锋嫽闂佸搫鎷嬮崑濠傜暦閵忋倖顥堟繛纾嬫珪濡啴骞冮埡鍛棃婵炴垶顨堥幑鏇㈡⒒娴ｇ瓔鍤欑紒缁樺灩閹广垽宕奸妷銉х暫濠殿喗顨愰幏鐑芥煙瀹曞洤鈻堟い銏☆殕缁绘繈宕橀…鎴滅处闂備浇宕甸崰鎰版偡閵壯嶆嫹濮樼厧骞樼紒顔肩墦瀹曟﹢顢旈崱娆欑床闂佽崵濮村ú鈺冧焊濞嗘劖娅犻柨鏃�鎷濋幏宄扳枔閸喗鐝梺绋款儏鐎氫即銆佸锟藉畷妤呮偂鎼达絿鐛┑鐘垫暩婵锟芥艾鍢插嵄閻熸瑥瀚换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃娀鐛幇顓滃亝闁告劑鍔庨悰銉╂⒑閸︻厼顣兼繝銏☆焽婢规洟骞愭惔娑楃盎闂佸搫绋侀崑鍕閿曞倹鐓冮梺鍨儏缁楁帡妫佹径鎰叆婵犻潧妫欑粊鈺呮煟閹烘鐣洪柡宀嬬秮閳ワ箓骞掗弮鍌滄闂備礁鎼惉濂稿窗閺嵮呮殾婵炲棙鎸稿洿闂佺硶鍓濋〃蹇斿閿燂拷?
	private boolean checkInvitedStatus(long invitedRoleId)
	{
		BuffAgent buffagent = new BuffRoleImpl(invitedRoleId,true);
		if(!buffagent.canAddBuff(BuffConstant.StateType.STATE_TEAM))
		{
			TeamManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + invitedRoleId+")濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮敓浠嬪箯閸涘瓨鍋￠梺顓ㄨ閹风兘骞樼紒妯煎幗闂佺粯鍔曢顓㈠煝閹剧粯鐓曢柟鎯ь嚟缁犵偤鏌熼鏂よ�跨�规洘锕㈤、娆撴偩鐏炶棄绠洪梻浣侯攰婢瑰牓骞撻鍡橆潟闁哄洢鍨洪崑鈺傘亜閹惧崬鐏柣鎾存礋楠炴牕菐椤掞拷婵℃椽鏌熼弻銉х暫闁哄瞼鍠栭、娆撳Ω閵夛附鎮欏Δ鐘靛亼閸ㄨ櫣鎹㈠☉銏犵闁诲繑妞挎禍顏勭暦閹存繍鍚嬪璺侯儑閸樹粙鏌熼崗鑲╂殬闁告柨绉撮埥澶庮樄闁哄瞼鍠栭幊鐐哄Ψ瑜忛悡鍌涚節閵忥綆娼愭繛鑼枛楠炴劖绻濋崘顏嗗骄濠电娀娼уΛ娑氱矓濞差亝鐓涘ù锝囨嚀婵秶锟借娲栭悥鐓庣暦濠婂嫭濯寸紒瀣櫇椤忓嫧鏀介柨娑樺娴滃ジ鏌涙繝鍐╃闂囧鎱ㄥΟ鎸庣【闁稿被鍔戦弻銈夊箒閹烘垵濮㈤梺宕囨嚀缁夋挳鍩為幋锔藉亹闁圭粯甯╂禒楣冩煟鎼淬垻顣叉慨妯稿姂楠炲顫㈠畝锟介悿锟藉┑鐐村灦閻熴儲绂掓總鍛娾拺婵懓娲ら悘鈺呮煙鐠囇呯瘈闁诡喒锟芥枼鏋庨柟鎵虫櫃缁ㄥ姊洪崫鍕犻柛鏂跨箲缁旂喎顫滈敓浠嬪蓟閿熺姴骞㈡い鎾跺У閸嬔囨⒑鐠恒劌鏋庨柨鐔烘櫕閸ｃ儱顭囬幇顓犵闁告瑥顦遍惌鎺旓拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣婵犲﹥鍔栫�氱懓霉閿濆懎顥忔繛绗哄姂閺屻劑鎮㈤崜浣虹厯濡ょ姷鍋涢崯顐﹀煝鎼淬劌绠荤�规洖娲ㄩ弶鎼佹⒒娴ｅ憡鍟為柟鍝ュ厴閹虫宕奸弴鐐磋緢闂侀潧鐗嗛ˇ浼村煕閹达附鐓曟繝闈涙椤忣偊鏌ｈ箛娑楁喚闁哄本鐩幃鈺佺暦閸パ�鎷伴柣搴㈩問閸ｎ噣宕戞繝鍥╁祦婵☆垵鍋愮壕鍏间繆椤栨粎甯涙い蹇曞枛濮婄粯鎷呴懞銉с�婇梺闈╃秶缁犳捇鐛箛娑欐櫢闁跨噦鎷�?");
			return false;
		}
		return true;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎾寸厵妞ゆ牗绋掔欢鑼偖濮樿埖鈷戠紒瀣仢椤掋垺銇勯妸銉含妤犵偛鍟灃闁告侗鍠楀▍婊堟煙閼测晞藟闁告挻绻堥幃妯侯吋婢跺鎷洪梺瑙勫劶婵倝寮柆宥嗗仺妞ゆ牓鍊楃弧锟介悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佺粯鐩獮姗�顢氶崨顕呮婵犵锟藉啿绾ч柛鏃�鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧绐旀繛浣冲洠锟斤箓宕奸妷銉э紵闂佹儳娴氶崑鍕敋鏉堚晪鎷烽惂鍛婂闂佸憡娲﹂崜娆撴晸閻ｅ本鏆柟顔煎槻閳诲氦绠涢幙鍐х棯缂傚倷绶ら幏鐑芥煕閹般劍鏉哄ù婊勭矒閺屾洘绻涢崹顔煎Х閻庤鎮堕崕鐢稿蓟閿濆鏅查柛娑卞幗浜涙俊鐐�ら崑鍛垝閹捐鏋侀柟鎯ь嚟椤╃兘鎮楅敐搴″缂佷緤绠撳铏规喆閸曨偆顦ㄥ銈嗘肠閸涱垯绗夐梺瑙勫劶婵倝鎮″▎鎾村�甸柣銏☆問閻掗箖鏌涢幘璁虫喚闁哄本绋戦～婵嬵敆婢跺﹤澹庢繝娈垮枛閿曘倝鈥﹀畡鎵殾闁圭儤鍨熼弸搴ㄦ煙閻戞ê鐏ラ悽顖ｅ灦濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婃い鎺炴嫹缂佺姵鐗楁穱濠囶敍濞嗘帩鍔呭┑鐐茬毞閺呯娀骞冪憴鍕╁亰闁圭瀵掓禒鈺侇渻閵堝棙鐓ユ繛宸幖椤繐煤椤忓嫬绐涙繝鐢靛Т鐎氼喚妲愭导瀛樷拺缂佸鐏濋銏ゆ煟閹垮嫮绡�闁轰焦鍔欓幃娆撳传閸曨偄绁梻渚�娼ф蹇曟閺囥垹鐭楅柛鈩冪♁閳锋垹绱撴担鑲℃垹绮堥敓浠嬫⒑缁嬪尅宸ユ繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInvitedTeamFuctionEnable(long invitedRoleId)
	{
		//缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂傚洤顦甸弻銊モ攽閸℃ɑ鎮欓梺姹囧妽閸ㄥ潡寮婚悢椋庢殝闁哄瀵т簺婵＄偑鍊ら崑鍛崲閸儯锟戒礁顫滈敓浠嬪箖閵忋倕浼犻柛鏇ㄥ亝椤撳ジ姊婚崒娆戭槮闁硅绻濋妴鍐╃節閸愵亶娲搁梺鍓插亝濞叉牠鎷戦悢鍏肩厪濠电偟鍋撳▍鍛存煕濡ゅ嫭鐝柕鍥у缁犳盯骞橀弶鎴烆仩婵＄偑鍊曠换妤呭春閺嶃劎鈹嶅┑鐘叉处閸婇攱銇勮箛鎾愁伒闁归鍏樺浠嬧�栭埄鍐┿仢闁糕晪绻濆畷銊╊敇閻欙拷閸炵敻姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笩濡嫰鍩為幋锔藉亹閻庡湱濮撮ˉ婵堢磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?
//		if(fire.pb.SystemSettingConfig.checkRoleSetting(invitedRoleId, fire.pb.SysSetType.AcceptTeam)<=0)
//			return false;
//		else
			return true;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸″繑鐏侀梺鍓茬厛閸犳鎮橀崼銉︹拺缂佸灏呮Λ姘亜椤愩埄妲虹紒顔界濞煎繘濡歌閻﹀牓姊洪崨濠冨闁告挻鐟╅幃鍨鐎涙ê浠┑鐘诧工鐎氼參鎮￠妷锔轰簻妞ゆ帪鎷烽柨鏇ㄤ邯閵嗕礁顫濋懜鍨婵炲濮撮鍛不閺嶃劋绻嗛柕鍫濇噺閸ｆ椽鏌涚�ｃ劌濮傛慨濠傤煼瀹曞ジ鎮㈢悰鈩冾潔濠电偛顕慨鐢告晪濡炪値浜滈崯瀛樹繆閸洖骞㈡俊顖濇椤ｆ煡姊绘笟锟藉褔鎮ц箛娑掞拷锕傚醇閵夛箑浠奸梺缁樺灱婵倝宕戦崟顓犳／闁瑰嘲鐭傞崫娲煛閸涱亝娅婃慨濠呮缁辨帒螣鐠囪尙顣叉繝鐢靛仜椤曨參宕楀锟介獮鍐┿偅閸愨晝鍔堕悗骞垮劚濡矂骞忔繝姘拺缂佸瀵у﹢浼存煟閻旀繂娲ょ粈澶岋拷骞垮劚椤︿即宕愰悽鐢电＜婵°倓鑳堕埥澶愭煙閾忣偄濮嶉柟顖氳嫰閳诲酣骞樼�电骞嶉梻浣侯攰椤宕濋敃鍌氬惞婵炲棙鍨圭壕濂告煙闁箑寮炬繛鍫熺矋椤ㄣ儵鎮欑�电鈪归柤鎸庡姈閵囧嫰骞掗悙鏉戭伓闂備浇娉曢崰鏇熸叏閵堝鍨傞柛鎾茶兌閻锟藉箍鍎遍ˇ顖炲箲閼哥偣浜滈柟鎹愭硾閺嬪酣鏌＄�ｎ偄鐏存慨濠冩そ瀹曨偊宕熼锝嗩唲闂備胶绮〃鍛涘☉姘灊濠电姵纰嶉崑鎰版煕韫囨挻鍣界紒鐘冲哺濮婃椽妫冨☉姘暫闂佺懓鍟跨换妯虹暦閸愯娲敂閸涱叏鎷烽悽鍛婄厽闁靛繈鍊栧☉褏锟芥稒绻傞—鍐Χ鎼粹�崇哗濠电偛顦板ú鐔肩嵁閹达箑绀嬫い鎺戝�婚幊婵嗩渻閵堝棛澧柤鍦亾缁旂喎顓兼径瀣ф嫽婵炶揪绲介幉锟犲疮閻愬瓨鍙忔俊顖滎焾婵″吋銇勯弬璺ㄧ缂侇喒鏅犻妴鍌炲及閻氱嚳ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInvitedInNoTeam(Long invitedTeamId)
	{
		if(invitedTeamId == null)
			return true;
		else
			return false;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨骞撳┑掳鍊撻悞锕傚矗韫囨梹鍙忔俊銈忔嫹婵☆偅顨嗛弲鍓佺磼濡偐顔曢梺绋跨箺閸嬫劖鏅堕鍫熸嚉闁哄稁鍘介悡銉︾節闂堟稒顥為柛锝呯秺閺岋繝宕卞▎蹇庢闂佸搫鐭夌紞渚�鐛Ο纭锋嫹闂堟稒鍟為柛鎺撶洴濮婃椽宕崟顒佹嫳闂佺儵鏅╅崹鍫曞Υ娓氾拷瀵挳濮�閳╁啯鐝抽梻浣规偠閸庮噣寮查埡鍛Е閻庯綆鍋嗙弧锟介悗鐢靛閻忔岸宕愰弴銏″珚闁稿繒顑曟禍婊勩亜閹扳晛鐒烘俊顖ゆ嫹濠电姷顣槐鏇㈠极鐠囪尙鏆﹂柣鏃傗拡閺佸秵鎱ㄥ锟界涵鎼佸船濞差亝鈷掑ù锝囩摂濞兼劙鏌涙惔銈嗙彧闁哄懓鍩栭幆鏃堝Ω閿曪拷娴滄绻濋姀锝呯厫闁告梹鐗犲畷鎰版偨閸涘﹤浠┑鐐叉缁绘劙顢旈鍡欑＜闁跨喍绮欏畷濂稿Ψ閿旀儳骞堥梻濠庡亜濞诧箓寮歌箛娑樼闁绘劗顣介弨铏節閻㈤潧孝婵炲眰鍊楃划濠氭偡閹冲﹤缍婇弫鎰板醇椤愩垺鐤傞梻浣哥秺椤ユ捇宕楀锟藉顐﹀礃椤旇偐锛滃┑顔斤耿绾悂宕ラ崨瀛樷拻濞达綀娅ｇ敮娑㈡煕閺冿拷閿曘垹鐣峰ú顏勫唨鐟滃寮稿澶嬬厵閺夊牓绠栧顕�鏌嶉柨瀣诞闁哄本绋撴禒锕傚箲閹邦剦妫熼梻浣芥硶閸犲秶鍒掑▎鎾嶅骞橀弬銉︾�婚梺闈涚箞閸婃洖娲垮┑鐘灱濞夋盯鏁冮敃鍌ゆ晩闁糕剝绋掗埛鎴︽偣閹帒濡兼繛鍛姍閺岀喖宕欓妶鍡楊伓?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ婢跺﹦鐣鹃梺缁樺姉閸庛倝鍩涢幋锔界厱婵犻潧妫楅顐︽煃鐠囧樊妯�闁哄本绋撻敓鏂ょ秵娴滄繈宕甸崶顒佺叆婵犻潧鐗嗘禒杈╋拷娈垮枟閹歌櫕鎱ㄩ敓浠嬫煥濞戞ê顏╂鐐搭殜濮婄粯绗熼敓钘夘焽瑜忛幑銏ゅ醇閵夈儲妲梺鍛婃处閸ㄩ亶宕愰崹顔ユ棃鏁愰崨顓熸闂佺粯鎸鹃崰鎰板Φ閸曨垰绠婚悹铏瑰劋閻濃�斥攽閻愯尙澧涙繛鑼枛瀵寮撮姀鐘靛�為悷婊冪Ч椤㈡棃顢楅崒婊咃紲闂佺粯锚绾绢厼煤鐎涙﹩娈介柣鎰儗閻掍粙鏌ㄩ悢璇残撶紒瀣笩閹筋偊姊虹粙鍖″姛闁稿繑锚椤繒绱掑Ο璇差�撻梺鍛婄☉閿曘倝寮抽崼銉︾參闁告劦鍠曢幉楣冩煛瀹�锟介崰鏍х暦閵婏妇绡�闁稿本顨嗛悘鍡涙煟鎼淬埄鍟忛柛鐘崇洴椤㈡俺顦归柛鈹垮劜瀵板嫰骞囬澶嬬秱闂備焦鏋奸弲娑㈠疮椤栫偞鍋熼柡鍥ュ灪閳锋帒霉閿濆牊顥夐柛姘秺閺屾盯鎮╅崘鎻掝潔缂備焦姊婚崰鎾绘晸閺傘倗绉甸柛鐘崇墵閹苯螖閸愵亝锛忛梺缁樺姦閸撴岸宕滈幈绉俤ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkNotBeingInvited(long invitedRoleId)
	{
		xbean.InviteInfo inviteInfo = xtable.Teaminvite.get(invitedRoleId);
		
		if (inviteInfo == null)//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔曢顓犲姬閿熶粙姊哄Ч鍥х伈婵炰匠鍕浄鐟滄棃寮诲☉姘炬嫹閿濆骸浜濈�规洖鐭傞弻鐔碱敋閸℃瑧鐦堟繝娈垮櫙閹风兘姊洪棃娑氬婵☆偄鐭傞獮蹇撁洪鍛嫼闂佸憡绻傜�氼剟鏁撻挊澶屽煟鐎规洘娲熼獮鎾诲箳閸℃锟芥椽姊洪崨濠勨槈闁宦板姂閹繝寮撮姀锛勫幗闂佸搫娲﹀銊┧囬敃鍌涚厽闊洢鍎抽幃鑲╃磼鏉堛劌娴い銏＄懅閸犲﹥娼忛埡浣瑰�┑掳鍊楁慨鐑藉磻閻愬灚鏆滈柟鐑樻礈娴滄瑥鈹戦悙鑸靛涧缂傚秳绶氬鏌ュ蓟閵夈儳顦遍梺鍝勮癁閿熶粙寮ㄦ禒瀣厽闁归偊鍨伴悡鎰喐閹跺﹤鎳愮壕鐣岋拷骞垮劚缁绘垹锟芥俺顫夋穱濠囨倷椤忓嫸鎷烽妶澶婄；闁告洦鍨侀崶顒�纭�闁绘劏鏅滈悗濠氭⒑闂堟稓绠為柛濠冪墵瀹曠敻骞嬮悙顏冪盎闂佸湱鍎ら崹鐢告晸閽樺鐓奸柡浣哥Т閳规垹锟斤綆鍋勯敓钘夌仛椤ㄣ儵鎮欓懠顑胯檸闂佸憡姊瑰畝鎼佸蓟閻斿吋鎯炴い鎰╁灩椤秹姊洪崫鍕櫡闁稿酣娼ч～蹇曠磼濡顎撻梺鍏间航閸庮垶鏁撻挊澶婃殶缂佽鲸甯￠弫鎾绘嚍閵夛箑顎撻梺鎯х箰濠�閬嶆偂鐎ｎ喗鈷戦柛锔诲弨濡炬悂鏌涢悩鎰佹疁鐎规洘鍨块崺锟犲磼濠婂懐妲囬梻鍌氬�搁悧濠冪瑹濡ゅ懎纾块煫鍥ㄦ礈绾惧ジ鏌ㄩ悢鍓佺煓鐎规洘锕㈤、娆撴偩鐏炶棄姹查梻鍌欑閹碱偊宕愰幖浣瑰�舵繝闈涱儏缁犳牠鏌熸潏楣冩闁稿﹤鐏氶幈銊ヮ潨閸℃顫紓浣割槹濡炰粙寮婚敍鍕勃闁告挆鍕灡婵°倗濮烽崑娑樏洪鐐垫殾婵°倕鎳庢导鐘绘煏婢舵盯妾繛鍜冪畵濮婂宕掑▎鎴濆濠碉紕鍋涘鈥崇暦閵忋倖鍋傛鐑嗗墯缁嬫垿鍩為幋锕�骞㈤柍杞扮劍椤撳潡姊绘担绋款棌闁稿鎳庣叅婵鎷风�规洘鍔欓幃婊堟嚍閵壯冨箰濠电姰鍨煎▔娑㈩敄閸涘瓨鍊块柣鎰靛厸缁诲棙銇勯幇鈺佺仾妞ゃ儯鍨洪幈銊︾節閸屾稒鍎撻柣鎾卞�濋幃褰掑炊閵娿儳绁风紓浣哄У閻撯�愁潖閾忓湱鐭欓柛鏍ゅ墲閺佸墽绱撴担绛嬪殭闁绘妫濋、姘舵晲閸℃瑧鐦堝┑顔斤供閸樿棄鈻嶉姀銈嗏拺缂備焦銆為幋锔藉亗闁跨喓濮撮懜褰掓偣鏉炴媽顒熸繛鎾愁煼閺屾洟宕煎┑鍥舵婵犳鍣幏鐑芥⒒娴ｅ憡鍟為柟姝屽吹閹广垽宕奸妷褍绁﹂梺纭呮彧闂勫嫰寮查弻銉︾厱婵犲鎷烽柣鎺炲閿熶粙娼ч惌鍌氼潖濞差亝顥堟繛鎴炶壘椤ｇ儤淇婇妶鍥㈤柟璇х磿缁顓兼径濠勵槶閻熸粌绻掓竟鏇熺附閸涘﹦鍘藉┑鈽嗗灡鐎笛囨偟椤忓棴鎷风憴鍕闁活剙銈搁弫鎾绘嚍閵夘喖鏅遍梺鍝ュУ閻楃娀鍨鹃敃鍌涘�婚柦妯侯槹閻庮剟姊洪悷鏉库挃缂侇噮鍨跺鏌ュ箹娴ｅ湱鍙嗛梺缁樻礀閸婂湱锟芥熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤閸撗勫厹濡わ絽鍟悡娑㈡煕椤愵偄浜滃褜鍣ｉ弻锝夋晲閸パ冨箣閻庢鍠栭…閿嬩繆閻戣姤鏅滈柟顖嗗啯杈堥梻鍌氬�烽懗鍓佸垝椤栨娲冀椤撶偟锛欓梺闈╁瘜閸欏繘骞忓畡閭︽僵闁绘劦鍓欓锟�
			return true;
		if(!inviteInfo.getBeinginvited())
		{
			//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔曢顓犲姬閿熶粙姊哄Ч鍥х伈婵炰匠鍐懃闂備浇顕х�涒晝绮欓崼銉ョ柧婵炴垟鍋撻敓钘夋噺缁虹晫绮欑拠閿櫊閺屽秹宕崟顐嫹閻㈢绠繛宸簼閳锋垿鏌涢敂璇插季闁绘帞鍋撶换娑㈠箻椤曞懏顥栫紓渚囧枛椤兘鐛Ο鑲╃＜婵☆垳鍘ч獮宥夋⒒娴ｅ憡鍟為柛鏃�顭囨禍绋库枎閹寸姳绗夋繝鐢靛У绾板秹鎮￠悢鍏肩厵闁割煈鍠栭弳娆忣熆瑜嶉悺銊╁Φ閸曨垰顫呴柍钘夋閻や線鎮楃憴鍕闁哥姵鐗犻妴渚�寮介鐔锋疅闂侀潧顦崕鐑樺閺嶎厽鈷掗柛灞捐壘閿熻棄鍢查湁闁搞儜锟介弸鏍煛閸ャ儱鐏╅梻鍌ゅ灦閺屻劑寮撮悙璇ф嫹閸濄儳涓嶆い鏍仦閻撱儵鏌ｉ弴鐐诧拷鍦拷姘炬嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏閺佹挻绂掔�ｎ亞顔夐梺鐓庢憸閸嬶絾绂嶅鍫熺厵闁硅鍔栫涵楣冨疮缁嬫娓婚柕鍫濈箰閻︽粓鏌涢妸銊︾【妞ゎ偄绻愮叅妞ゅ繐瀚粣娑欑節閻㈤潧小闁煎啿澧庨幑銏＄瑹閿熻棄顫忓ú顏勪紶闁靛鍎涢敐鍥锋嫹閻у憡瀚归梺褰掓？缁�渚�寮伴妷鈺傜厪闊洤顑呴敓鑺ユ礈閻氭儳顓兼径瀣幈闁诲繒鍋涙晶浠嬫儗瀹�鍕叆婵炴垶鐟ч惌鎺撴叏婵犲啯銇濇鐐村姈閹棃鏁愰崒娑辨綌闂備浇顕х�涒晛顫濋妸鈺佺婵☆垵娅ｉ弳锕傛⒒閸喓鈻撻柡宀嬪閻ヮ亪鎮欓澶嬫瘒闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮敓浠嬪箯濠靛绠瀣捣缁犳梹绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰铏圭矙閸噮鍔夊銈冨妼閹虫ɑ淇婇幘顔肩闁规惌鍘介崓鐢告⒑缂佹ê濮﹂柛鎾寸懇椤㈡棃宕奸弴鐔哄幗闁瑰吋鐣崐銈咁焽閹邦厾绠鹃柛娆忣檧閼拌法锟借娲濋～澶愬箯閸涙潙绀冩い蹇撳暟閼虫椽姊婚崒姘拷椋庣矆娓氾拷楠炲鏁撻悩鑼槷闂佸搫绋侀崑鎾诲箯妞嬪海绠旀繛鎴炆戠�氬懘鏌熷畡鏉挎Щ妞ゎ偅绻堥、妤呭磼濠х偑鍔戝铏规嫚閳ヨ櫕鐏堥梺鎼炲灪閻擄繝宕洪姀鈩冨劅闁靛牆娲ㄩ弶鎼佹⒑閻熸壆浠㈤柛鐔叉櫇濡叉劙骞嬮敂瑙ｆ嫽婵炶揪缍�濞咃絿鏁☉銏＄厵閻忓繑鐗楀▍濠勶拷瑙勬礈閹虫捇鎮鹃悜钘夌倞妞ゎ厽鍨剁紞妤呮⒒娴ｅ憡璐￠柛搴涘�濆畷鐢告晝閸屾氨鐫勯梺鍓插亞閸犳劕鈻嶉姀锛勭閻庣數顭堝瓭闂佽崵鍠嗛崐婵嗙暦閸洦鏁嗛柨鐔烘櫕閻ヮ亣顦崇紒缁樼洴瀹曞崬螣閸濆嫬袘婵犵數鍋涢悧婊堝磻婵犲偆娼栨繛宸簻瀹告繂鈹戦悩鎻掓殭妞わ腹鏅犲娲箹閻愭彃顬夋繝銏㈡嚀濡盯宕氶幒妤�閱囨い顐枟鐎氬綊鏌ㄥ┑鍡涱�楀ù婊勭墪闇夋繝濠傚閻帡鏌ｉ幙鍐ㄤ喊鐎规洖鐖兼俊鎼佹晝閿熶粙妫勫鍜佹富闁靛牆鍟崝妤呮煥閻旇袚闁告挻宀搁幃銏ゅ幢濞戞瑥浠┑鐐叉缁绘劙顢旈悽鍛婄厾闁哄瀵ч崑銉╂煛鐏為潻鎷峰畷鍥ㄦ畷闁诲函缍嗛崜娑溾叺闂傚倷娴囬鏍窗濡ゅ懏鍋￠柍杞扮贰閸ゆ洟鏌涢锝嗙缂佺媴绲剧换婵嬫濞戞瑥绐涘┑鈥冲级椤ㄥ﹤顫忔繝姘＜婵炲棙甯掗崢鈥愁渻閵堝骸骞栭柣妤佹崌閵嗕線寮介鐐茬獩闁诲孩绋掕摫婵炲懎娲ら—鍐Χ閸涱垳顔囬柣搴㈠嚬閸ｏ絽顕ｉ幎鑺ユ櫇闁稿本绋撻崢鐢告⒒娓氬洤寮跨紒鐘冲灥閳诲秴鈻庨幘瀵稿幍婵＄偛顑呮鎼佸储閹绢喗鐓涘ù锝囨嚀婵牓鏌熼娑欘棃闁搞劑绠栭獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑濠㈣泛顑呭▓鐐翠繆閵堝繒鍒伴柛鐔哄█閺佹捇鎳為妷锔绘閻庤娲橀敃銏ゃ�侀弮锟介幆鏃堝閻欙拷娴兼捇姊绘担鐟邦嚋缂佽鍊婚懞杈ㄧ附閸涘﹦鍔峰銈嗙墬缁嬪繑绂嶅鍫濈婵烇綆鍓欓悞鐑樼箾閸噥鐒界紒杈ㄥ浮椤㈡岸宕ㄩ鐐电潉婵°倗濮烽崑娑㈩敄婢舵劕鏋侀柛灞剧矋閸犲棝鏌ㄥ┑鍡橆棞妞ゅ繐缍婂缁樻媴閽樺鎯炴繝娈垮枟濞兼瑧鍙呴梺缁橆焽缁垶寮查幖浣圭參婵☆垯璀﹀Σ鎼佹煛閸℃岸鍝烘い銊ｅ劦閹瑩寮堕幋婵愭綍缂傚倷娴囨ご鎼佸箰婵犳艾绠柛娑樼摠閸嬧晠鎮橀悙鍨珪濠⒀屽灦濮婄粯鎷呮笟顖滃姼闂佹寧娲忛崕鐢稿Υ閸愵喖宸濇い鎾跺仧閵堫偊姊婚崒娆戭槮缂傚秴锕畷鎴炵節閸パ咁槯濠殿喗顨愰幏椋庯拷娈垮枔閸斿秶绮嬮幒鏃撴嫹閿濆骸浜為柛姗�浜跺娲棘閵夛附鐝旈梺鍝ュ櫏閸嬪懘骞堥妸顭戞▌闂佸搫鐬奸崰鎰八囬悧鍫熷劅闁炽儱鍟跨粻锝嗕繆閵堝洤啸闁稿鍋熼弫顕�骞掗弴鐘辩胺闂傚倷娴囧▔鏇㈠窗閺囩倣娑㈠礋椤栵絾鏅╅棅顐㈡处閹告挳寮ㄦ禒瀣�甸柨婵嗛娴滄粓鏌ㄩ悢缁橆棄闁诲繑姘ㄩ幑銏犫槈閵忕姷顓洪梺缁樺姇閻忔岸宕虫禒瀣拺缂備焦锚缁椦囨煛閸滀礁浜版鐐差樀楠炴牗鎷呴悷棰佺綍闂備礁澹婇崑鍛崲閸曨剙顕辩�癸拷閸曨兘鎷洪梺鍛婄箓鐎氼剟藝椤掑嫭鐓曢柟鎯ь嚟缁犳挻銇勯弴妯哄姦鐎规洜鍠栭、娑橆潩椤掑喛鎷烽崹顔规斀闁宠棄妫楅悘銉э拷瑙勬磻缁插濡甸幇鏉垮窛妞ゆ柨澧介惁鍫ユ⒑濮瑰洤鐏叉繛浣冲嫮顩烽柍鍝勫�舵禍婊堟煛閸モ晛鏋旈柣顓炵灱缁辨帡顢欑喊杈╁悑濡ょ姷鍋涢澶愬极閸岀偞鍤嶉柕澶涘瑜板洭姊婚崒娆戠獢婵炰匠鍛床闁割偁鍎辩壕褰掓煛瀹ュ骸骞栭柣銈夌畺閺岀喖姊荤�电濡介梺缁樻尵閸犳劖绌辨繝鍥舵晬婵犻潧娴傛禒鈺呮⒑閹稿海鈽夌紒澶婄秺瀵鈽夐姀鐘电潉闂佸湱鍋撳娆擃敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
			cleanTimeoutInvites(inviteInfo.getInvited());
			return true;
		}
		else if ((now - inviteInfo.getInviting().getInvitetime()) > TeamManager.MAX_INVITE_TIMEOUT)
		{
			//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墱閺侇噣骞掑Δ锟界壕褰掓煕濞戞﹫鏀婚柛娆忕箻閺屻劑鎮ら崒娑橆伓?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帗闁荤姾娅ｉ崕銈夊箚閸喆浜滈柨鏃傚亾閺嗩剟鏌ｅ☉鍗炴灈閾伙絿鐥銏℃暠閻庢俺顫夌换娑㈠箣閻戝棔鐥銈呯箰鐎氱兘宕甸弴銏＄厱鐟滃酣銆冮崱娑樼厱闁瑰濮甸崰鎰版煟濡わ拷閻楀棛绮鑸电叆婵炴垶鑹鹃弸鏃傜磼鏉堛劌娴柡浣规崌閹崇偤濡烽敃锟介鎾绘⒑閹呯闁跨喕濮ょ粙鎾绘偡濠靛鈷掑ù锝囧劋閸わ拷闂佸鏉垮缂傚倹鎹囧畷绋课旀担瑙勵仧闂備礁鍚嬫禍浠嬪磿鏉堚晝绠旈柟鐑樻尪娴滄粍銇勯幇鍓佹偧缂佺姷鍋為妵鍕閳藉棙鐣风紓浣虹帛缁诲牆鐣烽幒鎴僵闁稿繐鍚嬬粊顔剧磽閸屾艾锟芥悂宕愰幖浣哥９濡炲瀛╅浠嬫煏閸繍妲哥紒鐙�鍨抽敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亜闁糕剝绋掗崑锝呂旈敃渚婇獜闁跨喐鏋婚幏宄扳攽閳ユ彃瀚庨柛鏂块叄楠炲骞栨担鐟颁罕闂佸壊鍋呯换鍕偡閺屻儲鈷戦柛婵嗗閸ｆ椽鏌ｉ幙鍕瘈鐎殿喛顕ч埥澶娢熼柨瀣垫綌闂備礁鎲￠〃鍫ュ磻閻愮儤鍋熸い鏂跨毞閺�浠嬫煃閽樺顥滃ù婊勫姍閺屻劑鎮㈢拠娈嬫捇鏌＄�ｎ亗鍋㈢�殿喓鍔嶇粋鎺旓拷锝庡亐閹稿啴姊洪幖鐐插姉闁哄懏鐟╅幃鐐寸節閸愵亞顔曢梺绯曞墲钃遍悘蹇嬪姂閺屻劑鎮㈤崨濠勪紕缂備胶濮甸幐鎼佹偩闁垮闄勭紒瀣嚦閵婏负浜滈柡鍐ㄦ搐琚氬┑鐐叉噺閹瑰洤顫忕紒妯肩瘈閹肩补锟借尙鐩庢繝鐢靛仩椤曟粍淇婇崶鈺佸灊婵炲棙鎸哥粻铏繆閵堝繑瀚归梺鍛婅壘缂嶅﹪寮婚悢鐚存嫹閻㈡鐒惧ù婊呭帶闇夋繝濠傚閻帡鏌″畝锟介崰鏍箖濠婂吘鐔兼惞闁稒妯婇梻鍌欐祰濞夋洟宕版惔銊︽櫢闁伙絽鑻▍蹇涙煕閵堝棛鎳勯柕鍥у椤㈡洟濮�閵忋埄鍞归梻渚�娼ч悧鐐电礊娴ｅ摜鏆︽慨妤嬫嫹闁糕晪绻濆畷姗�濡搁妷褜鍟堥梻鍌氬�搁崐鐑芥倿閿曞倸鍑犲┑鍌滎焾閻ょ偓绻涢幋娆忕仼闁汇値鍠楅妵鍕箛閳轰緤鎷峰Δ鍐笉闁哄啫鐗婇悡娆撴煟閹寸儑渚涙繛鍫熸礋閺岋綁骞樼�靛憡鍣伴梺鍝勬湰閻╊垶鐛崶顒夋晬婵椴搁妤冪磽閸屾瑨鍏屽┑顕�鏀遍弲璺何旈崨顓囷箓鏌涢弴銊ョ伇闁轰礁鍊块弻娑㈠即閵娿儰绨煎┑鐐茬墕椤兘骞冨Δ鍐╁枂闁告洦鍓涢ˇ銊╂煟閵忊晛鐏茬紒缁樼箞閻涱噣宕橀妸銏＄�婚梺瑙勬儗閸ㄨ京锟芥俺顫夌换娑㈠箣閻戝棔绱楅梺纭呮彧闂勫嫰宕戦悢鎼炰簻闁规澘鐖煎顕�鏌ｉ幘璺烘灈妤犵偞鐗楀蹇涘礈瑜忚摫婵＄偑鍊曠换鎺楀窗閺嶎厼钃熼柣鏂垮濡插綊骞栫划鐧告嫹閸愯尙顓洪梻鍌欑閹碱偊寮甸鍕剮妞ゆ牗鍑归崵鏇㈡煙缂併垹鏋涢幆鐔兼⒑闂堟侗妲堕柛搴や含缁骞嶉鍓э紳闂佺鏈悷褏鎷规导瀛樼厱闁挎繂楠稿▍宥囷拷瑙勬礀缂嶅﹤鐣锋總绋垮嵆闁绘劘鍩栭幉浼存⒒娴ｇ懓顕滅紒璇插�胯棟濞村吋娼欑壕濠氭煕閺囥劌鐏￠柣鎾存礃缁绘盯骞嬮悜鍥у彆闂佸憡姊婚崰鏍蓟閵娿儮妲堟繛鍡樺灦閸掓稑鈹戦纭烽練婵炲拑绲垮Σ鎰板箳閹冲磭鍠庣叅妞ゅ繐瀚悿鍌滅磽閸屾艾锟界兘鎳楅懜鍨弿闁汇垻顭堥崹鍌滄喐閻楀牆绗掗柣顓燁殜閺屾稑鈽夊Ο鍏兼喖闂佹娊鏀遍崹鍦閹烘挸绶炲┑鐘插枤濡偤鏌ｆ惔銏ｅ闁搞垺鐓￠崺銏ゅ箻鐠囪尙鐫勯梺璺ㄥ枙婵倗绮氭潏銊х瘈闁搞儴鍩栭弲婵嬫⒑閹稿海绠撶紒缁橆殜閺佹捇鎸婃径瀣淮闂佸搫澶囬敓钘夌－閺嗗棝鏌ㄩ悢鍓佺煓鐎规洜澧楅幆鏃堝Ω閿曪拷娴犲ジ姊虹捄銊ユ灁濠殿喖顕划濠氬Ψ閿旇桨绨婚梺鍝勫枦閹风兘鏌涙惔銈嗙彧闁逛究鍔戝畷妤呮嚃閳哄啰妲囬梻浣圭湽閸ㄨ棄顭囪缁傛帟顦归柡灞剧☉铻ｉ柣妯哄级婢跺嫰鏌涚�ｎ亶妯�闁哄矉缍侀獮姗�宕橀懠顒佇炴繝鐢靛仜閸氬鎮уΔ鍐╁床婵炴垶锕╅崯鍛亜閺冨洤鍚归柛鎴濈秺濮婃椽宕崟顒�娅ら梺璇″枛閸婂灝顕ｆ繝姘╅柍鍝勫�告禍鐐烘⒑缁嬫寧婀扮紒瀣灴椤㈡棃鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎰闁割偅绻勬禒銏ゆ煛鐎ｃ劌锟芥繈寮婚悢鐓庣闁告瑥顦▓妤�鈹戦纭峰伐妞ゎ厼鍢查悾鐑藉箳閹存梹鐎婚梺褰掑亰閸犳捇宕戝Ο璁崇箚闁绘劦浜滈敓鑺ョ墪鐓ゆ慨妤嬫嫹闁诡啫鍥ㄥ亹闁肩⒈鍓氬▓鎯р攽鎺抽崐褔骞忛悜鑺ョ厓闁芥ê顦藉Σ鍛娿亜椤愶絿鐭掔�规洖宕灒闁惧繗顫夎闂傚倸鍊搁崐椋庣矆娴ｉ潻鑰块梺顒�绉寸壕鍧楁煏閸繃濯兼繛鍏肩墵閺屾盯鏁傜拠鎻掍紟闂佺懓鍢查崲鏌ワ綖濠靛鏁嗗璺鸿嫰閹垿姊绘担鍛婃儓闁活厼顦辩槐鐐存媴閸撴彃娈ㄥ銈嗗笒鐎氼剛绮绘导鏉戠婵烇綆鍓欓悘鈺呮煛鐎ｎ偄鐏存慨濠勭帛閹峰懘宕妷顖滅缂傚倷绶￠崳顕�宕规导杈剧稏闊洦姊荤弧锟藉┑顔斤供閸樿棄鈻嶉姀銈嗏拺闁兼亽鍎嶉鍩跺洭鏌嗗鍡椾患濡炪倖鎸堕崹娲偂閺囥垹绠规繛锝庡墮婵℃椽鏌熼懠顒�浜炬い銊ｅ劦閹瑩鎳犻鍌ゅ敽闂備浇娉曢崰鎰板几閼姐倗绀婇柛鈩冪♁閺呭摜绱掑☉姗嗗剰鐎殿喛娉曠槐鎾愁吋閸曨収妲梺浼欑悼閸忔﹢寮幘缁樺亹闁告劘顕滈幏鐑藉醇閺囩喓鍘炬繝娈垮枟閸旀洟鏁撻懞銉у⒌鐎规洜鏁婚弫鎾绘寠婢舵ɑ瀵岄梺闈涚墕妤犳悂鐛幋锔界厱闁哄喛鎷烽柛銊ф暬閹儳鐣￠柇锔藉缓闂佽法鍠嶇划娆忕暦濞差亜鐒洪柛鎰ㄦ櫅椤庢捇鏌ｉ悢鍝ユ噧閻庢凹鍘奸埢鎾活敆娴ｈ櫣鐦堢紒鐐緲椤﹁京澹曢崸妤佺厱閻庯綆鍋勯悘瀵革拷瑙勬礃閸旀瑦淇婇懜闈涚窞濠电姴瀚哥槐閬嶆⒒娴ｇ瓔娼愰柛搴ゆ珪閺呰埖鎯旈姀鈶╂灃閻庡箍鍎遍ˇ浼存偂濞嗘挻鐓欓悷娆忓婵箓鏌涢妶鍡欐噰闁哄矉绠撳畷姗�顢旈崟顒備邯闂備礁鎼悮顐﹀礉閹达箑绠栭柕鍫濐槸绾惧吋绻涢幋鐑囦緵濞寸》鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帗闁荤姾娅ｉ崕銈夊箚閸喆浜滈柨鏃傚亾閺嗩剟鏌ｅ☉鍗炴灈閾伙絿鐥銏℃暠閻庢俺顫夌换娑㈠箣閻戝棔鐥銈呯箰鐎氱兘宕甸弴銏＄厱鐟滃酣銆冮崱娑樼厱闁瑰濮甸崰鎰版煟濡わ拷閻楀棛绮鑸电叆婵炴垶鑹鹃弸鏃傜磼鏉堛劌娴柡浣规崌閹崇偤濡烽敃锟介鎾绘⒑閹呯闁跨喕濮ょ粙鎾绘偡濠靛鈷掑ù锝囧劋閸わ拷闂佸鏉垮缂傚倹鎹囧畷绋课旀担瑙勵仧闂備礁鍚嬫禍浠嬪磿鏉堚晝绠旈柟鐑樻尪娴滄粍銇勯幇鍓佹偧缂佺姷鍋為妵鍕閳藉棙鐣风紓浣虹帛缁诲牆鐣烽幒鎴僵闁稿繐鍚嬬粊顔剧磽閸屾艾锟芥悂宕愰幖浣哥９濡炲瀛╅浠嬫煏閸繍妲哥紒鐙�鍨抽敓鐣屾嚀鐎氫即宕戞繝鍥ㄥ亜闁糕剝绋掗悡鐘绘煙闂傚鍔嶆繛鎳峰啠鏀芥い鏃囧亹婢э箓鏌″畝瀣М妤犵偞顭囬敓鑺ョ♁椤洭藝閵娾晜鈷戦梺顐ｇ〒閳规帡鏌涢弬璺ㄧ劯闁挎繄鍋涢…銊╁醇濠靛棜锟藉灝鈹戞幊閸娧囧箯闁垮浜滄い鎰靛亗缁ㄥ鏌嶇憴鍕伌闁诡噮浜畷銊╊敊绾板彉绱﹂梻鍌氬�烽懗鍓佸垝椤栫偑锟藉啴宕ㄧ�涙ê浜遍梺鍛婁緱閸ㄥ崬鐣烽弻銉︾厱闁斥晛鍟伴埦渚�鏌ｉ幘璺烘灈闁哄瞼鍠栭弻鍥晝閿熶粙鐛弽顐ょ＜闁圭粯甯╅悡濂告煛鐏炶濮傞柟顔哄灮閹风姴鈻撶�ｎ偅宕岄柡宀�鍠栭、娆撴偂鎼搭垱瀚归悷娆忓閳瑰秴鈹戦悩鍙夋悙缂佺姷绮妵鍕籍閸パ傛睏濡炪倖鏌ㄩ敃銈夊煘閹寸偛绠犻梺绋磕涢崶褏顔嗘俊鐐差儏閸戜粙骞忛悜鑺ュ仭闁绘鐗嗛弳鍫㈢磽娴ｇ瓔鍤欓柣妤佹崌閻涱噣宕橀妸搴㈡閺佹挻绂掔�ｎ亞鍙�婵犮垼娉涜墝闁哄瀛╂穱濠囶敍濠婂啫浠樻繝娈垮枟濡炰粙寮婚敐澶嬪亜闁告縿鍎抽悡鍌涚節閳凤拷閸曞灚鐤侀悗瑙勬礀缂嶅﹤鐣风粙璇炬棃鏁撴禒瀣珔闁绘柨鍚嬮悡鍐煃鏉炴壆顦﹂柡鍡樼懅缁辨帡宕滄担闀愭闂佸搫鏈惄顖炲春閸曨垰绀傞柍鍝勫�搁悘鎾煙椤旂偓鏆�殿噮鍓氶幆鏃堝箻鐎涙ɑ婢戦梻鍌欒兌缁垶宕濆▎鎾�鐑藉磼閻愭彃鎯為柣搴秵閸撴稓澹曟總鍛婄厽婵☆垰鎼弳閬嶆煟韫囨梹灏﹂柡灞稿墲閹峰懐绮欓幐搴㈩啋濠电姵顔栭崳顖炲箯閻戣姤鈷戦梻鍫熺〒婢ф洘淇婇锝囨噧闁宠绉规慨锟介柕鍫濇閹疯櫣绱撻崒娆戝妽闁崇鍊濋、鏃堝幢濡ゅ﹥顥℃俊鐐�栭幐鍫曞垂閸︻厾鐭嗗鑸靛姈閻撱儵鏌ｉ弴鐐诧拷鍦拷姘炬嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
			inviteInfo.setBeinginvited(false);
			cleanTimeoutInvites(inviteInfo.getInvited());
			return true;
		}
		else
			return false;
	}
	
	//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾剁磽娴ｅ搫小闁告濞婂濠氭偄閸忓皷鎷婚柣搴ㄦ涧婢瑰﹤危椤斿墽纾藉ù锝呮惈鍟告繝娈垮枛閻忔氨绮氭潏銊х瘈闁搞儴鍩栭弲顒�鈹戦悩缁樻锭閻庢碍鎮傞獮蹇涙倻閼恒儲娅㈡繛瀵稿Т椤戝棝鎮″☉銏″�甸柨婵嗙凹缁ㄤ粙寮崼婢棃鎮╅棃娑楁勃闂佺粯顨嗗ú婵娿亹娴ｅ壊娓婚柕鍫濇闁叉粓鏌熷畡鏉挎Щ闁宠鍨块崹楣冩嚑椤掑倻鍘梻浣告惈閻绱炴笟锟介悰顕�骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡濠电偛寮剁换鍕箲閵忕媭娼╅柤鍝ヮ暯閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘遍梺鍝勫�藉▔鏇犵不閼姐倧鎷峰▓鍨灍鐟滄澘鍟撮崺鐐哄箣閻欏懏瀚归柨婵嗙凹缁ㄤ粙鏌涘Ο缁樸仢婵﹥妞藉畷顐﹀礋椤愶絿浠岄梻浣哥秺椤ユ捇宕楀锟藉濠氬即閵忕姷鍊為悷婊冪Ч椤㈡棃顢橀悤浣诡啍闂佺粯鍔栭幆宀勬倿娴犲鐓欓柣鐔告緲椤忣參鏌熼姘伃妤犵偞甯￠幃娆撴偨閺佸本绮撳娲传閸曨厾鍔圭紓鍌氱С缁舵艾顕ｉ锕�绠涙い鎾跺仧缁愮偞绻濋姀锝嗙【妞ゆ垵鎳樺鎼佸Χ婢跺鍘介柟鍏肩暘閸╁嫰宕箛娑欑厱闁绘ê纾晶鐢告煙椤斿搫鍔滅紒铏规櫕缁瑩骞愭惔鈶挎岸姊绘担瑙勭伇闁哄懏鐩畷顖烆敍濞戞ê鐏侀梺鍦檸閸犳鎮￠悢鍏肩厽闁哄啫鍊哥敮璺好瑰鍛暭濞ｅ洤锕幊鐘诲醇閺囩偞鎳欑紓鍌欒兌缁垳鎹㈤崼銉ョ畺濞寸姴顑嗛ˉ鍫熺箾閹寸偛鏁鹃柟椋庡厴楠炴绱掑Ο鐓庡箥濠碉紕鍋涢鍛殽閹间礁鍌ㄩ柟缁㈠枟閻撴盯鎮橀悙棰濆殭濠殿喖鍊块弻鐔碱敊閸濆嫮浼堥悗瑙勬处閸嬪﹤鐣烽悢鐓庣妞ゆ牗绮庤ⅵ闂備礁鎼惌澶岀礊娓氾拷閻涱噣骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private void cleanTimeoutInvites(java.util.List<xbean.TeamInvite> invites)
	{
		java.util.List<xbean.TeamInvite> timeoutList = new java.util.ArrayList<xbean.TeamInvite>();
		for (xbean.TeamInvite invite : invites)
		{
			if ((now - invite.getInvitetime()) > TeamManager.MAX_INVITE_TIMEOUT)
				timeoutList.add(invite);
		}
		invites.removeAll(timeoutList);
	}

	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀劼烽敓浠嬫⒒娴ｄ警鐒炬い鎴炲灩閹广垹鈹戠�ｎ亣鎽曢梺鍝勬储閸ㄥ綊鏌嬮崶銊х瘈闁割煈鍋勬慨鍫ュ极閸儲鈷掑ù锝堟鐢盯鏌熼崨濠冨�愮�规洘鍔欏畷鐑筋敇閻斿嘲绨ユ繝鐢靛█濞佳兠洪妸褍濮柨鐔剁矙濮婅櫣绮欓幐搴㈡嫳缂備緡鍠栭惌鍌濈熅闂佽法鍠嶇划娆忣潖缂佹ɑ濯撮柧蹇曟嚀缁楋繝鏌ｉ姀鈺佺伇濞存粠浜悰顔跨疀濞戞瑦娅㈤梺璺ㄥ櫐閹凤拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锕備憾瀵偆鎷犻懠顒佹闂佸搫娲ㄩ崰搴ｆ閻愮儤鐓欓梺顓ㄧ畱楠炴﹢鏌涘Ο鍝勮埞闁宠鍨块幃娆撳级閹寸姳妗撻梻浣藉吹閸ｏ附淇婇崶鈺傤潟闁绘劕鎼粻锝夋煥閺冨洦顥夐柨鐔绘閻忔岸骞堥妸銉建闁糕剝顨呴埛鎺戔攽閳╁啫绲婚柟璇х節婵＄敻宕熼锝嗘櫍闂佹枼鏅涢崯浼村Υ婵犲洦鈷戦柛锔诲幗閸わ拷闁诲孩纰嶅姗�鎮鹃悜绛嬫晝闁挎洩鎷风紒锟界�ｎ偁浜滈柟鎹愭硾閺呭潡鏌ｉ幇顒夊殶缂佲槄鎷烽梻浣圭湽閸ㄨ棄顭囪缁傛帟顦归柡灞剧☉铻ｉ柣妯哄级婢跺嫰鏌涚�ｎ亶妯�闁哄矉缍侀獮姗�宕橀懠顒佇炴繝鐢靛仜閸氬鎮ч弴銏犵厴闁硅揪闄勯崑鎰版倵閸︻厼孝妞ゃ儲绻勭槐鎾寸瑹婵犲啫顏堕梻浣告啞閸斿繘寮崒娑氼洸婵犲﹤鐗忛崣鎾绘煕閵夛絽濡介悘蹇ｅ幗閵囧嫯绠涢敐鍕仐闂佸搫鐭夌徊楣冨箚閺冨牆围闁糕檧鏅欓崫妤冪磽閸屾瑦绁板瀛樻倐楠炴劖绻濆顒傤唵闂佸憡绋掑娆戠不閿濆鐓欓柣鎴灻悘锕傛煕鎼淬垺宕屾慨濠勭帛閹峰懏绗熼婊冨Ъ婵＄偑鍊栭崹鐢稿疮閺夋垹鏆﹂柟閭﹀厴閺�浠嬫倵閿濆骸浜滃ù鐘冲笒椤啴濡堕崱妯锋嫻闂佸綊鏀辩换鍫ョ嵁韫囨稒鍊婚柤鎭掑劜濞呮粓鏌熼懖鈺勊夐柛鎾寸箞閹﹢宕奸妷锔规嫼闂佸憡绋戦敃銈嗘叏瑜旈弻鐔割槹鎼粹�冲箣濠殿喖锕︾划顖炲箯閸涘瓨鍤嶉柕澹緤鎷锋繝鍥ㄢ拺闂傚牃鏅濈粔鍓佺磼閻樿櫕宕岄柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亖閸庢煡鎮￠悢鍏肩厸闁告劑鍔岄敓钘夋憸閺侇噣宕奸弴鐔哄幈濠殿喗锕╅崜娑氱矓濞差亝鐓欐い鏃傜摂濞堟粓鏌℃担鐟板闁诡垱妫冮、娑樷槈濮楀棔绱﹂梻鍌欑窔濞佳呮崲閸儱鍨傛繛宸簻閸氬綊鏌ㄩ悢缁橆棄妞ゎ亜鍟存俊鑸垫償閳ュ磭顔夐梻浣告啞濮婂綊宕归悽鍛婂仼鐎瑰嫰鍋婂銊╂煥閻斿墎鐭欑�规洘妞介弫鎾绘偐閼碱剨绱叉繝娈垮枟閿曗晠宕滃▎鎾嶅骞掗幘鍓佺槇闂佹眹鍨藉褍鏆╅梻浣芥〃缁�渚�骞夐敓鐘茬濠电姴娲ょ粻缁樸亜閺冨洤浜规い鏂挎濮婅櫣绱掑Ο铏逛紘婵犳鍠撻崐婵嬪箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫭宸濋柛瀣洴閺佹捇鎸婃径瀣闂佽法鍠曟慨銈夋偄椤掑嫬绠柨鐕傛嫹30缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崼銉ヨ摕闁绘柨鐨濋弸鏃堟煕椤垵鏋熼柣蹇撶Ч濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鍋勯柛蹇曞帶閿熺晫绮幈銊ノ旈敓钘壩涘▎鎾村仼闁割偅娲橀埛鎴︽煠濞村娅撻柣鎺戝⒔缁辨挸顓奸崪鍐惈閻庢鍠栭…鐑藉箖閵忋倖鎯為柛锔诲弿缁辨煡姊绘笟锟藉褏鎹㈤幒鎾村弿闁汇垹鎲￠崐鍓侊拷骞垮劚椤︿即鍩涢幋鐘电＝濞达絽顫栭鍫熺厒婵犲﹤鐗婇悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤閸撗勫厹濡わ絽鍟悡娑㈡煕椤愵偄浜滃褜鍣ｉ弻锝夋晲閸パ冨箣閻庢鍠栭…閿嬩繆閻戣姤鏅滈柟顖嗗啰鐤勯梻鍌氬�风欢姘舵晸閼恒儳鈽夌�规挸妫欑换娑欐媴閸愬弶鎼愰柛鎴犲█閺岋綁寮崹顔藉�梺缁樻尰閻╊垶寮诲☉姗嗙叆闁跨喓鏅划鍫熸媴鐟欏嫭鐝烽梺鍦檸閸犳鎮″☉姘炬嫹閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮繝鍥ㄧ厱婵炲棙锚娴滄劙鏌￠崨顔炬创闁糕晝鍋ら獮瀣晜閽樺鎷烽悜鑺ョ厸濠㈣泛顑呴悘锕傛煟閿旇棄鐏存慨濠冩そ楠炴牠鎮欓幓鎺戭潙闂備礁鎲￠弻銊╂煀閿濆懐鏆﹂柕寰涙澘浜濋梺鍛婂姀閺呮繈宕㈡禒瀣厵闁兼祴鏅炶棢闂佸憡鎸荤换鍕箯瑜版帒鐏抽柡鍌樺劜閺傦拷婵＄偑鍊栧濠氬磻閹捐姹叉い鎺戝鐎电娀鏌ｉ弬娆炬疇闁绘柨妫濋幃瑙勬姜閹峰矈鍔呴梺绋垮閸ㄥ湱妲愰幒妤�鐓￠柛娑卞枛椤忓爼姊婚崒姘拷宄懊归崶褉鏋栭柡鍥ュ灩缁愭锟藉箍鍎卞ú銈夊垂濠靛洨绠鹃柛鈩兩戠亸顓犵磼閻樺磭澧柕鍥у缁犳盯骞橀幖顓燂骏缂傚倷鐒﹂崬鑽ょ不閹捐钃熼柨婵嗩槹閸嬫劖绻涢崼锝嗙《闁告瑦浜癲ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkNotInvitedIn30s(long invitedRoleId, long inviterRoleId, Long inviterTeamId)
	{
		xbean.InviteInfo inviteInfo = xtable.Teaminvite.get(invitedRoleId);
		if(inviteInfo!=null)
		{
			java.util.List<xbean.TeamInvite> timeoutList = new java.util.ArrayList<xbean.TeamInvite>();
			boolean result = true;
			for (xbean.TeamInvite invited : inviteInfo.getInvited())
			{
				if ((now - invited.getInvitetime()) < TeamManager.MAX_INVITE_TIMEOUT)
				{
					if (!result)
						continue;// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔曢顓犲姬閿熶粙姊哄Ч鍥х伈婵炰匠鍐懃婵犲痉鏉匡拷妤佹叏閻㈢绠栭柛灞惧嚬閸ゆ洟鏌＄仦璇插姕闁稿鍔楃槐鎾存媴妤犮劍宀搁獮蹇撁洪鍛嫼闂佺绻楅崑鎰板Χ閹绢喗鐓涢柛灞剧懅缁愭梹顨ラ悙鑼闁轰焦鎹囬幃鈺佺暦閸パ冪疄闂傚倷娴囬～澶愬磿閹剁瓔鏁嬫い鎾朵紳濞差亜绠绘い鏃傛櫕閸橀潧顪冮妶鍡欏ⅵ闁稿﹥鐗滈敓鑺ヨ壘缂嶅﹤顫忕紒妯诲闁告稑锕ら弳鍫㈢磽娴ｅ壊鍎愰柛銊ユ健楠炲啫煤椤忓嫀鈺呮煃閸濆嫬锟藉憡绂嶅Δ锟介埞鎴︽倷閸欏妫￠梺鍦焾椤兘骞冮敓鐘插嵆闁绘梻绻濈花璇差渻閵堝棙灏甸柛鐘查叄閹﹢濡烽妷鍐嚀椤劑宕熼鐘靛帨闂備礁鎼張顒勬儎椤栨凹鍤曟い鎺戝�圭�氭岸鎮归崶鍥у椤忚泛鈹戦悩缁樻锭妞ゆ垵鎳橀幏鎴︽偄閸濄儳顔曢梺鐟扮摠閻熴儵鎮橀埡鍛厽闁规儳顕埥澶愭婢舵劖鐓ユ繝闈涙婢ф稒銇勮箛鏇炩枅闁哄本鐩顕�骞嬪┑鍫滄婵犳鍠栭敃锕傚磿閵堝拋鐒芥い蹇撶墕缁犮儲銇勯弴鐐村櫤鐞氾妇绱撻崒姘拷椋庣矆娓氾拷钘濋梺顒�绉寸粻鐘绘煙閸撗呭笡闁稿鏅犻弻锝夊箣閿濆棭妫勭紓浣哄Х閹虫捇婀侀梺鎸庣箓濞诧箓宕甸敓鑺ョ箾鐎电孝闁圭⒈鍋婇垾鏃堝礃椤斿槈褔骞栫�涙绠橀柡浣圭墵濮婄儤瀵煎▎鎴犘ｉ梺鍦櫕閹诧拷 == false闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮敓浠嬪箯濠靛绠瀣捣缁犳梹绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰搴ㄥ煝鎼淬劌鐏崇�规洖娲﹂崟楣冩⒑閸涘﹥鈷愰柛銊ョ仢椤曪綁顢曢敃锟界粻鑽ょ磽娴ｅ顏呯婵傚憡鍊甸柣褍鎲＄�氬綊姊虹捄銊ユ灁闁哄拋鍋呯粩鐔煎即閻旀椽妾紓浣割儓濞夋洘顨ラ崶顒佲拺闁告挻褰冩禍婵堢磼鐎ｎ偄鐏﹀ǎ鍥э功閹瑰嫰濡歌閿涙粓姊虹紒姗嗙劸缂佸鍣ｉ、鏃堝醇閻旇櫣鏆㈡繝鐢靛Х閺佸憡鎱ㄩ幘顔芥櫇闁靛牆顦悿顔姐亜閺嶎偄浠滈柣銈庡櫍閺岋綁骞囬澶婃缂備胶濞�缁犳牠寮婚敐澶婄闁惧浚鍋呭畷宕囩磽娴ｅ搫鞋妞ゆ泦鍥х厴闁硅揪绠戦悞娲煕閹板吀绨奸柟鍙夌懃椤啴濡惰箛娑欘�嶆繝鐢靛仜閿曨亜顕ｇ拠宸悑濠㈣泛顑囬崣鍡涙煟鎼搭垳绉甸柛瀣钘濋柡澶婄氨閺�浠嬫煃閽樺顥滃ù婊勭矒閺岀喖鎼归顒冿拷鍧楁煏閸℃洜绐旂�殿喗鎸虫慨锟介柣娆欐嫹婵炵厧锕娲棘閵夛附鐝旈梺鍝ュ櫏閸ㄨ泛鐣烽幇鐗堝�婚柤鎭掑劗閹风粯绻涙潏鍓у閻狅拷閿曞倸缁╅柣妤�鐗忕粻楣冩煕濞戝崬鏋熺紒锟界�ｎ偒娈介柣鎰綑閻忓锟借娲栭悥濂搞�佸Δ鍛櫢闁稿﹦鍠撶粻浠嬫⒒閸屾瑧顦﹂柟璇х磿缁瑩骞嬮敂钘変槐闂侀潧艌閺呮盯鎮块悙顒傜瘈濠电姴鍊绘晶娑㈡煟閹捐泛鈻堥柡宀�鍠栭、姗�鎮㈡搴ｆ噯闂備礁鎲″褰掓偡閿曞倸绠為柕濞垮労濞笺劑鏌涢鐘茬伄闁哄棛濞�濮婅櫣锟藉湱濯鎰版煕閵娿儲鍋ユ鐐插暙閳诲酣骞樺畷鍥崜闂備胶鎳撻顓熸叏閸愬樊娴栭柟鎯у绾句粙鏌涚仦鍓ф噮閻犳劒鍗抽弻娑㈡偐瀹曞浂鏆＄紓浣虹帛閻╊垶寮幘缁樺仼鐎癸拷鐎ｎ偄顏跺┑鐐茬墕閻忔繈寮搁弮鍫熺厱闁哄倽娉曡倴缂備緡鍠栭澶愮嵁閹烘绫嶉柟鐐綑椤忓爼姊洪幐搴ｇ畵濡ょ姴鎲＄粋宥夋倷閻戞鍘卞┑鈽嗗灠閹碱偊鎳滆ぐ鎺撶厓閻熸瑥瀚悘瀛樸亜閵忥紕鎳囩�殿噮鍓熸俊鍫曞礋椤擄紕绠查梻鍌氬�风粈渚�骞夐敓鐘茬濡わ絽鍟粣妤呮煛瀹擃喖鎳忓▓楣冩⒑閹稿海绠撴い锔诲灣缁牏锟斤綆鍋佹禍婊堟煙閻戞ê鐏ラ柨鐔绘椤兘銆佸▎鎾冲嵆闁靛繆妾ч幏濠氭⒑缁嬫寧婀伴柤褰掔畺閺佹捇鎮剧仦鎯ф畬濡炪値鍘煎ú銈夊煝鎼淬倗鐤�闁哄洨鍠愰鎾绘⒒娴ｈ櫣銆婇柛鎾寸箘缁瑩骞掑Δ浣镐簵濠电偛妫欓崝鎴炵濠婂牊鐓涚�广儱鍟慨锟芥繝銏ｎ潐閿曘垽寮婚敓鐘插耿妞ゆ挾濮甸崑褔姊虹捄銊ユ瀻闁跨喓鏅崳銉ヮ焽閹邦厾绠鹃柛娆忣槺閻帞锟借娲戦崡鍐差嚕娴犲鏁囨繝濠冨姈鐎氱懓銆掑鐐閻庢鍠楅幐铏叏閿熶粙鏌ｅ▎娆愬濠电偟鍘ч敃銈夆�旈崘顔嘉ч幖绮癸拷鑼跺焻闂備礁鎲￠敋濠⒀呮櫕閸掓帡宕奸妷銉ь槹濡炪倖鐗楃粙鍫ュ箯婵犳碍鈷戠紒瀣濠�浼存煟閻旀繂娉氶崶顒佹櫇闁稿本绋撻崢鐢电磼閻愵剚绶茬�规洦鍓氱粋宥夊箥椤曞棙瀚归悷娆忓缁�鍐煕閵娿儳浠㈤柣锝囧厴瀹曪繝鎮欓埡鍌ゆ綌婵犵妲呴崹浼村箹椤愶絿顩查柛顐ｆ礃閳锋帒霉閿濆洦鍤�闁告柣鍊楃槐鎺旂磼濡儤璇為梺闈涙閻掞妇鎹㈠┑瀣闁宠桨绀佹导搴ㄦ⒒娴ｇ瓔娼愰柛搴″悑閹便劑濡舵径瀣簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛銉㈡櫅娴犳粓鏌ㄩ悢缁橆棄婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗
					else if (invited.getRoleid() == inviterRoleId)
						result = false;// roleid闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂佺偓鍎冲锟犲蓟閿濆顫呴柕蹇婃櫇閸旀悂姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繛鎴欏灩缁狅絾绻涢崱妤冪濞寸姾鍋愮槐鎾存媴閸濆嫅銉╂煕鎼存稑锟芥骞戦姀鐘斀闁搞儮鏅濋惁鍫ユ⒑缁嬫寧婀扮紒顔肩焸璺柨鐔剁矙濮婄粯鎷呮笟顖滃姼濡炪倖鍨甸崯鏉戠暦閹邦兘鏀介悗锝庝海閹芥洟姊洪棃娴ュ牓寮插鍫濈；闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍钘夘槹閵囧嫯绠涢妷锕�顏�
					else if (inviterTeamId != null && invited.getTeamid() == inviterTeamId)
						result = false;// inviterTeamId闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柡浣规崌閹崇偤濡疯閺嬫棃姊洪崫鍕櫤缂佽瀚板畷姘跺箳閹存梹鐎婚梺瑙勫劤绾绢參顢欐繝鍌楁斀閹烘娊宕愰幘缁樺�块柨鏇嫹闁宠绉瑰顒佹償閹惧瓨鏉搁梻浣虹帛閿氶柣蹇斿哺瀵娊鍩℃担鍙夋杸濡炪倖鐗楃粙鎺斾焊閿旂瓔娈介柣鎰皺缁犲鏌＄仦璇插闁跨喐鏋荤徊濠氬礉鐎ｎ剝濮冲┑鐘崇椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻鐔煎传閵夈儰澹曢梺鍝勬噹閻栧吋鎱ㄩ敓鑺ャ亜椤愵偄鏋熼悗姘秺閹嘲鈻庤箛鎿冧痪闁诲繐娴氶崑鍡欐閹烘鍤嬮梻鍫熺☉閹界敻鎮楀▓鍨灈妞ゎ厾鍏樺顐﹀箻缂佹ê浜归梺鍝勮閸庨亶寮ぐ鎺撯拻濞撴熬鎷锋繛浣冲懏宕查柛鈩冪☉缁�鍫熺節闂堟稒鐓�闁圭儤顨呯粈瀣亜閺嶃劎鈻撻柟閿嬫そ濮婃椽鎮℃惔顔界稐闂佺锕ュú鐔奉嚕閹间礁绫嶉柛顐ゅ枔閸樼敻姊洪崨濠勬噧妞わ箑宕悾宄邦煶濮濈攢d闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬缂佺偓鍎冲锟犲蓟閿濆顫呴柕蹇婃櫇閸旀悂姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繛鎴欏灩缁狅絾绻涢崱妤冪濞寸姾鍋愮槐鎾存媴閸濆嫅銉╂煕鎼存稑锟芥骞戦姀鐘斀闁搞儮鏅濋惁鍫ユ⒑缁嬫寧婀扮紒顔肩焸璺柨鐔剁矙濮婄粯鎷呮笟顖滃姼濡炪倖鍨甸崯鏉戠暦閹邦兘鏀介悗锝庝海閹芥洟姊洪棃娴ュ牓寮插鍫濈；闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍钘夘槹閵囧嫯绠涢妷锕�顏�
				} else
					timeoutList.add(invited);// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柣鎴ｅГ閸ゅ嫰鏌涢锝嗙缁炬儳娼￠弻锝夊閵忊晝鍔哥紓渚婃嫹闁割偆鍠撶弧锟介梻鍌氱墛缁嬫挻鏅跺☉銏＄厸闁糕剝顭囬惌鎺楁煛瀹�锟介崰鏍箖濠婂喚娼ㄩ柛鈩冾焽閺嗐儳绱撻崒娆掑厡濠殿噣鏀辩换娑㈡晸娴犲鐓涚�癸拷閿熶粙宕伴弽顓犲祦闁硅揪绠戠粻娑欍亜閹烘垵锟藉摜鏁崸妤佺厽閹兼番鍊ゅ鎰箾閸欏鑰块柟顕嗙節閺佹捇鎮╅懠鑸垫啺闂備線娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷30缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼姊洪懞銉夋垹鎹㈤崼銉ヨ摕闁绘柨鐨濋弸鏃堟煕椤垵鏋熼柣蹇撶Ч濮婃椽宕崟顒夋！缂備緡鍠楅幑鍥ь嚕婵犳碍鏅插璺猴功閻わ拷婵＄偑鍊栭幐鐐叏娴兼潙纾婚柣鎰劋閳锋垿鏌涘┑鍡楊伌闁稿孩鍔栨穱濠囶敃閵忕姵娈婚悗娈垮枛椤兘骞冮姀銈嗗仏閻庢稒锚椤忓爼姊哄Ч鍥х仾妞ゆ梹鐗犻幃鐐哄箚椤�崇秺閹亪宕ㄩ婊勬闂傚倸娲らˇ鎵崲濠靛妲婚梺璇茬箲缁诲牓寮幘缁樺殟闁靛／鍛澖闁诲孩顔栭崰娑㈩敋瑜旈崺銉﹀緞閹邦剦娼婇梺缁樕戦悧鎾诲礉瀹ュ桅闁告洦鍨伴崘锟介梺闈涱焾閸庡崬袙閸績鏀介柣鎰级閳绘洟鏌涘Ο鍝勨挃婵″弶鍔欓獮妯硷拷娑櫭鎾绘⒑閼姐倕鏋戞繝銏★耿閿濈偛顓奸崪浣瑰瘜闂侀潧鐗嗛崯顐ｄ繆婵傚憡鐓欓柧蹇ｅ亾閼拌法锟借娲樺鑺ヤ繆閻戣姤鏅濋柨鐔烘櫕濞嗐垽鎮欓悜妯煎幍闂備緡鍙忕粻鎴︾嵁濡や胶绠鹃柛娑卞亜閻忓弶鎱ㄦ繝鍛仩闁圭懓瀚版俊鎼佸Ψ閿旀儳缍掗梻鍌欒兌閹虫捇宕甸弽顓炵闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠抽柨鐔绘缁犲秹宕曢柆宓ュ洭顢涘鍛劶闂佸憡鍔﹂崰妤呮偂韫囨挴鏀介柣鎰典簻閿熺獤鍥х闁绘垼濮ら悡鍐煕濠靛棗顏柛锝嗘そ閺屽秹鏌ㄧ�ｎ亞浼岄梺鍝勭灱閸犳牠骞婇弽顓炵厸濞达綁顥撻幑鏇炩攽閻樿尙妫勯柕鍫濇噸濮规绱撴担浠嬪摵闁瑰憡鎮傞、妯荤附缁嬫寧銇濋梺鍛婂姂閸斿妲愰敐鍡曠箚闁绘劦浜滈敓濮愬�濆畷鎴﹀礋椤撶喎搴婂┑顔筋殣閹烽锟芥鍣崑濠囩嵁濡偐纾兼俊顖滅帛椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?
			}
			inviteInfo.getInvited().removeAll(timeoutList);
			return result;
		}
		else
		{
			return true;
		}
	}
	

	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨骞撳┑掳鍊撳鎺旀崲閸℃稒鐓忛柛顐ｇ箖閸ｅ綊鏌￠崱娆忔灈闁哄瞼鍠栧畷姗�宕ｆ径濠冪暬婵犳鍠栭敃銈夆�﹀畡鎵殾闁圭儤鍩堝鈺傘亜閹烘埊鏀婚悗姘秺閺岀喖姊荤�靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉闂佽鍠氶弲顐ゅ垝濞嗘垶宕夐柕濠忓閸欏嫬鈹戦敍鍕杭闁稿﹥鐗滈弫顕�骞掗弮鎾村婵鍘у顕�鏌熼鍡欑瘈闁诡喓鍨藉畷妤呮嚃閳轰礁绠伴梻鍌欒兌椤牓寮甸锟介～婵嬪Ω閿旂虎娴勯梺闈涚箚閿熷�熷皺缁犳岸姊洪懖鈹炬嫛闁告挻绋撻弫顔尖槈濮樿京锛滅紓鍌欑劍椤洤煤鐎涙﹩娈介柣鎰嚋瀹搞儵鏌ｉ敐蹇曠瘈闁诡啫鍥ч唶婵犲灚鍔栬ⅸ闂傚倸鍊烽懗鍓佸垝椤栫偛绠伴柣鎰靛墰缁犻箖鏌ㄩ悢鍓佺煓闁哄瞼鍠栭、娆戠驳鐎ｎ偆鏉归柣搴ゎ潐濞叉粓宕楀锟介妴浣割潨閿熶粙骞冨▎鎾崇疀闁告挷鑳惰摫闂備線娼уú銈囷拷姘卞娣囧﹪鎮滈挊澹┿劍銇勯弬鍨缓鐟滃繒妲愰幘瀛樺闁惧繒鎳撶粭锛勭磽娴ｇ瓔鍤欓柣妤佹尭椤曪綁顢曢敃锟界粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儏鐎氼厾绮嬪澶嬪殐闁冲搫鍟伴敍婵囩箾鏉堝墽绉┑顔哄�濋、鏃堟偐缂佹鍘甸梺鍛婄缚閸庢娊顢栨穱顧猽re濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviterIsLeader(long inviterRoleId , Team team)
	{
		if(team.getTeamInfo().getTeamleaderid() == inviterRoleId)
			return true;
		else
			return false;
	}

	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担渚敯闁规椿浜浠嬪礋椤栨氨锛涢梺闈涚墕椤︿即鎮¤箛鎾斀闁绘ê寮堕幑锝夋煕濡崵娲撮柡灞稿墲瀵板嫮浠﹂挊澶婎瀱缂傚倷鑳剁划顖滄崲閸儱绠栧ù鐘差儐椤ュ牊绻涢幋鐑嗘畼闁硅娲樻穱濠囨倷椤忓嫸鎷烽弽顬℃椽鏁冮崒姘辩厬闂佸憡鍔戦崝搴ㄥ汲閿曞倹鐓忛煫鍥ュ劤缁夊灚淇婇幓鎺戔挃缂佽鲸鎸荤粭鐔煎炊瑜庨悘宥呪攽閳藉棗浜滈柛鐕佸亰閹儳鐣￠幏鏃傚枔閹即鍩勯崘顏冪按闂備浇顕ч崙鐣屽緤妤ｅ啫钃熼柕濞у秵瀚规慨妯煎帶婢х増绻涢崱鎰伈闁诡喗鐟╅幃婊兾熼悡搴＄闂傚倸鍊风欢锟犲矗韫囨洜涓嶉柟瀵稿仦濞呯姵銇勯弽顐沪闁绘挾鍠栭獮鏍箹椤撶偟浠柣搴㈢啲閹凤拷?<5? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkTeamNotFull(Team team)
	{
		if (team.getTeamInfo().getMembers().size() < TeamManager.MAX_MEMBER_COUNT)
			return true;
		else
			return false;
	}
	

	private boolean checkTeamFilter(Team team, long roleId)
	{
		TeamFilter filter = team.getFilter();
		if(filter == null)
			return true;
		return filter.checkInviteJoin(team.getTeamLeaderId(), roleId);
	}
	
	private boolean checkTeamFilter(long inviterId, long roleId)
	{
		TeamFilter filter = TeamManager.getActiveFilter(inviterId);
		if(filter == null)
			return true;
		return filter.checkInviteJoin(inviterId, roleId);
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担渚敯闁规椿浜浠嬪礋椤栨氨锛涢梺闈涚墕椤︿即鎮¤箛鎾斀闁绘ê寮堕幑锝夋煕濡崵娲撮柡灞稿墲瀵板嫮浠﹂挊澶婎瀱缂傚倷鑳剁划顖滄崲閸儱绠栧ù鐘差儐椤ュ牊绻涢幋鐑嗘畼闁硅娲樻穱濠囨倷椤忓嫸鎷烽弽顬℃椽鏁冮崒姘辩厬闂佸憡鍔戦崝搴ㄥ汲閿曞倹鐓忛煫鍥ュ劤缁夊灚淇婇幓鎺戔挃缂佽鲸鎸荤粭鐔煎炊瑜庨悘宥呪攽椤旂》宸ユい顓犲厴閻涱噣骞嬮敃锟界粈瀣亜閹捐泛鏋庡ù鐘冲浮濮婃椽寮妷锔界彅闂佸摜鍠撴晶妤冪矉瀹ュ鍐�妞ゆ挾鍟块幏缁樼箾鏉堝墽瀵奸悹锟介敃鍌氱哗濞寸厧鐡ㄩ悡娆愮箾閼奸鍞洪梺顓у灡閹便劍绻濇担铏圭厯閻庤娲滈崰鏍�佸☉妯锋婵鐗婄�氬綊鏌涜椤ㄥ棝鎮￠妷鈺傜厽闁哄洨鍋涢敓钘夋贡閿熻姤鐔幏锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い鎴濆濞嗐垹顫濋澶婃濡炪倖鍔х粻鎴犵矆閸愵喗鐓忓┑鐐茬仢閻忣亪鏌￠崒锔藉闂傚倸鍊烽懗鍫曗�﹂崼銉ュ珘妞ゆ帒鍊搁崹婵嬫煟濡偐甯涢柛濠傜仢铻栭柨婵嗘噹閺嗙偤鏌ｉ幘瀵告创闁诡喗顨婇弫鎰板醇濠靛牆甯块梺璇插閻旑剟骞忛敓锟�?<4? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkTeamInviteNotFull(Team team)
	{
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁涘缍堟繝銏㈡嚀濡瑩寮茬捄浣曟棃宕ㄩ鐙呯幢闂佽鍑界紞鍡樼閺嶎厼缁╁ù鐘差儐閻撶喐淇婇婵愬殭缂佽尙绮妵鍕疀閿濆懍鍠婇梺鍝勬湰缁嬫垼鐏冩繛杈剧秬濡嫰藟濠靛鈷戦悗鍦濞兼劙鏌涢妸銉﹀仴妤犵偛鍟撮崺鈩冩媴閻戞ɑ顔曢梻浣规偠閸庢挳宕洪弽褉鏋旂憸鐗堝笚閳锋帒霉閿濆嫯顒熼柣鎺斿亾閵囧嫰骞嬪┑鍥ь槱缂備胶绮惄顖炲极閹惧顩烽悗锝庡亞閸樻悂鏌ｈ箛鏇炰粶濠⒀嗘鐓ら柟缁㈠枟閻撴洟鏌嶆潪鎵槮妞ゅ浚鍘鹃敓鍊燁潐濞叉﹢鏁冮姀銈呮槬闁跨喓濮寸粈鍐煃閸濆嫸宸ラ柟顔碱儑缁辨捇宕掑顒婃嫹閹间礁纾归柣鎴ｅГ閸ゅ嫰鏌ょ粙璺ㄤ粵闁告瑥绻橀弻锝夊閻樺啿鏆堥梺绋款儏椤戝寮婚敐鍛傜喎鈻庨幆褎顔勯梻浣芥閸熶即宕伴弽顓炶摕闁靛ň鏅滈崑鍕煕濠靛棗鐝旈柕蹇嬪�栭埛鎴︽煕濡ゅ啫浠﹂柛鐘筹耿閺岋紕浠﹂悙顒傤槷缂備胶濮甸惄顖氼嚕閹绢喗鍊烽柟鏉垮缁夘噣鏌″畝瀣К缂佺姵鐩獮妯兼崉鐞涒�冲緧濠电姵顔栭崰鏍晝閵娿儮鏋嶉柨婵嗘搐閸ㄦ繃绻涢崱妯诲碍缂侊拷瀹�鍕厓闁靛鍎辩敮鐘电磼閹插绋诲ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄稁鍘奸崹鍌炴⒒閸喕锟借棄煤椤忓秵鏅ｉ梺闈涚箞閸ㄥ湱绮婇敃鍌涱棅妞ゆ劑鍨烘径鍕磼鐎ｎ偄娴�殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�?
		cleanTimoutInvitings(team.getTeamInfo().getInvitingids());
		if (team.getTeamInfo().getInvitingids().size() < 4)
			return true;
		else
			return false;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎰闁割偅绻勬禒銏ゆ煛鐎ｃ劌锟芥繈寮婚悢鐓庣闁告瑥顦▓妤�鈹戦纭峰伐妞ゎ厼鍢查悾鐑藉箳閹存梹鐎婚梺褰掑亰閸犳捇宕戝Ο璁崇箚闁绘劦浜滈敓鑺ョ墪鐓ゆ慨妤嬫嫹闁诡啫鍥ㄥ亹闁肩⒈鍓氬▓鎯р攽鎺抽崐褔骞忛悜鑺ョ厓闁芥ê顦藉Σ鍛娿亜椤愶絿鐭掔�规洖宕灒闁惧繗顫夎闂傚倸鍊搁崐椋庣矆娴ｉ潻鑰块梺顒�绉寸壕鍧楁煏閸繃濯兼繛鍏肩墵閺屻倖鎱ㄩ幇顒婃嫹濡や胶鈻旂�广儱顦伴悡娑㈡煕鐏炲彞绶遍柛搴涘劦閺岋綁寮幐搴＆闂佸搫琚崐婵嬬嵁閺嶃劍濯撮悷娆忓閺侇亜鈹戦悩鎰佸晱闁哥姵鐗曠叅闁靛ě鍕垫綗闂佸湱鍎ら〃鍡涘疾缁嬫５褰掓偐瀹割喖鍓扮紒鐐劤閸氬骞堥妸鈺傛櫜閹肩补锟藉磭顔愮紓鍌氬�哥粔鎾晝椤忓嫷鍤曟い鎰剁畱缁犳盯鏌℃径搴㈢《闁稿﹦鍋ゅ娲礃閸欏鍎撻梺绋匡工缂嶅﹤鐣烽鐐茬婵°倓璁查幏缁樼箾鏉堝墽鍒伴柟璇х節楠炲骞栨担鍦幈闂佹寧绻傜换鎺楁偩閸偒娈介柣鎰皺缁犲鏌℃担瑙勫磳闁轰焦鎹囬弫鎾绘晸閿燂拷? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkTeamLeaderState(long inviterRoleId)
	{
		BuffAgent buffagent = new BuffRoleImpl(inviterRoleId);
		return buffagent.canAddBuff(OperateType.TEAM_INVITE);
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い鎴濆濞嗐垹顫濋澶婃濡炪倖鍔х粻鎴犵矆閸愵喗鐓忓┑鐐茬仢閻忣亪鏌￠崒锔藉闂傚倸鍊烽懗鍫曗�﹂崼銉ュ珘妞ゆ帒鍊搁崹婵嬫煟濡偐甯涢柛濠傜仢铻栭柨婵嗘噹閺嗙偤鏌ｉ幘瀵告创闁诡喗顨婇弫鎰板醇濠靛牆甯块梺璇插閻旑剟骞忛敓锟�?<4? 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkSingleInviteNotFull(long inviterRoleId)
	{
		xbean.SingleInvitings singleInvitings = xtable.Singleinviting.get(inviterRoleId);
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁涘缍堟繝銏㈡嚀濡瑩寮茬捄浣曟棃宕ㄩ鐙呯幢闂佽鍑界紞鍡樼閺嶎厼缁╁ù鐘差儐閻撶喐淇婇婵愬殭缂佽尙绮妵鍕疀閿濆懍鍠婇梺鍝勬湰缁嬫垼鐏冩繛杈剧秬濡嫰藟濠靛鈷戦悗鍦濞兼劙鏌涢妸銉﹀仴妤犵偛鍟撮崺鈩冩媴閻戞ɑ顔曢梻浣规偠閸庢挳宕洪弽褉鏋旂憸鐗堝笚閳锋帒霉閿濆嫯顒熼柣鎺斿亾閵囧嫰骞嬪┑鍥ь槱缂備胶绮惄顖炲极閹惧顩烽悗锝庡亞閸樻悂鏌ｈ箛鏇炰粶濠⒀嗘鐓ら柟缁㈠枟閻撴洟鏌嶆潪鎵槮妞ゅ浚鍘鹃敓鍊燁潐濞叉﹢鏁冮姀銈呮槬闁跨喓濮寸粈鍐煃閸濆嫸宸ラ柟顔碱儑缁辨捇宕掑顒婃嫹閹间礁纾归柣鎴ｅГ閸ゅ嫰鏌ょ粙璺ㄤ粵闁告瑥绻橀弻锝夊閻樺啿鏆堥梺绋款儏椤戝寮婚敐鍛傜喎鈻庨幆褎顔勯梻浣芥閸熶即宕伴弽顓炶摕闁靛ň鏅滈崑鍕煕濠靛棗鐝旈柕蹇嬪�栭埛鎴︽煕濡ゅ啫浠﹂柛鐘筹耿閺岋紕浠﹂悙顒傤槷缂備胶濮甸惄顖氼嚕閹绢喗鍊烽柟鏉垮缁夘噣鏌″畝瀣К缂佺姵鐩獮妯兼崉鐞涒�冲緧濠电姵顔栭崰鏍晝閵娿儮鏋嶉柨婵嗘搐閸ㄦ繃绻涢崱妯诲碍缂侊拷瀹�鍕厓闁靛鍎辩敮鐘电磼閹插绋诲ǎ鍥э躬閹瑩顢旈崟鑸靛闁哄稁鍘奸崹鍌炴⒒閸喕锟借棄煤椤忓秵鏅ｉ梺闈涚箞閸ㄥ湱绮婇敃鍌涱棅妞ゆ劑鍨烘径鍕磼鐎ｎ偄娴�殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�?
		if(singleInvitings == null)
			return true;
		cleanTimoutInvitings(singleInvitings.getInvitingids());
		if (singleInvitings.getInvitingids().size() < 4)
			return true;
		else
			return false;
	}
	
	//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾剁磽娴ｅ搫小闁告濞婂濠氭偄閸忓皷鎷婚柣搴ㄦ涧婢瑰﹤危椤斿墽纾藉ù锝呮惈鍟告繝娈垮枛閻忔氨绮氭潏銊х瘈闁搞儴鍩栭弲顒�鈹戦悩缁樻锭閻庢碍鎮傞獮蹇涙倻閼恒儲娅㈡繛瀵稿Т椤戝棝鎮″☉銏″�甸柨婵嗙凹缁ㄤ粙寮崼婢棃鎮╅棃娑楁勃闂佺粯顨嗗ú婵娿亹娴ｅ壊娓婚柕鍫濇闁叉粓鏌熷畡鏉挎Щ闁宠鍨块崹楣冩嚑椤掑倻鍘梻浣告惈閼活垳绮旇ぐ鎺戣摕闁靛ě宥嗗闁挎繂楠告禍婊呯棯閻愵剙鈻曟慨濠冩そ瀹曨偊宕熼鐘插Ы缂傚倸鍊哥粔宕囩矆娓氾拷椤㈡岸鏁愭径妯绘櫌闂佸憡娲﹂崑鍕倵椤撶儐娓婚柕鍫濇缁�锟介梺鐟板暱缁绘劙鍩㈤幘缁樻優闁革富鍘鹃敍婵嬫⒑缁嬫寧婀伴柣鐔濆懐椹抽煫鍥ㄧ♁閻撴瑧锟界懓瀚妯何ｆ繝姘厓閻熸瑥瀚悘鎾煙椤旇娅婄�规洩绲惧鍕節鎼粹懣鐔兼⒒閸屾瑨鍏岀紒顕呭灦楠炴劗鎷犵憗浣告惈铻ｉ柛蹇曞帶鎼村﹤鈹戦悩缁樻锭婵炲眰鍔庡褔鏁撴禒瀣拺缂佸瀵у﹢鎵棯閺夎法孝闁崇粯鎹囬、姗�鎮滈崱妯虹槣闂備線娼ч悧鍡涘疮椤愶絼绻嗗ù鐘差儐閻撶喖鏌ｉ弬鍨骇婵炲懎鎳忛妵鍕敃閵忋垻顔囬柣鎾卞�栭妵鍕疀閹炬剚浼�闂佺粯鎸婚崹鍓佹崲濠靛顫呴柨婵嗘閵嗘劙姊哄ú璇插闁靛牊鎮傞獮鍐焺閸愨晛顎撻梺鎯х箰濠�閬嶆晬濠靛洨绠鹃弶鍫濆⒔閹吋銇勯鐐靛ⅵ闁轰焦鎹囬幐濠冨緞鐎ｎ偄鏋戠紓鍌欑贰閸犳顫忔繝姘櫢闁伙絽鏈弳鈺傘亜椤撶偟澧曟い鏇秮瀹曪絾寰勬径宀�鐣鹃梻浣虹帛閸旓附绂嶅鍫熸櫢闁兼亽鍎茬粈鍫ユ煙楠炲灝鐏叉鐐叉喘椤㈡岸宕卞Ο渚紦婵犳鍠楅敃鈺呭储娴犲纾归柟閭﹀弾濞堜粙鏌ｉ幇顖氱毢缂佺姴寮堕妵鍕晜閹屾毉闂佽鍨卞Λ鍐�佸☉妯锋婵妫旂槐锕傛⒒閸屾瑧鍔嶉悗绗涘懏宕查柛灞句緱濞堜粙鏌涘☉姗堟敾婵炲懐濮甸妵鍕冀椤愵澀娌梺绋匡工閻忔岸骞堥妸銉建闁糕剝顨呯粻褰掓⒑閸涘﹦绠栨俊鐐扮矙瀵鍨惧畷鍥ㄦ畷闁诲函缍嗛崜娑溾叺婵犵數濮烽。浠嬪礈濠靛纾块柤娴嬫櫇娑撳秵绻涢幋娆忕仼婵☆偅蓱缁绘盯宕卞Δ锟界紞鏍磼閹插瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾寮ч敓浠嬫⒒閸屾氨澧涘〒姘殜瀹曟洝绠涘☉娆戝幈闁诲繒鍋犻褎淇婃禒瀣厪闁搞儜鍐句純濡ょ姷鍋炵敮锟犵嵁鐎ｎ亖鏀介柟閭︿簽濡垶姊婚崒娆掑厡缂侇噮鍨堕獮鎰偅閸愩劎鐛ラ梺鍝勭▉閸樺ジ鎷戦悢鍏肩厸闁搞儮鏅涢弸鏃傜磼閻樿崵鐣洪柡灞剧洴閳ワ箓骞嬪┑鍥╀邯濠电姵顔栭崰鏍殽閹间讲锟芥棃宕橀鍢壯囨煕濞戝崬鏋ゆい鈺�鍗冲娲川婵犲啫闉嶇紓浣割儐閹哥宓勯梺鍦濠㈡绮婚幎鑺ョ厸闁告劖瀵х�氬綊鏌ｆ惔銏㈩暡鐎癸拷閹间礁钃熼柣鏃囨绾惧吋淇婇婵囶仩闁荤喐褰冮埞鎴︽倷閼碱剙顣哄銈庡幘閸忔﹢鐛崘銊庢棃鏁撴禒瀣厺闁规崘顕ч崹鍌涖亜閺冨倹娅曞ù婊堢畺濮婄粯鎷呴懞銉ｏ拷鍐磼閿熻姤绗熼敓浠嬪灳閿曞倹鍊婚柣锝呰嫰缁侊箓姊洪崨濠傚Е闁哥姵鐗犻敐鐐哄川鐎涙鍘梺鍓插亝缁诲啴藟濠婂厾鐟邦煥閸曞灚鐤侀梺鍝勭灱閸犳牕鐣峰Δ鍛闁绘挸楠告竟鎺楁⒒娴ｈ鍋犻柛鏂跨箲缁傚秹顢楅崟顒佹闂佸吋浜介崕瀛樼珶濡偐纾界�广儱鎷戦煬顒侇殽閻愭彃鏆欓摶鏍煕濞戝崬鏋熸繛鍛矒閺岀喖鎳栭埡鍕婂鏌ㄩ悢璇残撻柛鎾磋壘椤洦绂掔�ｎ偀鎷洪柣鐘叉处瑜板啴顢楅姀銈嗙厽闁哄啯鍨垫晶瀛橆殽閻愯尙绠婚柡浣规崌閺佹捇鏁撻敓锟�?
	private void cleanTimoutInvitings(java.util.Map<Long,Long> invitings)
	{
		Object[] keys = invitings.keySet().toArray();
		for(int i = 0; i <keys.length;i++)
		{
			if ((now - invitings.get(keys[i])) > TeamManager.MAX_INVITE_TIMEOUT)
			invitings.remove(keys[i]);
		}
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794446;

	public int getType() {
		return 794446;
	}

	public long roleid; // 被邀请者角色ID
	public int force; // 强制对方进组 by changhao

	public CInviteJoinTeam() {
	}

	public CInviteJoinTeam(long _roleid_, int _force_) {
		this.roleid = _roleid_;
		this.force = _force_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(roleid);
		_os_.marshal(force);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		roleid = _os_.unmarshal_long();
		force = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CInviteJoinTeam) {
			CInviteJoinTeam _o_ = (CInviteJoinTeam)_o1_;
			if (roleid != _o_.roleid) return false;
			if (force != _o_.force) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)roleid;
		_h_ += force;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(roleid).append(",");
		_sb_.append(force).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CInviteJoinTeam _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(roleid - _o_.roleid);
		if (0 != _c_) return _c_;
		_c_ = force - _o_.force;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

