
package fire.pb.team;
import fire.pb.main.ConfigManager;
import fire.pb.talk.MessageMgr;



// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CRequestTeamMatch__ extends mkio.Protocol { }

/** 最新加入功能 by changhao
*/
// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柛銊ュ�歌灃闁挎繂鎳庨弳娆戠磼閻樺磭鈽夐棁澶愭煥濠靛棙鍣洪悹鎰剁磿缁辨帞锟斤絺鏅為崗宀�绱掓潏銊﹀磳鐎规洘甯掗～婵嬵敆婵犲啫顏堕梺缁樺灱婵倝宕愰崸妤佺叆闁哄洦姘ㄩ崝宥夋煙閸愯尙鐒告慨濠勭帛閹峰懘宕ㄦ繝鍌涙畼闂備浇宕甸崰鍡涘磿閹惰棄绠查柕蹇曞濞笺劑鏌ㄩ悢缁橆棄妞ゆ洩绲剧换婵嗩潩椤撶偘绨婚梻浣瑰劤缁绘劕锕㈤柆宥嗘櫖婵犲﹤鐗婇埛鎴︽⒒閸喓銆掔紒鐘插暱閳规垿顢欓悙顒佹瘓闂佽鍠楅敃銏犵暦婵傜唯闁挎棁顫夌�氬吋绻濋悽闈涗哗閻忓浚浜、姘愁樄闁绘侗鍠栬灃濞达絽鍚�缁ㄥ姊洪棃娑辩劸闁稿骸顭烽悡顒勵敆閸岋附瀚规繛鍫濈仢閺嬶附銇勯弴鍡楁搐閻撯�愁熆閼搁潧濮囨い顐㈡嚇閺岋絽顫滈敓钘夘焽瑜庨幈銊╁醇閺囩啿鎷绘繛杈剧到閹诧繝宕悙鐑樼厱闁哄啯鎹囧顔剧磼閸屾氨效鐎殿喕绮欓垾鏍敆婵犲嫮袦閻庤娲栭妶鍛婃叏閿熶粙鏌曡箛锝嗙窙缂佸崬鍟块埞鎴︽倷鐎涙ê闉嶉梺鐓庣秺缁犳牠寮崘顔嘉ㄧ憸婵嬪箯瀹勯偊娼╂い鎺戝�绘闂備浇顕栭崰妤呫�冩繝鍥х畾闁稿瞼鍋涘婵嗏攽閻樻彃浜炲ù鍏兼崌濮婂宕掑▎鎰偘濠电偛顦板ú鐔风暦閺夋鍚嬮柛銉戝啰浜版繝鐢靛仜濡瑩骞愰幆褏鏆ゅù锝呭閻斿棝鏌ら幖浣规锭濠殿喖娲ㄧ槐鎺楁偐閸偄娈岄梻鍥ь樀閺屻劌鈹戦崱妯侯槱闂佹悶鍊ч幏宄扳攽閻愯尙鎽犵紒顔芥尰缁傚秶鎹勬笟顖涚稁濠电偛妯婃禍婊呯矆閸儲鐓欑紓浣姑粭鍌滅磼閵娿劌浜圭紒杈ㄦ尰閹峰懐绮电�ｎ亝顔勯梺璇插閻噣宕￠幎鐣屽祦闁告劦鍠楅崐濠氭煢濡尨绱氶柍鍝勬噺閻撳啴鏌涘┑鍡楊仼闁跨喕妫勯…宄扮暦閵忥紕顩烽悗锝庡亐閹锋椽姊婚崒姘卞缂佸鎸剧划璇差潩閼哥數鍘搁梺鍛婁緱閸犳艾煤閹绢喗鐓欐い鏃�鏋婚懓璺拷娈垮枛椤攱淇婇悜鑺ユ櫆闁诡垎鍐吋闂傚倸鍊风粈渚�骞夐敓鐘插瀭妞ゆ牜鍋涚壕褰掓煛瀹ュ骸浜鹃柟宄板槻椤繈鎮欓锟介锟�
 * @author changhao
 *
 */
public class CRequestTeamMatch extends __CRequestTeamMatch__ {
	@Override
	protected void process() {
		
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		mkdb.Procedure requestteammatch = new mkdb.Procedure()
		{
			@Override
			/*闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柛銊ュ�歌灃闁挎繂鎳庨弳娆戠磼閻樺磭鈽夐棁澶愭煥濠靛棙鍣洪悹鎰剁磿缁辨帞锟斤絺鏅為崗宀�绱掓潏銊﹀磳鐎规洘甯掗～婵嬵敆婵犲啫顏堕梺缁樺灱婵倝宕愰崸妤佺叆闁哄洨鍋涢敓鐣屾暬閺佹捇寮妶鍥╂殼閻庤娲栭悥濂稿春閿熺姴绀冪憸蹇涙偡濠靛棌鏀介幒鎶藉磹瑜忓濠冪鐎ｎ亞鏌堝銈嗙墱閸嬬偤宕戦崒鐐寸厪濠㈣泛妫欏▍鍡涙煟閹捐泛鏋涢柡宀嬬節瀹曟帒顫濋崣妯挎婵＄偑鍊х徊鐐箾婵犲洤钃熼柨婵嗩樈閺佸洭鏌ｉ弮鍌氬妺闁革絼鍗冲娲传閸曨偒妲甸梺璺ㄥ枙濡嫮澹曢銏犳辈闁糕剝绋掗崐鐢告煥濠靛棝顎楀褌鍗抽弻锝夋晝閿熶粙鎮ч幘鎰佹綎闁绘垶蓱婵粓鏌熷▓鍨灈濠碘�茬矙濮婅櫣鎲撮崟顓熸啓閻庤娲滈弫鎼佸礆閹烘棑鎷烽敐搴℃灈缂佺姵濞婇弻锟犲礃閳哄倸闉嶉柣搴㈣壘缂嶅﹪寮婚妸銉㈡斀闁糕剝渚楅敓鑺ヮ殔闇夋繝濠傚缁犳牜绱掔紒妯兼创鐎规洏鍔戦、娆撳礈瑜忛崢婊勭節濞堝灝鏋涢柨鏇樺妼閳诲秹鏁愭径濠勵槺闂佸搫绋侀崢濂稿础閹惰姤鐓熼柟閭﹀幘閵堟挳鏌熼弸顐拷婵嗩潖缂佹ɑ濯撮柛娑橈工閺嗗牆鈹戦纭峰伐婵狅拷闁秴鏋佹い鏇嫹闁诡喗鐟╅幃婊兾熼悜妯兼瀫闂備礁鎼ˇ顖炴偋閸曨垰绀夐幖杈剧到婵剟鏌ㄩ悢缁橆棄闁宠鍨块、娆撳棘閵堝嫮杩旈梻浣告啞钃遍柟顔煎�块悰顔跨疀閹句焦妞介、鏃堝川椤忓懎顏归梻鍌欑閹诧紕绮欓幋锔芥櫇闁挎洖鍊搁悡鈥愁熆閼搁潧濮堥柣鎾卞劦閺岋繝宕堕張鐢电泿濡炪倐鏅╅崜娑氭閹烘鏁婄痪鎷屼含閸氬螖閻橀潧浠︽い顓炴川濡叉劙骞掗幊宕囧枛閹喚锟芥稒锚椤忓爼姊洪崜鑼帥闁稿鎳樺畷锝堢疀閺傚墽绠氬銈嗙墬缁瞼鏁崼鏇熷仺妞ゆ牗姘ㄩ崺锝夋煛瀹�瀣？闁跨喐鏋荤徊濠氬礉瀹�鍕櫢闁兼亽鍎崇粻鐐碉拷娈垮枦椤曆囧煡婢舵劕顫呴柍銉ュ帠濮规姊洪懡銈呅㈡繛澹洤骞㈡俊銈勭閸撶敻姊婚崒姘拷宄懊归崶褜娴栭柕濞炬櫆閸婂潡鏌ㄩ弴鐐诧拷鍝ョ不閺屻儲鐓曢柕澶樺枛婢ь噣鏌＄�ｂ晝绐旈柡宀�鍠栧畷婊嗩槾閻㈩垱鐩弻锟犲川椤旇棄锟芥劙鏌＄仦璇插闁诡喓鍊濆畷鎺戔槈濮楀棔绱� team->roleid->match by changhao*/
			protected boolean process()
			{	
				if (!checkLevel()) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｄ即姊洪崫鍕伇闁哥姵鐗犻妴浣糕槈濡攱顫嶅┑鐐叉閸ㄧ敻宕甸幒妤佺厽闁绘劕顕。鑼拷鐧告嫹缂佸顑欏鏍煣韫囨挻璐￠柣顓熺懄缁绘盯宕卞Ο鍝勫Б闂佸憡鎼╅崣鍐潖閾忓湱鐭欓柛鏍ゅ墲閺佸墽绱撴担绛嬪殭闁绘妫濋、姘舵晲閸℃瑧鐦堝┑顔斤供閸樺吋绂嶅鍫熲拺缂備焦顭堟竟姗�鏌ｆ幊閸斿酣鏁撻懞銉ㄥ缂傚秴锕濠氭晲婢跺娼婇梺瀹犳濡寮查柆宥嗏拺缂備焦锚濞搭喚绱掗悩宕囧ⅹ闁伙絿鍏橀、娑橆煥閸涱垳鍘梺鍦帶閻°劑骞愭繝姘闁跨喍绮欏缁樻媴閸濄儲鐎┑鈽嗗亜鐎氼剝鐏嬪┑掳鍊撻懗鍫曘�呴幓鎹ㄦ棃鏁愰崨顓熸闂佺粯鎸婚悷鈺呭蓟濞戙垹绠ｆ繛鍡楅獜閹风兘寮介顒佸婵鍋撶�氾拷? by changhao
				{
					psend(roleid, new STeamError(TeamError.LevelError));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢涘鍗烆槱缂傚倸鍊搁崯顖毭洪悢濂夋綎缂備焦蓱婵挳鏌涘☉姗堟敾闁稿孩鎸搁埞鎴︽倷閼碱剚鍕鹃梺鍛婃煥缁夊綊鐛崼銉ノ╅柨鏃傜帛鏁堥梺纭呭閹活亞寰婇崸妤佸�块柛蹇氬亹缁★拷闂佹眹鍨藉褍鐡梻浣侯焾閿曪箓寮拠宸殨闁靛濡囬々鐑芥倵閿濆骸浜為柛妯挎閳规垿鍩ラ崱妤冧哗闂佸湱鈷堥崑鍡涙儉椤忓浂妯勯梺鍝勭灱閸犳牕鐣峰Δ鍛亗閹肩补妲呭姘舵⒒娴ｅ憡鎯堥柡鍫墰缁瑩骞樼�靛壊娴勯梺鎸庢⒒閸嬫挾锟芥碍宀搁弻鐔虹磼濡桨鍒婂┑鐐靛帶闁帮絽顫忕紒妯诲闁告稑锕ラ崕鎾绘⒑閸濆嫮澧遍柛鎾寸懅閸欏懘姊虹紒妯活棃妞ゃ儲鎹囧鎶芥晝閸屾稓鍘介梺瑙勫劤绾绢厼鐣濋幖浣圭厸闁跨喕濮ょ粋鎺旓拷锝庡亞閸橀亶姊洪棃娑辨Ч闁搞劎鏁婚獮濠囧箛椤掑倹娈鹃梺缁樺灦椤洨寮ч敓鐣岀磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幈闁诲函缍嗛崜娆撳几濞戞瑯娈介柣鎰嚋闊剚顨ラ悙鎼劷闁归濞�閹崇娀顢楁担鍝勫Ъ闂傚倸鍊烽懗鍫曪綖鐎ｎ喖绀嬮柍鐚存嫹缂侇喖鐖煎铏规崉閵娿儲鐎鹃梺鍝勵儑缁垱绌辨繝鍥х倞妞ゆ帪鎷风紒鐘崇叀閺屾盯寮撮妸銉т哗闁诡垳鍠栧娲箰鎼淬垻鈹涢梺鍦厴椤ユ捇鎯�椤忓棛纾奸柕蹇曞Х娴犵鈹戦纭锋敾婵＄偘绮欓悰顕�宕卞鍏夹紓鍌欒兌婵攱鏅跺Δ鍐╁床婵犻潧顑嗛弲绋棵归悩宸剱闁绘帟鍋愰敓钘夌畭閸庨亶骞婇幇鍏洭顢欑喊杈ㄥ瘜闂侀潧鐗嗗Λ娑欐櫠闁秵鐓曢悗锝庡墮娴犻亶鏌涢埡鍌滄创妤犵偛顑夐幃鈺呮偨绾板闂繝鐢靛仩閹活亞绱為敓鑺ャ亜閺囩喓澧甸柟顔惧仦缁傛帞锟斤綆鍋嗛崢鎾绘⒑閸涘﹦鎳�闁稿骸纾划锝夊籍閸喓鍘搁悗鐧告嫹闁跨喍绮欏畷浼村冀椤撶偟鐣洪梺缁樺灱婵倝宕戠�ｎ喗鐓曟い鎰剁悼缁犳牠鏌ｈ箛鎾愁劉濞ｅ洤锕俊鍫曞炊椤喓鍎甸弻娑氾拷锝庡亞濞插锟借娲﹂崹杈╋拷闈涖偢瀵爼骞嬮悩鍨�梻鍌欑濠�閬嶆惞鎼淬劌绐楅柡宥庡亞閻棝鎮楅敐搴′簴濞存粍绮撻弻鐔兼惞閻熼娌柣搴㈡皑閹虫捇鈥旈崘顔嘉ч柛娑卞弾閸斿姊洪崷顓х劸濠⒀嗘鍗遍柟鐗堟緲缁犲鎮楀☉娅亪顢撻幘缁樷拺闁告稑锕ョ亸鎵喐閺夊灝鏆ｇ�规洘绮撻獮宥夘敊閸撗嶇闯濠电偠鎻紞浣割焽瑜庨幈銊╁磼濮ｎ厾鎳撻…銊╁礃椤忓嫮鍘介梻浣虹帛娓氭宕抽敐澶屽祦闁搞儺鍓欑痪褔鎮规笟顖滃帥婵¤尙澧楁穱濠囨倷椤忓嫸鎷烽弽顬稒鎷呯粵瀣瘞闂傚倷鑳堕幊鎾诲床閺屻儱绠规い鎰剁畱閻撴﹢鏌熸潏鎯х槣闁轰礁锕弻锝夊箛闂堟稑顫╁┑鐐茬墕閼活垶鍩為幋锔藉�烽柤纰卞墯閸曢箖姊虹粙鍖℃敾缂佽鐗嗛锝夘敃閿曪拷缁犺崵绱撴担濮戭亜鈻撻悢鍏尖拺闂傚牊渚楀褍鈹戦垾铏枠閽樻繈鏌曟径鍡樻珕闁绘搫缍侀弻銈嗘叏閹邦剨鎷烽弴鐔侯浄闁挎柨澧界壕鑲╃磽娴ｈ鐒界紒鐘靛仦娣囧﹪顢曢姀鐘虫闂佸疇妫勯ˇ闈涚暦閿熺姵鍊烽柟缁樺俯濡牓姊婚崒姘拷宄懊归崶顬盯宕熼姘辨焾婵炴潙鍚嬪娆戠玻濡ゅ懏鐓涚�广儱楠搁獮鏍煢閸愵亜鏋涢柡宀嬬節瀹曞爼鍩℃担鍦簴缂傚倷鑳舵繛锟界紒鐘崇墵瀵鈽夐埗鈺嬫嫹閿曞倸绠ｆ繝闈涙川娴滎亜鈹戦悩鎰佸晱闁哥姵鐗犺棟闂傚牊渚楀鏍ㄧ箾瀹割喕绨诲ù鑲╁█閺屾盯寮撮姀鈩冮敪闂佸憡鎸烽崡鍐差潖缂佹ɑ濯寸紒瀣硶閻╁海绱撻崒姘毙＄紒锟芥笟锟介、姘舵晲閸℃瑧鐦堝┑顔斤供閸樺吋绂嶅鍫熲拺缂佸娉曠粻鎶芥煕濡姴娲﹂弲鎼佹煟閿濆懐鐏遍悽顖涚☉鑿愰柛銉戝秷鍚銈冨灪缁嬫垿鍩為幋锕�骞㈤柡鍥╁枔濞兼牠姊婚崒娆愵樂缂侀硸鍠氱槐鐐存媴閸撹尙鍔烽悷婊勬瀹曟椽鎮欓崫鍕吅闂佹寧妫佸Λ鍕晸閻ｅ苯鍘撮柡灞诲�楅崰濠囧础閻愬樊娼婚梻浣稿暱閸㈡煡鏁冮鍕垫綎婵炲樊浜濋崑锟犳煛婢跺顕滄い鏃撴嫹闂傚倷鑳堕幊鎾诲吹閺嶎厼绠柨鐕傛嫹 "+roleid);
					return true;					
				}
				
				if (fire.pb.fushi.Module.GetPayServiceType() == 1) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿閹崇娀顢楁径瀣撴粓姊绘担瑙勫仩闁告柨绉堕幑銏ゅ礃椤斿槈锕傛煕閺囥劌鐏犻柛鎰舵嫹婵＄偑鍊栭崝锕�顭块敓鐣岀磼椤旂厧顣崇紒杈ㄦ尰缁楃喐绻濋崘顭戜紦婵犵數濮伴崹鐓庘枖濞戙埄鏁勯柛鏇ㄥ幗瀹曟煡鏌涢埄鍐檨闁绘挸绻橀弻娑㈩敃閿濆洨鐣洪梺闈╃稻濡炰粙寮诲☉銏℃櫜闁告侗鍠涚涵锟界紓鍌欐祰妞村摜鏁敓鐘茬畺闁冲搫鎳忛ˉ鍫熺箾閹寸偛绗氶柣搴濆嵆濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙鍐�妞ゆ挾濮寸粊锕傛⒑缁洖澧查柛鎴犳嚀鍗卞Δ锝呭暞閳锋垿鏌熺粙鎸庢崳闁宠棄顦辩槐鎺撳緞婵犲嫮楔閻庢鍠栭…鐑藉极閹剧粯鍋愰柟缁樺笩閿熻棄鐏濋—鍐Χ閸℃ê鏆楁繝娈垮枤閸忔ê顕ｉ幎钘壩ч柛娑变簼閺傦拷婵＄偑鍊栧濠氬Υ鐎ｎ喖缁╃紓浣姑肩换鍡涙煟閹邦厼顥嬮柣顓熺懇閺屾洟宕遍弴鐙�妲柧缁樼墵閺屾稑鈽夐崡鐐寸亶濠电偛鎳岄崹钘夘潖閻戞ê顕辨繛鍡樺灥閸╁矂姊哄ú璇插闁靛牊鎮傞獮鍡楃暆閸曨偆顔掔紓鍌欑劍閿氶柨鐔烘櫕閺佸寮婚敐澶婎潊闁绘ê鍟块弳鍫熺箾鐎涙ê娈犻柛濠冪箞瀵鎮㈡搴㈡疂闂佸搫顦扮�笛傜昂濠碉紕鍋戦崐銈夊磻閸涱垱宕查柛顐犲劘閿熸垝绀佽灃濞达絽鎽滅粣鐐烘煟鎼搭垳绋婚柟绋跨埣瀹曟繈骞嬪┑鎰稁闂佹儳绻楅～澶婄暦婢舵劖鐓忓┑鐐茬仢閸旀粓鏌ｈ箛鎾搭棞闁宠鍨块崺銉╁幢濡炲墽鐩庨梺璇插閸戝綊宕板璺虹闁圭儤姊圭�氭氨锟界懓澹婇崰鏍箖閹寸偟绡�闁靛骏绲剧涵楣冩煥閺囶亞鐣甸柡浣哥Ч閹垽宕楃亸鏍ㄥ濠电偞鎸婚懝鎯洪妶鍡樻珷妞ゆ柨澧界壕鐓庮熆鐠轰警鐓柛銈囧枔缁辨帡顢欑喊杈╁悑闂佽鍠掗弲婵嬪箯閻樼粯鍤戞い鎺戭槸閺咃綁姊婚崒娆戭槮婵狅拷闁秴鐓曢柛顐犲劚閸屻劌螖閿濆懎鏆欓柛灞诲妽缁绘繃绻濋崒娑樻缂佹儳澧介弲顐︽晸閽樺鐣柛搴″船铻炴繛鎴炵懄濞呯娀鏌ｉ姀鐘冲暈闁绘挻鐩幃姗�鎮欓棃娑楀缂備緤鎷烽悗锝庡墾閹烽鎲撮崟顒傤槶闂佸憡顭嗛崶褏鍘撮梺纭呮彧缁犳垹绮诲☉娆嶄簻闁瑰墽顒茬槐锟犳煕閵夛絽濡烽柟鐤缁辨捇宕掑▎鎴濆闁藉啴浜堕幃妯跨疀閺囩儐鏆紓浣虹帛閻╊垶骞婇悩娲绘晢闁跨喍绮欏绋库槈濮樼偓瀚规繛鍫濈仢閺嬫稒銇勯銏℃暠濞ｅ洤锕獮鏍ㄦ媴閸濄儱骞愰梻浣侯焾閺堫剟鎯岄鎹愬С濞寸姴顑嗛埛鎺懨归敐鍕劅闁绘帡绠栭弻锟犲醇椤愩垹顫紓渚囧枟閻熲晠鐛�ｎ喗鏅滅紓浣股戝▍鍡涙⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�? by changhao
				{
					DSTeamMatchInfo config = ConfigManager.getInstance().getConf(DSTeamMatchInfo.class).get(targetid);
					if (config == null)
					{
						psend(roleid, new STeamError(TeamError.NoTarget));
						TeamManager.logger.debug("FAIL:CRequestTeamMatch:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氱紓鍌欒兌閸嬫捇宕曢崘宸劷闁跨喓濮撮拑鐔兼煥濠靛棭妲告い顐㈡嚇閺屾洝绠涙繝鍐╃彇闂佸憡姊归幃鍌氼潖閸濆嫅褔宕惰閹峰嘲鈹戦崼顫瑝闂佸搫绋侀崢濂告嫅閻旂尨鎷烽獮鍨姎妞わ富鍨辩�靛ジ鎮╃紒妯煎幈闂佸搫娲㈤崝灞炬櫠椤旂晫绠鹃柛婊冨暟閹偐绱掓潏銊﹀鞍闁瑰嘲鎳橀幃鐑藉级濞嗙偓缍屽┑锛勫亼閸婃垿宕濈仦杞挎稑鈻庨幋鐘电厰闁哄鐗勯崝搴ｅ姬閿熶粙姊洪幖鐐插姶闁诲繑绋栭ˇ褰掓煛鐏炲墽鈽夐柍钘夘樀瀹曪繝鎮欑�甸晲閭┑鐘垫暩閸嬫盯骞婂畝鍕９婵犻潧妫鏍煣韫囨挻璐￠柣顓熺懄缁绘盯宕卞Ο鍝勫Б闂佸憡鎸诲姗�鈥旈崘顔嘉ч煫鍥ㄦ礈缁愭姊洪崨濠庢畽婵炲懏娲樼粚杈ㄧ節閸ャ劌浠虹紓浣割儓濞夋洟藝閺夋娓婚柕鍫濇婢ь剚銇勯弴锛勭翱妞わ箑缍婇弻锛勪沪閸撗�妲堥梺瀹犳椤﹂潧鐣烽敓鐘冲�烽柛蹇曨焾鐎垫煡姊婚崒娆掑厡缂侇噮鍨堕獮鎰嫚閸欏倹鐩畷姗�鈥﹂幋鐐电▉濠电姷鏁告慨鐢告嚌閸撗冾棜闁稿繐鍚嬮崣蹇旀叏濡わ拷濡鏅舵ィ鍐╃厵濡炲楠搁崢瀛橆殽閻愬澧柟宄版嚇瀹曨偊濡烽婊�瑕嗛梻鍌氬�烽懗鍓佸垝椤栫偛鍨傞柛蹇撳悑閸欏繘鏌曢崼婵愭Ц缁炬儳缍婇弻娑滎槼妞ゃ劌妫濋幃锟犲Ψ閳哄倻鍘搁梺鍛婂姈鐎笛咃拷姘秺濮婇缚銇愰幒鎾存殸缂備浇顕ч悧鎾绘偘椤旇法鐤�闁哄啯鍨舵晥闂佺澹堥幓顏嗗緤閸ф鍋╅悹楦裤��閺�浠嬫煟閹邦厽缍戦柣蹇ョ畵閹锋垿宕￠悜鍡欏數闁荤姴鎼幖顐︻敂椤撱垺鐓涢悘鐐插⒔閵嗘帡鏌ㄩ悢鍛婄伄缂佽尪濮ら弲鑸垫償閿濆懎袣闂佽法鍠嶇划娆忣潖濞差亜浼犻柛鏇ㄥ墯閹峰崬鈹戦悙鎻掔骇妞ゎ厼娲獮鎴﹀閻橆偅顫嶉梺闈涚箚閿熺晫顒查幏鐑芥煥鐎ｃ劋绨婚梺鐟版惈缁夌兘宕楀畝锟介幉鎼佸箥椤斿吋鐏堝┑顔硷功缁垶骞忛崨瀛樺殟闁靛缍囬幏鐑藉礃椤忓棛锛滈梺璺ㄥ枙婵倗绮悢鍏兼櫢濞寸姴顑冮敓鎴掔窔瀵粙濡搁妷褏鐛梻浣哥秺閸嬪﹪宕滃┑瀣闁哄洢鍨洪埛鎴︽⒒閸喎宕熼柛顐犲劚閻ょ偓绻濇繝鍌滃缁炬儳顭烽弻娑㈠焺閸愵亖妾ㄩ梺缁樻尰濞茬喖骞冨锟介幃娆撳箵閹哄棙瀵栭梻浣哥枃濡嫰藝娴兼潙桅闁告洦鍠氶悿锟介梺闈涱檧缁犳垿顢旈敓锟� "+roleid);
						return true;					
					}						
				}
				else
				{
					STeamMatchInfo config = ConfigManager.getInstance().getConf(STeamMatchInfo.class).get(targetid);
					if (config == null)
					{
						psend(roleid, new STeamError(TeamError.NoTarget));
						TeamManager.logger.debug("FAIL:CRequestTeamMatch:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氱紓鍌欒兌閸嬫捇宕曢崘宸劷闁跨喓濮撮拑鐔兼煥濠靛棭妲告い顐㈡嚇閺屾洝绠涙繝鍐╃彇闂佸憡姊归幃鍌氼潖閸濆嫅褔宕惰閹峰嘲鈹戦崼顫瑝闂佸搫绋侀崢濂告嫅閻旂尨鎷烽獮鍨姎妞わ富鍨辩�靛ジ鎮╃紒妯煎幈闂佸搫娲㈤崝灞炬櫠椤旂晫绠鹃柛婊冨暟閹偐绱掓潏銊﹀鞍闁瑰嘲鎳橀幃鐑藉级濞嗙偓缍屽┑锛勫亼閸婃垿宕濈仦杞挎稑鈻庨幋鐘电厰闁哄鐗勯崝搴ｅ姬閿熶粙姊洪幖鐐插姶闁诲繑绋栭ˇ褰掓煛鐏炲墽鈽夐柍钘夘樀瀹曪繝鎮欑�甸晲閭┑鐘垫暩閸嬫盯骞婂畝鍕９婵犻潧妫鏍煣韫囨挻璐￠柣顓熺懄缁绘盯宕卞Ο鍝勫Б闂佸憡鎸诲姗�鈥旈崘顔嘉ч煫鍥ㄦ礈缁愭姊洪崨濠庢畽婵炲懏娲樼粚杈ㄧ節閸ャ劌浠虹紓浣割儓濞夋洟藝閺夋娓婚柕鍫濇婢ь剚銇勯弴锛勭翱妞わ箑缍婇弻锛勪沪閸撗�妲堥梺瀹犳椤﹂潧鐣烽敓鐘冲�烽柛蹇曨焾鐎垫煡姊婚崒娆掑厡缂侇噮鍨堕獮鎰嫚閸欏倹鐩畷姗�鈥﹂幋鐐电▉濠电姷鏁告慨鐢告嚌閸撗冾棜闁稿繐鍚嬮崣蹇旀叏濡わ拷濡鏅舵ィ鍐╃厵濡炲楠搁崢瀛橆殽閻愬澧柟宄版嚇瀹曨偊濡烽婊�瑕嗛梻鍌氬�烽懗鍓佸垝椤栫偛鍨傞柛蹇撳悑閸欏繘鏌曢崼婵愭Ц缁炬儳缍婇弻娑滎槼妞ゃ劌妫濋幃锟犲Ψ閳哄倻鍘搁梺鍛婂姈鐎笛咃拷姘秺濮婇缚銇愰幒鎾存殸缂備浇顕ч悧鎾绘偘椤旇法鐤�闁哄啯鍨舵晥闂佺澹堥幓顏嗗緤閸ф鍋╅悹楦裤��閺�浠嬫煟閹邦厽缍戦柣蹇ョ畵閹锋垿宕￠悜鍡欏數闁荤姴鎼幖顐︻敂椤撱垺鐓涢悘鐐插⒔閵嗘帡鏌ㄩ悢鍛婄伄缂佽尪濮ら弲鑸垫償閿濆懎袣闂佽法鍠嶇划娆忣潖濞差亜浼犻柛鏇ㄥ墯閹峰崬鈹戦悙鎻掔骇妞ゎ厼娲獮鎴﹀閻橆偅顫嶉梺闈涚箚閿熺晫顒查幏鐑芥煥鐎ｃ劋绨婚梺鐟版惈缁夌兘宕楀畝锟介幉鎼佸箥椤斿吋鐏堝┑顔硷功缁垶骞忛崨瀛樺殟闁靛缍囬幏鐑藉礃椤忓棛锛滈梺璺ㄥ枙婵倗绮悢鍏兼櫢濞寸姴顑冮敓鎴掔窔瀵粙濡搁妷褏鐛梻浣哥秺閸嬪﹪宕滃┑瀣闁哄洢鍨洪埛鎴︽⒒閸喎宕熼柛顐犲劚閻ょ偓绻濇繝鍌滃缁炬儳顭烽弻娑㈠焺閸愵亖妾ㄩ梺缁樻尰濞茬喖骞冨锟介幃娆撳箵閹哄棙瀵栭梻浣哥枃濡嫰藝娴兼潙桅闁告洦鍠氶悿锟介梺闈涱檧缁犳垿顢旈敓锟� "+roleid);
						return true;					
					}					
				}
				
				Long clanfightid = xtable.Roleid2clanfightid.select(roleid);
				if (clanfightid != null)//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠撻弻锝夊箻閸愯尙妲伴梺缁樻煥濡瑧鎹㈠┑瀣棃婵炴垶鑹鹃·锟介梻浣规偠閸娧囧箯闁垮绻嗛柣鎰典簻閿熷鍊濆畷鎴﹀川椤栨稑搴婇梺鍛婃处閸ㄦ壆绮婚弻銉︾厱闁哄洢鍔岄悘锟犳煙椤栨粌浠遍柟顔肩秺瀹曞爼鏁愰崨顓涙嫟闁荤偞鐨滈崟顓犵槇闂佹眹鍨藉褍鏆╅梻浣芥〃閻掞箓骞冮崒姘辨殾闁硅揪闄勯崐鐑芥煕濠靛棗顏╅柣搴弮濮婃椽宕ㄦ繝鍐ㄧ煯缂備緤鎷峰〒姘炬嫹鐎殿喗鎮傚畷濂革綖椤旇棄顏跺Δ鐘靛仜閻忔繈宕濆顓滀簻鐟滄繈骞忔搴ｇ＝闁稿本姘ㄦ牎闂佺粯顨堟繛锟界�殿喖顭烽弫鎾绘偐閼碱剙锟界偤姊哄畷鍥х殤闁圭兘顥撶槐鎺楀础閻愮绱為梺鐟板级閹倿骞冭瀹曠厧鈹戦崼銏″櫙缂傚倸鍊风欢銈夊箯閻戣姤鐓曠�癸拷閿熶粙宕戦悙鐑樺亗闁哄洢鍨婚崣鎾绘煕閵夛絽濮�濠㈣锚闇夋繝濠傚暞鐠愶紕绱掓潏銊ョ闁跨喐鏋荤紞鍡樼濠靛棭鍟呮繝闈涚墢绾惧ジ寮堕崼娑樺閻忓繋鍗抽弻鐔风暋閻楀牆娈楅悗瑙勬处閸嬪﹤鐣烽悢鍝勬瀳濠㈣泛顑呴鍫曟⒑鐟欏嫬鍔ゅ褍娴锋竟鏇熺附閸涘﹦鍘剧紒鐐緲瀹曨剚鏅堕娴庣懓顭ㄩ崘銊㈡寖缂備浇椴哥敮鎺楁偩濠靛绀冩い鏂垮悑閹虫瑧绱撻崒娆掑厡缂侇噮鍨抽幑銏ゅ醇濠靛牊娈鹃梺鍓插亝濞叉﹢宕电�ｎ喗鐓曟い顓熷灥娴滄繈鏌ｅ┑鎰簻闁宠鍨块幃鈺呭垂椤愶絾鐦庡┑鐘愁問閸犳骞愰幎钘夋瀬闁告劦鍠栧洿婵犮垼娉涢敃锕傚蓟閸繍娓婚柕鍫濇婵呯磼閼艰泛浜归柟骞垮灲瀹曞崬鈽夊▎鎴濆及闂傚鍋勫ú锕傚箰閼姐倖瀚婚柨娑樺濡垶鏌熺憴鍕妞ゃ儱顦靛Λ浣瑰緞閹邦厾鍙嗗┑鐘绘涧濡厼危鐟欏嫮绠鹃柟鍐插槻閸熺娀寮ㄦ禒瀣厓闁靛鍔岄惃娲煟椤撶喓鎳囬柡宀嬬磿娴狅妇鎷犵拠褎瀚规繛鎴欏灩妗呴梺鍦濠㈡绮婚幎鑺ョ厸闁告劑鍔岄敓鐣屾嚀琚欓柛銉墯閳锋帒霉閿濆牊顏犻柕鍡楋躬閺岋繝宕掑顒婃嫹閸喚鏆﹂柡鍥ュ灩缁犵敻鏌熼悜妯肩畵婵炲牜鍋婂娲川婵犲啫顦╅梺鎼炲妽婢瑰棛鍒掔拠娴嬫婵炲棗绉崇花濠氭⒑閸︻厼鍔嬮柛銊ョ仛缁傚秹鎮欓悜妯煎幈闂佺粯妫冮ˉ鎾绘倿閸涘﹥鍙忓┑鐘插鐢盯鏌熷畡鐗堝殗鐎规洏鍔嶇换婵嬪磼濞戞瑧鏆梻鍌氬�风粈渚�骞夐垾鎰佹綎鐟滅増甯掗崹鍌炴煕椤垵鏋ら柡鍡檮缁绘繈妫冨☉娆樻￥闂佸搫妫楀Λ婵嬪蓟閵娾晜鍋勯柣鎴炆戦悵顏堟⒑閸涘﹤绗氶悽顖滃仱楠炲繘鎮╃紒妯烘濡炪倖甯婇悞锕傤敊閺囥垺鈷掑ù锝堫潐閸嬬娀鏌涙惔顔兼珝鐎殿喗褰冮埞鎴狅拷锝庡亝濞呮牕鈹戦悩缁樻锭婵炲眰鍔庣划缁樸偅閸愩劎楠囬梺鍓插亝缁诲倿鍩涢弮鍌滅＜濠㈣埖锚婢ь垶鏌曢崶褍顏�殿喗鎸抽幃銏ゅ传閸曘劌鎮呴梻鍌欑绾绢厾鍒掗鐐茬闁搞儜灞芥濡炪倖娲╅幏鐑芥煛娴ｈ灏扮紒鍌涘笧閿熸枻缍嗛敓绛嬪弿缁犳捇寮诲☉銏犲嵆闁靛鍎虫禒顓㈡⒑閸濆嫭鍣虹紒顔芥崌瀵鏁愭径濠勭杸闂傚倸鐗婄粙鎴︼綖椤忓嫧鏀芥い鏇炴閸掍即鏌ｅΔ锟藉Λ婊堟倶閸愵喗鈷戠紓浣癸公閼版寧绻涙担鍐插椤╅攱绻濇繝鍌滃闁绘挶鍎甸弻锟犲炊椤浜弫鎾绘嚍閵壯勫垱闂佽鍠楅敃銏犵暦濮楋拷椤㈡瑧鎲撮敐鍡楊伖闂傚倷绀侀幉锛勭矙閹达附鏅濋柨婵嗘处椤愪粙姊洪锟界粔鐢告偂閺囩喐鍙忔俊銈咁儐鐎氬湱绱撴担鍝勑ｉ柣妤冨Т椤曪綁顢曢姀鈺佹倯闂佸憡渚楁禍婵嬫倵婵犳碍鈷戦柣鐔告緲閳锋棃鎮跺☉鏍у姦妤犵偛绻橀幖褰掑捶椤撶媴绱抽梻浣侯焾閺堫剟鎮疯瀹曟繂顓兼径瀣彅闁哄鐗勯崝濠冪濠婂牊鐓忓璺虹墕閸斻倕顭胯缁犳捇寮婚垾宕囨殕閻庯綆鍓涢惁鍫ユ⒑鏉炴壆鍔嶉柟姝屽吹缁骞掗弮鎾村闁挎繂楠告禍鐐烘煕閺傝法鍩ｉ柟顔筋殜閻涱噣宕归鐓庮潛闂佽瀛╃粙鍫ュ疾閻樺樊鍤曢柡灞诲劚閻撴盯鏌涘☉鍗炴灀闁归攱妞藉铏规兜閸涱厺姹楅梺绋款儐閻╊垰鐣峰┑瀣妞ゆ梻鏅崢閬嶆⒑閸︻厼浜炬繛鍏肩懇瀹曨偄煤椤忓懐鍘遍梺鍐叉惈閸婅煤鐎涙﹩娈介柣鎰▕閸庢棃鏌℃担绋匡拷鍧楀箖閸撗傛勃闁芥ê顦遍悿鍕節閻㈤潧啸闁轰焦鎮傚畷鎴︽倷閸濆嫬鐎梺鍓插亝濞叉﹢寮插┑鍥ヤ簻闁规澘澧庨悾杈╃磽娴ｅ弶娅呴柍瑙勫灴閹晛鐣烽崶鑸垫闂備胶绮幐楣冨窗閺嶎厼钃熼柣鏃傚帶缁犳煡鏌熼柇锕�骞橀柕鍡樺姍濮婃椽宕崟闈涘壉闂佺儵鏅╅崹璺侯嚕婵犳碍鏅柛鏇ㄤ簼閸曞啴姊洪崨濠冨瘷闁告洦鍋勯悘锟犳⒑鐠囨彃顒㈡い鏃�鐗犲畷鎶筋敋閿熻棄鐣峰鍐ｆ闁靛繒濮烽澶愭⒑閸涘﹥澶勯柛銊у閸庮偊鏌ｉ悢鍝ョ煀闁活剛鍘у嵄闁归偊鍎甸悢鐑樺仒闁斥晛鍟弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹惧磭顔戦梺缁橆焽閺佸摜澹曢崗绗轰簻闁哄啫娲ゆ禍褰掑极閸惊鏃堟偐闂堟稐绮堕梺鍝ュ枑濞兼瑩鎮鹃悜钘夌婵°倓绀侀敓浠嬫敱閵囧嫯绠涢幘鎰佸妷闁诲孩姘ㄩ幊鎾绘箒闂佹寧绻傞幊搴ㄋ夎箛鏃傜閻忓繑鐗楀▍濠囨煛鐏炶锟芥鍒掑▎鎴炲磯闁靛鍊楁す铏節閻㈤潧浠滈柟鍐茬焸瀹曞綊鎼圭憴鍕簥濠电偞鍨堕悢顒勫箯閻戣姤鍋ㄦ繛鍫ｆ硶閸旀悂鎮楀☉娆戠畵妞ゎ亜鍟存俊鍫曞幢濡ゅ啩娣梻浣侯攰濞呮洟鏁冮姀銈囧祦闊洦绋戠粻锝夋煥閺冨洦顥夊ù婊勭矒濮婅櫣绮欑捄銊ь啈闂佺顑嗛崝娆忕暦閿濆骞㈡繛鎴炵憿閹疯櫣绱撻崒娆戝妽閽冭京绱掗敓浠嬫晸娴犲鈷戠紒瀣皡瀹搞儲绻濋敓浠嬫焼瀹ュ棙娅㈤梺鍏间航閸庢娊宕弻銉︾厵闁告垯鍊栫�氾拷? by changhao
				{ 
					fire.pb.talk.MessageMgr.sendMsgNotify(roleid, 410040, null);
					return true;
				}
								
				Long teamid = xtable.Roleid2teamid.select(roleid);
				
				Team team = null;
				
				final java.util.ArrayList<Long> roleids = new java.util.ArrayList<Long>();
				if(teamid != null)
				{
					team = TeamManager.getTeamByTeamID(teamid);	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柍鈺佸暞閻濇洟姊绘担钘壭撻柨姘亜閿旇鏋ょ紒杈ㄦ瀵挳濮�閳撅拷閹风粯绻涙潏鍓хК婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮婚悙鐑樼厵闁芥ê顦敓钘夘煼閺佹捇寮妶鍥┬ｉ梺鍝ュУ閻楃娀骞冨▎鎰瘈闁告劧缂氱花濠氭⒑閻熺増鎯堢紒澶婂閹峰綊鎮ч崼婊呯畾濡炪倖鍔戦崹褰掑汲濞嗘挻鐓冮悷娆忓閻忔挳鏌熼鐣屾噧妞ゆ柨绻橀、娆撳礂绾板崬鏅欐繝纰夌磿閸嬫垿宕愰弽顐ｆ殰闁绘棁妗ㄩ悞濠冪箾閸℃ê鐏︽い顐ｆ礋閺岋綁骞囬澶婃闂佽崵鍠庣紞濠囧蓟閵娾晜鍋勭紓浣癸供濡嫬顪冮妶鍡樼┛缂傚秳绶氶妴渚�寮撮姀鈩冩珖闂佽法鍠撻弲顐ゅ垝閸儱绀冮柍鐟般仒缁ㄥ姊洪崫鍕殭婵炲眰鍊栫粋宥堛亹閹烘挾鍙嗗┑鐐村灦閻熝囨儗婵犲洦鐓冮悷娆忓閻忓瓨銇勯姀锛勬噰鐎殿噮鍓熸俊鍫曞醇椤掍礁顏堕柣鐘充航閸斿骸螞椤栨稏浜滈柟鎹愭硾椤庡矂鏌ｉ幒妤冪暫鐎规洍鍓濆蹇涘Ω閿濆嫮鐩庨梻浣告惈缁嬩線宕戦崟顒傤浄闁挎洖鍊归悡鍐⒑閸噮鍎忕紒妤佸浮濡焦寰勯幇顓犲弳濠电娀娼уΛ娆戠矈閳哄懏鐓熼柟鐑樻煥娴滈箖鏌曢崶褍顏┑锛勫厴婵＄柉顦存い鏃�甯″娲传閸曨剚鎷辩紓浣割儐閹瑰洭寮幘璇叉闁靛牆娲ㄦ牎濠电偛鐡ㄧ划宥囨崲閸絾锛傞梻渚�娼уù姘熆娓氾拷楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬鐔虹瘈闁冲嚖鎷烽柛鏇炵仛閻や礁螖閻橀潧浠滄俊顐ｇ箓椤曪綁顢氶敓钘夌暦閻撳簶鏀介柟閭﹀幘缁夐亶姊婚崒娆掑厡缂侇噮鍨甸幗顐︽偡濠婂嫭绶查柛鐔告尦閺佹劙鎮欑�靛摜鐦堥梺鎼炲劘閸斿骞忔繝姘拺缂佸瀵у﹢浼存煠瑜版帞鐣洪柡浣规崌閹崇偤濡烽敃锟介敓鑺ュ姉閿熷�燁潐濞叉﹢宕濆▎鎾跺祦闁哄秲鍔嶆刊鎾煕濠靛嫬鍔电紒槌栧櫍濮婄粯鎷呴崫銉ㄥ┑鈽嗗亯濞夋洜鍒掗崼鐔稿闁告繂瀚峰Λ婊堟偡濠婂懎顣奸悽顖涱殜閹�斥枎閹剧补鎷婚梺绋挎湰閸戝綊宕甸悢鎼炰簻闁挎棁鍋愰悾鐢告煛瀹�瀣М濠德ゅ煐閹棃鍩勯崘顏冮偗闂傚倸鍊稿ú銈壦囬悽绋胯摕婵炴垶绮庨悿锟介梺瑙勫礃濞呮洟宕愰婊呯＝闁稿本姘ㄦ牎闂佹悶鍔屽﹢鍗炍ｉ幇鏉跨婵°倧鎷风紒鐘崇♁閵囧嫰骞樺Δ锟界�氼噣寮抽銏♀拻濞达綀濮ょ涵鍫曟煕閻樿櫕绀�閾荤偤鏌涢弴銊ュ箻濞戞挸绉堕敓钘夌畭閸庨亶藝椤栨粌顥氶柛褎顨嗛悡鏇熶繆閵堝懎鏆曠紒杈珪缁绘稑顔忛鑽ゅ嚬闂佸搫鎳忕换鍫ュ蓟濞戞鏆嗛悗锝庝憾濞差厾绱撴担鍓插剰缂佺粯锚椤繐煤椤忓嫪绱堕梺鍛婃处閸撴瑩宕戝澶嬧拺闁硅偐鍋涙俊鑺ヤ繆閻愭壆鐭欐鐐插暣閺佹捇鎮╅崘韫盎闂備胶顭堢换妤呭磻閹版澘鍌ㄩ柣銏犳啞閳锋帒銆掑顒佹悙鐎殿喛娉曠槐鎺楁偐閸愯尙浼岄悗娈垮枤椤牓鍩ユ径鎰潊闁挎稑瀚獮鍫ユ⒒娴ｅ憡鎯堥柛濠傜秺椤㈡牕鈻庨幘宕囷紵闂佸搫鍟悧濠囨偂濞戞熬鎷烽惂鍛婂闁诲函缍嗛崜娑溾叺濠德板�楁慨鐑藉磻閻愮儤鏅濋柕蹇曞Х閺嗭箓鏌ㄩ悢鍝勑ｉ柛濠勫厴閺岀喓绱掑Ο杞板垔濠电偛鍚嬮惄顖氼潖婵犳艾纾兼慨姗嗗墾閹烽绮欏Λ鍨そ婵¤埖绔熼敃锟藉ú顓㈠箖閻ｅ瞼鐭欓柤鎰佸灡閹蹭即姊绘笟锟藉褔鈥﹂崼銉ョ？妞ゆ洩鎷风�殿喓鍔嶇粋鎺旓拷锝庡亞閸橀亶姊洪搹顐ｅ珪闁归鍏橀弻锟犲川椤斿墽鐓夐梺绯曟杺閸ㄤ粙鐛锟藉顒勫Ψ閿旇姤婢戦梻鍌欑閻ゅ洤螞閸曨倠娑樜旀担渚锤濠电娀娼ч鍡涙偂閺囥垺鐓忓┑鐐茬仢閸旀粓鎮归幇銊ュ⒉濞ｅ洤锕畷锝嗗緞婵犲偆娼氭俊銈囧Х閸嬬偟鏁敓鐘靛祦婵☆垵娅ｉ弳锕傛煕閵夈垺娅囩�规挷绀侀埞鎴︽偐閸偅姣勯梺绋款儑閸嬨倕鐣疯ぐ鎺戦唶闁哄洨鍠庢禒顓㈡⒑闂堟侗妲撮柡鍛櫊瀵偊宕掗悙瀵稿弳闂佺粯娲栭崐鍦拷姘炬嫹 by changhao
					
					if (!team.isTeamLeader(roleid))
					{
						psend(roleid, new STeamError(TeamError.SelfNOtLeader));
						TeamManager.logger.debug("FAIL:CRequestTeamMatch:濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐏忓繘姊洪崨濠庢畷濠电偛锕ら锝囨嫚濞村顫嶅┑鈽嗗灦閺�閬嶅棘閿熶粙姊绘担鍛婂暈婵炶绠撳畷鎴﹀礋椤掍礁寮块梺闈涚箞閸婃牠鍩涢幋鐐电闁煎ジ顤傞崵娆愵殽閻愭惌娈滈柡宀�鍠栭幃鐑芥偋閸喐鍊锋俊鐐�ら崑鍕崲閹寸姵宕叉繝闈涙－濞尖晜銇勯幒鎴濐仼闁轰礁缍婂缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽弻銉ヨ摕闁靛／鍐偊闂傚鍋勫ú锔剧矙閹烘鐓曢柟杈鹃檮閻撴瑧绱掔�ｎ偄顕滈柟鐧哥悼缁辨帡鎮╅搹顐㈤瀺闂侀潧娲ょ�氫即寮崒婊勫珰闁肩⒈鍏涢崠鏍磽閸屾瑧璐伴柛鐘崇墵閳ワ箓鎮滈挊澶岀暫闂佺粯鍨煎Λ鍕不閻樻祴鏀介柣妯诲絻閿熷�熷吹缁柨煤椤忓懐鍘告繛杈剧悼閹虫挻鎱ㄥ鍥锋嫹鐟欏嫭纾搁柛鏃�鍨块妴浣割潨閿熶粙骞冨▎鎾崇濞达絼璀﹂敓鏂ゆ嫹闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗ù锝堟缁�濠傗攽閻樻彃浜為柣鎺曟閳规垿鎮╃�圭姴顥濈紓浣哄閸ㄥ爼寮婚敐澶婄闁挎繂鎲涢幘缁樼厓闂佸灝顑呭ù顕�鏌＄仦鍓с�掑ù鐙呯畵瀹曟粏顦抽柛锝庡灦濮婅櫣绮欑捄銊ь唶闂佹椿鍓濋崑鎰ｉ幇鏉跨婵°倕锕ラ弲顏堟⒑閸涘﹣绶遍柛妯煎亾缁傛帡骞栨担鐟帮拷鍨箾閸繄浠㈤柡瀣♁閵囧嫰顢橀姀鈩冩殸婵烇絽娲ら敃顏堢嵁閺嶃劍濯撮柛婵勫劚楠炴劕鈹戦悙鑸靛涧缂佹彃锟界喆浜归柕濞炬櫅閸楁娊鏌曡箛銉х？闁告ü绮欓弻鐔煎礂閸忕厧鍓归梺鎼炲妼绾绢厾鍒掗弮鍫熷仺闁告稑锕﹂崣鍡涙⒑缂佹ɑ顥嗘繛鍜冪秮楠炴宕掗悙瀵稿幈闂侀潧顭堥崝瀣触椤愶附鐓涘〒姘搐濞呭秹鏌℃担瑙勫磳闁诡喒鏅犲Λ鍐ㄢ槈濮樸儱浜伴梻鍌氬�烽悞锕傚箖閸洖纾挎繛宸簻缁�鍫ユ煥閺囩偛锟芥悂寮告笟锟介弻娑㈠即閵娿儳浠梺缁樻尵婵烇拷闁哄瞼鍠栭、姗�鎮㈡搴ｆ噯闂備礁鎲￠弻銊╂偤閵娧勫床婵炴垯鍨圭粈鍌炴煕韫囨洍鎷℃俊顐㈠暙閳规垿顢欑涵宄板缂備緡鍣崹鍫曠嵁韫囨稑宸濇い鏍ㄧ矒閳瑰繘鏌ｆ惔顖滅У闁稿妫涚划鏃堟倻閼恒儮鎷绘繛杈剧导鐠�锕傛倿閹灛鏃堟偐閸欏鍠愭繝銏ｎ潐濞茬喖銆佸锟介幃銏ゆ惞閻熶即鐛庨梻鍌欑閹碱偄煤閵忋倕鏄ラ柛鏇ㄥ灠閺嬩線鏌涢妷顔煎闁绘挾鍠栭弻鐔兼焽閿曪拷婢т即鏌熼悾灞解枅闁哄矉缍侀弫鍐晸娴犲鐓�闁挎繂鎷嬪鏍р攽閻樺疇澹樼痪鎯у悑閹便劌顫滈崱妤�鈷曢梺褰掝棑閸忔﹢骞冨鍫熷殟闁靛鍎查悾閬嶆⒒娴ｇ顥忛柛瀣噹鐓ょ�广儱顦伴弲鎼佹煛閸屾ê锟芥鎮鹃悽纰夋嫹鐟欏嫭绀�闁靛牆鎲￠幈銊╂晸娴犲鐓冮柕澶堝劚閺嗚京绱掗妸锝呭姦婵﹦绮幏鍛瑹椤栨稒鏆為梻浣筋潐濡炴寧绂嶉鍕垫綎濞寸姴顑呯粈瀣亜閺嶃劍鐨戦柡灞熷啠鏀介柣妯肩帛濞懷勩亜閹存繃顥㈤柟顔欍倗鐤�婵炴垶鑹捐ぐ鍕⒑閹肩偛鍔�閻忕偠妫勬竟鍫ユ⒒娴ｈ姤纭堕柛鐘虫礃閹便劑濡堕崥銈呮惈椤劑宕ㄩ鐐典喊濠电姷鏁告慨鐢靛枈瀹ュ纾婚柟閭﹀櫙閹烽鎲撮崟顒傤槬濠电偛鐪伴崝鎴︺�佸▎鎾冲嵆闁靛繆妾ч幏娲⒑閼姐倕鏋戝鐟版楠炴鎮╃紒妯煎幗闂佺粯姊瑰娆撳礉閿曞倹鐓欐い鏃�鍎虫禒婊堟偂閵堝棎浜滈煫鍥ㄦ尰閸ｄ粙鏌涘Ο鐑樺暈缂佺粯绋掑蹇涘礈瑜庨崑褍顪冮妶搴″箹闁绘鎹囧顐﹀箻缂佹ê鐧勬繝銏ｆ硾椤戝懏绂掗幘顔藉�垫繛鍫濈仢閺嬶附銇勯弴鍡楁搐閻撯�愁熆閼搁潧濮囨い顐㈡嚇閺岋絽螣鐠囪尙绁风紓浣风贰閸ｏ絽顫忕紒妯肩懝闁跨喕妫勯…鍥樄闁炽儻绠撳畷濂稿Ψ閵壯嶇吹濠电姷鏁告慨鐢告嚌閸撗呬笉妞ゆ牜鍋為悡鐔兼煙鏉堝墽鍒扮悮姘舵⒑閸濆嫭鍣洪柣鎿勭節瀵鈽夊Ο閿嬵潔濠碘槅鍨崇亸銊╁箯閻戣姤鍋￠柟閿嬫⒐閻╊垰鐣峰锟芥俊姝岊槼婵炲牓绠栧娲濞淬儱鐗撳鏌ュ煛閸涱厽鐎繝鐢靛Т濞诧箓鎮″▎鎰╀簻闁哄诞鍕垫闂佸摜鍠嶉崡鎶藉箖閸ф绀嬫い鏍ㄧ▓閹峰姊虹粙鎸庢拱闁煎綊绠栭弫鎾寸鐎ｅ灚顥栫紓渚囧枛閻楀﹦绮悢鍏兼櫢濞寸姴顑囧畵渚�鏌″搴″季闁轰礁鍟撮弻鏇㈠醇濠靛浂妫為梺缁樼箑閸楀啿顫忛搹鍦＜婵☆垰鎼～宀勬⒑閸︻厸鎷￠柛瀣椤㈡瑨绠涢幘顖涙杸闂佹悶鍎崕鎵姳婵犳碍鈷戦柛婵嗗閻т線鏌涢弴銊ヤ簼妞ゅ繒鍋ゅ缁樻媴閸涘﹤鏆堝┑顔硷工缂嶅﹤鐣疯ぐ鎺撳仺闂傚牃鏅濈粙蹇涙椤愩垺澶勯柟宄邦儏鐓ゆい蹇撶У閺呮粓姊洪崨濠冨闁稿妫濋幃浼村煛娴ｅ弶鏂�闂佺粯锚閻忔岸寮抽埡浣叉斀妞ゆ梻鈷堥崵鐔兼煙楠炲灝鐏叉鐐叉喘瀵墎鎹勯妸褍骞�闂傚倷绀侀幖顐⒚洪姀銈呭瀭婵炲樊浜滈悡鏇㈡煙鏉堥箖妾柣鎾跺枛閺岋綁寮幐搴℃殘缂備浇娉涘鍓佹崲濞戙垹閱囨慨姗嗗幗閻濇岸姊洪崫鍕伇闁哥姵鐗曢悾宄扳枎閹炬緞褔鏌涢埄鍐炬濞寸》鎷� "+roleid);
						return true;						
					}
					else if (team.getTeamInfo().getMembers().size() >= TeamManager.MAX_MEMBER_COUNT)
					{
						psend(roleid, new STeamError(TeamError.TeamFull));
						TeamManager.logger.debug("FAIL:CRequestTeamMatch:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喖顭烽幃銏ゅ礂鐏忔牗瀚介梺璇查叄濞佳勭珶婵犲伣锝夘敋閿熻棄顫忛崫鍕懷囧炊瑜濋幏鐑藉Χ婢跺﹦鐛ラ梺鍝勭▉閸樼晫绮婚幒妤佲拻濞达絼璀﹂悞鍓х磼缂佹ê濮嶇�规洏鍎抽敓鏂ょ秵閸撴稓绮堟繝鍥ㄧ厵閻庣數顭堝暩缂佺偓鍎抽妶鎼佸蓟閻斿吋鐒介柨鏇嫹鐎殿喚鍋撶换娑㈠醇閻曞倽锟藉潡鏌＄仦璇插闁诡喓鍨荤槐鎺戭潨閸℃﹩妫勭紓鍌氬�烽懗鑸垫叏鐎靛摜鐭撻柣鐔稿閺嗭箓鏌￠崶銉ョ仼缁绢叏鎷烽梻浣筋嚙缁绘帞鍒掗姘兼富濞寸姴顑呴弸渚�鏌涢幇闈涙灈缁炬儳銈搁弻銊╁棘閸喒鎸冮梺宕囶儠閸婃繂顫忕紒妯诲闁告稑锕ラ崕鎾斥攽閻愯尙婀撮柛銊ㄦ閻ｇ兘鎮烽幊濠冩そ椤㈡棃宕ㄩ婵堟殫闂傚倷鑳剁划顖炲蓟閵娾晛瑙﹂悗锝庡枟閸嬪倹绻涢崱妯诲鞍闁抽攱鍨堕妵鍕箻閸楃偛顬嬮梺浼欑到瀹曨剟鈥﹂懗顖ｆ闂佹悶鍔岄悥鐓庮嚕鐠囧樊鍚嬮柛銉㈡櫇閿涙粌鈹戦埥鍡楃仴鐎规洜鏁昏棟濞寸厧鐡ㄩ埛鎴︽煕濠靛棗顏柣鎺曟硶缁辨挸顓奸崟顓犵崲闂佺粯渚楅崰鏍綖濠婂牊鏅搁柦妯侯槺閺嗭箓鏌ㄩ悢鍝勑ｉ柛濠勫厴閺岀喓绱掑Ο娲敹闂佸搫娲㈤崹娲煕閹烘嚚褰掓晲閸涱喖鏆堥梺璇″灠閻楁捇寮婚妶鍚よ櫣鎷犻懠顑垮寲缂傚倷绶￠崰妤�顫忔繝姘疅闁圭虎鍠栫粈瀣亜韫囨挻顥犻柣锝夌畺濮婄粯鎷呴搹鐟扮闂佹悶鍔庨崢褑鐏嬮梺鍛婃处閸撴瑩宕濋弮鍫熲拻闁稿本鐟х粣鏃�绻涙担鍐叉处閺咁剟鐓崶銊р槈缂侊拷鐎ｎ喗鈷掗柛顐ゅ枔閳句線鏌ｉ敐澶夋喚婵﹤顭峰畷鎺戭潩椤掑﹥瀚归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤銆冮崨绮癸拷锕傚Ω閳轰線鍞跺┑鐘绘涧椤戝棝鏁嶅Δ鍛拻濞达絿鎳撻婊勭箾閸欏澧电�规洘鍔欏畷顐﹀Ψ瑜岀粭澶婎渻閵堝棛澧遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟� "+roleid);
						return true;						
					}
					
					team.getTeamInfo().setTargetid(targetid);
					team.getTeamInfo().setMinlevel(levelmin);
					team.getTeamInfo().setMaxlevel(levelmax);
					
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃闁硅櫕鎹囬垾鏃堝礃椤忓孩瀚归柨婵嗙凹缁ㄥジ鏌熼惂鍝ョМ闁哄矉缍侀、姗�鎮欓幖顓燁棧闂備線娼уΛ娆戞暜閹烘缍栨繝闈涱儐閸婇攱銇勯幒鐐村濡炪倕绻楀▔娑㈠煘閹达附鍋愭繛鍫熷濞堟壆绱撴担铏瑰笡缂佽鍊块垾锕傚炊椤忓秵鈻岄梻浣瑰缁诲嫰宕戝☉鈶╋拷锕傚Ω閳轰線鍞堕梺缁樻煥閹诧繝顢旈悢灏佹斀闁绘劕妯婇崵鐔封攽椤旇姤灏︽い銏＄墵瀹曘劑顢涘锟界粭澶愭⒑閸濆嫮鈻夐柛妯圭矙閹繝鎮㈤崗鑲╁幍闂備緡鍙忕粻鎴﹀几濞戙垺鐓曢柡鍌涱儥閸庢棃鏌″畝瀣瘈鐎规洏鍔戦、娆撳礈瑜忛崢婊堟⒒娴ｅ憡鎯堥悶姘煎亰瀹曟劕鈹戠�ｎ剙绁︽繛鎾寸啲閹烽攱顨ラ悙鏉戞诞妤犵偛顑呴埞鎴﹀幢閳哄倹绗庨梻鍌氬�搁崐鐑芥嚄閸撲礁鍨濇い鏍ㄧ矋瀹曟煡鏌涢弴銊ョ仩缂侊拷閸屾稒鍙忔俊銈咁儐鐎氱懓螖閻橀潧浠滈柛鐕佸亯閻忓啴姊洪崨濠佺繁闁搞劍澹嗙划濠囨晝閸屾稈鎷洪梺鍛婃崄鐏忔瑩宕㈠☉銏＄厱闁绘ê纾晶顒勬煙娓氬灝濡介柟顖涙閸┿儵宕卞Ο铏规В闂傚倷绶氬褔鎮ч崱娆愬床闁规壆澧楅崕濠冪節婵犲倻澧涢柣鎾存礋閺屾洘绻濊箛鏇犳殸闂佸磭绮ú鐔煎蓟閳╁啯濯撮悷娆忓绾炬娊姊洪悷鎵紞闁稿鍊栨穱濠囨倻閽樺）鈺呮煏婢舵ê鏋熸い銉ｅ�曢埞鎴︽晬閸曨偂鏉梺绋磕涢崪鍐╁闂傚牊绋撻悞鍝ワ拷瑙勬礀缂嶅﹤鐣锋總绋垮嵆闁绘劕鍚�缁辨粓姊绘担鐟邦嚋婵﹤顭峰畷鎴﹀箻瀹曞洦娈炬繝銏ｅ煐閸旀牠鎮¤箛鎾斀闁绘灏欑粻鎶芥煟閿濆牅鍚柣銉簽缁辨帡濮�閻樺吀鐢荤紓鍌欒兌缁垶鎯勯鐐靛祦婵鎷风�殿喖鐖奸獮瀣攽閸モ晜顫滈梻鍌氬�烽悞锕傚箖閸洖绀夐煫鍥ㄦ煟娴犲牓鏌熼梻瀵割槮闁汇倝绠栭弻鏇熷緞閸℃ɑ鐝曢梺鎶芥敱鐢繝寮诲☉姘勃闁告挆鍕珮闂備礁鎲￠弻銊х矓閸偆鈹嶅┑鐘叉处閸婄兘鏌℃径瀣劸闁搞倕顑囩槐鎾存媴缁嬪尅鎷烽崫銉х煋鐟滅増甯掔粻鏍ㄧ節婵犲倻澧涢悗鐢靛Т椤法鎹勯搹鍦姼闂佸摜鍋熼弫璇差潖缂佹ɑ濯撮柤鎭掑劤閵嗗﹪姊洪棃鈺冪Ф缂佺姵鎹囬悰顔跨疀濞戞瑦娅㈤梺璺ㄥ櫐閹凤拷  by changhao
					roleids.addAll(team.getAllMemberIds());
					this.lock(xtable.Locks.ROLELOCK, roleids);
				}
				else
				{
					roleids.add(roleid);
				}
				
				Long roleidteamId = xtable.Roleid2teamid.get(roleid);
				if (teamid != roleidteamId)
				{
					psend(roleid, new STeamError(TeamError.UnkownError));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喖顭烽幃銏ゅ礂鐏忔牗瀚介梺璇查叄濞佳勭珶婵犲伣锝夘敋閿熻棄顫忛崫鍕懷囧炊瑜濋幏鐑藉Χ婢跺﹦鐛ラ梺鍝勭▉閸樼晫绮婚幒妤佲拻濞达絼璀﹂悞鍓х磼缂佹ê濮嶇�规洏鍎抽敓鏂ょ秵閸撴稓绮堟繝鍥ㄧ厵閻庣數顭堝暩缂佺偓鍎抽妶鎼佸蓟閻斿吋鐒介柨鏇嫹鐎殿喚鍋撶换娑㈠醇閻曞倽锟藉潡鏌＄仦璇插闁诡喓鍨荤槐鎺戭潨閸℃﹩妫勭紓鍌氬�烽懗鑸垫叏鐎靛摜鐭撻柣鐔稿閺嗭箓鏌￠崶銉ョ仼缁绢叏鎷烽梻浣筋嚙缁绘帞鍒掗姘兼富濞寸姴顑呴弸渚�鏌涢幇闈涙灈缁炬儳銈搁弻銊╁棘閸喒鎸冮梺宕囶儠閸婃繂顫忕紒妯诲闁告稑锕ラ崕鎾斥攽閻愯尙婀撮柛鏃�鍨甸悾閿嬪閺夋垹顔掗柣鐘叉惈閹碱偉鈪查梻鍌欐祰濞夋洟宕板鍥у灊婵炲棗娴氬鏍煕濠靛棗鐝旂憸鏂跨暦閹偊妲炬繛瀵稿Т閵堢顫忛搹瑙勫珰闁肩⒈鍓涢澶愭倵閻у憡瀚归梺褰掓？缁�浣虹不閺嶃劎绠鹃柛鈩兩戠亸顓犵磼閻樼儤鐝ǎ鍥э躬婵″爼宕熼鍛暭闂備胶鎳撻崲鏌モ�﹀畡閭︽綎闁惧繐婀遍惌娆撴煙缁嬪灝顒㈤柟鐑戒憾濮婃椽鎳￠妶鍛畬闂佹悶鍎扮粈浣该洪銏犳瀬闁告劦鍠栫壕鍏肩箾閹寸偠澹樻鐐茬Ф缁辨挻鎷呴崫鍕濠电姰鍨洪敋闁伙絿鍏橀、妤佹媴娓氼垱閿ゅ┑鐐差嚟閸樠囨偤閵娾晜鍋傛繛鍡樺姂娴滄粓鏌￠崒婵愬殭濠碘�冲悑缁绘稓浠﹂崒姘炬嫹濠靛鍋樻い鏇嫹濠殿噯鎷烽梺鎸庣☉鐎氼噣顢欓弴銏＄厽閹兼番鍨婚埦渚�鎷戞潏鈺冪＜閻犲搫鎼痪褏绱掔紒妯尖槈妞ゆ柨绻橀、娆撴偂鎼达絿娼夐梻鍌欑窔濞佳兾涢弮鍌滅焼濞撴熬鎷烽柛鈹垮劜瀵板嫭绻涢姀銏犳灈闁哄被鍔庨敓鏂ょ秵閸嬪懎顭块幋锔解拻闁稿本鐟чˇ锕傛煙濞村鎷风搾浣规そ閺佸倿鎮惧畝濠冮敜婵犵數濞�濞佳囶敄閸℃稑纾块柟鎹愬吹閸欐捇鏌涢妷锝呭閻忓繈鍔戦弻锟犳晸閼恒儳顩烽悗锝庡亞閸樿棄鈹戦绛嬫當婵☆偅顨婂绋库槈閵忥紕鍘介棅顐㈡处缁嬫劙骞夋ィ鍐╃厸閻忕偛澧藉ú鎾煕閳哄绡�鐎规洘甯掗…銊╁礃閿濆棗顏梻浣筋嚙濮橈箓锝炴径濞掑搫螣閸忕厧搴婇梺鍓插亝缁诲秹宕甸弴銏＄厵缂備降鍨归弸鐔兼煕鐎ｎ偄濮嶉柡宀嬬秮婵拷闁靛繆鍓濆В鍕⒑閸涘﹥鐓ラ柣鏍帶椤繒绱掑Ο璇差�撻梺鍏间航閸庢娊濡存繝鍥ㄢ拺闂傚牃鏅濈粔鍓佺磼閻樿櫕宕岄柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷? "+roleid);
					return true;
				}
				
				if (!checkTeamState(team, roleid)) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄苯绉归弻銊э拷锝庝簼鐠囩偤姊洪崫鍕拱闁烩晩鍨堕妴渚�寮撮姀鐘栄囨煕濞戝崬鏋ら柨鐔绘椤嘲顫忓ú顏勫窛濠电姴娴烽崝鐑芥⒑缁嬭法绠查柨鏇樺灩椤曪絾绻濆顑┾晠鏌曟径鍫濈仾闁哄偊鎷烽梻鍌欒兌绾泛顬婅瀵彃顭ㄩ崟顒佺彙闂傚倸鍊搁崐椋庣矆娓氾拷楠炴牠顢曢敃锟界粻鐘荤叓閸ャ劍绀�闁搞劍绻堥弻鐔煎箲閹伴潧娈梺钘夊暟閸犳牠寮婚妸鈺佸嵆妞ゅ繐鎳庨鍫曟⒑閸欍儳涓茬紒韫矙婵℃挳骞掗幋顓熷兊闂佺粯鎸稿ù閿嬬椤撱垺鈷戠�规洖娲ㄧ敮娑㈡煙閻熺増鎼愭い顐㈢箰鐓ゆい蹇撳椤旀劙姊虹紒妯哄妞ゆ洘绮撻獮蹇涙倻閽樺顓洪梺鎸庢穿閹烽鐥幑鎰垫綈缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹堢紓鍌欒兌婵敻鎮уΔ浣衡攳濠电姴娲ゅ洿闂佸憡渚楅崰鏍р枍瑜旈幃妤冩喆閸曨剙鐭紓浣藉煐瀹�绋款嚕鐠囨祴妲堥柍鍨涙櫔閹风兘鏁冮崒姘鳖吅濠电娀娼уú銊︾椤忓嫧鏀介柣妯诲墯閸熷繘鏌涢悩宕囧妞ゃ劊鍎甸獮鏍ㄦ媴閸濄儱骞嬮梻浣侯攰閹活亪姊介崟顖氱９闁绘垼濮ら悡鐘电棯閺夊灝鑸瑰褜鍨堕弻娑㈠即閵忋垻鏆┑顔硷龚濞咃絿鍒掑▎鎾崇闁斥晛鍟弳鐗堜繆閻愵亜锟芥垿宕濆畝鍕櫇妞ゅ繐鐗忓畵渚�鏌涢幇闈涙灍闁稿浜濋妵鍕冀閻㈢數蓱闂佸疇顕ч張顒傛崲濠靛棌鏋旈柛顭戝枟閻忓牓姊洪幐搴㈢┛濠碘�虫喘瀹曟岸骞掑Δ濠冩櫖闂佺粯鍔樼亸娆擃敊閸℃稒鈷戦柛娑橈功閳藉鏌ｆ幊閸旀垵鐣烽幇顔剧＜婵☆垵顕у鍨攽鎺抽崐褔骞忛柨瀣╃箚妞ゆ劧绲鹃ˉ鍫燁殽閻愬樊鍎旈柟顔界矒閹崇偤濡烽姀鈥愁伜婵犵數鍋犻幓顏嗗緤閸ф纾块柕鍫濐槸閸氬綊鏌ㄩ悢鍓佺煓婵﹥妞介獮鏍倷鐠囇勫闁哄稁鍘介崑瀣煟濡灝鍚圭�规挷绶氶悡顐﹀炊閵娧�妾ㄩ梺鍝勬噺閹倿寮婚妸鈺傚亞闁稿本绋戦锟�? by changhao
				{
					psend(roleid, new STeamError(TeamError.TeamStateError));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁诡垎鍐ｆ寖闂佺娅曢幑鍥灳閺冨牆绀冩い蹇撳鐎氬綊鏌ㄥ┑鍡欏嚬缂併劌銈搁弻鐔兼儌閸濄儳袦闂佸搫鐭夌紞渚�銆佸锟介幃娆撳箹椤撶噥妫ч梻鍌氬�稿ú銈壦囬悽绋胯摕闁靛鍎弨浠嬫煕閳╁叐鎴﹀箖濞嗘挻鈷戞慨鐟版搐婵′粙鏌涢妸銉﹀仴鐎殿喖顭烽幃銏☆槹鎼淬垺鐤傞梻浣告惈椤︽壆锟界瑳鍌滄槀婵犵绱曢崑鎴﹀磹閵堝纾婚柛娑卞灡瀹曟煡鏌涢鐘插姌闁跨喐鍨濈粈渚�锝炲鍫熸櫢濞寸姴顑呯粻鏍煏韫囧锟芥洘瀵奸悩缁樼厱闁哄洢鍔屾禍婵囥亜閹剧偨鍋㈡慨濠傤煼瀹曟帒鈻庨幋顓熜滈梻浣侯攰椤曟粎鎹㈠┑瀣ラ柛鎰ㄦ櫇缁★拷闂佸憡鍔︽禍璺好洪幖浣光拺闁告挻褰冩禍婵囩箾閸欏澧甸柟閿嬪灴閹垽宕楅懖鈺佸妇濠电姷鏁搁崑鐔煎磻閹炬枼鏋嶉柛娑樼摠閻撴洘淇婇妶鍕槮闁崇粯娲熼弻鈥崇暆鐎ｎ剛袦濡ょ姷鍋涘ú顓€�佸☉銏℃櫜闁告侗鍠氶弶娲⒒閸屾瑧顦︾紓宥咃躬钘熼柟鎹愵嚙缁�鍌涗繆椤栨繃顏犻柡鍡檮閵囧嫰骞囬崜浣烘殸闁哥儐鍨堕幃宄邦煥閸愵亞顔掗梺璇″枤閸嬬偟缂撴禒瀣窛濠电姴鍋婇幏鐑芥偨閸涘﹦鍘介悷婊冪Ч楠炲鏁嶉崟鑸靛婵﹩鍓涚粔鐑樻叏婵犲懏顏犻柟鐟板婵℃悂濡烽敂鎾呮嫹閾忓湱纾藉〒姘搐閺嬬喖鏌ｉ悢鍙夋珚闁诡喕鍗抽、娆撴寠婢跺瞼鐛梻浣哥秺閸嬪﹪宕滃☉銏╂晩闁归偊鍘剧粻楣冨级閸繂鈷旈柟顔笺偢閺岀喖鎼归锝呴瀺缂備礁鍊哥粔褰掑蓟閸℃鍚嬮柛鈥崇箲鐎氬ジ姊绘担鍛婂暈闁瑰憡妲掗妵鎰板礃閳哄喚娲稿┑鐘绘涧閻楀繒澹曟總鍛婂仯闁搞儯鍔岀徊缁樸亜韫囷絽寮柡宀�鍠栭、娆撳箚瑜嶉獮瀣節绾版ê澧查柟顔煎�垮畷娲晸閻樿尙锛滃┑鐘诧工閸燁偆绮诲ú顏呪拻闁稿本鐟х粣鏃�绻涙担鍐叉噺瀹曟煡鏌涢埄鍐槈闁汇倗鍋撶换娑㈠箣濞嗗繒浠鹃梺绋匡工閻栧ジ寮诲澶娢ㄩ柨鏃傛櫕娴煎洭姊洪悮瀛樺婵炲濮撮鍡涙偂閻斿吋鐓欓梺顓ㄧ畱閻忛亶鏌涢妶鍜佸剶婵☆偄鎳橀、妤佸緞婵犲偆娼芥俊鐐�戦崝濠囧磿閻㈢绠栨繛鍡樻尭缁犵敻鏌熼悜妯诲鞍妞ゆ柨瀚板娲礈瑜忕敮娑㈡煟濡ゅ啫鈻堢�殿喛顕ч埥澶娢熼柨瀣垫綌闂備礁鎲￠〃鍫ュ磻閻斿摜顩烽柍鍝勫暟绾捐棄霉閿濆妫戠紒娑樼箳缁辨帡鎮╅搹顐㈢濡炪値鍋勭换鎰弲濡炪倕绻愮�氼噣藝椤撱垺鈷戦柤娴嬫杹閹凤繝鏌涢幘瀵告噮闁轰緡鍣ｆ俊鐑藉煛閸屾瀚奸梻浣告啞缁哄潡宕曟潏銊уⅰ缂傚倷鑳堕崑鎾愁熆濡偐鐭撻柛鎾茬閸ㄦ繈鎮楅敐搴℃灈缂佺姵濞婇弻鐔煎箚瑜嶉懜鐟懊瑰鍕疄婵﹥妞藉畷銊︾節閸屾凹娼婇梻浣告惈閸婇娆㈠鍓佸祦闊洦绋掗幆鐐烘煕閿旇骞橀柨娑欑箖缁绘盯骞樼壕瀣棟濠电偛鐪伴崐婵嬪箖濮楋拷閸╁嫰宕橀鍡╁晭闂備礁鎲￠悷銉┧夐姀銈庢晜闁割偅绻勯崢娲倵楠炲灝鍔氭い锔诲灦閻涱噣濮�閿涘嫮顔曢梺绯曞墲閿氶柣蹇婃櫊閺屻劌鈽夊▎鎴犵厜闂佸搫鐭夌徊楣冨箚閺冨牜鏁嶆繝濠傛啗閿濆鈷戠紒瀣儥閸庡繘鏌熼搹顐㈠缂佸倸绉归獮鏍ㄦ媴閻熼缂撻梻浣告啞缁嬫垿鏁冮敃鍌氬偍闂侇剙绉甸埛鎴︽煕閿旇骞栭柛鏂款儔閺岀喖宕妷顔惧姼闂傚洤顦伴妵鍕即椤忓懎顏堕梻浣告惈閺堫剟鎯勯鐐叉槬闁挎稑瀚搁幏鐑芥晲鎼粹�愁潾闂佷紮绠戦悧鎾诲箖濡ゅ啯鍠嗛柛鏇ㄥ墮椤︹晜绻涚�涙鐭嬬紒璇茬墦閻涱喛绠涘☉妯虹獩濡炪倖鐗楃粙鎴﹀几閸岀偞鈷戦柛娑橈攻婢跺嫰鏌涢幘瀵割灱闁靛洦鍔欐俊鎼佹晜閸撗呮闂備焦鐪归崹钘夘焽瑜嶉弳鈺呮⒒娴ｈ姤銆冮柣鎺炵畵楠炲啴宕掑杈ㄦ闂佺鎻梽鍕磹閻戣姤鐓曟繝闈涙椤忊晠鏌ｆ惔顔煎籍婵﹥妞藉畷婊堝箵閹哄秶鍑规繝鐢靛仜瀵爼鏁冮姀鐘垫殾闁硅揪闄勯弲顒勬煕閺囥劌澧柡瀣灴濮婃椽宕崟顐ｆ闂佺粯顨呭Λ娑氬垝婵犳艾鍐�妞ゆ挾鍠撻崢閬嶆偡濠婂啴鍙勯柕鍡楀暣瀹曞崬鈽夊Ο鍏肩叄缂傚倷绀侀鍡涙晬閺嚶颁汗闁圭儤鎸告禍褰掓倵閻熸澘顥忛柛鐘崇墵瀹曟粓鏌嗗鍡忔嫼闂佽鍎兼慨銈夊极闁秵鍋ㄦい鏍ㄧ☉濞搭喗绻濋敓鑺ョ瑹閿熻棄顫忓ú顏勭閹艰揪绲块悾鐢告⒑閻熸澘鏆辩紒缁樏悾鐑筋敍閻愭潙锟界兘鏌ｉ幋鐑嗙劷闁告﹢浜跺铏圭磼濡崵鍙嗛梺鍦拡閸嬪懐绮嬮幒妤佺劶鐎广儱妫涢崢鎼佹煟韫囨洖浠辨繛鐓庮煼楠炲繐鐣￠幍顔芥闂佹悶鍎崝宥夋偩閻戣姤鈷戦悹鍥ㄥ絻閸よ京绱撳鍛棦鐎规洘绮岄埥澶愬閳ュ啿澧鹃梻浣稿閸嬩線宕曢弻銉ョ厱闁硅揪绠戠痪褔鏌ｉ幇顓熺稇妞ゃ儱顑夐弻娑㈠棘鐠恒剱褔鏌″畝锟介崰鏍箖閻戣姤鍋嬮柛顐ゅ枑閸婄兘姊绘担椋庝覆缂佹彃娼″畷妤�顫滈敓浠嬫偘椤曪拷瀹曞爼顢楁担闀愮綍闂備礁澹婇崑鍛崲閿熺晫绱掗妸銉吋婵﹦绮幏鍛村川婵犲倹娈樼紓鍌欑閹碱偄顭囬垾宕囨殾闁哄洢鍨圭涵锟介梺缁樺姀閺呮粓锝炲澶嬪仭婵犲﹤瀚悡銉︺亜椤愩垻绠崇紒杈ㄥ笒铻ｉ悹鍥ф▕閿熻姤鎹囧娲箚瑜忕粻鎶芥煙閾忣偅灏电紒顕呭弮閺佸秹宕熼鐙呯闯濠电偠鎻徊浠嬪箟閿熺姴绠氶柛顐ゅ枔缁犻箖鎮樿箛鏃傚闁瑰嘲鍢查悾鐑藉炊閵婏富鍟庨梻鍌欑濠�杈ㄦ櫠濡わ拷椤灝顫滈敓钘夌暦閿熺姴绠柤鎭掑劤閸橆亪妫呴銏″婵炲弶鐗曢弳鈺呮⒒娴ｅ憡鍟為柣鐔间憾楠炲繘鏌ㄧ�ｎ剛鐦堥梺姹囧灲濞佳嗏叿闂備焦鎮堕崝宀勫Χ缁嬭法鏆︽繛宸簻閸愶拷濡炪倖鎸鹃崑鐔妓囬锟藉娲传閸曨剙绐涙繝娈垮櫍閺�杈╃矙婢跺鍚嬪璺侯儑閸樼偓绻濆▓鍨灍闁告梹娲熼弫鎾剁玻閺嵮勬悙缂佺媭鍨伴—鍐拷锝庝簻椤掋垽鏌涢悩鍙夘棦闁哄本鐩鎾Ω閵夈儺娼炬俊鐐�х拹鐔煎磿闁秴鐓橀柟杈鹃檮閸婇锟界懓澹婇崰妤咁敁閸℃瑧纾藉ù锝呮惈鏍￠梺鍦焾椤兘鐛崼銉ノ╅柍鍝勫�瑰▍銏＄箾鐎电孝妞ゆ垵妫濋幃陇绠涘☉娆戝幈濡炪倖鍔х徊璺ㄧ不閺嶃劊浜滈柕澹啠鏋呴梺鍝勬湰缁嬫垿锝炲鍫熸櫢闁芥ê顦介悞鐣屾喐閺冨牆鐏抽柡鍐ㄧ墕缁�鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰仒缁堕潧鈹戦纭锋敾閻庣瑳鍛床婵犻潧妫岄弸鏃堟煕椤垵鏋熼柣蹇庣窔濮婅櫣绮欓崠鈩冩暰濡炪們鍔屽Λ娑氬垝鐎ｎ亶鍚嬪璺猴功椤旀劖绻涢幘纾嬪婵炶绠撳鏌ユ晲婢跺鎷虹紓鍌欑劍钃遍柍閿嬪笧缁辨帞绱掑Ο鑲╃暭闂佸ジ缂氭禍顒勫箯閻樺樊鍟呮い鏃囨閻︽粓姊绘笟锟藉褔鎮ч崱妞㈡稑螖娴ｇ懓寮块梺鎸庢礀閸婂綊鎮￠弴銏＄厵闁诡垎鍛喖闂佹眹鍔嶉崹鍧楀蓟閵娾晜鍋勯悹鍥ㄧ暙閹剧粯鐓熼柡鍐╁灥婢у瓨顨ラ悙鑼闁轰焦鎹囬弫鎾绘晸閿燂拷? "+roleid);
					return true;
				}
				
				if (!checkTeamMemberNum(team)) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄苯绉归弻銊э拷锝庝簼鐠囩偤姊洪崫鍕拱闁烩晩鍨堕妴渚�寮撮姀鐘栄囨煕濞戝崬鏋ら柨鐔绘椤嘲顫忓ú顏勫窛濠电姴娴烽崝鐑芥⒑缁嬭法绠查柨鏇樺灩椤曪絾绻濆顑┾晠鏌曟径鍫濈仾闁哄偊鎷烽梻鍌欒兌绾泛顬婅瀵彃顭ㄩ崟顒佺彙闂傚倸鍊搁崐椋庣矆娓氾拷楠炴牠顢曢敃锟界粻鐘荤叓閸ャ劍绀�闁搞劍绻堥弻鐔煎箲閹伴潧娈梺钘夊暟閸犳牠寮婚妸鈺佸嵆妞ゅ繐鎳庨鍫曟⒑閸欍儳涓茬紒韫矙婵℃挳骞掗幋顓熷兊闂佺粯鎸稿ù閿嬬椤撱垺鈷戠�规洖娲ㄧ敮娑㈡煙閻熺増鎼愭い顐㈢箰鐓ゆい蹇撳椤旀劙姊虹紒妯哄妞ゆ洘绮撻獮蹇涙倻閽樺顓洪梺鎸庢穿閹烽鐥幑鎰垫綈缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹堢紓鍌欒兌婵敻鎮уΔ浣衡攳濠电姴娲ゅ洿闂佸憡渚楅崰鏍р枍瑜旈幃妤冩喆閸曨剙鐭紓浣藉煐瀹�绋款嚕鐠囨祴妲堥柍鍨涙櫔閹风兘鏁冮崒姘鳖吅濠电娀娼уú銊︾椤忓嫧鏀介柣妯诲墯閸熷繘鏌涢悩宕囧⒌闁哄苯锕弫鎰緞婵犲懏鎲伴梻浣瑰缁诲倸螞濞嗘挸纾块柣鏂垮悑閻撳繘鐓崶銊︾鐎涙繂鈹戦鍡欏埌闁绘鎸搁～蹇撁洪鍕獩婵犵數濮寸�氼參宕宠濮婃椽宕妷銉︾�鹃梺鐟版啞婵炲﹪骞冩导鎼晪闁跨喕妫勯悾鐑藉础閻愨晜顫嶅┑鈽嗗灣閸樠囨晸閻ｅ苯浠辨慨濠冩そ濡啫霉閵堝棛銆掑ù鐙呯畵瀹曟粏顦伴柛瀣浮濮婂宕掑▎鎰偘濡炪倖娉﹂崶褏顦╅梺浼欑到閻偐绮堟繝鍥ㄧ厱闁斥晛鍟伴埥澶岀棯閹岀吋闁哄本鐩崺鍕礃椤忎焦顫嶉梻浣侯焾鐞氼偊宕濋幋锕�钃熼柣鏂垮悑閳锋帡鎮楅悽娈跨劸濠碘�茬矙濮婃椽骞庨懞銉︽殸闂佹悶鍔屽锟犵嵁閸愵厹浜归柟鐑樺灩閻ｆ娊姊洪崷顓炲妺闁搞劎鏁婚垾鏍醇濠靛啯鏂�闂佺粯鍔曞鍫曞闯濞差亝鐓曢柡鍐挎嫹闁荤啿鏅涢锝嗙節濮橆厼浜滈梺缁樻尭濞寸兘藝閳哄懏鈷戦梻鍫熺〒婢ф洘淇婇锝庢疁妞ゃ垺妫冮弫鎾绘晸閿燂拷? by changhao
				{
					psend(roleid, new STeamError(TeamError.TeamEnoughFull));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喖顭烽幃銏ゅ礂鐏忔牗瀚介梺璇查叄濞佳勭珶婵犲伣锝夘敋閿熻棄顫忛崫鍕懷囧炊瑜濋幏鐑藉Χ婢跺﹦鐛ラ梺鍝勭▉閸樼晫绮婚幒妤佲拻濞达絼璀﹂悞鍓х磼缂佹ê濮嶇�规洏鍎抽敓鏂ょ秵閸撴稓绮堟繝鍥ㄧ厵閻庣數顭堝暩缂佺偓鍎抽妶鎼佸蓟閻斿吋鐒介柨鏇嫹鐎殿喚鍋撶换娑㈠醇閻曞倽锟藉潡鏌＄仦璇插闁诡喓鍨荤槐鎺戭潨閸℃﹩妫勭紓鍌氬�烽懗鑸垫叏鐎靛摜鐭撻柣鐔稿閺嗭箓鏌￠崶銉ョ仼缁绢叏鎷烽梻浣筋嚙缁绘帞鍒掗姘兼富濞寸姴顑呴弸渚�鏌涢幇闈涙灈缁炬儳銈搁弻銊╁棘閸喒鎸冮梺宕囶儠閸婃繂顫忕紒妯诲闁告稑锕ラ崕鎾斥攽閻愯尙婀撮柛銊ㄦ閻ｇ兘鎮烽幊濠冩そ椤㈡棃宕ㄩ婵堟殫闂傚倷鑳剁划顖炲蓟閵娾晛瑙﹂悗锝庡枟閸嬪倹绻涢崱妯诲鞍闁抽攱鍨堕妵鍕箻閸楃偛顬嬮梺浼欑到瀹曨剟鈥﹂懗顖ｆ闂佹悶鍔岄悥鐓庮嚕鐠囧樊鍚嬮柛銉㈡櫇閿涙粌鈹戦埥鍡楃仴鐎规洜鏁昏棟濞寸厧鐡ㄩ埛鎴︽煕濠靛棗顏繝锟芥导瀛樼厽闁冲搫锕ら悘锔筋殽閻愭彃鏆ｅ┑顕嗘嫹闂侀潧鐗嗗Λ娑㈠矗閸℃稒鐓熼幖鎼灣缁夐潧霉濠婂嫮绠為柟顔惧亾缁绘繂顫濋娑欏濠电偠鎻徊浠嬪箟閿熺姴绠氶柛顐犲劜閸嬬姵鎱ㄥΟ鐓庡付濞存粍澹嗛敓鍊燁潐濞叉﹢宕濋弴锛勪簷闂備礁鎲℃笟妤呭储妤ｅ啯鍋橀柕澶涘缁★拷闂佹眹鍨藉褍鐡繝鐢靛仜閻即宕愬Δ锟介埥澶愭偨閸涘﹥娅㈡繛瀵稿Т椤戝棝鍩涢幋鐘电＝濞达絽顫栭鍛弿闁搞儯鍔嬬换鍡樸亜閺嶃劎鍟茬�规悶鍎查妵鍕敇閻愭潙顦╅梺闈涚墳缂嶄礁鐣峰锟介崺鐐烘倷椤掞拷椤忕儤绻濋悽闈涗哗闁规椿浜炲濠囨寠婢舵稖锟藉潡鏌涘Δ鍐ㄥ壋闁兼澘鐏濋湁闁绘ê妯婇崕鎰版煟閹惧瓨绀嬫鐐寸墪鑿愭い鎺炴嫹濠碘剝妞介弻鐔兼嚑椤掞拷娴滅偓銇勯妸锝呭姦闁诡喗鐟ч幏鐘侯樁闁告凹鍋勮灃闁绘﹢娼ф禒婊勭箾瀹割喖寮柕鍡曠閳诲酣骞嬮悩鐑╂敽闂佽鍑界紞鍡涘磻閸℃瑧鐭欓柟鎵閳锋帡鏌涚仦鍓ф噭缂佷胶澧楅妵鍕敃閵忊晜鈻堥悗瑙勬礃濞茬喖鐛惔銊﹀殟闁靛鍎板Σ鎰版⒒娓氾拷濞佳団�﹂鐘典笉闁硅揪绠戦崹鍌炴煛閸愩劎澧涢柛濠勬暬濮婂宕奸悢琛℃闂佽褰冮幗婊堟儉椤忓牆绠氱憸瀣磻閵忋倖鐓欐い鏃傜摂濞堟粓鏌℃担鐟板闁诡垱妫冮崹楣冩嚑鐠鸿櫣鍔甸梻鍌氬�烽懗鍫曗�﹂崼銏ｅС婵炲樊浜滅壕鍧楁⒑椤掞拷缁夌數绮婚幒妤佲拻濞达綀娅ｇ敮娑欍亜椤撶偟澧曢柣锝囧厴閹粙宕ㄦ繝鍌欐偅婵犵數鍋涘Ο濠冪濠靛鍋傛繛鍡樺姂娴滄粓鏌￠崘銊ワ拷濠氬箺閸屾稓绠鹃柛顐ゅ枑椤ュ牓鏌＄仦鐣屝ょ紒杈ㄥ笒铻ｉ悹鍥皺閿涙捇鏌ｆ惔銈庢綈婵炲弶鐗滅槐鐐寸節閸ャ儻鎷锋担绯曟瀻闁圭偓娼欐禒濂告煟韫囨洖浠滈柨鐔烘櫕閸ｃ儵宕ぐ鎺撯拻闁稿本鑹鹃敓鑺ユ倐瀹曟劙鎮滈懞銉ユ畱闂佸壊鍋呭ú鏍不閻樼粯鐓欓柟瑙勫姦閸ゆ瑩鏌涘顒傜Ш闁哄备锟芥剚鍚嬮幖绮癸拷宕囶啇缂傚倷鑳舵刊顓㈠垂閸洖钃熼柕濞炬櫆閸嬪棝鏌涚仦鍓р槈妞ゅ骏鎷� "+roleid);
					return true;												
				}
				
				if (!checkFaction(roleid)) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄苯绉归弻銊э拷锝庝簼鐠囩偤姊洪崫鍕拱闁烩晩鍨堕妴渚�寮撮姀鐘栄囨煕濞戝崬鏋ら柨鐔绘椤嘲顫忓ú顏勫窛濠电姴绻楅敓钘夋健閺岋繝鏁撻懞銉︾秶闁冲搫鍊告惔濠傗攽閻愭潙鐏熼柛銊ユ贡缁鏁愰崱娆戭啎闂佺硶鍓濋〃鍫㈢不閹惰姤鐓曢柡鍐挎嫹闁圭鍟块～蹇涙倻濡顫￠梺瑙勵問閸ｎ喖危椤斿皷鏀介柍钘夋娴滄繄绱掔拠鑼妞ゆ洩绲剧换婵嗩潩椤戔斁鏅犻弻宥夊传閸曨偓鎷烽崨濠勵洸婵犲﹤鐗婇埛鎴犵磽娴ｅ顏堟倶閿曞倹瀚呴梺顒�绉甸悡鐔哥節閸偄濮冮梺顓у灡閹便劍绻濋崘鈹夸虎閻庤娲忛崝宥囨崲濠靛绀嬫い鎺炴嫹婵炲牆绻樺缁樻媴閻戞ê娈岄梺鎼炲�栭悧鐘荤嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
				{
					psend(roleid, new STeamError(TeamError.NoFaction));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄闁诲繑宀稿畷瀹狀槾缂佽鲸鎸婚幏鍛矙濞嗙偓娈洪梻浣侯焾椤戝啴宕愬┑鍡╁殨閻犲洦绁村Σ鍫ユ煏韫囨洖顫嶉柕濠忚礋娴滄粓鏌￠崘銊ワ拷鍝ユ暜閼哥偣浜滄い鎰枑濞呭洨绱掓潏銊﹀鞍缂佹鍠愮换婵嬪礃椤垳绱﹂梻鍌氬�风粈浣圭珶婵犲洤纾婚柛鈩冪☉缁愭鏌熼幑鎰【濠殿噮鍓熼弻銊╂偄閸撲胶鐓撳┑顔硷工椤嘲鐣烽幒鎴僵闁告鍎愰弶鍝ョ磽閸屾瑧顦︽い鎴濇閺侇噣鏁撻悩鍙夌�悗骞垮劚椤︻垳鐚惧澶嬬厱妞ゆ劑鍊曢弸鏃堟煕濮楋拷缁犳牕顫忓ú顏勪紶闁告洖鐏氭瓏婵犵數鍋涢ˇ鏉棵哄Ο鑲╃焿闁圭儤顨呴～鍛存煏閸繃锛嶆慨濠冨缁绘繈濮�閿濆懐鍘梺鍛婃⒐閻楃娀骞冮敓鐘参ㄩ柨鏂垮⒔閻﹀牓姊婚崒姘卞缂佸甯¤棢闁绘劗鍎ら悡鏇㈡煥濠靛棛澧辨繛鍏煎姍閺屾洟宕惰椤忣厼鈹戦敍鍕幋濠碉紕鏌夐ˇ瀛樸亜閺冿拷鐢�愁潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劌鐖奸悰顕�宕橀纰辨綂闂侀潧鐗嗗Λ娑㈠矗閸℃稒鐓熼幖鎼灣缁夐潧霉濠婂嫮绠為柟顔惧亾缁绘繂顫濋娑欏濠电偠鎻徊浠嬪箟閿熺姴绠氶柛顐犲劜閻撴盯鏌涢顐簻濠⒀屽櫍閹繝濡堕崱鏇犵畾濡炪倖鐗楅悷銊╊敆閻斿吋鐓曢柕鍫濇－濞堟粓鏌＄仦鍓ф创鐎殿喗鎸虫俊鎼佸Ψ瑜岄崫妤呮⒒閸屾瑧顦︾�规洦鍓欑叅闁挎梻鍋撳畷鍙夌節闂堟侗鍎忛柛銊ュ�归妵鍕箛閸撲礁鍩岄梻鍌氼槸缁夊綊寮婚敐鍡樺劅妞ゎ偒鍘虹�涒晛顪冮妶搴′簻妞わ附澹嗙划姘綇閵娧呯槇闂佹悶鍎洪悘娑滎樄闁哄本绋戦埥澶愬础閻愯尙顔戞繝鐢靛仜閻楀棝鎮ラ悡搴綎闁惧繐婀辩壕鍏间繆椤栨繂浜归柣鎿勬嫹濠碉紕鍋戦崐銈夊储妤ｅ啫绀傛俊顖欒閸ゆ洖鈹戦悩瀹犲閹喖姊洪崘鍙夋儓闁稿﹤鎲＄粋宥夋倷閻戞ǚ鎷虹紓浣割儐鐎笛冿耿閹殿喚纾奸悗锝庡亜閻忓瓨銇勯姀鈩冾棃闁轰焦鎹囬弫鎾绘晸閿燂拷 "+roleid);
					return true;					
				}
				
				if (!checkActiveTime()) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｎ喚绱撴担浠嬪摵闁圭顭烽獮蹇涘川椤旇棄寮块梺瑙勬儗閸樿櫣鑺遍懖鈺冪＜鐎癸拷閸曨亝鍠氬銈冨灪缁嬫垿鍩ユ径濠庢僵濡插本鐗曢弲顓㈡⒒閸屾瑧顦︽繝锟介柆宥呯；闁规崘顕х粈鍫熸叏濡灝鐓愰柛瀣�搁埞鎴﹀磼濮橆厼鏆堥梺缁樻尰閻╊垶骞冨锟介幃娆撳箵閹哄棙瀵栨俊鐐�ら崜娆撳触鐎ｎ喖桅闁告洦鍨遍弲婵喢归敐鍛础鐟滄妸鍥ㄢ拺闂傚牊绋掗幖鎰版倵濮樺崬顣煎ǎ鍥э躬楠炴牗鎷呴懖婵勫姂閺屻劑寮撮鍛伓婵犵數鍋涢幉鐐哄川椤栨粣绱冲┑鐐存尰閼规儳煤閵堝鍑犳繛鎴欏灪閻撶喐淇婇妶蹇斿闂佹寧娲忛崐婵嬨�佸璺何ㄩ柍杞拌兌椤︽澘顪冮妶鍡欏婵ǜ鍔戦幃鍧楁晸閼恒儰绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掍礁寮块柣搴ㄦ涧閹诧繝寮冲鍫熺厵妞ゆ牕妫撮幏鐑芥煛閿熻姤绂掔�ｎ偆鍘藉┑鈽嗗灥濞咃絾绂掑☉銏＄厸闁糕�崇箲濞呭﹪鏌＄仦鍓с�掗柨鐔告灮缂嶅棝宕戦崱妞曟椽骞橀鐣屽幍濡炪倖姊婚悡顐︻敂閸繄鍘撮梺鐟邦嚟婵挳骞忛悜鑺ユ櫜閹煎瓨绻勯弫鏍ь渻閵堝繐鐦滈柛锝忕到椤繐煤椤忓拋妫冨┑鐐村灦閼归箖銆傞崫鍕ㄦ斀闁绘劘灏欏﹢鎾煕閺傝法鐒烽柣蹇擃儏椤啴濡堕崱娆忊拡闂佺顑囬崑銈夊箖閳ユ枼鏋庨柟鎵虫櫃缁ㄥ姊洪崫鍕檨闁告洖鐏氶ˉ锝夋⒒娴ｈ銇熼柛鎾寸懇婵″墎绮欑捄銊︽闂侀潧锛忓鍡楊伓闂佹寧绻傛鎼佸几閻斿吋鐓冮梺鍨儏閻忔挳鏌＄仦鍓р槈闁宠鍨垮畷鍗炍旀繝浣虹；闂傚倷鑳剁划顖滄暜閻斿皝鏋栭柡鍥╁У椤洟鏌熼悜妯烩拻缁炬儳鍚嬫穱濠囶敍濠靛棔姹楅梺姹囧�曠�氫即骞冨Δ锟介埢鎾诲垂椤旂晫褰梻浣侯焾椤戝懘鏁冮鍫熷仒妞ゆ柨妲堥悢鐑樺厹闂佸灝顑呴鍫曟⒒閸屾氨澧涚紒瀣灴钘熼煫鍥ㄦ⒒缁犻箖鏌℃径瀣仴妞ゅ浚鍙冮弻鈥崇暆鐎ｎ剛蓱闂佽鍨卞Λ鍐�佸☉姗嗙叆闁告稑鎷戠紞浣割潖閾忓湱鐭欐繛鍡樺劤閸撲即鏌ｆ惔銏㈢叝闁告鍟块锝夘敃閿曪拷缁犲鎮楅棃娑橆棌婵炴潙瀚伴弻锝嗘償椤栨粎校闂佺顑呴幊妯侯嚕閹惰姤鍋愮紓浣骨氶幏娲⒒閸屾氨澧涚紒瀣浮楠炴牠骞囬悧鍫濓拷鍨叏濮楀棗浜滅�规挸妫濋弻锝呪槈閸楃偞鐝濆Δ鐘靛仦鐢繝鐛�ｎ噮鏁囬柣鎰綑閿熺瓔鍨跺缁樻媴鐟欏嫬浠╅梺绋挎捣閸庛倗绮嬪澶嬪�烽柣鎴灻禒鎺楁⒑闂堟侗妾у┑鈥虫川瀵囨晸閻ｅ瞼纾奸柛鎾楀喚鏆梺鎸庢处閸嬪﹪鐛箛娑欏�婚柤鎭掑劜閸庮亜顪冮妶鍡楀闁哥姵鍔欓幃姗�宕卞☉娆屾嫽婵炶揪缍�椤宕戦悩缁樼厱闁哄倽娉曠粻浼存煃缂佹ɑ鐓ラ柍钘夘樀閿濈偤顢欓崜褉妫ㄩ梻鍌氼煬閸嬪嫬煤閿曪拷椤繘鎳￠妶鍛氶梺璺ㄥ枙濡嫰鍩為幋锔绘晩闁哄倶鍊撶欢鐢告⒑閸涘﹥灏伴柣鈺婂灦瀵偄顓奸崪浣哄弳闂佸壊鍋嗛崯鍧楀箯濞差亝鈷戦柛锔诲弾閻掗箖鎮楀☉鎺撴珚閽樼喖鏌涢埄鍏犺偐鎹㈤崱妯镐簻闁规壋鏅涢悘鈺傘亜韫囷絽骞楅柕鍥у婵拷闁斥晛鍠氬Λ鍐⒑鏉炴壆鍔嶉柟鐟版喘瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�? by changhao
				{
					psend(roleid, new STeamError(TeamError.ActiveNotOpen));
					TeamManager.logger.debug("FAIL:CRequestTeamMatch婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰板川閸屾粌鏋涚�规洦鍋婂畷鐔碱敆閿熶粙鏁撻挊澶愬弰婵﹨娅ｇ槐鎺懳熼搹鍦噯闂備焦瀵уú蹇涘磿閸偂绻嗛柣銏㈩焾缁�瀣亜閺傚灝鈷旈柡澶嬫倐濮婅櫣鎲撮崟顐ゎ槰濠电偛顦伴惄顖炲春濞戙垹閱囬柕澶涜吂閹锋椽鏌℃径灞戒沪濠㈢懓妫濊棟闁挎柨顫曟禍婊堟煙鐎涙绠栭柛鐘成戦〃銉╂倷瀹割喗鈻堥悗瑙勬磸閸斿秶鎹㈠┑瀣闁靛鍎遍煢闂傚倸鍊风欢姘焽瑜旈垾锕傚醇閵夈儳锛熼梺瑙勫劶婵倝宕戦鍫熺厱闁哄洢鍔岄悘锟犳煃闁垮鐏存慨濠傤煼瀹曞ジ鎮㈠畡鎵槹闂備礁澹婇崑渚�宕曢柆宥嗗仾闁绘劦鍓涚粻楣冩煙鐎涙鎳冮柣蹇ｄ邯閺屾稓锟斤綆浜滈敓钘夋贡閹广垹鈽夐姀鐘殿吅濠电偛妫楃换鎺撶妤ｅ啯鈷戠紓浣股戠亸鐗堢箾閸欏鐒介柟骞垮灩閳藉濮�閻樻鍚呮繝鐢靛█濞佳兾涘鍫濇槬闁绘劕寮弮鍫熷亹闂傚牊绋愬▽顏堟⒑缂佹﹩娈樺┑鐑囨嫹閻庢鍠栭…鐑藉极閹版澘宸濇い蹇撴噺閺夋悂姊绘担瑙勫仩闁稿﹥娲樼粩鐔哥節閸愵亶娲稿銈呯箰閻楀棝鎮橀幎鑺ョ厸闁告劑鍔庢晶鏇犵磼閿熶粙宕橀埞澶哥盎闂佸搫鍊圭�笛囷綖瀹ュ洦鍠愰柡鍐ㄧ墕閽冪喐绻涢幋鐐冩艾危閸儲鐓曟俊銈呭暙娴犙兠归悪锟介崹浼粹�旈崘顔嘉ч柛鈩冾焽閸欏棗鈹戦悙鍙夆枙闁告瑥鍟锝嗙節濮橆厽娅滈梺绯曞墲閿氶柛鏂挎嚇濮婃椽妫冨☉姘鳖唺婵犳鍠楀娆掝暰闂佸壊鍋侀崕鏌ュ煕閹达附鐓曟繝闈涘閸旀岸寮介敍鍕＜闁绘劦鍓氱欢鑼磼婢跺﹤顣抽柛鎺撳浮閸╋繝宕ㄩ闂寸盎闂備胶绮幐鍛婎殽缁嬭法鏆ら柛鈩冪♁閳锋垹绱撴担鑲℃垿藟閸℃绠鹃柛婊冨暟缁夘噣鏌熼娆戠獢鐎规洜鍘ч埞鎴﹀礃閳哄倹婢戝┑锛勫亼閸婃牕顫忚ぐ鎺戝嚑缂備焦顭囬悷瑙勭箾閹存瑥鐏柣鎾存礃閹便劌螖鐎ｎ偄顏剁紓鍌欒兌婵敻鎮ч弴銏″仼闁绘垼妫勯～鍛存煏閸繃鍣芥い鏃�鍔栫换娑欐綇閸撗冨煂闂佸憡蓱缁捇鐛箛鎾佹椽顢旈崨顖氬箺闂備胶绮敋闁告ɑ鐗犻幊婊堫敂閸喓鍘遍梺鍝勫�介崕鑽わ拷姘嵆閺屽秶鎷犻懠顑勵殽閻愬弶鍠橀柟顔ㄥ洤閱囬柕蹇曞Т缁犮儵姊婚崒娆戭槮闁硅绻濆畷褰掝敍閻愯尙锛欓梺鍝勭▉閸嬫捇骞忓畡閭︽僵闁绘劦鍓欓锟�? "+roleid);
					return true;						
				}
				
				/*if (fire.pb.buff.Module.existState(roleid,
						BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
					psend(roleid, new STeamError(TeamError.SelfInUnteamState));
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬姣挎捇鏌熸笟鍨妞ゎ偅绮撳畷鍗炍旈敓浠嬪煕閹烘鈷戠紓浣姑粭鍌滅磼椤旂晫鎳囩�殿喖顭锋俊鍫曞幢濡搫浼庨梻浣哥秺閸嬪﹪宕滈妸鈺佺闁绘垼妫勯崘锟藉銈嗗姦閸撴氨锟芥俺顫夐幈銊ヮ潨閸℃鈷掗梺缁樻尭閵堟悂寮婚垾宕囨殕閻庯綆鍓涜ⅵ闁诲孩顔栭崳顕�宕抽敐鍛殾闁圭儤鍩堝鈺傘亜閹达絾纭堕悽顖涚〒缁辨捇宕掑顒婃嫹妞嬪孩顐介柕鍫濐槸缁狀垳锟界懓瀚伴崑濠囨偄閸℃稒鐓犻柟闂寸劍濞懷冣攽椤旇偐澧﹂柡灞剧♁缁绘繈宕掑鍐幗闂備礁鎼惌澶岀礊娓氾拷閻涱噣宕堕澶嬫櫍闂佺粯鍔楅弫鎼佸Χ閻戣姤鈷掑ù锝囨嚀閳绘洟鏌￠敓浠嬪础閻愬秵鐩畷姗�顢欓懝鐗堟啺闂備焦瀵х换鍌炲箠婢舵劕缁╁ù鐘差儐閻撴洟鏌嶉埡浣告殶闁瑰啿鍟撮弻锝夊箻鐠虹儤鐏堝┑顔硷攻濡炶棄鐣烽锕�绀嬫い鎺嶇劍鐎氭娊姊绘担鍝勫姦闁哄應鏅犲畷瑙勬綇閵娧�鏀虫繝鐢靛Т濞诧箓宕愰懡銈囩＜婵炴垶锕╅崕鎰版煛閸涱亝娅婃慨濠呮缁辨帒螣鐠囪尙顣查梺璇查閻忔氨鏁幒妞伙拷锕傚炊閵娧呯槇濠殿喗锕╅崢鎼佸箯濞差亝鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殻妞ゃ垺顨婃慨锟介柕鍫濇閸橀箖鎮峰鍛暭閻㈩垳鍋ら幃鎯洪鍛檮濠电娀娼ч弸纭呫亹閹烘垹顦ч梺绋跨箺閸嬫劗绮欓崶銊ょ箚婵°倧鎷烽柟铏～蹇撁洪鍕獩婵犵數濮撮崯顐λ囬埡鍛拺闁硅偐鍋涙俊钘夘熆閻熺増顥犻柛鎺撳笚缁绘繂顫濋鐔哥彸濠电姰鍨煎▔娑㈩敄閸ヮ剙鐭楅柛鈩冦仜閺�浠嬫煟濡偐甯涙繛鎳峰嫪绻嗘い鎰剁悼閹冲洨锟借娲樻繛濠囧箖閻戣棄绠ラ柧蹇ｅ亝閺夊憡淇婇悙顏勶拷鏍ь潖瑜版帒纾块柟鎯版閸屻劑鎮楀☉娅虫垿宕ｈ箛鎾斀闁绘ɑ褰冮弳鐐烘煏閸ャ劎绠橀柨鐔凤拷鐕佹綈婵炴彃绻樺畷婵嗩吋閸ャ劌搴婂┑鐘绘涧閿曪箓鎮块敓浠嬫煙閼圭増褰х紓宥忔嫹缂備胶绮崹鍨潖婵犳艾纾兼繛鍡樺焾濡差噣姊虹涵鍜佸殝缂佺粯绻堥悰顕�骞囬婊冧簼闂佸憡鍔戦崝搴ㄦ偘閵夆晜鈷戦柛婵嗗閻т線鎮橀悙璺盒撴い鎾虫健濮婃椽鎳￠妶鍛呫垺绻涚拠褍顩紒顔硷躬瀵爼骞婄粵鍦М鐎规洖銈告俊鐑芥晜閹冨闂傚倸顭崑鍕洪妶澶嬫櫇闁靛牆妫欏▍鐘绘煕濞嗗浚妲虹紒鐘荤畺閺屾稑鈽夐崡鐐扮盎闂佽绻愬鍫曞箞閵婏妇绡�闁告侗鍣禒鈺呮⒑閸︻厽鍤�閻庢氨澧楁穱濠囧箹娴ｈ倽銊╂煥閺冿拷閸庡磭绱為幒妤佲拻闁稿本鐟ㄩ崗宀勬煙閾忣偅宕岀�规洜鏁诲浠嬵敇閻愭鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�? "+roleid);
					return true;
				}*/

				if (checkPvP(roleid) != 0) {
					return true;
				}

				addTeamMatch(roleid, roleidteamId); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柛銊ュ�歌灃闁挎繂鎳庨弳娆戠磼閻樺磭鈽夐棁澶愭煥濠靛棙鍣洪悹鎰剁磿缁辨帞锟斤絺鏅為崗宀�绱掓潏銊﹀磳鐎规洘甯掗～婵嬵敆婵犲啫顏堕梺缁樺灱婵倝宕愰崸妤佺叆闁哄洦姘ㄩ崝宥夋煙閸愯尙鐒告慨濠勭帛閹峰懘宕ㄦ繝鍌涙畼闂備浇宕甸崰鍡涘磿閹惰棄绠查柕蹇嬪�曠粻铏繆閵堝嫮鍔嶆繛鍛灲濮婅櫣绮欓崠鈥冲闂侀潻绲婚崕閬嶁�﹂崶顒�绠涙い鎾跺Х椤旀洟姊洪崨濠勬噧妞わ箒椴搁弲鍫曨敂閸喎浜楅梺闈涚墕椤︿即鎮¤箛鎾斀闁绘劙娼ф禍鐐箾閸涱厽鍣介柣銉邯椤㈡﹢濡搁敃锟介鑸电節閻㈤潧校妞ゆ梹鐗犲畷鏉课旈崨顏庢嫹閿曞倸閱囬柕澶堝劜濡差剟姊洪崫鍕枆闁告鍋愭竟鏇°亹閹烘挾鍘卞銈庡幗閸ㄥ灚绂嶉悙鐢电＜闁绘宕甸悾娲煛瀹�锟介崰鎾绘晸閻ｅ本鏆╂い顓炵墛缁傛帟顦归柡宀�鍠栭幖褰掝敃閵忕媭娼氶梻浣告惈閻绱炴笟锟介悰顕�骞掗幋顓炴倯闂佹悶鍎弲婵嬪储椤栫偞鈷掑ù锝呮啞閹牓鏌ゅú璇茬仯缂侇喗妫冨畷婊勬媴鐠団剝缍楅梻浣告贡閸庛倝宕甸敃鍌涘亜闁稿繒鍘ч敓钘夘煼閺屽秹宕崟顐嫹閹间緡鏁傞柟闂寸劍閳锋帡鏌涚仦鍓ф噮缂佹劖姊圭换娑欐媴閸愭彃骞樻繛宸簻鍥撮梺鎼炲劦閺�杈╋拷姘愁潐閹便劌螣閻撳骸浠橀梺璇查獜缁茶法妲愰幒妤婃晩婵炲棙鍎冲▓顓㈡⒑鐎圭姵顥夋い锕�鐏氶幈銊╂晸娴犲鐓熸俊顖涙た閸熷繘鏌涢悢濂夊剶婵﹦绮幏鍛村传閵夘灝銊ヮ渻閵堝繒绉剁紒鐘冲灴閳ユ棃宕橀鑲╊唺濠德板�ч幏椋庣磼閻樺磭澧甸柡灞诲妼閳规垿宕遍埡鍌傃囨⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁绘锕、鏃堟偐缂佹ê浠哄銈嗙墬缁嬫挸煤閹绢喗鐓涚�癸拷鐎ｎ剙鍩岄柧缁樼墵閺屾盯骞囬埡浣割棊闂佹寧绻傚ú銊у婵傚憡鐓曢悘鐐靛亾閻ㄦ垿鎳栭弽顓熲拺闁革富鍘介崵锟介柣搴㈠嚬閸樺墽鍒掗銏″亜缁炬媽椴搁弲顒�鈹戦悙鏉戠仸婵ǜ鍔戦崺銏″緞婵炵偓鏂�闂佺粯锚閻忔岸寮抽埡鍛厱閻庯綆鍋嗛埥澶愭懚閿濆應鏀介柣妯诲絻閺嗙喐銇勯埡浣哥骇缂佺粯绻冪换婵嬪磼濞戞ɑ顏ゆ繝纰樻閸嬫帡宕归幎钘夌疅闁归棿绀佺猾宥夋煕椤愶絿绠橀柣锝嗘そ閹嘲顭ㄩ崨顓ф毉闁汇埄鍨辩敮鐐靛垝婵犳艾绠虫俊銈勮兌閸樼敻姊虹紒妯虹仸闁挎岸鏌ｈ箛瀣姕闁靛洤瀚版俊鐑藉Ψ閳轰礁鍙婃繝娈垮枛閿曘儱顪冮挊澹╂盯宕橀妸銏☆潔濠殿喗顭堟禍顒勫级娴犲鈷掑ù锝勮閻掗箖鏌ㄩ弴妯哄姦闁诡啫鍥ㄥ亹閻犲洩灏欓悾娲⒑鐠恒劌鏋斿┑顔芥尦瀹曪繝骞庨懞銉у帾闂婎偄娲㈤崕宕囧閸ф鐓曟俊顖滅帛瀹曞矂鏌＄仦绋垮⒉鐎垫澘瀚禒锕傚箣閹烘挸濯版繝鐢靛У椤旀牠宕归婊冨灊婵炲棗绻掗弳锔戒繆閵堝繑瀚归梺浼欑稻缁诲牆鐣烽悢纰辨晢闁稿本鑹剧粻娲⒒閸屾凹鐓柛瀣鐓ら柨鏂垮⒔閻瑩鏌熼悧鍫熺凡缂佺姷鍠庤灃闁挎繂鎳庨弳鐐烘煟閹惧銆掗柨鐔烘櫕濞呫垽骞忛悜鑺ョ叆闁绘柨澧庨惌娆戯拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣婵犲﹥鍔栫�氱懓霉閿濆懎顥忔繛灏栨櫊閹綊宕崟顒佸創闂佸吋婢橀悘婵嬪煘閹达箑鐓￠柛鈩冾殘娴犙囨煟閻欏懏瀚归梺鎸庢濡嫰顢氶柆宥嗙叆闁绘洖鍊圭�氾拷? by changhao
								
				SRequestTeamMatch msg = new SRequestTeamMatch();
				msg.levelmin = levelmin;
				msg.levelmax = levelmax;
				msg.targetid = targetid;
				msg.typematch = typematch;
				
				for (Long roleid : roleids)
				{
					mkdb.Procedure.psendWhileCommit(roleid, msg);					
				}
				
				return true;
			}
			
		};
		requestteammatch.submit();	
	}
	
	private void addTeamMatch(long roleid, Long teamid)
	{
		xbean.TeamMatch teammatch = xbean.Pod.newTeamMatch();
		
		teammatch.setRoleid(roleid);
		teammatch.setLevelmin(this.levelmin);
		teammatch.setLevelmax(this.levelmax);
		teammatch.setTargetid(this.targetid);
		teammatch.setMatchtype(typematch);
		teammatch.setOnekeytimestamp(0);
		teammatch.setTimestamp(0);
		
		TeamManager.getInstance().addTeamMatch(teammatch, teamid);			
	}
	
	private boolean checkTeamState(Team team, long roleid) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾诲蓟閿濆鍋愰弶鍫亽閸斿懘姊虹紒妯诲碍妞わ妇鏁婚悰顔跨疀閺冩垶效闁瑰吋鐣崹褰掑几閸岀偞鈷戦柛娑橈攻婢跺嫰鏌涢幘瀵告创閽樻繈鏌曟径鍫濆姉闁猴拷娴犲鐓熼柟閭﹀灠閻ㄧ儤绻濋敓浠嬪箻椤旂晫鍘辨繝鐢靛Т閸熸壆绮婚幘缁樼厽闁挎繂娲ら崢鎾煙椤旀儳鍘存鐐茬Ч閹煎綊顢曢敐鍡樼帆闂傚倸鍊风粈浣圭珶婵犲洤纾婚柟鐑橆殔缁�鍫熸叏濡鏁鹃柟宄板槻椤繈骞囨担鍦Х婵＄偑鍊戦崝濠囧磿閻㈢绠栨繛鍡樻尰閸ゆ垶銇勯幋锝呭姷婵＄偓鎮傚缁樻媴閸涘﹤鏆堝┑顔硷工濠�閬嶅窗婵犲偆鍚嬪璺好￠敃鍌涚厱闁哄洢鍔岄悘锟犳煛閸涱喚鐭掗柡灞剧洴閳ワ箓骞嬪┑鍥╀邯缂傚倷妞掔欢锟犲闯閿濆拋娼栭柧蹇曟嚀鐎垫煡鏌￠崶鈺佹瀾闁绘繃娲熷娲倻閳哄倹鐝﹂梺鎼炲妼閻栧ジ骞冩导鎼晩闁搞垹顦遍崰鏍箠閺嶎厼鐓涢柛鎰硶鎼村﹤鈹戦悩娈挎毌婵℃彃鎳樺畷褰掑箮閽樺鍋嶉悷婊勬閹即顢欓崲澶嬫瀹曘劑顢欑憴鍕伜婵犵數鍋犻幓顏嗗緤娴犲绠熼柨鐔哄Т缁犳岸鏌涢鐘插姕闁绘挻娲栭埞鎴︽偐閹绘帪鎷烽崷顓熷闁跨喓濮甸悡銉╂煟閺冨倸鍔嬫繛鍛礋閺岋綁鎮㈢粙搴撴灆閻庤娲橀崕濂杆囬幘顔界厽闁挎繂顦遍悾鐑樻叏婵犲啯銇濈�规洘绮撻獮鎾诲箳瀹ュ洦瀵滈梻鍌欑劍閹爼宕濊箛鎾舵殾闁汇垽娼ч崹婵嗏攽閻樺疇澹樼紒顐㈢Ч閺屾盯顢曢妶鍛亖闂佸憡顭囬弫濠氬蓟閳╁啫绶炲┑鐘插閳數绱撴担鍝勑ｉ柣妤佹礋閳ユ牗绻濋崶鑸垫櫔闂佽法鍠嶇划娆忣嚕鐠囧樊鍚嬪璺侯儑閸欏棝鏌ｆ惔顖滅У濞存粎鍋炵�电厧鐣濋崟顑芥嫼闁荤姴娲犻敓鍊熸珪閻忓牏绱撻崒姘毙㈤柨鏇樺�濋幃楣冩倻閽樺鍞堕梺鍝勬川閸犳劕鈻嶅鍫燁棅妞ゆ劑鍨烘径鍕煛鐏炶濮傛い銏℃瀹曞ジ寮撮悢鍙夊闂備礁鎲＄粙鎴︽晝閵堝棙鍙忛柛顐犲灪閸犳劙鏌℃径濠勪虎闁哄棛鍠撶槐鎺楊敊绾拌京鍚嬪Δ鐘靛仜缁夊綊銆佸▎鎾崇鐟滄繄妲愰幎鑺モ拻濞达絼璀﹂悞楣冩煛閸偄澧撮柟顔炬焿椤﹀绱掗鑽ょシ缂佺姵绋戦埥澶娾枎閹存繂绠ラ梺璇叉捣閹虫挾锟芥凹鍘奸…鍨熸担鏇稻缁绘繂顫濋鐘插妇闂備胶纭堕崜婵嬫晪缂備焦顨嗙敮妤呭Φ閸曨垼鏁冮柨婵嗘川閻ゅ嫰姊虹拠鈥虫灍闁荤啿鏅犻妴浣肝旈崨顔芥婵炲濮撮鎰板极閸岀偞鐓犵紒瀣仢閹胶绱掔拠鍙夘棦闁哄本娲熷畷鐓庘攽閸ャ劍鍊烽梺鍝ュ枑閹倸顫忛搹鍦煓婵炲棙鍎抽崜杈╃磽娴ｅ壊鍎愰柟鐟版喘閻涱噣骞嬮敃锟介～鍛存煟濞嗘瑦瀚瑰┑鐐殿儠閸旀垿寮婚妸鈺傚亜闁告挷鑳堕悡鎾绘⒑鐠団�虫灆闁告濞婇妴浣糕枎閹存繃鐎抽梺鍛婎殘閸嬬偤宕愰姘ｆ斀闁绘﹩鍠栭悘閬嶆煕閳哄倻澧抽柟绛嬪亰濮婃椽宕崟顒�顎涙繛瀛樼矤娴滄粓锝炶箛娑欐優闁荤喐婢橀褔姊洪崫鍕窛闁稿鐩崺娑欏緞閹邦厸鎷洪梺鍦焾濞寸兘銆傞弻銉︾厪闁搞儜鍐句紓缂備胶濮电粙鎴︼綖濠靛鏁囬柣姗嗗櫙閹风兘骞囬悧鍫㈠弰缂傚倷鐒﹂…鍥ㄦ櫠閻㈠憡鐓涚�癸拷鐎ｎ剙鍩屽銈庡亝缁捇寮幘缁樺癄濠㈣埖顭囬崝鐑芥偡濠婂啯鎹ｇ紒顔碱儔楠炴帡骞嬮鐘插汲闂備礁澹婇崑鍡涘窗閹捐鍌ㄥù鐘差儐椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚幈銊︾節閸涱厼鎯炵紓渚囧枛椤兘骞冨▎鎾村�绘俊顖滃帶楠炲秵淇婇悙顏勶拷鏍ь潖瑜版帒鍑犲┑鐘崇閸わ拷闂佸湱顭堢花鐑樼濠婂牊鐓忛煫鍥э工婢у弶銇勯妷銉уⅱ闁跨喎锟界噥娼愭繛鍙夌墵婵″爼骞栨担鍝ョ暫闂侀潧绻堥崐鏇熷閻樼粯鐓曢柡鍥ュ妼娴滅偤鏌ｉ妶鍛伃婵﹤顭峰畷鎺戭潩椤掑﹥瀚瑰瀣捣閻棗銆掑鐐閻庤娲﹂崹璺虹暦缁嬭鏃堟晸閻ｅ瞼涓嶉悷娆忓娴滄粓鏌熼弶鍨暢闁伙綀浜惀顏堝礈瑜庨崵锟介梺瀹狀潐閸ㄥ潡骞冮埡鍐挎嫹閸︻厼孝妞ゃ儲绻堝鍫曞煛閸屾粎鐤勫┑顔硷攻濡炶棄鐣烽悜绛嬫晣闁绘劖褰冮‖鍡樼節濞堝灝鏋涢柨鏇樺妼閻ｇ兘宕归銈囧骄闂佸搫娲㈤崹鍦矆閸屾粎纾兼俊銈呭閵嗗啰绱掗妸銉吋婵﹥妞藉畷顐﹀礋椤愶絾顔勬繝鐢靛仦濞兼瑩宕愰幖浣诧拷锕傚炊椤掞拷缁犳稒銇勯幘璺盒ユい鏃�娲熷娲川婵犱胶绻侀梺鍛婄懃缁绘ê顕ｉ妸锔剧瘈婵﹩鍘鹃崢顏堟⒑閹肩偛鍔�闁告劕褰炵槐鏂库攽閻樻剚鍟忛柛锝庡灦楠炲繘鎮滈懞銉㈡嫼闂佸湱顭堝ù鐑藉煡婢舵劖鍊垫慨姗堟嫹闁稿繑鎷濈紞浣哥暦婵傜唯闁挎棁顫夌�氬ジ姊虹拠鏌ヮ�楁繝锟芥潏銊﹀弿闁汇垺娼屾径瀣窞閻庯絻鍔嬬花濠氭⒑閹稿孩顥嗘い鏇嗗洦鍊堕柨鏇炲�归悡鏇㈡煃閻熸壆浠㈤柣蹇婃櫆閵囧嫰骞橀崘鍙夊�悗鍨緲鐎氼噣鏁撻弬銈囩У濞存粍鐟ч崚鎺楁晸閻樻枼鎷洪柣鐘叉处閻擄繝宕ｉ崟顒傜濞达絽鍟垮ú銈囩不閻戞绡�濠电姴鍊绘晶鏇熸叏鐟欏嫮鍙�闁哄本娲熷畷鐓庘攽閹邦厜褔姊洪幎鑺ユ暠闁搞劌娼″璇测槈濡攱鏂�闂佺硶鍓濋〃蹇旂閹�鏀介柣娆忔噺鐎氬綊姊虹憴鍕靛晱闁哥姵姘ㄦ竟鏇熺附閸涘﹤锟界敻鏌ㄥ┑鍡涱�楀ù婊勭矒閺岋綀绠涢弮锟界亸锕傛煛鐏炶濡奸柍瑙勫灴瀹曠厧鈹戦崨顖涘礋闂傚倷绀侀悿鍥綖婢舵劕鍨傜憸鐗堝笚閺呮悂鏌￠崒妯猴拷妤冪矓闂堟耽鐟邦煥閸涱厺妲愰柦妯荤箖閵囧嫰骞橀崡鐐典痪闂佺顑傞崜婵堟崲濠靛洨绡�闁稿本纰嶅▓鍓佺磽娴ｅ搫鞋鐎规洜鏁婚弫鎾绘嚍閵夘喖鏅遍梺鍝ュУ椤ㄥ棛鎹㈠☉娆戠瘈闁搞儜鍛毇闂備礁鍟块幖顐﹀疮閹殿喖顥氶柛蹇涙？缁诲棙銇勯弽銊х煀閻㈩垵鍩栭〃銉╂倷閹碱厽鐤佸┑顔硷功缁垳鎹㈠┑鍥ㄥ劅闁炽儴灏欓惄搴㈢節閻㈤潧浠╂い鏇熺矌缁骞橀懡銈呯ウ闂佽澹嗘晶妤呭吹閹烘鐓忛柛顐ｇ箖瀹告繈鏌ｉ幒鎴炲仴闁哄矉绲鹃幆鏃堫敍濠婂憛锝夋⒑閸濄儱校妞ゃ劌锕獮鍐晸閻樻彃宓嗛梺闈涢獜缁辨洟宕ｉ崱妞绘斀闁绘绮☉褎淇婇锝囥�掔紒顔款嚙閻ｇ兘宕堕埡鍐跨床濠电姰鍨奸崺鏍晪闂佸搫顑冮崐婵嬪蓟閵娾晜鍋勯悹鍥ㄧ暙閹炬番浜滈柡鍐挎嫹闁绘濮撮悾閿嬪閺夋垵鍞ㄥ銈嗘尰閸愬骞忛悜鑺ユ櫇闁稿本绋戦敓钘夘煼閺岋箑螣娓氼垱效闂佽瀵掗崜鐔奉潖濞差亝鍋￠柡澶婄氨閹稿啰绱撴笟鍥ф珮闁搞劏娉涢锝夊蓟閵夈儳顔愭繛杈剧到濠�閬嶅矗閸℃稒鈷戠紓浣股戠粈锟介梺绋匡工濠�閬嶆晸閼恒儳鍟查柟鍑ゆ嫹? by changhao
	{
		if (this.typematch == 0 && team == null)
		{			
			return true;
		}
		
		if (this.typematch == 1 && team != null)
		{
			return team.isTeamLeader(roleid);
			
		}
		
		return false;
	}
	
	private boolean checkLevel() //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｄ即姊洪崫鍕伇闁哥姵鐗犻妴浣糕槈濡攱顫嶅┑鐐叉閸ㄧ敻宕甸幒妤佺厽闁绘劕顕。鑼拷鐧告嫹缂佸顑欏鏍煣韫囨挻璐￠柣顓熺懄缁绘盯宕卞Ο鍝勫Б闂佸憡鎼╅崣鍐潖閾忓湱鐭欓柛鏍ゅ墲閺佸墽绱撴担绛嬪殭闁绘妫濋、姘舵晲閸℃瑧鐦堝┑顔斤供閸樺吋绂嶅鍫熲拺缂備焦顭堟竟姗�鏌ｆ幊閸斿酣鏁撻懞銉ㄥ缂傚秴锕濠氭晲婢跺娼婇梺瀹犳濡寮查柆宥嗏拺缂備焦锚濞搭喚绱掗悩宕囧ⅹ闁伙絿鍏橀、娑橆煥閸涱垳鍘梺鍦帶閻°劑骞愭繝姘闁跨喍绮欏缁樻媴閸濄儲鐎┑鈽嗗亜鐎氼剝鐏嬪┑掳鍊撻懗鍫曘�呴幓鎹楀綊鎮╁顔煎壉闂佺粯鎸诲ú鐔煎蓟閺囩喓绡�闊洦娲滈弳鐘绘⒑瀹曞洨甯涙繛鍙夛耿閵嗗啴濡烽埡鍌氾拷椋庯拷鐟板閸犳鐟у┑锛勫亼閸娿倝宕戞笟锟藉畷纭呫亹閹烘挸浠煎┑鐘绘涧椤戝棝寮茬粙妫靛綊鎮╁顔煎壉闂佺顑愭禍顏堝蓟閵娾晜鍋勯柛鎾茶兌閻撴挸鈹戦纭锋敾婵＄偘绮欓獮鍐倻閽樺楠囬柣鐘充航閸斿酣鍩ｉ妶鍡欑瘈闁汇垽娼ф禒锔界箾閸忚偐鎳冮悡銈嗐亜閹惧崬鐏柡鍛叀閺岋綁骞囬鐔虹▏缂備礁澧庨崑娑㈠煘閹达附鍋愰柡灞诲労閿熻姤顨嗙换娑㈠醇椤愵澀鍠婂┑顔硷攻濡炶棄鐣烽妸锔剧瘈闁告劦鐓堝Σ閬嶆⒒娴ｈ鍋犻柛鏂跨У缁旂喖宕卞▎蹇撶亰闁荤姴娲︾粊鏉懳ｉ崼鐔虹闁糕剝顨堝皬缂備降鍔岄…宄邦潖濞差亜鎹舵い鎾跺仜婵℃椽姊洪幖鐐插闁诲繑姘ㄧ划瀣吋婢跺锟介绱撻崼銏犘ョ紒鐘冲哺閹鎮烽弶娆炬闂佸摜濮甸悧鐘诲箖濮楋拷閺佸倿鎳為妷銉ヤ紟濠电姷鏁告慨瀵革拷姘煎枤閺侇喖鈽夐姀锛勫幍閻庣懓瀚晶妤呭闯閻ｅ瞼纾兼い鏃傚亾閺嗏晠鏌ㄩ悢鍛婄伄缂傚秴妫濆畷鎴﹀幢濞嗘垹鐓嬮梺缁樺灱婵倝鍩涢幒鎳ㄥ綊鏁愰崟顕呭妳闂佺粯甯楅崕瀹犵亙闂佺粯顭堝▍鏇㈠磹閹邦噯鎷风憴鍕８闁稿孩濞婇弫鎾诲棘閵堝洨校闂佸摜濮甸悧婊呭垝婵犳碍鍊烽柣鎴烆焽閸橆亝绻濋悽闈涗户闁稿鎸搁埢宥夊川閺夋垹鍊為柣搴㈢♁椤洨寮ч敓浠嬫⒑闂堟盯鐛滅紒鎻掑⒔濞戝灚銈ｉ崘鈺冨弳闂佸搫娴傛禍鐐烘偩閻㈢鎷峰▓鍨灍婵″弶甯¤棟閻熸瑥瀚崣蹇撯攽閻樻彃鏆為柕鍥ㄧ箘閿熷�燁潐濞叉﹢鏁冮姀鐘垫殾闁挎繂妫楃欢鐐烘倵閿濆簼绨诲鐟扮Ч濮婂宕掑▎鎺戝帯闂佺娅曢幑鍥х暦椤栨粍宕夐柕濠忕畱鎼村﹤鈹戦埥鍡楃仴婵炲拑缍佸鎶芥晝閸屾稓鍘甸柡澶婄墦缁犳牕顬婇锟介弻锟犲川椤旇偐绁峰銈庡弨濞夋洟骞戦崟顒傜懝妞ゆ牗鑹炬竟瀣⒒娴ｅ憡鍟為柣鐔村劚铻炴繝闈涙－濞兼牠鏌ц箛鎾磋础缁炬儳鍚嬫穱濠囶敍濠靛棗鎯炲銈忚礋閸庨潧顫忛搹鍦煓闁告牑锟藉厖绱ｆ繝鐢靛閹风兘姊洪锟界粔鐢稿疾閹间焦鐓犻柟顓熷笒閸斻倝鏌涢悢鍝ュ弨闁哄瞼鍠栧畷娆撳Χ閸℃浼�? by changhao
	{
		if (this.levelmin > this.levelmax)
		{
			return false;
		}
		
		if (this.levelmin <= 0 || this.levelmax <= 0)
		{
			return false;
		}
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢涘鍗烆槱闂備焦鐪归崹褰掆�﹀畡閭︽綎缂備焦蓱婵挳鏌ｉ悢鐓庝喊闁搞倕顑呴埞鎴︽倷閹绘帞楠囬梺缁橆殘婵挳鎮鹃悜钘夌疀妞ゆ牗眉濮规姊洪崷顓炲妺闁搞劌缍婇弫宥呪槈閵忥紕鍘介柟鍏兼儗閸ㄥ磭绮旈悽鍛婄厱闁绘ɑ鍓氬▓婊堟煙椤曞棛绡�闁诡喓鍨藉畷妤呮嚃閳轰礁绠ラ梻鍌氬�风欢锟犲矗韫囨洜涓嶉柟瀵稿仦濞呯姵銇勯弽顐沪闁绘挻鐟﹂妵鍕冀閵婏妇娈ゆ繝鈷�鍕檨缂佺粯鐩幊婵嬫焽閿曪拷濞堫參姊虹�圭媭娼愰柛銊ョ秺閺佹捇寮妶鍥┬ｉ梺绋款儜閹风兘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇撁洪鍕獩婵犵數濮寸�氀兾ｉ崼銉︹拺闁圭瀛╃壕鎼佹煕婵犲啰澧垫鐐茬墦婵℃悂鍩￠崒娑欑彇闂備胶顭堥張顒傜矙閹捐鍌ㄩ梺顒�绉甸埛鎴犵磽娴ｅ厜妫ㄦい蹇撴椤ユ碍銇勯幘璺烘瀾婵炲懐濞�閺岋綁濮�閵忊晜娈伴梺鐟板槻閸㈡煡鍩㈤幘璇插瀭妞ゆ梻鏅禍顏堟⒒娴ｄ警鏀版い鏇熺矌濡叉劙寮撮悩鎻掔亰濡炪倖鎸堕崹娲磻閸曨垱鐓曢煫鍥ㄦ尭閹垶绻涢崨顐㈢仾缂佺粯绋撻敓鐣屾暩椤牆鐡俊鐐�栭崹鐢稿箠濮楋拷楠炲繘骞嬮敂钘変簻闂佺绻楅崑鎰板矗閸℃せ鏀介柣妯肩帛濞懷勪繆椤愶絿鎳囩�规洦鍨堕獮鎺懳旀担鍝勫箰闂備礁鎲￠崝鎴﹀礉鎼淬垺娅犳繛鎴欏灪閻撴盯鏌涘☉鍗炵伇闁绘帡绠栧Λ浣瑰緞閹邦厾鍘藉┑鈽嗗灣閸庛倝鍩㈤弴銏＄厱閹兼番鍨规慨宥夋煛鐏炲墽銆掗柨鐔告灮缂嶅棙绂嶉崼鏇炵？闁哄啫鐗婇悡娑㈡倶閻愭彃鈷旀繛鍙夋尦閺屾盯鍩℃担鍓蹭純閻庤娲橀敃銏ゃ�侀弮鍫濆窛妞ゆ挾鍠撹ぐ顖炴⒒閸屾艾锟界兘鎮為敃锟介—鍐锤濡わ拷閸屻劌鈹戦崒姘暈闁稿顑夐弻鐔煎箲閹伴潧娈梺钘夊暟閸犳牠寮婚弴鐔虹闁绘劦鍓氶悵鏃傜磽娓氬洤浜滅紒澶婄秺瀵濡搁埡鍌氫簻闂佸憡鎸烽懗鍫曟偂閹剧粯鍊甸悷娆忓缁�鍫ユ煙閾忣偅宕岄柛鈺冨仱楠炲鏁冮敓浠嬫煁閸ヮ剚鐓熼柡鍌氱仢濡茶崵绱掗妸锝呭姦婵﹦绮幏鍛存惞楠炲尅鎷锋繝鍥ㄧ厱闁规儳顕粻妯肩磼椤旂晫鎳囨鐐村笒铻栧ù锝夋櫜缁ㄧ敻姊绘笟锟藉褔藝椤愶箑鐤炬繝濠傜墛閸嬪倿鏌ｉ弬鍨倯闁绘挻鐩弻娑㈠Ψ閵忊剝鐝旀繛瀵稿У缁捇寮婚妸鈺傚亜缂備焦锕╁Λ鍕攽閻欏懏瀚归梻渚囧墮缁夌敻寮查幖浣圭厾闁诡厽甯掗崝銈夋煕閻斿摜鍙�闁哄瞼鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｎ喚绱撴担浠嬪摵闁圭顭烽獮蹇涘川椤旇棄寮块梺瑙勬儗閸樻椽鏌囬婊愭嫹鐟欏嫭绀�缂傚秴锕ら悾鐑藉箳濡や礁锟界兘鎮楅悽娈跨劸鐎殿喛娅曠换婵嬫偨闂堟稈鏋呭┑鐐板尃閸忕偓鐩、姗�鎮欏蹇曠М鐎规洦鍋婃俊鐤槾闁挎稒绮撳铏圭磼濡浚浜幃妯侯潩鐠哄搫鎯為梺璺ㄥ枍缁瑥顫忔繝姘倞鐟滄粌螣閿熶粙姊洪崫鍕潶闁告柨鐭傞崺鐐哄箣閿曪拷楠炪垺鎱ㄥΔ锟藉Λ娆撴晸閵夆晜鈷掑ù锝勮閺�鐗堜繆椤愩垹顏�规洦鍨辩�靛ジ寮堕幋鐘垫毇婵＄偑鍊栭弻銊╂儍閻戣棄缁╁ù鐘差儐閸婄敻鏌ㄥ┑鍡涱�楀ù婊勫姍閺岀喐顦版惔锝呯缂備胶绮粙鎺戭焽韫囨稑绀堢憸搴ㄥ磻瑜斿铏规兜閸涱喚褰ч梺鍦嚀濞差參濡存担鍓叉僵妞ゆ帒顦遍崣鍡涙⒑閸涘﹥澶勯柛姗�绠栭、娆撳即閵忊檧鎷洪梺鍛婄☉閿曪箓骞婇崘鈹夸簻闁挎棁顕ч悘锕傛煙椤旀枻鑰块柛鈺嬬節瀹曟﹢顢旈崱顓犲簥濠碉紕鍋戦崐鏍涙笟锟藉畷鎴﹀箛椤撶喐鐝峰┑鐐村灦濮樸劎澹曢崗闂寸箚闁靛牆鎳庨弳娆撴煛鐎ｎ偆娲撮柡灞稿墲閹峰懐鎲撮崟顐︾�虹紓鍌欑閸婂湱鏁悙鐑樻櫢闁哄倶鍊楃粔闈浢瑰鍛槐闁诡噣绠栭幃娆擃敆閸屾粠鍟庨梻浣筋潐閸庢娊顢氶銏犵柈闁哄被鍎查悡娆忣渻鐎ｎ亪顎楅柛妯绘尦閺屸�崇暆鐎ｎ剛锛熸繛瀵稿缁犳捇骞婇悙鍝勎ㄦい鏃傜摂濡冣攽閿涘嫬浜奸柛濠冪墵楠炴劙骞栨担鑲澭呯磼鐎ｎ厽纭堕柡鍡畵閺屾稑螖閸愩劋姹楅梺鍝勵儏闁帮綁鎮￠锕�鐐婇柕濠忕畱閺嗘姊哄Ч鍥э拷鏇狅拷姘緲椤繑绻濆顒傦紲濠殿喗锕╅崜銊╁箯闁垮妲归幖娣焺閸嬨劌鈹戦鏂や緵闁告搫绠撻幃鐐烘偩鐏炴儳鏋戦梺鍝勫暙閸婅危閻㈠憡鈷掑ù锝堝Г绾爼鏌涢悩鑼ら柛鎺撳笒閳诲氦绠涢敐鍡欑▉濠电姷鏁告慨鐢告嚌閸撗呯焼閻庯綆鍋佹禍婊堟煙閹佃櫕娅呴柣鎺戞惈闇夌痪顓㈡敱鐎氬湱绱撻崒姘拷鎼佸磹瀹勬噴褰掑炊閵娧屾锤濡炪倖甯掔�氼剛澹曟繝姘厪闁割偅绻嶅Σ铏癸拷瑙勬尫缁舵岸骞冨Δ鍛櫜閹肩补鍓濋悘宥夋⒑閸濆嫭鍣虹紒顔芥崌瀵鏁愭径瀣珳闂佸憡绋掑姗�顢旈鐐嶆棃鎮╅棃娑楃捕闂佺粯顨嗛幐鎼侊綖韫囨洜纾兼俊顖濐嚙椤庢捇姊洪幆褏绠抽柟铏尵缁參鏁撻悩鏂ユ嫼闂佺鍋愰崑娑欐叏閸屾稓绠惧ù锝呭暱閹冲骸顕ｉ弻銉︹拻濞达絿鎳撻婊勬叏婵犲倻绉烘鐐茬箰閳规垹锟斤綆浜為鍡涙倵閻熸澘顏柛瀣工椤洭鍩￠崨顔惧幗闂侀�涘嵆濞佳勬櫠椤斿浜滈煫鍥ュ劜鐎氾拷 by changhao
		
		return true;
	}
	
	private boolean checkTeamMemberNum(Team team) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷鐢电《濡插牆顪冮妶搴″绩婵炲娲熼獮鎴﹀礋椤栨稑浠忛柣搴㈢♁钃遍柡鍡欏缁绘繈鎮介棃娑楃捕闂佺懓鍟挎鍝ュ弲闂侀潧艌閺呮稓绮婚悢鍏肩厱婵炴垶锕弨濠氭煕鎼达絽鏋涢柡灞界Ч閹稿﹥寰勭�ｅ灚顥ｆ繝鐢靛仜閻楁粓宕戞繝鍌ゆ綎婵炲樊浜滃婵嗏攽閻樻彃鏆欐い锔规櫊濮婃椽骞栭悙鎻掝瀴婵犮垻鎳撳Λ娑㈠礆閹烘梹瀚氭繛鏉戭儐椤秴鈹戦悙鍙夘棞缂佸纾懞杈ㄧ節濮橆厸鎷洪梺鑽ゅ枔婢ф骞嗛崼銏㈢＜濠㈣泛鑻崢瀵革拷瑙勬礃椤ㄥ懘鎮惧┑瀣妞ゆ帒鍊稿鎶芥⒒娴ｈ櫣甯涢柡灞诲姂楠炲鏁撻悩鍐诧拷鑸点亜閺囶亝瀚归梺鍝勭灱閸犳牕鐣峰▎鎾澄ч柛鈩冾殢娴硷拷? by changhao
	{
		return true;	
	}
	
	private boolean checkFaction(long roleid) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄苯绉归弻銊э拷锝庝簽娴犳悂姊洪棃娑欐悙閻庢矮鍗抽悰顕�骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù鍏兼尵缁辨捇宕掑顒婃嫹妞嬪海鐭嗗〒姘炬嫹閽樻繂霉閸忓吋缍戠紒鐘卞嵆閺岀喖骞嗛悧鍫缂備胶濮靛畝鎼佸箖濮楋拷閹瑧鎹勭悰鈩冪�奸梻浣告惈閸燁偊鎮ч崱妤婂晠婵犻潧娲㈡禍婊堟煛閸愭寧瀚归梺绋垮婵炲﹪鎮伴锟介獮鍥偋閸碍瀚藉┑鐐舵彧缂嶏拷妞ゎ偄顦靛畷鎴︽偐缂佹鍘遍柟鍏兼儗閸犳牕鈻嶅鍥锋嫹濞堝灝鏋熺憸鏉垮暣閸┿儲寰勯幇顒夋綂闂佺粯蓱瑜板啫鈻撻妶澶嬧拺缁绢厼鎳庢禍褰掓偠濞戞牕鍔︾�规洘鍨块獮妯硷拷闈涘濞茬鈹戦悩璇у伐闁绘锕幃鈥斥槈閵忥紕鍘遍梺闈涱槴閺呪晛螞閹寸姷纾奸柍钘夋噺鐎氬綊姊婚崒娆戭槮闁硅绱曢幑銏ゅ礃椤垶瀵屾繛瀵稿Т椤戝懘鎷戦悢鍏肩厽闁哄倹瀵ч幉鎼佹煟閻旈绉洪柡灞剧洴閳ワ箓骞嬪┑鍥╀邯婵＄偑鍊ら崜娆撴偋閹捐钃熺憸搴ｏ拷鐢靛帶閳诲酣骞嬮悩妯荤矒濮婃椽宕崟顒佹嫳缂備礁顑嗛悧鐘烘闂佹儳娴氶崑浣圭濠婂牊鐓忓┑鐐茬仢閸旀粓鏌涢妶鍛妞ゃ劊鍎甸幃娆撳箹椤撶喓鏉归梻浣筋嚃閸犳洜鍒掑▎鎾崇畺濞寸姴顑嗛崑銊х棯閺夋妲洪梻鍌ゅ灡缁绘繈鎮介棃娑楀摋闂佽妞挎禍鐐垫閻愬鐟归柨鐔凤拷鐔革紓闂備浇顫夊畷姗�顢氳缁牊寰勫畝瀣妤犵偛鐏濋崝姘亜閿斿灝宓嗛柟顕嗙節閹垽宕楅懖鈺佸箥闂備礁澹婇悡鍫ュ窗閺嶎収鏁傛い鎰╁�楃壕濂告煃閽樺鍣洪悗姘秺濮婅櫣鎷犻幓鎺濆妷濡炪倖姊归悧鐘茬暦閺夊簱妲堥柕蹇婃櫆閺咁亪鎮峰鍕棃鐎规洘妞芥俊鐑芥晝閿熺晫娆㈤悙鐑樼厵闂侇叏绠戞晶缁樼箾閻撳函韬慨濠冩そ瀵剟濡烽敂鐣屽絽闂備礁鎽滈崳銉╁垂閸洏锟戒線寮崼鐔蜂簻闂佺绻愰惃鐑藉箯缂佹绠鹃弶鍫濆⒔缁夘剙鈹戦鍝勶拷妤�鈽夐悽绋块唶闁哄洨鍠撻崢閬嶆⒑閹稿海绠撶紒缁樺浮閹箖宕归顐ｎ啍闂佺粯鍔樼亸娆戠不婵犳碍鐓涘ù锝堫潐瀹曞矂鏌℃担瑙勫磳闁轰焦鎹囬弫鎾绘晸閿燂拷? by changhao
	{
		return true;
	}
	
	private boolean checkActiveTime() //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｎ喚绱撴担浠嬪摵闁圭顭烽獮蹇涘川椤旇棄寮块梺瑙勬儗閸樿櫣鑺遍懖鈺冪＜鐎癸拷閸曨亝鍠氬銈冨灪缁嬫垿鍩ユ径濠庢僵濡插本鐗曢弲顓㈡⒒閸屾瑧顦︽繝锟介柆宥呯；闁规崘顕х粈鍫熸叏濡灝鐓愰柛瀣�搁埞鎴﹀磼濮橆厼鏆堥梺缁樻尰閻╊垶骞冨锟介幃娆撳箵閹哄棙瀵栨俊鐐�ら崜娆撳触鐎ｎ喖桅闁告洦鍨遍弲婵喢归敐鍛础鐟滄妸鍥ㄢ拺闂傚牊绋掗幖鎰版倵濮樺崬顣煎ǎ鍥э躬楠炴牗鎷呴懖婵勫姂閺屻劑寮撮鍛伓婵犵數鍋涢幉鐐哄川椤栨粣绱冲┑鐐存尰閼规儳煤閵堝鍑犳繛鎴欏灪閻撶喐淇婇妶蹇斿闂佹寧娲忛崐婵嬨�佸璺何ㄩ柍杞拌兌椤︽澘顪冮妶鍡欏婵ǜ鍔戦幃鍧楁晸閼恒儰绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掍礁寮块柣搴ㄦ涧閹诧繝寮冲鍫熺厵妞ゆ牕妫撮幏鐑芥煛閿熻姤绂掔�ｎ偆鍘藉┑鈽嗗灥濞咃絾绂掑☉銏＄厸闁糕�崇箲濞呭懘鏌嶇憴鍕伌妞ゃ垺鐟ч崰濠囧础閻愭惌鍟�闂傚倷鑳堕幊鎾剁不瀹ュ鍨傜痪顓炴噽娴滆棄鈹戦悙瀛樺鞍闁告垵缍婂畷褰掑箮閼恒儲娅㈤梺绋匡功閸犲酣鎮￠幇鐗堢厪闁搞儜鍐句純閻庢鍣崜娆撳煝鎼淬劍鍊锋い鎺戝�婚埣銉︾節閻㈤潧浠滈柣掳鍔庨崚鎺戭吋閸パ冪亰闂佽宕橀褔寮告笟锟介獮鏍庨锟介悘顔剧磼閳藉懏瀚瑰┑鐘愁問閸犳鏁冮埡鍛婵炴垯鍨圭壕褰掓煟閹邦喖鍔嬮柍閿嬪灴濮婂宕奸悢鍓佺箒闂佺粯甯＄粻鏍蓟濞戙垹惟闁靛瀵屾禒鈺呮⒑鐠恒劌鏋欏┑顔哄�濋幆宀勵敊閹冪亰濠电偛妫楀ù姘焽閺嶎偆纾藉ù锝堝亗閹寸偛鍨旈柟缁㈠枟閻撶娀鏌熼鐔风瑨闁告柣鍊濋弻鏇㈠幢濡ゅ鍚┑顔硷攻濡炶棄螞閸愵喖鐓涢柛鎰碉拷顖樺�楃槐鎾存媴閸濆嫅锝夋煙閻熺増鍠橀柟顔诲嵆椤㈡瑧鎹勯妸褎婢戞繝鐢靛仦閸ㄥ爼鎮烽敃锟介埢宥夊閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷? by changhao
	{
		
		return true;
	}

	// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕稿Δ锟界粻鏉库攽閻樻彃鏆熼柣婵嗙埣閺屽秹宕崟闈涘壋缂備礁顦介崰姘舵晸閸婄噥娼愭繛鍙夌矒瀹曚即寮介婊愭嫹娴ｇ硶妲堟慨妤�妫欓崓鍨繆閹绘帗婀伴柣妤佹礋瀵偊骞栨担鍏夋嫽闂佺鏈悷锔剧矈閻楀牏绠惧璺侯儐缁�瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄闁挎繂妫Λ鍕⒑閸濆嫷鍎庣紒鑸靛哺瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰緞婵犲嫮鏉告俊鐐�栫敮濠勬媼閺屻儱鍑犳繛鍡樻尰閳锋垹绱撴担濮戭亞绮埡浣叉斀妞ゆ柨鎼敓鑺ヮ殜楠炴垿濮�閻橆偅顫嶉梺闈涚箳婵挳鎳撻崹顔规斀闁宠棄妫楅悘銉︺亜閺囧棗鎳庨弸鍫拷骞垮劚椤︿即鍩涢幋鐘电＝濞达綀鍋傞幋鐘辩剨濞寸厧鐡ㄩ悡銉╂煛閸ヮ煁顏堟倶閼碱剨鎷峰▓鍨灈妞ゎ厾鍏橀獮鍐閵堝棗锟界粯淇婇婵囶仩闁挎稑绻戞穱濠囨倷椤忓嫸鎷烽妶澶婂偍濞寸姴顑呴崹鍌炴煕椤愶絾澶勯柡浣风窔閺屻劑鎮ら崒娑橆伓
	private static int checkPvP(long roleId) {
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂啰绠荤�殿喗濞婇弫鍐磼濞戞艾骞堟俊鐐�ら崢浠嬪垂閸偆顩叉繝闈涱儐閻撴洘绻涢崱妤冪缂佺姴顭烽弻锛勪沪缁嬪灝鈷夐悗鍨緲鐎氼噣鏁撻弬銈囩У濞存粍绻堥、娆撳川椤撴稒鏂�闂佺粯鍔曞鍫曞煝閺囩伝鐟邦煥閸愵亜鐓熼悗娈垮櫘閸嬪﹤鐣烽崼鏇ㄦ晢濞达絽鎼敮楣冩⒒婵犲骸浜滄繛璇х畱鐓ら柡宓嫭鐦庨梻鍌氬�风粈渚�骞夐敍鍕床闁告劦鍠撻敓钘夊暞缁绘繈宕掗妶鍡欑▉缂傚倸鍊烽悞锕傗�﹂崶顒佸仭鐟滅増甯楅悡鏇㈡煏婢跺鐏ラ柛鐘宠壘椤洭鎳￠妶鍥╋紳闂佺鏈悷褔藝閿斿浜滈柨鏇炲�烽幉鍓э拷娈垮櫘閸嬪棝骞忛悩缁樺殤妞ゆ帊鐒﹂鏇㈡⒒娴ｅ憡鎯堟繛灞傚灲瀹曞綊宕烽鐘辩瑝闂佹寧绻傚Λ娑氬姬閿熶粙姊洪棃娑㈢崪缂佽鲸娲滅划濠氬箻閸撲胶锛濋悗骞垮劚閹锋垿鐓渚囨闁绘劖褰冮弳锝夋煕閳轰礁顏�规洘锕㈤崺鈩冩媴缁嬭銈夋⒒閸屾瑧鍔嶉悗绗涘懏宕查柛灞绢嚤濞戞ǚ鏋庨柟鎯х－閻涖儵姊洪崫鍕枆闁告ü绮欓崺娑㈠箳閹炽劌缍婇弫鎰板醇椤愶絿绉烽梻浣侯焾椤戝洦绻涢敓浠嬫煛鐏炲墽鈾佺紒缁樼箞瀹曟﹢鍩￠崘鐐ч梻鍌欐祰濡椼劎绮堟笟锟藉畷顖滐拷娑櫭肩换鍡涙煟閹达絾顥夐柣鎾寸☉闇夐柨婵嗘噹椤忕數绱掗悩铏磳鐎殿喛顕ч埥澶愬閻樻彃绁梻渚�娼ч…鍫ュ磿閺屻儲鍊堕柟鍓х帛閳锋垶鎱ㄩ悷鐗堟悙闁跨喓鐛ら崶褏顔嗛梺缁樺灱婵倝鍩涢幒鎳ㄥ綊鏁愰崨顔兼殘闁荤姵鍔х换婵嬪蓟濞戞熬鎷烽敐搴′簼鐎规洖鐬奸敓鍊燁潐濞叉鍒掑畝鍕剁稏婵犻潧顑愰弫鍥煟濞嗘瑦瀚瑰┑鐐存綑鐎氼厾鎹㈠┑瀣棃婵炴垶锕幏鐑藉箹娴ｅ摜鐤呴梺璺ㄥ枔婵澹曟繝姘厽婵☆垱瀵ч悵顏堟煕濞嗗繒绠插ǎ鍥э躬椤㈡稑顫濋鐔峰壍闂備浇鍋愰…鍫㈢礊婵犲洤钃熼柨娑樺閹风兘鏁愭惔鈥茬敖闂佸啿褰炵欢姘跺蓟閻斿摜鐟归柛顭戝枛椤绱撴担铏瑰笡缂佽鐗嗛悾宄邦潨閿熶粙宕洪悙鏉戠窞婵繂鏈妤呮⒒娴ｇ瓔鍤欐慨姗堢畵閿濈偞寰勬繛鎺楃細缁犳稑鈽夊Ο纰辨Х闁诲骸绠嶉崕鍗灻洪敃锟介悾鐑藉矗婢跺瞼鐦堥梻鍌氱墛娓氭宕曡箛鏇犵＜闁跨喓鏅敓鏂ょ秵閸嬩焦绂嶅鍫熺厵闂侇叏绠戦弸娑㈡煛鐎ｎ亪鍙勯柡宀�鍠栭、娆撳礂閻撳孩顏ょ紓鍌欐祰妞存悂骞戦崶褏鏆﹂柟鐑樺焾濞尖晜銇勯幒鎴敾閻庢艾缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮诲☉妯锋斀闁告洦鍋勬慨銏ゆ⒑濞茶骞楅柟鐟版喘瀵鎮㈤搹鍦紲闂侀潧绻掓慨鐢告倶瀹ュ鈷戦柛婵嗗閸ｈ櫣绱掔拠鎻掓殻濠碉紕鏁诲畷鐔碱敊閸撗勬緫闂備礁婀遍崑鎾诲礈濮橆厼顕遍柨鐔剁矙濮婄粯鎷呴崨濠冨創濠碘槅鍋勯顓犲垝婵犳艾绠婚悹鍥蔼閹芥洟姊洪崫鍕カ缂佽鲸娲熼幃鍧楁晸娴犲鐓熼幖鎼灣缁夐潧霉濠婂懎鍘存鐐茬箻閹粓鎸婃径濠傛暏婵＄偑鍊栭幐楣冨磻閻旂厧钃熺憸鏂款潖妤﹁￥浜归柟鐑樻惈缁辩敻姊虹紒妯洪嚋缂佺姵鎹囬獮鍐晸閻樺弬銊╂煃閸濆嫬锟藉宕㈡禒瀣拺闁告繂瀚婵嬫煕鐎ｎ偆娲撮柡浣规崌閹稿﹥寰勭�ｎ厾顢呴梻浣芥硶閸犳洘鎱ㄩ妶澶嬪亜妞ゆ帒瀚粻顖炴煥閻曞倹瀚�
		return fire.pb.battle.pvp.PvPTeamHandle.onRequestTeamMatch(roleId);
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794494;

	public int getType() {
		return 794494;
	}

	public int typematch; // 类型为0是个人组队匹配1是队伍匹配 by changhao
	public int targetid; // 目标id by changhao
	public int levelmin; // 等级下限 如果是个人匹配这个忽略 by changhao
	public int levelmax; // 等级上限 如果是个人匹配这个忽略 by changhao

	public CRequestTeamMatch() {
	}

	public CRequestTeamMatch(int _typematch_, int _targetid_, int _levelmin_, int _levelmax_) {
		this.typematch = _typematch_;
		this.targetid = _targetid_;
		this.levelmin = _levelmin_;
		this.levelmax = _levelmax_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(typematch);
		_os_.marshal(targetid);
		_os_.marshal(levelmin);
		_os_.marshal(levelmax);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		typematch = _os_.unmarshal_int();
		targetid = _os_.unmarshal_int();
		levelmin = _os_.unmarshal_int();
		levelmax = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CRequestTeamMatch) {
			CRequestTeamMatch _o_ = (CRequestTeamMatch)_o1_;
			if (typematch != _o_.typematch) return false;
			if (targetid != _o_.targetid) return false;
			if (levelmin != _o_.levelmin) return false;
			if (levelmax != _o_.levelmax) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += typematch;
		_h_ += targetid;
		_h_ += levelmin;
		_h_ += levelmax;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(typematch).append(",");
		_sb_.append(targetid).append(",");
		_sb_.append(levelmin).append(",");
		_sb_.append(levelmax).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CRequestTeamMatch _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = typematch - _o_.typematch;
		if (0 != _c_) return _c_;
		_c_ = targetid - _o_.targetid;
		if (0 != _c_) return _c_;
		_c_ = levelmin - _o_.levelmin;
		if (0 != _c_) return _c_;
		_c_ = levelmax - _o_.levelmax;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

