
package fire.pb.team;



import fire.pb.PropRole;
import fire.pb.buff.BuffAgent;
import fire.pb.buff.BuffConstant;
import fire.pb.buff.BuffRoleImpl;
import fire.pb.buff.OperateType;


// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CCallbackMember__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨荤划顖涚┍婵犲洦鍊锋い蹇撳閹风兘寮介鐔蜂罕濠电姴锕ら悧鍡欏缂佹绠鹃柟瀵稿仦閻ㄦ垿鏌ｉ鐐搭棦闁哄本鐩、鏇㈠Χ閸涱喚浜栫紓鍌欒兌婵烇拷缂佺姵鐗犲璇测槈閵忕姷鍔撮梺鍛婂姉閸嬫捇鎮炬總鍛婄厽闁绘ê鍟挎慨锟介梺鍝勬噺缁酣骞戦姀鐘婵妫楅弲鐘差渻閵堝棙顥嗙�规洜鏁诲畷娆掋亹閹烘挴鎷洪梺鍛婄箓鐎氼參宕冲ú顏呯厵妞ゆ梻鍘ч敓钘夌仢椤曪絾绻濆顑┾晠鏌嶉崫鍕拷鍛婄閻愮儤鈷戠紒瀣濠�鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�
 * @author changhao
 *
 */
public class CCallbackMember extends __CCallbackMember__ {
	
	Team team;
	
	@Override
	protected void process() {
		// protocol handle
		TeamManager.logger.debug("Enter: " + this.getClass());
		final long leaderRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (leaderRoleId < 0)
			return;
		mkdb.Procedure callbackMemberP = new mkdb.Procedure()
		{

			@Override
			protected boolean process()
			{
				//lock start
				Long teamId = xtable.Roleid2teamid.select(leaderRoleId);
				if(teamId != null)
					team = new Team(teamId,false);
				else
					return true;
				if(!team.isTeamLeader(leaderRoleId))
					return true;//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌熺紒銏犳灍闁稿骸顦…鍧楁嚋闂堟稑顫岀紓浣哄珡閸ャ劎鍘遍梺鍝勭Р閸婃洘鏅堕弻銉﹀�垫慨妯诲墯濞兼劕菐閸パ嶈含濠碘�崇埣瀹曠喖顢橀悙宸�撮梻鍌欑閹诧繝鎮烽妷褎宕叉慨妤嬫嫹鐎殿喖顭烽幃銏ゆ惞閸︻叏绱查梻渚�娼х换鎺撴叏閻㈠憡鍊剁�广儱顦伴埛鎴犵磼鐎ｎ亞浠㈡い鎺嬪灪閵囧嫰濡搁妷锕�娈楁繝纰樺墲閹告娊鐛幒妤�绠ｆい鎾跺枎閸忓﹪姊绘担铏瑰笡闁告棑绠撳畷婊冣枎閹垮啯鏅滈梺鍓插亝濞叉﹢鍩涢幒鎳ㄥ綊鏁愰崶鈺傛啒闂佹悶鍊曢崯鎾蓟濞戔懇锟斤箓骞嬪┑鍫滄闂備浇顕栭崰姘跺磻閵堝鏋侀柛鎰靛枟閺呯霉閻樺樊鍎涢柡浣割儔閺屾洘寰勯崱妯荤彅缂備緤鎷烽悗锝庡亖娴滄粓鏌熼幆褜鍤熺紒鐘崇墵閺屾盯寮撮悙鍙夋濠殿喖锕ㄥ▍锝夊箯閻樿鐏崇�规洖娴勯幏閿嬬節濮橆厾鍘卞┑鐐村灥瀹曨剙顕ｉ锟介弻娑樷枎濞嗘垹鐦堝┑顔硷工椤嘲鐣烽幒鎴僵妞ゆ帒锕ョ�氱懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笧閺咁偊骞夐幖浣哥睄闁搞儺鐓堝Λ銊︾節閻㈤潧浠滄い鏇ㄥ幗閹便劑骞橀鍛櫈闂佺硶鍓濈粙鎴犲婵犳碍鐓曠�癸拷閿熶粙宕戦悙鐑樺亗闁哄洨鍠嗘禍婊堟煙閺夊灝顣抽柟顔垮亹缁辨帡鎮╅鐓庡Е闂佸搫鐭夌紞渚�鐛幒鎴悑闁搞儮鏅濋崢顖炴⒒娴ｅ憡鎯堥悶姘煎亰瀹曟繈骞嬮敃锟界粻鏍煏韫囧锟芥洘瀵奸悩缁樼厱闁哄洨鍠庨悡锟界紓鍌氱С缁舵艾顕ｆ繝姘櫜濠㈣泛锕﹂鎺楁煟閻樿崵绱伴柕鍡嫹闂佸搫顑呴幊妯侯潖濞差亜浼犻柛鏇ㄥ幘閸斿湱绱撻崒姘毙＄紒鑸靛哺閻涱噣宕橀纰辨綂闂侀潧鐗嗛幊搴ｇ玻濞戞瑧绡�闁汇垽娼у瓭闁诲孩鍑归崜鐔风暦閻㈢绠抽柡鍐ㄥ�婚敍婵嬫⒑缁嬫寧婀伴柣鐔村姂瀹曟鐣濋崟顒�锟藉灚鎱ㄥ鍡楀缂佺姾宕甸敓鍊燁潐濞叉粓宕伴弽顓滐拷渚�寮崼婵嗚�垮┑鐐叉閸ㄨ泛袙鎼淬劍鈷掗柛灞捐壘閿熶粙顥撶划鍫熺瑹閿熶粙鐛径鎰櫢闁绘ê鍟挎禒顓㈡⒑闂堟侗妲撮柡渚婄節瀹曞爼濡搁妷顔兼闂備礁鎼ˇ浼村垂瑜版帗鏅繛鍡樻尰閳锋垹鎲搁悧鍫濈瑨濞存粈鍗抽弻娑㈡晲鎼达紕浠稿Δ鐘靛仜缁绘垿藝閻楀牊鍎熼柕蹇曞У閻庮參姊绘担鍛婂暈婵炶绠撳畷婊冣槈閵忊剝娅栧┑顔筋殣閹烽攱鎱ㄦ繝鍛仩缂侇喗鐟╅獮鎰償閵忕娀妫烽梻鍌欐祰濡椼劌霉閸ヮ剦鏁嬬憸鏃堛�佸鑸垫櫜濠㈣埖蓱閺呮繈姊洪幐搴㈢┛闁圭兘顥撶槐鎺楁晸娴犲绀冩い鏃傛櫕閸樻捇姊洪崨濠勭畵閻庢凹鍓熼弫鎾绘嚍閵夛箑锟芥劖銇勯姀鈩冨磳妤犵偞顭囩槐鎺懳熼柨瀣伖闂傚倷娴囬鏍垂鎼淬劌宸濇い鏍电到閺呫儱鈹戦敍鍕杭闁稿﹥鐗曠叅婵鎷烽柟顔ㄥ洦鍋愰柤纰卞墯濞堟儳顪冮妶鍡欏⒈闁稿绋撴竟鏇熺附閸涘﹦鍘介梺褰掑亰閸犳稖妫㈤梻浣哥秺椤ユ挾鍒掗婊勫床婵炴垶鐟︾紞鍥煕閹炬鍟悡鍌炴⒒娴ｄ警鏀版い鏇熺矌閹广垹鈹戠�ｎ剙绁﹂梺绯曞墲缁嬫垿鏌嬮崶顒佺厪濠㈣埖绋撻悾閬嶆煥閻旂粯顥夐柣蹇斿哺楠炲牓濡搁妷搴ｅ枛瀹曨偊宕熼鑲╁幋闂傚倷绀侀幉锟犳晪濡炪倖娲﹂崣鍐极閹捐纾归柣鏇氱劍缂嶅牆鈹戦悙鎻掔骇闁绘娲熼弫鍐閵堝棛鍔堕悗骞垮劚閹虫劙顢欐径鎰拺闁告稑锕ユ径鍕煕閹惧顣查柛鎺戯躬楠炴﹢顢欓悾灞藉箰闂備焦鎮堕崕鎻掞耿閸︻叀濮抽柣锝呯灱绾剧厧顭块懜寰楊亜鈻嶅澶嬬厸閻忕偟顭堟晶鏌ユ煙瀹勭増鍣界紒顔界懇瀹曠娀鍩勯崘顭戜紦闂備胶顫嬮崟鍨暥缂備胶濮靛姗�鍩為幋锔藉亹闁圭粯甯楀▓顓犵磽娴ｇ顣抽柛瀣仦缁岃鲸绻濋崶鑸垫櫖濠电姴锕ら崯顐ｄ繆閸濆嫷娓婚柕鍫濇閳锋劙鏌熼悷鐗堟悙妞ゎ偄绻橀幖鍦喆閸曨偆褰撮梻浣告惈鐞氼偊宕曞ú顏呮櫢闁兼亽鍎哄▓妯肩磼鏉堛劌娴柟顔规櫊閹崇娀顢栭搴℃嫅閹烽鎲撮崟顒傤槰濠电偠灏欓崰鏍ь嚕婵犳艾骞㈡俊銈呭暞濞堝ジ姊洪棃娑辨Ф闁稿孩鐓″畷鏉课熷ú缁橆啍闂佺粯鍔樼亸娆戠不娴煎瓨鐓熼柨婵嗘缁犳牜绱掔紒妯肩疄鐎规洘锕㈤崺锟犲礃椤忓棗锟芥娊姊婚崒姘拷鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙绀冩い鏇嗗洤鐓橀柟杈鹃檮閸嬫劙鏌涘▎蹇ｆЧ闁诡喗鐟х槐鎾存媴閸濆嫷锟藉矂鏌涢妸銉у煟鐎殿喖顭锋俊鎼佸煛閸屾矮绨介梻浣侯焾閺堫剛绮欓幋锔绘晜闁跨噦鎷�?
//				Long[] roleids = new Long[team.getAllMemberIds().size()];
//				roleids[0] = leaderRoleId;
				this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK,team.getAllMemberIds()));
				//Lock end
				
				if(!checkTeamStatusValid(leaderRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崹褰掑箲閵忕姭鏀介柛鈾�鏅滈崓闈涱渻閵堝棗绗掗柛瀣功濡叉劙寮婚妷锔规嫽婵炶揪绲块幊鎾活敋濠婂嫪绻嗘い鎰剁磿椤︼箓鎽堕悙鐑樼厱闁哄洢鍔岄悘閬嶆煛娴ｇ锟藉潡寮诲☉銏╂晝闁挎繂妫涢ˇ銊╂⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁瑰啿绻樺畷顖炴倷閻戞鍘遍梺缁樻煥閹碱偅绂掗柆宥嗙厸鐎癸拷鐎ｎ剙鍩岄柧缁樼墪閳规垿鎮╅幓鎺炴嫹閸濄儳涓嶉悹鍥ㄧゴ閺�浠嬫煃閵夈儱鏆辩紒鐙欏洦鐓曢柡鍐挎嫹闁荤喆鍎甸、姘舵晲婢跺﹦顔掑銈嗘濡嫭绂嶈ぐ鎺撯拺婵懓娲ら悘顕�鏌℃担瑙勫�愮�规洘绻堝畷濂稿即閻斿弶瀚藉┑鐐舵彧缂嶏拷婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍归敐澶嬫珳缂併劎鏁诲缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽妷褝鎷烽敐搴℃灍闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶姤鐎抽悗骞垮劚椤︻垱顢婇梻浣告啞濞诧箓宕板鑸靛仾闁跨喍绮欏娲箰鎼达絿鐣甸梺鐟板暱缁夊爼鎳炴潏銊х瘈婵﹩鍘搁幏娲煟鎼粹剝璐″┑顖ｅ幖椤洭骞囬悧鍫㈠幈闂侀潧顭堥崕鏌ュ磻閵夆晜鐓忛柛鈩冩礈椤︼箓鏌嶇拠鏌ュ弰妤犵偞锕㈠鍫曞箣閻愬灚鐎梻鍌氬�风欢姘焽瑜旇棟妞ゆ挶鍨圭壕鍨攽閻樺疇澹樼紒鐙�鍨堕弻锝夊箣閿濆棭妫勭紓浣哄У缁嬫帡濡甸崟顖氱婵°倧鎷烽悗姘卞厴瀹曨垰顓兼径瀣ф嫽婵炶揪缍�濞咃絿鏁☉銏＄厱闁靛ň鏅滃☉褔鎮￠妶澶嬬叆闁哄喛鎷烽柟閿嬬箞楠炲繐鐣￠柇锔藉兊闁哄鐗勯崝灞解枔瀹�鍕拺閻庡湱濯鎰版煕閵娿儲鍋ユ鐐插暙閳诲酣骞橀弶鎴炵杺闂傚倸鍊搁悧濠勭矙閹烘鐓ユい鎾跺Х绾句粙鏌涚仦鎹愬闁跨喕妫勯幗婊呭垝濞嗘挸绀嬫い鏍ㄦ皑椤斿棝鎮楅悷鏉款伃闁稿锕ら妴鎺撶節濮橆厾鍘梺鍓插亝缁诲啴藟閻愮數纾奸柨鐔剁矙瀹曟﹢顢欓悾灞藉箺婵犲痉鏉匡拷鏇㈠疮椤愩垻鎽ラ梻鍌欐缁鳖喚寰婃禒瀣簥闁哄被鍎遍悡姗�鏌熺�电顎撻柟椋庡厴閺佹劖鎯斿┑鍫熸櫦婵＄偑鍊х拹鐔煎礉瀹�鍕拷鏃堝礃椤斿槈褔鏌涢埄鍏︽岸骞忔繝姘拺闁告繂瀚刊濂告煕鐎ｎ亷宸ラ柣锝囧厴婵拷闁靛牆鎳愰鎰箾鏉堝墽鍒伴柛妯荤矒楠炲繐煤椤忓應鎷洪梺鍛婄☉閿曪箓鍩ユ径鎰叆闁哄洦锚閿熻姤鐗犻獮鍫ュΩ閳哄倹娅㈡繛瀵稿Т椤戝棝鍩涢幋锔界厱婵犻潧妫楅顏堟煕閿濆牊顏犵紒杈ㄥ浮椤㈡瑩鎳為妷銉ь暡婵＄偑鍊栧ú鈺冪礊娓氾拷閻涱噣寮介妸锕�顎撻梺鍛婄缚閸庡搫危鐟欏嫪绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掍礁寮块梺缁樺灱婵倝寮查浣虹瘈濠电姴鍊搁弳濠囨煛閿熻姤绂掔�ｎ亞顔婇梺瑙勫劶濡嫮澹曢崷顓熷枑闁哄啫鐗忓畵渚�鐓崶銊р檨闁绘挶鍎甸幃妤呮晲閸愩劌顬嗙紓浣靛妼椤嘲顫忓ú顏勭閹肩补鎳囬幏濠氭⒑缁嬫鍎愰柟鐟版搐椤曪綁骞庣粵瀣櫌婵炴挻鑹惧ú锕傤敊閺冨牊鈷戠紓浣姑慨灞俱亜閺囩喓鐭婃い鏂跨箻婵＄兘鍩￠崒娑樻畽闂備礁鎼粙渚�宕㈡禒瀣亗闁哄洨鍠撶粻楣冩煙鐎涙绠撻柤绋跨秺閺岋紕锟斤綆鍋嗗ú鎾煛瀹�瀣К妞わ附鐓￠幃妤�顫濋悡搴＄闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴濇喚婵炵厧锕娲箰鎼达絿鐣靛┑鈽嗗亝閻╊垱淇婇幘顔肩疀闁绘鐗冮幏娲⒑閸︻収鐒鹃悗娑掓櫇婢规洟骞栨担鍦幈婵犵數濮撮崯鎵不閻愭惌娈介柣鎰级椤ャ垻锟借娲橀敃銏ゃ�佸▎鎴濇瀳閺夊牄鍔庣粔閬嶆⒒閸屾瑧绐旀繛浣冲洦鍋嬮柛鈩冦亗濞戞鏆嗛柛鏇ㄥ亞椤斿棗鈹戦悙鍙夆枙濞存粍绻堥崺娑㈠箣閻樺灚锛忓銈嗘尵閸嬬偤宕抽悷鎳婄懓顭ㄩ崘顏喰ㄩ梺鍝勬湰缁嬫捇鏁撻弬銈囩У闁稿妫楃叅閻庣敻娼婚幏椋庢喆閸曨剛顦ㄧ紓浣筋嚙閻楀﹥绌辨繝鍥ㄥ殝闂傚牊绋撶粣鐐烘煟鎼搭垳绉甸柛鎾寸懇閻涱噣宕奸妷锔规嫼闁荤姴娲﹁ぐ鍐吹鏉堚晝纾界�广儱鎳忛ˉ銏拷瑙勬礃缁矂鍩㈡惔銊ョ疀妞ゆ洖鎳忕粊顐ｇ節閻㈤潧孝闁挎洏鍊濋幃褎绻濋崶銊ヤ簵闂佸憡鍔︽禍鐐靛閽樺褰掓晲閸繀绨甸梺鐟扮摠缁诲嫰寮抽敃鍌涚厱闁哄洢鍔岄獮妯肩棯閹佸仮闁哄矉绲借灒闁惧繒娅㈢槐鐐测攽閻愭潙绲绘い鏇ㄥ弮閺佹捇鎳為妷顔兼櫛闂佸摜濮甸〃濠囩嵁閹版澘绠柦妯侯槺閻ｆ椽姊洪崘鍙夋儓闁瑰啿绻樺畷鎴﹀Ω閳哄倵鎷婚梺鍓插亞閸犳捇鍩ユ径鎰喒閹兼番鍔嶉埛鎺楁煕鐏炴崘澹橀柨鐔诲Г閹倸鐣烽幇鐗堝�婚柤鎭掑劚濞堟垿姊洪崜鎻掍簼婵炲弶鐗犲畷鎺楀Ω瑜庨崰鎰版煛閸愩劎澧涢柡鍛叀閺岋綁骞囬浣瑰創闂佸憡顨嗘繛濠囧蓟閺囷紕鐤�闁哄洨鍊妷鈺傜叆婵炴垶鐟ч幊鍥ㄦ叏婵犲啯銇濈�规洦鍋婂畷鐔碱敇濞戞瑧锟介亶姊绘担鍛婂暈閻绱掗鐣屾噧闁伙絿鍏橀獮瀣晝閿熶粙鎮″☉銏＄厱婵炴垵宕弸鎾绘煙瀹勭増鎯堟い顏勫暣婵″爼宕卞Δ鍛疂闂備礁婀遍崗姗�藟閹捐埖顫曢柟鐑樻尭缁剁偤鎮橀悙闈涗壕婵絽鐗撳铏瑰寲閺囩喐鐝曢梺鐑╂櫓閸ㄥ爼鎮伴锟介獮鎺楀箠閾忣偅鈷愰柟宄版嚇瀹曨偊宕熼銈囨澖闂傚倸鍊搁崐宄懊归崶顒婄稏濠㈣泛顭悢鍡樻叏濡ゅ瀚归悗瑙勬磸閸庣敻寮幘缁樺仼鐎癸拷閿熺晫澹曟總鍛婄厪濠电偛鐏濋崝鎾煟閹剧偨鍋㈤柡灞革拷宕囨殕閻庯綆鍓涢敍鐔兼⒑鐠恒劌鏋戦柡瀣吹缁辩偤宕卞Ο纰辨锤濡炪倕绻愰悧鍡涙儗濡ゅ懏鐓曢柡鍥ュ妼閻忥繝鏌ｉ幘瀵搞�掗柨鐔烘櫕濞呫垽骞忛悜鑺ョ叆闁绘柨澧庨惌娆戯拷瑙勬磻閸楀啿顕ｉ崐鐕佹Ь闂佸搫妫寸粻鎾诲蓟閵娿儮鏀介柛鈩冿供濡偟绱撴担绋款暢闁稿鐩崺鐐哄箣閿旇棄锟界兘姊婚崼鐔衡棩濠㈣娲熷铏规嫚閼碱剛顔囧┑鈽嗗亝缁诲倿锝炶箛鏇犵＜婵☆垵顕ч鎾绘⒑閸忛棿鑸柛搴灦閺佹捇鎸婃径濠冩缂備浇椴哥敮锟犲极閹剧粯鍤嶉柕澶涚畱椤庢捇姊洪幆褏绠版繝锟介柆宥嗗亗閻庯綆鍠楅埛鎴︽煠婵劕锟芥洟寮搁幋婵愮唵闁荤喓澧楅ˉ銏拷娈垮枟婵炲﹪寮崘顔肩＜婵炴垶鑹鹃獮妤呮⒒娴ｇ瓔娼愰柛搴㈠▕瀹曨垶宕稿Δ浣稿墾闂侀潧艌閺呮粓鎮￠悢鍏肩厵闁诡垎鍐煘闂佸憡妫戠粻鎾诲蓟閿涘嫪娌柛鎾楋拷濡插牓姊虹�圭姵顥夋い锕傛涧閻ｇ兘鏁撻悩鍐诧拷椋庯拷鐟板閸犳顨ラ崟顖涒拻闁稿本鐟ч崝宥嗕繆閻愬弶鍋ョ�规洏鍨虹粋鎺旓拷锝庣厜閹风兘宕橀鐓庣獩闂佸搫顦伴崹褰掑储閹绢喗鈷戠痪顓炴噺瑜把囨⒒閸曨偄顏�规洘鍨块獮鍥敇閻樻鍟庨梻浣稿閸嬪棝宕版惔顭戞晪婵犲﹤瀚崣蹇涙煥濠靛棙鍣介柣鎺戞啞閹便劍绻濋崨顕呬哗闂佸湱鎳撶�氱増淇婇幖浣肝ㄩ柨鏂垮綖缁ㄨ棄鈹戦悩娈挎毌婵℃彃鎳樺畷鎴﹀礋椤撱劍瀚规慨姗嗗幗缁舵煡鏌ｉ敐鍥у幋妞ゃ垺鐩幃娆撳蓟閵夛附娈斿┑鐘茬棄閺夊尅鎷烽幘缁樺�块柨鏇嫹闁宠绉规慨锟介柕鍫濇閹风儤绻涢弶鎴濇倯闁荤啙鍥х濞寸厧鐡ㄩ悡鐔搞亜閹捐泛浠у褝绠撻弻鐔碱敊閹傛勃闂侀潧鐗炵紞浣哥暦濮楋拷閸╋繝宕橀妸銉﹁緢闂傚倸鍊风粈渚�骞栭鈷氭椽鏁冮崒娑欐珨闂傚倷娴囬褏鎹㈤幇顒夊殨闁割偅娲栨闂佸憡娲﹂崹浼达綖閸涘瓨鐓冮柍杞扮閺嬨倖淇婇銏犳殻闁诡喗顨堥幉鎾礋椤掑偆妲堕梻浣告啞椤棝宕惰閸樻挳姊虹涵鍛涧缂佺姵鍨块弻瀣炊閵婏絼绨婚梺瑙勫閺呮盯鎮橀鍫熺厱濠电姴鍟伴埦浣虹磼缂佹绠為柟顔荤矙濡啫霉闊彃鍔滈柕鍥у閺佹劙宕奸悤浣诡棄闂佸憡顨婃禍鍫曞蓟濞戞ǚ妲堟繛鍡樺姉缁嬪洭姊洪幖鐐插闁稿﹤顭烽弫鎾诲磹閻曚焦缍堝┑鐐插级閻楁洜鍙呴梺闈涚墕椤︻垶宕归崒娑氱瘈闂傚牊绋掗崒銊ッ瑰鍕煉闁哄备锟芥剚鍚嬮幖绮癸拷鑼泿濠电偛顕刊瀵哥不閹捐钃熸繛鎴炵懅缁★拷闂佺鏈崙褰掑汲閵忋倖鈷戦悹鎭掑妼閺嬫瑦淇婇銏狀伀缂侇喛顕ч鍏煎緞婵犲嫸绱甸梻鍌欑贰閸撴瑧绮旂�靛摜涓嶆い鏍仦閸婄敻鏌ㄥ┑鍡欏嚬缂併劎鏁婚弻銊╂偄鐠囨畫鎾绘偨椤栨侗娈橀柟骞垮灩閳规垿宕遍埡鍌氬厞婵＄偑鍊栭幐楣冨磿閹达箑绠柣鎴ｅГ閸嬨劑鏌涘☉姗堝姛闁告瑥妫楅埞鎴︽偐缂佹ɑ閿┑鈽嗗亝缁诲牓銆侀幘婢勬棃鏁撴禒瀣э拷锕傛嚄椤栵絾顎囬梻浣告憸婵敻鎮ч悩璇ц�垮〒姘炬嫹婵﹨娅ｇ槐鎺戭潨閸粎杩旈梻浣侯焾椤戝懘骞婃惔銊ョ厺鐎广儱顦獮銏＄箾閹寸偟鎳呴柛姗嗕邯濮婃椽骞栭悙鎻掑Η闂佸憡鍔曡ぐ鐐垫閺傚簱鏀介柣妯诲墯閸熷繘鏌涢敐搴＄仸妤犵偛绻橀幃婊堟嚍閵夈垺瀚奸梻浣虹帛閸旀ê螞閸曨垰绀夋慨妯夸含濡垳绱撴担闈涚仼妤犵偞顨堢槐鎺楀磼濞戞ɑ璇為悗瑙勬处閸嬪﹥淇婇悿顖ｆЬ闂佹寧绋掔换鍐崲濞戞瑦缍囬柛鎾楀啫鐓傚┑鐘灮閹虫捇鏁冮鍕殾闁哄浄绱曢悿锟介梺鍝勫�介濠勮姳婵犳碍鈷戦柟绋垮閳锋帡鏌涚�ｎ偅宕岀�殿喗濞婇、妤呭礋椤掑倸甯鹃梻浣虹《閸撴繂煤濠婂煻鍥晜婵劒绨诲銈嗗姧缁插潡鎯岄幒妤佺厸濞达綀顫夊畷宀勬煙瀹曞洤浠卞┑锛勫厴婵″爼宕堕埡鍐╂瘞婵犵數濮甸鏍窗濡ゅ啯宕查柛宀�鍋為崕妤呮煕椤愶絾鍎曢柨婵嗩槸缁犳氨鎲稿鍐︼拷鎺撶節濮橆厾鍘梺鍓插亝缁诲嫮绮婚悜妯镐簻闁规儳鐡ㄩ妵婵嬫煛瀹�锟介崰鏍х暦濞嗘挸围闁糕剝顨忔导锟�(illegal)
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崹褰掑箲閵忕姭鏀介柛鈾�鏅滈崓闈涱渻閵堝棗绗掗柛瀣功濡叉劙寮婚妷锔规嫽婵炶揪绲块幊鎾活敋濠婂嫪绻嗘い鎰剁磿椤︼箓鎽堕悙鐑樼厱闁哄洢鍔岄悘閬嶆煛娴ｇ锟藉潡寮诲☉銏╂晝闁挎繂妫涢ˇ銊╂⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁瑰啿绻樺畷顖炴倷閻戞鍘遍梺缁樻煥閹碱偅绂掗柆宥嗙厸鐎癸拷鐎ｎ剙鍩岄柧缁樼墪閳规垿鎮╅幓鎺炴嫹閸濄儳涓嶉悹鍥ㄧゴ閺�浠嬫煃閵夈儱鏆辩紒鐙欏洦鐓曢柡鍐挎嫹闁荤喆鍎甸、姘舵晲婢跺﹦顔掑銈嗘濡嫭绂嶈ぐ鎺撯拺婵懓娲ら悘顕�鏌℃担瑙勫�愮�规洘绻堝畷濂稿即閻斿弶瀚藉┑鐐舵彧缂嶏拷婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍归敐澶嬫珳缂併劎鏁诲缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽妷褝鎷烽敐搴℃灍闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶姤鐎抽悗骞垮劚椤︻垱顢婇梻浣告啞濞诧箓宕板鑸靛仾闁跨喍绮欏娲箰鎼达絿鐣甸梺鐟板暱缁夊爼鎳炴潏銊х瘈婵﹩鍘搁幏娲煟鎼粹剝璐″┑顖ｅ幖椤洭骞囬悧鍫㈠幈闂侀潧顭堥崕鏌ュ磻閵夆晜鐓忛柛鈩冩礈椤︼箓鏌嶇拠鏌ュ弰妤犵偞锕㈠鍫曞箣閻愬灚鐎梻鍌氬�风欢姘焽瑜旇棟妞ゆ挶鍨圭壕鍨攽閻樺疇澹樼紒鐙�鍨堕弻锝夊箣閿濆棭妫勭紓浣哄У缁嬫帡濡甸崟顖氱婵°倧鎷烽悗姘卞厴瀹曨垰顓兼径瀣ф嫽婵炶揪缍�濞咃絿鏁☉銏＄厱闁靛ň鏅滃☉褔鎮￠妶澶嬬叆闁哄喛鎷烽柟閿嬬箞楠炲繐鐣￠柇锔藉兊闁哄鐗勯崝灞解枔瀹�鍕拺閻庡湱濯鎰版煕閵娿儲鍋ユ鐐插暙閳诲酣骞橀弶鎴炵杺闂傚倸鍊搁悧濠勭矙閹烘鐓ユい鎾跺Х绾句粙鏌涚仦鎹愬闁跨喕妫勯幗婊呭垝濞嗘挸绀嬫い鏍ㄦ皑椤斿棝鎮楅悷鏉款伃闁稿锕ら妴鎺撶節濮橆厾鍘梺鍓插亝缁诲啴藟閻愮數纾奸柨鐔剁矙瀹曟﹢顢欓悾灞藉箺婵犲痉鏉匡拷鏇㈠疮椤愩垻鎽ラ梻鍌欐缁鳖喚寰婃禒瀣簥闁哄被鍎遍悡姗�鏌熺�电顎撻柟椋庡厴閺佹劖鎯斿┑鍫熸櫦婵＄偑鍊х拹鐔煎礉瀹�鍕拷鏃堝礃椤斿槈褔鏌涢埄鍏︽岸骞忔繝姘拺闁告繂瀚刊濂告煕鐎ｎ亷宸ラ柣锝囧厴婵拷闁靛牆鎳愰鎰箾鏉堝墽鍒伴柛妯荤矒楠炲繐煤椤忓應鎷洪梺鍛婄☉閿曪箓鍩ユ径鎰叆闁哄洦锚閿熻姤鐗犻獮鍫ュΩ閳哄倹娅㈡繛瀵稿Т椤戝棝鍩涢幋锔界厱婵犻潧妫楅顏堟煕閿濆牊顏犵紒杈ㄥ浮椤㈡瑩鎳為妷銉ь暡婵＄偑鍊栧ú鈺冪礊娓氾拷閻涱噣寮介妸锕�顎撻梺鍛婄缚閸庡搫危鐟欏嫪绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掍礁寮块梺缁樺灱婵倝寮查浣虹瘈濠电姴鍊搁弳濠囨煛閿熻姤绂掔�ｎ亞顔婇梺瑙勫劶濡嫮澹曢崷顓熷枑闁哄啫鐗忓畵渚�鐓崶銊р檨闁绘挶鍎甸幃妤呮晲閸愩劌顬嗙紓浣靛妼椤嘲顫忓ú顏勭閹肩补鎳囬幏濠氭⒑缁嬫鍎愰柟鐟版搐椤曪綁骞庣粵瀣櫌婵炴挻鑹惧ú锕傤敊閺冨牊鈷戠紓浣姑慨灞俱亜閺囩喓鐭婃い鏂跨箻婵＄兘鍩￠崒娑樻畽闂備礁鎼粙渚�宕㈡禒瀣亗闁哄洨鍠撶粻楣冩煙鐎涙绠撻柤绋跨秺閺岋紕锟斤綆鍋嗗ú鎾煛瀹�瀣К妞わ附鐓￠幃妤�顫濋悡搴＄闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴濇喚婵炵厧锕娲箰鎼达絿鐣靛┑鈽嗗亝閻╊垱淇婇幘顔肩疀闁绘鐗冮幏娲⒑閸︻収鐒鹃悗娑掓櫇婢规洟骞栨担鍦幈婵犵數濮撮崯鎵不閻愭惌娈介柣鎰级椤ャ垻锟借娲橀敃銏ゃ�佸▎鎴濇瀳閺夊牄鍔庣粔閬嶆⒒閸屾瑧绐旀繛浣冲洦鍋嬮柛鈩冦亗濞戞鏆嗛柛鏇ㄥ亞椤斿棗鈹戦悙鍙夆枙濞存粍绻堥崺娑㈠箣閻樺灚锛忓銈嗘尵閸嬬偤宕抽悷鎳婄懓顭ㄩ崘顏喰ㄩ梺鍝勬湰缁嬫捇鏁撻弬銈囩У闁稿妫楃叅閻庣敻娼婚幏椋庢喆閸曨剛顦ㄧ紓浣筋嚙閻楀﹥绌辨繝鍥ㄥ殝闂傚牊绋撶粣鐐烘煟鎼搭垳绉甸柛鎾寸懇閻涱噣宕奸妷锔规嫼闁荤姴娲﹁ぐ鍐吹鏉堚晝纾界�广儱鎳忛ˉ銏拷瑙勬礃缁矂鍩㈡惔銊ョ疀妞ゆ洖鎳忕粊顐ｇ節閻㈤潧孝闁挎洏鍊濋幃褎绻濋崶銊ヤ簵闂佸憡鍔︽禍鐐靛閽樺褰掓晲閸繀绨甸梺鐟扮摠缁诲嫰寮抽敃鍌涚厱闁哄洢鍔岄獮妯肩棯閹佸仮闁哄矉绲借灒闁惧繒娅㈢槐鐐测攽閻愭潙绲绘い鏇ㄥ弮閺佹捇鎳為妷顔兼櫛闂佸摜濮甸〃濠囩嵁閹版澘绠柦妯侯槺閻ｆ椽姊洪崘鍙夋儓闁瑰啿绻樺畷鎴﹀Ω閳哄倵鎷婚梺鍓插亞閸犳捇鍩ユ径鎰喒閹兼番鍨荤弧锟介梺姹囧灲濞佳冩毄闂備浇妗ㄧ粈渚�骞夐敓鐘茬疄闁靛ň鏅滈崐濠氭煢濡警妲归柣搴墴濮婃椽宕ㄦ繝鍕ㄦ闂佹寧娲忛崕闈涚暦閿濆牏鐤�婵炴垶鐟ч崢浠嬫⒑闂堟稓绠為柛濠冪墪閳藉顦归柡宀嬬磿閿熸枻缍嗘禍鐐存櫠閵忋倖鐓ラ柣鏃傜帛椤ュ绱掗悩鑼х�规洘娲熼弻鍡楊吋閸℃ぞ缃曟繝鐢靛Т閿曘倝鎮ч崱娆戞／鐟滃海鎹㈠☉姗嗗晠妞ゆ棁宕甸崙褰掓⒑閹惰姤鏁遍悽顖ょ節瀵鈽夊顐ｅ媰闂佸憡鎸嗛崟顐ｇ彯缂傚倸鍊烽悞锕傚礉閺嵮屾綎闁革富鍘藉畷鍙夌箾閹存瑥鐏柛瀣�块獮鏍箹椤撶偞鐏撻梺鍛婅壘椤戝懓鐏冮梺缁橈耿濞佳勭濠婂懐纾肩紓浣癸公閼拌法锟芥鍣崑濠囩嵁濡偐纾兼俊顖滅帛椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?,teamId: " + teamId);
					return true;
				}
				
				PropRole leaderprole = new PropRole(leaderRoleId, true);
				if(leaderprole.getProperties().getCruise() > 0) {
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崹褰掑箲閵忕姭鏀介柛鈾�鏅滈崓闈涱渻閵堝棗绗掗柛瀣功濡叉劙寮婚妷锔规嫽婵炶揪绲块幊鎾活敋濠婂嫪绻嗘い鎰剁磿椤︼箓鎽堕悙鐑樼厱闁哄洢鍔岄悘閬嶆煛娴ｇ锟藉潡寮诲☉銏╂晝闁挎繂妫涢ˇ銊╂⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁瑰啿绻樺畷顖炴倷閻戞鍘遍梺缁樻煥閹碱偅绂掗柆宥嗙厸鐎癸拷鐎ｎ剙鍩岄柧缁樼墪閳规垿鎮╅幓鎺炴嫹閸濄儳涓嶉悹鍥ㄧゴ閺�浠嬫煃閵夈儱鏆辩紒鐙欏洦鐓曢柡鍐挎嫹闁荤喆鍎甸、姘舵晲婢跺﹦顔掑銈嗘濡嫭绂嶈ぐ鎺撯拺婵懓娲ら悘顕�鏌℃担瑙勫�愮�规洘绻堝畷濂稿即閻斿弶瀚藉┑鐐舵彧缂嶏拷婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍归敐澶嬫珳缂併劎鏁诲缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽妷褝鎷烽敐搴℃灍闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶姤鐎抽悗骞垮劚椤︻垱顢婇梻浣告啞濞诧箓宕板鑸靛仾闁跨喕濮ょ换婵嬫偨闂堟刀銏ゆ煕閻曚礁鐏﹂柟顕�娼ч～婵嬫嚋绾版ɑ瀚奸梺鑽ゅТ濞茬娀鏁撻崐鐔哥彧闁诲繐鐗忕槐鎾诲磼濮樻瘷銏ゆ煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾闁割偅娲﹂弫鍡楊熆鐠轰警鍎愭繛鍛Ч濮婄粯鎷呴搹鐟扮闂佸搫琚崝鎴︾嵁閺嶎収鏁冮柨鏇嫹闁告艾缍婇弻鐔兼倻濮楀棙鐣烽梺鎶芥敱鐢帡濡撮幒鎴僵闁绘劦鍓欓鑸电節閻㈤潧浠掗柛鏍█瀹曟鎮欓鍌楁闂佸疇顕ч柊锝夌嵁鐎ｎ喗鍊烽悗娑欙供閸炲爼姊婚崒娆掑厡闁稿鍔戝畷鏇熸綇閳轰緡妫滃銈嗘尪閸ㄧ懓效閺屻儲鐓ラ柡鍌涱儥濞肩喎霉濠婂嫮鐭掗柡宀�鍠栧鍫曞垂椤曞懏娈洪梻浣风串缂嶄焦绂嶇捄铏规殾妞ゆ帒瀚烽弫宥夋煟閹邦喛藟闁归攱妞藉濠氬磼濮樺崬顤�婵炴挻纰嶉〃鍛祫閻熸粎澧楃敮妤呮偂閺囥垺鐓涢柛灞剧矊娴犳粓鏌熼搹顐㈠缂佸顦鍏煎緞鐎ｎ剙骞嶉梻浣侯攰椤宕濋敃鍌氬惞婵炲棙鎸婚悡銏ゆ煕閹板吀绨婚柡瀣洴閺屸�崇暆鐎ｎ剛袦閻庢鍣崜鐔风暦瑜版帩鏁婇柦妯侯檧閹风兘顢涢悙绮规嫼闂佸憡绻傜�氼參宕冲ú顏呯厵妞ゆ梻鍘ч敓钘夌仢椤曪絾绻濆顑┾晠鏌嶉崫鍕拷鍛婄閻愮儤鈷戠紒瀣濠�鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冮崱妯尖攳濠电姴娲ゅ洿闂佸憡渚楅崢钘夆枔閸撲胶纾藉ù锝囨嚀閺佸墽绱掗悩铏磳鐎殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍘鹃悵鍫曟煛閸ゅ爼顣﹀Ч妤呮⒑閸︻厼鍔嬮柟鎼佺畺瀹曘垽骞栨担鐟帮拷鐢告偡濞嗗繐顏柟顖氬閺屾盯鎮╁畷鍥р拰閻庢鍠氶弫濠氥�佸Δ鍛＜闁挎棁妫勯鍫曟⒒閸屾氨澧涚紒瀣崌閹偤宕ㄦ繝鍐ㄥ伎婵犵數濮撮幊蹇涱敂閻樼數纾兼い鏃傛櫕閹冲洦顨ラ悙鏉戝闁诡垱妫冩慨锟介柍銉﹀墯娴煎棛绱撻崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鍗炩槈濡⒈鍞归梻浣规偠閸庢椽宕滃▎鎾冲強闁靛鏅滈悡蹇涚叓閸パ屽剰闁跨喕濮ゅú婊堟偖閹屽悑濠㈣泛顑囬崢閬嶆倵閻у憡瀚归柣搴秵閸犳顢撳澶嬬厽閹兼惌婢�娴溿垺銇勯銏╂█闁靛棗鍟存俊鐑藉煛閸屾熬鎷烽悜鑺ョ厾缁炬澘宕崢鎼佹煣韫囨捇鍙勬慨濠冩そ瀹曘劍绻濋崘锝嗗闁诲海娅㈤幏鐑芥煙闂傚顦﹂柦鍐枛閺屻劌鈹戦崱妯烘櫟闂佸搫鍟悧濠囧疾閹间焦鐓㈡俊顖滃皑缁辨碍绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍟伴幊鍕箾閸儳鐣烘慨濠冩そ濡啫鈽夊杈╂澖闂備胶顭堥敃銉ッ哄鍛灊闁煎鍊楃壕鍏间繆椤栫偞娅滅紒銊ヮ煼濮婃椽宕崟顐ｆ闂佺锕﹂幊鎾诲煝瀹ュ鍗抽柕蹇ョ磿閸樺崬鈹戦埥鍡楃仩闁圭⒈鍋婇幊婊嗐亹閹烘挾鍘撻柣鐔哥懃鐎氼剟鎮橀幘顔界厵妞ゆ梻鏅幊鍥╋拷瑙勬穿缁叉儳顕ラ崟顐嬬喐瀵煎▎鎴狅紲闂傚倸鍊搁崐鐑芥倿閿旀拝鎷风粭娑樻处閸ゅ苯螖閿濆懎鏆婇柨鐔告灮缁犳捇骞婂Δ鍜佹晬闁挎繂妫敓钘夋喘濮婄粯鎷呴崨濠冨枑婵犳鍠氶弫濠氬Υ閸愵喖閱囬柕澶堝劤椤斿姊洪棃娑氱濠殿噮鍘煎嵄闁割偁鍎查悡蹇涚叓閸ャ劍绀�閸熸悂姊虹紒妯诲鞍闁搞劌澧庨幑銏犫攽鐎ｎ亶娼婇梺鎸庣箓濡盯濡撮幇鐗堚拺闁稿繐鍚嬮妵鐔兼煕閵娿儳鍩ｇ�规洖鎼埥澶娢熼崗鍏肩暦闂備礁鎲″ú锕傚礈濞嗘挻鏅搁柦妯侯槺娴犳稓绱掔紒妯兼创鐎规洜鍘ч埞鎴﹀醇濠婂棙顎楅梻鍌欑閹碱偊顢栭崶顒�绐楅幖娣妼閻撴﹢鏌熸潏楣冩闁稿﹦鍏橀幃褰掑炊閸パ冩殨缂佹唻缍佸缁樻媴妞嬪簼瑕嗙紓浣瑰絻濞尖�崇暦濡わ拷椤粓鏁撴禒瀣仒妞ゆ洩鎷锋鐐村笒铻栭柨鐔烘櫕缁鏁愰崱鎰盎闂佽宕樺▔娑樼摥闁诲孩顔栭崰妤佺箾婵犲偆娼栭柧蹇氼潐閸忔粓鏌涘☉鍗炲季婵☆偄鐗撳铏规喆閸曨兙浠ф繛瀛樼矌閸嬬喎危閹扮増鍊烽柛婵嗗閸婄偛顪冮妶鍡楅嚋闁圭兘顥撶槐鎺楁偑閿熶粙宕归崼鏇炶摕闁挎繂顦粻锝夋煥濠靛棙锛嶆俊顐㈠濮婃椽鎸婃径濠冩闂佸摜濮甸悧鐘差嚕婵犳艾鍗抽柣鏃堫棑缁愮偛鈹戦悙鏉戠仸缂侇喖鐭傞獮鍐川鐎涙ǚ鎷洪梺鑽ゅ枑濠㈡ê危缂佹ǜ浜滄い鎾跺仜濡茬粯銇勯銏㈢閻撱倖銇勮箛鎾愁仼缂佹劖绋掔换婵嬫偨闂堟刀銏ゆ煕婵犲啰鎽冩い銈呭�圭换婵嬫偨闂堟稐绮堕梺瀹︽澘濡块柛鎺撳笒椤撳ジ宕惰閻忓﹪姊洪崷顓炰壕闁告挻宀稿畷鐢稿即閵忥紕鍘卞┑鐐村灦閿曨偊寮ㄦ繝姘厱閹艰揪绲介弸娑㈡煛鐏炵偓绀冪紒缁樼箚缁犳盯骞欓崘鈺佹灎闂傚倷绀侀幉锟犫�﹂崶顒�鏋佸┑鐘宠壘閽冪喖鏌ㄥ┑鍡╂Ч闁稿鍔欓弻娑樷枎韫囷絾笑閻庡湱顭堥悥鐓庮潖濞差亜宸濆┑鐘插暙椤︹晠姊虹粙娆惧剱閻㈩垱顨堥敓浠嬫涧閵堟悂寮幘缁樻櫢闁跨噦鎷�,teamId: " + teamId);
					fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 160434, null);
					return true;
				}
				
				PropRole callbackprole = new PropRole(memberid, true);
				if(callbackprole.getProperties().getCruise() > 0) {
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨荤划顖涚┍婵犲洦鍊锋い蹇撳閹风兘寮介鐔蜂罕濠电姴锕ら悧鍡欏缂佹绠鹃柟瀵稿仦閻ㄦ垿鏌ｉ鐐搭棦闁哄本鐩、鏇㈠Χ閸涱喚浜栫紓鍌欒兌婵烇拷缂佺姵鐗犲璇测槈閵忕姷鍔撮梺鍛婂姉閸嬫捇鎮炬總鍛婄厽闁绘ê鍟挎慨锟介梺鍝勬噺缁酣骞戦姀鐘婵妫楅弲鐘差渻閵堝棙顥嗙�规洜鏁婚幆鍕償閵婏腹鎷洪梺鍛婄☉閿曘倖鎱ㄨ閺岀喖鎮滈懞銉︽殸婵烇絽娲ら敃顏堝箖濞嗘搩鏁傞柛鏇″煐鐎氬綊鏌″搴″箹缂佺姵婢樿灃闁挎繂鎳庨弳娆撴煟閵堝骸娅嶉柡灞剧椤﹁櫕銇勯妸銉﹀櫧缂侇喚绮�佃偐锟芥稒顭囬崣鍡涙⒑缂佹ɑ鐓ュ褍閰ｉ幆灞解枎閹邦厼寮挎繝鐢靛Т鐎氼喚鏁☉銏＄厵鐎瑰嫮澧楅崵鍥煙閻撳海绉洪柟顔惧厴楠炲秹顢氶崨顓濊繕濠电姷鏁告慨鐑姐�傞挊澹╋綁宕ㄩ弶鎴狅紱闂佸憡娲﹂崹浼存偪椤曪拷閺屸剝寰勭�ｎ亞鍔搁梺鎼炲�栧ú鐔煎蓟閺囩喓绠鹃柣鎰靛墯閻濇洟姊虹紒妯虹闁稿鍔欓弫鎾绘寠婢跺瞼鏆涢梺绋块叄娴滃爼鐛繝鍥х疀闁绘鐗嗘禒鎺楁⒑闂堟侗妲撮柡鍛矒閸╂盯骞嬮敂鐣屽幈濠电偞鍨堕敃顐﹀礉閻斿吋鐓冮柦妯侯樈濡拷闂佸搫鐭夌徊楣冪嵁婵犲洦鐓曢柡鍐挎嫹闁搞劌娼￠悰顕�宕橀鑺ユ闂佺粯锚閸熸寧绂嶅鍫熲拺缂佸娉曠粻娲煕鐎ｎ偄濮嶇�规洏鍨介、鏃堝川椤栨粎妲囬梻浣圭湽閸ㄨ棄顭囪缁傛帒顭ㄩ崼鐔哄幗闂婎偄娲﹀鑽ょ不閻愮鎷风憴鍕缂佽鍊块敐鐐测攽鐎ｅ灚鏅ｅ┑鐘差煭閹烽绱掗妸銉吋婵☆偄鎳橀、鏇㈠閳╁啯鍊烽梻浣瑰濞插繘宕曢柆宥呯厺鐎广儱妫涚弧锟介梺鎼炲劘閸斿酣宕㈤棃娑辨富闁靛牆妫欓ˉ鍡涙煕鐎ｎ偄濮夌紒顔芥閹粌顫滈崱姗嗗晬闂備胶绮崝鏇烆嚕閸洖绐楁俊顖涚湽娴滄粓鏌曡箛濠冾潐闁兼澘娼￠弻鐔碱敊閸濆嫮浼堥悗瑙勬处閸嬪﹤鐣烽悢纰辨晝闁挎繂楠搁幃鎴︽⒒閸屾艾锟芥悂宕愰幖浣哥９濡炲瀛╅鑺ユ叏濮楀棗澧婚柣鎺旀櫕閹茬顓奸崼顫綍濠电姷鏁搁崑娑樜涘▎鎾冲瀭闁割偅娲栧Ч鍙夌節婵犲倻澧涢柣鎾冲暣閺屾洘寰勯崼婵嗗Б闂佹寧绋戠粔褰掑蓟閿熺姴骞㈡い鎾卞灪椤庡秹姊洪棃娑欐悙閻庢矮鍗抽悰顕�宕堕锟界粈鍫澝归敐鍥у妺婵炲牊鎮傚娲传閵夈儱澹夐梺鎼炲姀濞夋盯锝炶箛鎾佹椽顢旈崪浣诡棃婵犵數鍋為崹鍏笺仈閸涘﹥娅忛梻鍌氬�风粈渚�骞夐敓鐘插嚑妞ゆ洩鎷风�规洏鍔戦、娑樷枎閹寸姵鍠掗梻鍌氬�峰ù鍥綖婢跺﹦鏆︽慨妤嬫嫹妞ゃ垺淇洪ˇ褰掓煙闁垮鐏撮柟顔哄灲瀹曟鎳栭埡浣哥闂傚倷绀侀幖顐﹀磹閹间焦鍊舵繝闈涱儏缁犳牠鏌熸潏楣冩闁绘挻鐩弻娑樷槈閸楃偞鐏嶉梺绋匡攻閸旀瑩寮婚敍鍕勃閻犲洦褰冮～鍥⒑鐠団�虫灁闁稿﹥绻傞悾鐑藉箳閹存梹顫嶅┑顔筋殔濡梻妲愰敓锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冮崱妯尖攳濠电姴娲ゅ洿闂佸憡渚楅崢钘夆枔閸撲胶纾藉ù锝囨嚀閺佸墽绱掗悩铏磳鐎殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍘鹃悵鍫曟煛閸ゅ爼顣﹀Ч妤呮⒑閸︻厼鍔嬮柟鎼佺畺瀹曘垽骞栨担鐟帮拷鐢告偡濞嗗繐顏柟顖氬閺屾盯鎮╁畷鍥р拰閻庢鍠氶弫濠氥�佸Δ鍛＜闁挎棁妫勯鍫曟⒒閸屾氨澧涚紒瀣崌閹偤宕ㄦ繝鍐ㄥ伎婵犵數濮撮幊蹇涱敂閻樼數纾兼い鏃傛櫕閹冲洦顨ラ悙鏉戝闁诡垱妫冩慨锟介柍銉﹀墯娴煎棛绱撻崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鍗炩槈濡⒈鍞归梻浣规偠閸庢椽宕滃▎鎾冲強闁靛鏅滈悡蹇涚叓閸パ屽剰闁跨喕濮ゅú婊堟偖閹屽悑濠㈣泛顑囬崢閬嶆倵閻у憡瀚归柣搴秵閸犳顢撳澶嬬厽閹兼惌婢�娴溿垺銇勯銏╂█闁靛棗鍟存俊鐑藉煛閸屾熬鎷烽悜鑺ョ厾缁炬澘宕崢鎼佹煣韫囨捇鍙勬慨濠冩そ瀹曘劍绻濋崘锝嗗闁诲海娅㈤幏鐑芥煙闂傚顦﹂柦鍐枛閺屻劌鈹戦崱妯烘櫟闂佸搫鍟悧濠囧疾閹间焦鐓㈡俊顖滃皑缁辨碍绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍟伴幊鍕箾閸儳鐣烘慨濠冩そ濡啫鈽夊杈╂澖闂備胶顭堥敃銉ッ哄鍛灊闁煎鍊楃壕鍏间繆椤栫偞娅滅紒銊ヮ煼濮婃椽宕崟顐ｆ闂佺锕﹂幊鎾诲煝瀹ュ鍗抽柕蹇ョ磿閸樺崬鈹戦埥鍡楃仩闁圭⒈鍋婇幊婊嗐亹閹烘挾鍘撻柣鐔哥懃鐎氼剟鎮橀幘顔界厵妞ゆ梻鏅幊鍥╋拷瑙勬穿缁叉儳顕ラ崟顐嬬喐瀵煎▎鎴狅紲闂傚倸鍊搁崐鐑芥倿閿旀拝鎷风粭娑樻处閸ゅ苯螖閿濆懎鏆婇柨鐔告灮缁犳捇骞婂Δ鍜佹晬闁挎繂妫敓钘夋喘濮婄粯鎷呴崨濠冨枑婵犳鍠氶弫濠氬Υ閸愵喖閱囬柕澶堝劤椤斿姊洪棃娑氱濠殿噮鍘煎嵄闁割偁鍎查悡蹇涚叓閸ャ劍绀�閸熸悂姊虹紒妯诲鞍闁搞劌澧庨幑銏犫攽鐎ｎ亶娼婇梺鎸庣箓濡盯濡撮幇鐗堚拺闁稿繐鍚嬮妵鐔兼煕閵娿儳鍩ｇ�规洖鎼埥澶娢熼崗鍏肩暦闂備礁鎲″ú锕傚礈濞嗘挻鏅搁柦妯侯槺娴犳稓绱掔紒妯兼创鐎规洜鍘ч埞鎴﹀醇濠婂棙顎楅梻鍌欑閹碱偊顢栭崶顒�绐楅幖娣妼閻撴﹢鏌熸潏楣冩闁稿﹦鍏橀幃褰掑炊閸パ冩殨缂佹唻缍佸缁樻媴妞嬪簼瑕嗙紓浣瑰絻濞尖�崇暦濡わ拷椤粓鏁撴禒瀣仒妞ゆ洩鎷锋鐐村笒铻栭柨鐔烘櫕缁鏁愰崱鎰盎闂佽宕樺▔娑樼摥闁诲孩顔栭崰妤佺箾婵犲偆娼栭柧蹇氼潐閸忔粓鏌涘☉鍗炲季婵☆偄鐗撳铏规喆閸曨兙浠ф繛瀛樼矌閸嬬喎危閹扮増鍊烽柛婵嗗閸婄偛顪冮妶鍡楅嚋闁圭兘顥撶槐鎺楁偑閿熶粙宕归崼鏇炶摕闁挎繂顦粻锝夋煥濠靛棙锛嶆俊顐㈠濮婃椽鎸婃径濠冩闂佸摜濮甸悧鐘差嚕婵犳艾鍗抽柣鏃堫棑缁愮偛鈹戦悙鏉戠仸缂侇喖鐭傞獮鍐川鐎涙ǚ鎷洪梺鑽ゅ枑濠㈡ê危缂佹ǜ浜滄い鎾跺仜濡茬粯銇勯銏㈢閻撱倖銇勮箛鎾愁仼缂佹劖绋掔换婵嬫偨闂堟刀銏ゆ煕婵犲啰鎽冩い銈呭�圭换婵嬫偨闂堟稐绮堕梺瀹︽澘濡块柛鎺撳笒椤撳ジ宕惰閻忓﹪姊洪崷顓炰壕闁告挻宀稿畷鐢稿即閵忥紕鍘卞┑鐐村灦閿曨偊寮ㄦ繝姘厱閹艰揪绲介弸娑㈡煛鐏炵偓绀冪紒缁樼箚缁犳盯骞欓崘鈺佹灎闂傚倷绀侀幉锟犫�﹂崶顒�鏋佸┑鐘宠壘閽冪喖鏌ㄥ┑鍡╂Ч闁稿鍔欓弻娑樷枎韫囷絾笑閻庡湱顭堥悥鐓庮潖濞差亜宸濆┑鐘插暙椤︹晠姊虹粙娆惧剱閻㈩垱顨堥敓浠嬫涧閵堟悂寮幘缁樻櫢闁跨噦鎷�,teamId: " + teamId);
					fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 160434, null);
					return true;
				}
				
				Long battleid = xtable.Roleid2battleid.select(memberid);
				if (battleid != null)
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 162134, null);
					return true;
				}
				
				java.util.List<Long> absentList = new java.util.LinkedList<Long>();
				absentList.addAll(team.getAbsentMemberIds());
				java.util.List<Long> callbacklist = new java.util.LinkedList<Long>();
				
				for(long roleId : absentList)
				{
					BuffAgent buffagent = new BuffRoleImpl(roleId);
					if(roleId == memberid && buffagent.canAddBuff(BuffConstant.StateType.STATE_TEAM_MEMBER_NORMAL))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К闂備胶顭堢悮顐﹀礉鎼淬劌绠熼柟闂寸濡﹢鎮归幁鎺戝婵炲牊鍎抽—鍐Χ閸℃瑥鈷堥梺绋款儐閻╊垶寮婚妸鈺佄ч柛鈩冩礈缁犳岸姊洪棃娑氬閻庢凹鍣ｅ畷婵嗩吋閸℃瑧顔曢梺鍛婁緱閸嬪嫰鎮橀崣澶嬪弿濠电姴瀚崝瀣倵閻㈤潧甯堕柍璇查叄楠炲鈹戦崱娆忓笓闂傚倸鍊风粈渚�宕ョ�ｎ亶娓婚柛褎顨呴崹鍌炴偣鏉炴媽顒熼柛銈嗘礋閺岀喖姊荤�靛壊妲紓渚囧亜缁夊綊寮诲☉姘勃闁告挆鍛帓闂備焦瀵х粙鎺斿垝閹炬剚娼栭柧蹇撴贡绾惧吋淇婇姘濞存粍绮忛悘鎺撶節閻㈤潧孝婵炶绠撳畷鎴﹀磼濮橈絾鏂�闂佺鏈喊宥夊疮閻愮儤鐓熼柟鎯ь嚟濞叉挳鏌熼鏂よ�块柟顔界懇楠炴捇骞掗崱妯虹槺濠碉紕鍋戦崐銈夊礈濠靛纾婚柟閭﹀枟椤洟鏌熼悜姗嗘畷闁稿鍔楅敓鍊燁潐濞叉牕煤閵忋倖鏅搁柤鎭掑劚濞搭噣鏌＄仦璇插闁诡喓鍨藉畷銊︾節閸曨亞纾跨紓鍌氬�搁崐鍝ョ矓閺夋嚦娑樷枎閹寸姷鐒块悗骞垮劚閹峰鎮￠妷鈺傜厱闁哄洢鍔屾晶顔撅拷娈垮枛濞尖�愁潖濞差亜浼犻柛鏇ㄥ墮缁愭盯姊虹粙鍨劉闁告梹娲熸俊鎾箳閹惧墎鐦堝┑顔斤供閸橀箖宕㈤鍫熲拺闁告挻褰冩禍婵堢磼鐠囨彃鏆ｉ挊鐔哥節婵犲倹鍣界痪鎯у悑娣囧﹪濡堕崟顓炲闂佹眹鍔嶉崹鍦閹烘挻缍囬柕濞垮劜鐠囩偛顪冮妶鍐ㄧ仾闁荤噦濡囩紓鎾绘偩瀹�锟介惌娆撴煕椤垵鏋涚�殿喚鍏樺铏规嫚閹绘帩鍔夊銈嗘⒐閻楃姴鐣烽幎绛嬫晪闁跨喕妫勯悾鐑藉箣閻愮數鐦堥梺鎼炲劘閸庡骞忛柨瀣闁告挸寮堕崓鐢告⒑閼测晩鐒鹃柣蹇旇壘閳诲秹濮�閵堝棌鎷洪梺鍏间航閸庡秹顢旈崺璺烘喘閺屽棗顓奸崨顔跨发闂備焦瀵ч弻銊╋綖閺囩喓顩叉繝濠傜墛閻撴瑩鏌℃径濠勪虎妞わ絾濞婇弻锝夋晲婢跺鍠氶悗瑙勬处閸撶喖銆佸☉銏″�风紒顔款潐鐎氬ジ姊婚崒姘拷鎼佹偋婵犲啰鐟规俊銈忔嫹閸楄京鎲搁悧鍫濈瑲闁绘挻娲熼弻锟犲磼濠婂啩绮堕梺纭呮珪閸旀牜绮欐径濠庡悑濠㈣泛顑囬崢鐢告⒑绾拋娼愰柛鏃撶畵瀹曢潧鈻庨幘瀵稿弮闂佸憡鍔︽禍婊堝几濞戙垺鐓涚�癸拷鐎ｎ剛袦閻庢鍣崳锝呯暦閹烘嚦鏃�鎷呴崫銉ラ檷闂傚倸鍊峰ù鍥ь浖閵娧呯焼濞达絿灏ㄩ幏宄邦潩椤愩垹绁悗娈垮枛椤攱淇婇懜闈涚窞濠电姴瀚弶绋库攽閻愯埖褰х紒韫矙楠炴顭ㄩ崟顓ф祫闂佸啿鎼幊蹇涘煕閹达附鐓曟繛鎴烇供閻忓弶鎱ㄥΟ鍨厫闁哄懏鎮傞弻銈夊箒閹烘垵濮曢梺璇茬箻娴滃爼寮婚敓鐘虫櫢闁兼亽鍎抽々鐑芥倵閿濆骸浜為柛妯圭矙濮婇缚銇愰幒鎴滃枈闂佹悶鍔嬮崡鎶藉箚閸愵喖浼犻柛鏇犳暩閸炵敻鎮峰鍐弰闁诡垰瀚伴、娑㈡倷閼艰埖鎲版繝鐢靛仦閸垶宕圭憴鍕姅闂傚倷绶氬褔鏁嶈箛娑樼＜婵犻潧娴傞敓鑺ヮ殔閳规垿鏁嶉崟顐℃澀闂佺顭堥崐婵嗙暦閹达箑绀嬫い鎾跺枎鎼村﹪姊洪悷閭﹀殶濠殿噣顥撳Σ鎰版晝閿熶粙婀侀梺缁樏Ο濠囧磿韫囨洩鎷烽悷鐗堝暈缂佽鍊块崺鐐哄箣閿旇棄浜归梺鍦帛鐢亪骞忛柨瀣垫Ч閹兼番鍊曞皬濠电姷鏁告慨鐢靛枈瀹ュ鐓曢柟鐑橆殕閻撴洟鎮橀悙鎻掆挃闁瑰啿鎳忛妵鍕晜閼测晝鏆ら梺鍝勭焿缂嶏拷缂佺姵鐩顕�宕掑鍛緰濠碉紕鍋戦崐鎴﹀垂濞差亝鍋嬮柣妯垮皺閺嗭箓鏌曟繛鐐珔缂佺嫏鍥ㄧ厵閻庢稒顭囩粻鎾寸箾閸稑锟芥繂顫忕紒妯诲闁兼亽鍎抽妴濠囨⒑閸濄儱孝缂佸鐖煎畷姘跺箳閹存梹鐎婚棅顐㈡祫缁插墽绱炴惔锝囩＝闁稿本鐟ч崝宥夋嫅閸楃偐鏀芥い鏍ㄧ♁鐏忥箓鏌＄仦鍓р槈闁宠鍨垮畷鐔碱敃閵忕姌鎴濃攽鎺抽崐鏍ь潖閸︻厽宕叉繝闈涱儐閸嬨劑姊婚崼鐔衡棩缂侇啫鍥ㄢ拺闁告稑锕︽晶鍗炩攽閻戝洦瀚归柣搴ゎ潐濞插繘宕濋幋锔猴拷浣糕槈濮楀棛鍙嗛梺鍛婁緱閸樺ジ鎳橀婊呯＝闁稿本鑹鹃敓鐣屽厴閹虫宕奸弴鐐碉紱闂佽宕橀褏澹曢崸妤佺厵闁告挷鑳堕幗鍌炴煛娴ｇ顏柡灞剧洴楠炲洭濡搁敂鐣屽絿婵＄偑鍊愰弲婊堟偂閿熺姴绠栫�瑰嫭澹嬮弸搴ㄧ叓閸ャ劍鎯勫ù鐘茬摠缁绘稓锟芥稒顭囬惌瀣磼椤旇姤宕岀�殿喖顭烽幃銏ゆ偂鎼达綁鐛撻梻浣稿閻撳牓宕抽锟藉鎶藉閵堝棌鎷烘繛鏉戝悑閻熝呯矓椤旀祹鐟邦煥閸愵亜鐓熼悗娈垮枛椤攱淇婇懜闈涚窞閻庯絽鐏氶ˉ鍫ユ⒒娴ｇ鏆遍柟纰卞亰瀹曟劙骞栨笟鍥ㄦ櫆闂佽法鍣﹂幏锟�?
						callbacklist.add(roleId);
					}
				}
				//TODO 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛閺夎法顔愭繛杈剧悼椤牓鎮楅銏♀拺缂佸娉曢悘閬嶆煕鐎ｎ剙浠遍柟顕嗙節婵＄兘鍩￠崒婊冨箺闂備礁鎼ú銊╁磻濞戙垺鏅搁柦妯侯槹鐠愶繝鏌ㄩ悢璇残撻柣鏃戝墴楠炲繘鏁撻敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝呂熷▎鎯ф缂備胶濮撮悘姘跺Φ閸曨喚鐤�闁圭偓鎯屽Λ銈囩磽娓氬﹥瀚规繝鐢靛Т濞诧箓鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿京纾藉ù锝堟鐢盯鏌ｉ埡濠傜仩闁伙絿鍏橀、鏃堝醇濠靛牜妲版俊鐐�曠换鎰板蓟婵犲偆鐓ラ柛顐ゅ暱閹疯櫣绱掔紒銏犲箹闁瑰啿绻橀幃鐢割敂閸℃瑧锛滃銈嗘婵倗浜搁銏＄厽闁挎繂顦伴弫杈╃磼閾忚娅曠紒顔界懇瀹曞綊顢欓懖鈹垮仏闂傚倸鍊烽懗鍓佸垝椤栫偛钃熼柕濞炬櫅缁犺銇勯幇璺侯洭鐎规挷绶氶弻鐔煎箥椤旂⒈鏆梺鎶芥敱鐢帡婀侀梺鎸庣箓閻楀﹪顢旈悩缁樼厪闁糕剝顨愰煬顒勬煛鐏炲墽娲存鐐搭焽閿熶粙娼ч幗婊堟偪閸曨垱鈷戦梻鍫熺♁椤ユ粓鏌涢悢鍛婄稇闁伙絿鍏樻俊姝岊檪闁瑰嘲鍢查埥澶娾枍閾忣偄鐏ラ柍璇茬Ч婵拷闁靛牆妫岄幏娲⒑閸忛棿鑸柛搴＄Ч椤㈡棃宕虹捄鐑樺缂佸倹甯為敓鏂ょ秵閸嬪嫭绂嶅Δ浣虹瘈闂傚牊绋戦敓鑺ユ倐楠炲鏁撻悩鍐蹭簵闂佸憡鍔﹂崰妤呮偂韫囨搩鐔嗛柤鍝ユ暩閳藉銇勯埡濠傚妞ゎ叀鍎婚ˇ鎾煛娴ｈ鍊愰柡浣规崌瀹曟劙鎮ゆ担鍦Х婵犵數鍋涘鍫曟偋閻樿绠栭柕澶涘闂勫嫰鏌熼懖鈺佸壋闁圭兘鏀遍幏鍛存嚃濠靛洦鈷愰柟宄版嚇閹兘鏌囬敂鍏煎闁瑰墽绮埛鎴︽煕濞戞﹫鍔熼柟鍐插暞閵囧嫰鏁傜拠鑼桓闂佽鍨ù鍥囩憴鍕弿濠电姴鍋嗛悡鑲╋拷瑙勬礃鐢帡鍩㈡惔銊ョ闁瑰瓨绻傞懙鎰磽閸屾艾锟介娆㈤敓鐘查棷妞ゆ洩鎷风�规洖缍婇獮蹇撶暆閿熻姤绂嶉柆宥嗏拻濞达絽鎲￠崯鐐烘煕閺冩挾鐣电�规洑鍗冲浠嬵敃閵堝浄绱查梻浣稿暱閹碱偊骞婅箛娑樼厱闁瑰鍋戞禍婊堟煙閾忕懓浠﹂悗姘贡缁辨挻鎷呴崜鍙壭﹀銈嗘处閸橀箖宕氶幒妤佹櫜闁告稑鍊瑰Λ鍐ㄧ暦閵娾晩鏁婇柟顖嗗啰鐤勬繝鐢靛Х閺佹悂宕戦悙鍝勫瀭闁割偅娲嶉敓鏂ょ畵瀹曞爼顢楅敓鐣岀不濞差亝鐓熸俊顖濆亹鐢盯鏌ｉ幘璺烘灈闁哄瞼鍠栭獮鍡氼槾闁圭晫濮风槐鎺楁晸娴犲绀冩い蹇撴閿涙粎绱撻崒娆戝妽妞ゎ厼娲ㄧ划濠氬冀椤愩倗锛滅紓鍌欑劍椤洨绮婚悙纰夋嫹鐟欏嫭绀冮悽顖涘浮閿濈偛鈹戠�ｅ灚鏅ｉ梺缁樻磻缁�渚�寮查妷鈺傗拻闁稿本鐟︾粊鐗堛亜閺囧棗鎷戦幏宄扳槈閹烘挻鐝栭梺鍝ュТ閿曘倝顢樻總绋垮耿婵炲棙鍨垫鍕⒒娴ｈ櫣銆婇柛鎾寸箞閹兘鏁冮崒锔剧◤闂佸搫娲㈤崹娲偂濞嗘挻鐓熼柟浼存涧婢ь喖顭胯閸ㄥ爼寮诲☉姗嗘僵妞ゆ帒顦崜鍫曟⒑閸濆嫭婀扮紒瀣灴閳ワ箓濡搁埡浣侯槰闂侀潧顭梽鍕敊閹达附鈷掑ù锝呮啞閸熺偤鏌涢幋婵堢Ш鐎规洘鍨垮畷鐔碱敍濮樺崬骞嬮梻浣侯攰閹活亞锟介潧鐭傚顐ｇ節閸曨厽锛忓銈嗘尵閸嬫稑危鐠囪褰掑礂閻撳骸顫掑┑顔硷攻濡炶棄螞閸愩劉妲堟慨姗嗗墻閺夋悂姊绘担绛嬪殐闁哥姵鐗犲畷鎰板锤濡や礁浠掑銈嗘穿閹烽锟借娲橀敃銏ゃ�佸▎鎴濇瀳閺夊牄鍔庣粔閬嶆⒒閸屾瑧绐旀繛浣冲洦鍋嬮柛鈩冪☉缁犵娀鏌熼幍顔碱暭闁稿鏅涜灃闁挎繂鎳庨弳鐐烘煃闁垮鐏撮柡灞剧☉閳规垿宕卞Δ濠佺礉婵犵锟藉啿绾ч柟顔煎�垮濠氭晲閸垻鏉搁梺鍝勫暙閸婂鎮鹃懖鈺冪＝濞撴艾娲ら弸娑欍亜椤撶姴鍘撮柣娑卞枤閿熸枻缍嗛崰妤呭疾濠婂牊鍋℃繛鍡樼懅缁嬪鎮楀顐ょ煓婵﹦绮幏鍛瑹椤栨粌濮奸梻浣告惈閻楁粓宕滈悢鐓庣疇婵犻潧娲㈤崑鍛存煕閹般劍娅嗘繛鍛灲濮婃椽宕楅梻纾嬪焻闂佺瀛╅悡鈥崇暦閹版澘绠涙い鏇炴鐎氬綊鎮峰▎蹇擃仾濠㈣泛瀚伴弻娑㈠Ω閵娿倕鎯堥梺璺ㄥ枍缁瑥顭囪婵″墎绮欏▎鎯ф闂佸壊鍋呭ú鏍不閿濆鐓熸慨妤嬫嫹婵炰匠鍥ㄥ�峰┑鐘叉处閳锋帒霉閿濆洤鍔嬮柛銈忔嫹闂備礁鎲￠懝楣冾敄婢舵劕绠栧Δ锝呭枤閺佸倿鏌涢锝囩畼妞わ富鍣ｉ幃妤呮儌閸涘﹤顏堕梻浣芥硶閸犳捇寮查锕�绀嗛柟鐑樻尵缁★拷濠殿喗锕╅崢鍏肩濠婂牊鈷戠紒瀣硶缁犳椽鏌涚�ｎ偄濮嶇�规洏鍨介幃浠嬪川婵炵偓瀚奸梺鑽ゅТ濞茬娀鏁撻挊澶岋紞濞寸媭鍘奸埞鎴︽偐椤旇偐浠惧銈庡幖閻楁捇濡撮崒鐐查敜婵°倓璁查幏缁樼箾鏉堝墽鍒伴柟璇х節楠炲棝宕奸妷锔惧幍閻庣懓瀚伴崑濠囧磿閺冨偊鎷风憴鍕缂侇喖鐭傞敐鐐测攽閸喎纾梺鎯х箰濠�閬嶅级娴犲鈷掑〒姘炬嫹婵炰匠鍥ｏ拷锕傚醇閵夈儳锛熷┑鐐叉閹稿宕戦崟顖涚厽闁圭偓濞婇妤呮煟鎼搭喖骞栨い顏勫暣婵″爼宕卞Ο閿嬪闂備胶顭堟鍝ュ椤撱垹鏋佹い鏇嫹鐎规洜顭堣灃濞达絽鎼獮妤呮⒒娴ｈ櫣甯涢柛鏃�娲熼、姘额敇閳ь剨鎷烽崒鐐村殤妞ゆ帒鍊婚敍婊堟煟閻樺弶绌块悘蹇旂懄閺呭爼寮撮悢缈犵盎濡炪倖鍔戦崹鑽ょ不閼碱剛纾肩紓浣诡焽缁犳挻銇勯锝囩疄妞ゃ垺顨婂畷鎺楁晜閹呭搸闂傚倸鍊搁崐鐑芥倿閿旀拝鎷风粭娑樺悩濞戞瑦濯撮柤鍙夌箖閻╊垰鐣烽悢纰辨晬闁挎繂妫欏▍鍡涙⒒娴ｇ顥忛柛瀣噹鐓ゆ慨妤嬫嫹闁糕晜鐩獮鎺楀箠閵娿儳绉洪柡浣瑰姍瀹曘劑顢欓崗鍏肩暭闂備浇宕垫慨鐢稿礉韫囨稑绀堟繝闈涱儏妗呴梺鍛婃处閸ㄥジ寮崶顒佺厽闁规壆澧楀☉褔鏌嶉鍫滄喚婵﹨娅ｉ幑鍕Ω閵夛妇浜炴繝纰樻閸嬪嫮锟芥矮鍗抽獮鍐ㄎ熸笟顖涘兊闁哄鐗勯崝宥呪枔娴煎瓨鈷戦柣鎰閸旀氨鐥紒銏犲籍鐎殿喗濞婇弫鍌炴偩瀹�锟介惁鍫ユ⒒閸屾氨澧涘〒姘殜瀹曟洟骞囬悧鍫㈠幐闂佸憡渚楅崹濂告倿妤ｅ啯顥嗗鑸靛姈閻撶喐淇婇婊冨妺闁崇粯娲熼弻娑欐償閵忕姴顫掗梺鍝勮嫰缁夊綊寮婚妸褝鎷烽敐搴濈敖濞寸厧鑻埞鎴︻敊绾嘲浼愬銈庡幖閸㈡煡鎮鹃悜鑺ュ亗閹兼惌鍠楅崓闈涱渻閵堝棙灏甸柛鐘虫崄閵囨劙宕奸姀銏紳闂佺鏈悷褏绮佃箛娑欑厵濡炲楠搁崢鎾煙椤旂瓔娈滈柡浣瑰姈閹棃鍩勯崘顏冩喚闂傚倷鑳剁划顖炲箰鐠囪娲偄閻撳氦鎽曢梺璺ㄥ枔婵澹曢崗鑲╃瘈闂傚牊绋掑婵嬫煏閸℃韬慨濠呮缁辨帒螣閾忚鍎岄梻浣侯焾缁绘垿鏁冮姀鐙�鍤曞┑鐘宠壘閸楁娊鏌曡箛鏇炐ラ柛濠勫仱濮婃椽妫冨☉杈╁姼闂佺閰ｆ禍鍫曟晲閻愬搫绠抽柟鎼幗鐎靛矂姊洪棃娑氬闁哥噥鍋婇幃姗�顢旈崨顖滎啎闂佽偐鈷堥崜娆撳几濞戞熬鎷峰▓鍨珮闁稿锕ら悾宄邦潨閿熶粙銆佸▎鎾村殟闁靛瀵屾禒褎绻濋悽闈涗粶妞ゆ洦鍘介幈銊╁箻椤曞懏鏅為梺绯曞墲缁嬫垿宕ヨぐ鎺撳�甸柨婵嗛閺嬬喖鏌ｉ幘鍗炲姦闁哄矉缍佸鎾倷鐠囇勫闁革富鍙忛幏宄邦潩閻愵剙顏�?
				if(callbacklist.size() == 0)
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綀椴搁〃銉╂倷鏉堟崘锟藉潡鏌＄仦鐐鐎规洖銈搁幃銏㈢矙閸喗鏁梻鍌欑閹碱偅寰勯崶顒佹櫢闁芥ê顦遍敍宥夋煛閸℃顥㈤柟顔筋殜閺佹劖鎯旈垾鎰佹骄闂備礁鎼Λ搴ㄥ磹濠靛棭娼栨繛宸簻娴肩娀鏌涢弴銊ユ灈妞ゅ浚鍘剧槐鎾存媴閸撳弶笑缂傚倸绉撮敃銈夋偩瀹勬噴娲敂閸曨厼濮堕梻浣告啞閸斿繘寮插☉銏╂晛闁瑰墽绮埛鎴︽煕濞戞﹫鍔熼柍钘夘樀閺屻劑寮村Ο鍝勫Е濡炪們鍨洪悷锕�顕ラ崟顐ゆ殕闁跨喓鏅竟鏇熺鐎ｎ偆鍘遍柣蹇曞仜婢т粙骞婇崱娑欑厱闊洦鎹佺�氫即鏌嶇憴鍕伌妞ゃ垺鐟╅幃娆擃敆娴ｅ湱妲戦梻鍌欐祰濡椼劎娆㈤敓鐘查棷闁挎繂顦弸渚�鏌熼崜褏甯涢柛瀣姍閺屻倝鎳濋弶璺ㄥ帿闂佺灏欐晶妤冩崲濠靛鍋ㄩ梻鍫熺◥濞岊亪姊洪幖鐐插闁稿氦澹堥妵鎰煥閸啿鎷洪梺鍛婄箓鐎氱兘宕曡箛娑欏�垫繛鎴炲笚濞呭棛绱掑畝鍐摵缂佺粯绻堝畷鍫曟嚋閸偅鐝┑鐘垫暩婵烇拷婵炰匠鍏犲綊宕掑☉姘兼祫闂佸啿鎼崐鑽ょ不妤ｅ啯鍊甸柣銏☆問閻掑墽鎮妷鈺傗拺闁告繂瀚崳钘夆攽閻戝洦瀚规俊銈囧Х閸嬫盯宕锔藉仼闁跨喓濮甸悞浠嬫煥閺冿拷閸庡啿顕ｉ幎鑺モ拻濞达絿顭堥ˉ蹇涙煕鐎ｎ亝鍣介柟骞垮灲閺佹挻绂掔�ｎ偆鍘遍梺缁橆焾椤曟粓鐓浣瑰弿濠电姴鎳忛鐘电磼椤旂晫鎳冮柍璇查叄楠炲棜顦插鐟扮墦濮婄粯鎷呴悷閭﹀殝濠电偞褰冪换妯虹暦閹邦兘鏀介悗锝庝簽閻ｇ儤淇婇妶蹇曞埌闁哥噥鍨跺畷鎰版嚒閵堝洨锛滃┑鐐村灦閿曗晠宕曢幇鐗堢厸闁告侗鍋勯悘鍙夋叏婵犲啯銇濈�规洏鍔嶇换婵嬪礃椤垶袩闂傚倷鑳堕…鍫ユ晝閿旇姤鍙忓Δ锝呭彎閸ヮ亗浜归柟鐑樻尵閸樻悂鏌ｈ箛鏇炰粶濠⒀嗘鐓ら柡澶嬪灍閺�浠嬫煥濞戞ê顏╅柛妯绘尦閺屸剝鎷呴悷鏉款潚閻庤娲忛崝鎴︺�佸Ο娆炬Ь闂佽法鍠撻弲顐﹀礂濡警娼栫紓浣股戞刊鎾煕濞戞﹫鏀婚柛搴㈡尭閳规垿鍩ラ崱妞剧凹缂備礁顑嗙敮鐐哄箲閵忕姭妲堥柕蹇婂墲濞呫垽姊洪崗闂磋埅闁稿孩鐓″畷锝堢疀閹绢垱鏂�闂佺粯蓱瑜板啴寮抽悙鐑樼厪闁搞儯鍔庣粻姗�鏌ㄩ悢鍑ゆ嫹閻曚焦缍堝┑鐐额嚋缁犳挸鐣烽幋鐐电瘈闁稿本绮嶅▓楣冩⒑缂佹ɑ鈷掗柍宄扮墦瀵偊宕卞Δ濠勫數闁荤姾妗ㄧ拃锕傚磿濞戞瑤绻嗘い鎰濞诧箓鍩涢幒妤佺厱閻忕偛澧介幊鍡涙煕韫囨挻婀伴柕鍥у椤㈡﹢鎮欓棃娑掑徍闂備浇妗ㄧ粈渚�宕�涙ü绻嗛柤鎼佹涧缁剁偤鏌涢埥鍡楀箺閻庢艾缍婇弻銊╁即閻愯鎷疯ぐ鎺戠９濠电姵纰嶉悡銏′繆椤栨瑨顒熸俊鎻掓惈闇夐柣鎾冲瘨閸庢梹鎱ㄦ繝鍐┿仢鐎规洦鍋婂畷鐔碱敇濞戞瑧锟介亶姊绘担鍛婂暈闁挎岸鏌曢崼鐔稿�愭鐐插暙閳诲酣骞囬鍓ф闂備礁鎲￠崝褏绱撳杈С濠电姵纰嶉埛鎴︽煟閻斿搫顣奸柟顖氱墢缁辨帗寰勭仦钘夊箣濡炪們鍨洪悷锕�顕ラ崟顖氱疀妞ゆ挾濮撮獮宥夋⒒閸屾艾锟芥悂鎮ч崘顔肩柧婵犲﹤鎷戦幏宄邦潩椤掑倻楔濠殿喖锕ら…宄扮暦閹烘埈娼╂い鎺戯攻鐎氬綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�妞ゎ厽鍨靛▓鐓庘攽閻愭潙鐏熼柛銊ユ贡缁牓宕橀埞澶哥盎闂佸搫鍟ú銈嗙瑜版帗鐓曟繝闈涙祩濞堟粍鎱ㄦ繝鍕笡缂佹鍠栧畷鎯邦槻妞ゎ偀鏅濈槐鎾存媴閸撳弶笑濡炪倖娲﹂崢楣冨礆閹烘鏅查柛娑樺�瑰Λ鍐ㄧ暦閵娾晩鏁婇柟顖嗗啯杈堥梻鍌氬�烽懗鍓佸垝椤栨娲冀椤撶偟锛欓梺闈╁瘜閸欏繘骞忓畡閭︽僵闁绘劦鍓欓锟�
					//psend(leaderRoleId,new STeamError(TeamError.NoAbsentMember));
					fire.pb.talk.MessageMgr.psendMsgNotify(leaderRoleId, 150117, null);
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐔虹煁妞ゃ劊鍎甸幃娆戯拷鐢殿焾閳綊鏌ら幐搴″闁靛洤瀚伴獮鎺楁倷閺夋埈浼撴繝鐢靛Т閻ュ濡堕崨顒佺潖缂傚倷娴囨ご鍝ユ暜閿熺姴绠栭柍鍝勬噺椤ュ牊绻涢幋鐐垫噮濞存粠浜缁樻媴閸涘﹥鍎撻梺娲诲亝閻熲晛鐣烽崡鐐╂瀻闁瑰鍋炵欢顐︽⒒閸屾瑧鍔嶉悗绗涘懏宕查柛宀�鍋涚粻鐘碉拷骞垮劚濞测晜鎱ㄩ崘瑁佸綊鎮╁顔煎壉闂佹娊鏀遍崹褰掓晸閸婄噥娼愭繛鍙夌墪鐓ら柕濞у嫭娈板┑鐐村灦閻燂箓宕ｈ箛鎾斀闁绘ɑ褰冩禍鐐烘煟閹剧偨鍋㈤柡灞稿墲閹峰懐鎲撮崟顐わ紦闂備礁婀遍…鍫ユ晝閵夈儺鍤楅柛鏇ㄥ亞閺嗗棝鏌ㄩ悢鍓佺煓鐎殿喖鍟块埥澶愬閳撅拷閹疯櫣绱撴担鍓插剰婵炵》绻濆畷锝夊礋椤愶拷閻熼偊鐓ラ柛鎰典簻閻撶喎螖閻橀潧浠滈柛鐔稿▕钘濋柛锔诲弿閹烽鎲撮崟顒傤槬閻庤娲﹂崜鐔煎春閵夛箑绶炲┑鐐灮閸犳牕鐣烽锕�绀嬫い蹇撴噹閺嬨倝姊婚崒姘拷鎼佸磹妞嬪海鐭嗗ù锝夋交閼板潡姊洪锟界粔鐢稿箚閻愬搫绠规繛锝庡墮婵¤偐绱掗幇顓ф畷濞ｅ洤锕俊鍫曞川椤斿吋顏犵紓浣哄亾閸庢娊鈥﹂悜钘夎摕闁挎繂鎲橀悢鐓庣閹艰揪绲藉☉褔姊绘担鍛婂暈闁荤喆鍎抽幑銏ゅ箣閻愮鏀虫繝鐢靛Т濞村倿寮鍡欑瘈濠电姴鍊搁弳娆徝归悩绛硅�块柡宀嬬秮婵拷闁宠桨鑳舵禒鏉戔攽閻愬樊妲归柣鈺婂灠閿曘垺鎷呯化鏇熸杸闂佺粯顭堥婊冾啅閵夆晜鍊垫慨妯煎帶濞呭秹鏌熼姘冲闁伙絾绻堝畷鐔碱敆閸屾艾绠ラ梻鍌欑閹诧繝鎮烽妷鈹у洦瀵奸弶鎴狅紮闂佽澹嗘晶妤呮偂濞戙垺鍊堕柣鎰硾琚氶梺鍝ュУ閿曘垽寮婚埄鍐╁缂佸瀵у▓濠氭⒑鏉炴壆鍔嶉柟鐟版喘楠炲﹪鎮欓崫鍕庛劎鎲稿鍏犳椽骞栨担鍏夋嫼闁荤喐鐟ョ�氱兘宕箛娑欑厱闁挎繂楠搁悘锔筋殽閻愯尙绠叉い锔惧閹棃濮�閻樺磭锟筋參姊绘担鍛婂暈婵炶绠撳畷婊冣槈閳跺搫娲俊鐑藉煛閸屾瀚肩紓鍌氬�烽悞锕傗�﹂崶銊︽珷妞ゅ繐鐗婇悡蹇涙煕椤愩倕鏋戦柛濠冨姍閺岋絽鈽夐崡鐐寸彎閻庤娲橀敃銏′繆閹间礁顫呴柨娑樺閹烽攱绻濆顓涙嫼闁荤喐鐟ョ�氼剟宕濋妶鍥╂／缂備降鍨瑰顔姐亜閵忥紕鎳冮柣锝嗙箞瀹曠喖顢栭懞銉ヮ伖闂傚倷绶氬鑽わ拷闈涚焸瀹曘垺绺界粙璺槷闁诲函缍嗛崑鍡欑不妤ｅ啯鍋ｉ柛銉ユ搐閹虫劙寮抽妶澶嬪�甸悷娆忓婢跺嫰鏌涢幘瀵哥疄濠碉紕鏁婚獮鍥级鐠侯煈鍞洪梻浣告贡閾忓酣宕规潏鈺嬫嫹濮樿櫕顥夐柍瑙勫灴閹瑩鎳滈棃娑欓敪缂傚倷娴囧鎾跺垝濞嗘挾宓侀柡宥庡弾閺佸啴鏌曢崼婵囶棡婵炲牅鍗冲娲礈閹绘帊绨煎┑鐐插级閿曘垽骞冮敓鐘冲亜闁稿繗鍋愰崢顏堟⒑閸撴彃浜濈紒璇插暣瀹曞啿煤椤忓懐鍘甸梺绋跨箳閸樠勬叏瀹ュ鐓欓柦妯侯槺閸╋綁鏌熼鐣屾噰闁诡喗绮岃灒闁绘挸楠哥粻鐐烘⒒閸屾瑧顦﹂柟纰卞亜鐓ら柕蹇嬪�曠粈澶愭倶閻愭彃鈷旀い鈺傚絻铻栭柨婵嗘噹閺嗙偤鏌ｉ幘璺衡枅闁哄矉绲借灃闁跨喍绮欓幃褔宕卞☉杈ㄦ櫔濠电姴锕ら悧濠囨偂韫囨稒鐓曢柕澶嬪灥閸犳碍瀵奸崒婊呯＝濞达絽鎼牎闂佺儵鏅╅崹鍫曟偘椤斿槈鐔煎礂閻撳海锛忓┑鐐存尰閸戝綊宕归崡鐐愭帡宕堕埡鍐紳闂佺鏈懝楣冩晸閻ｅ苯鍘撮柟铏殜閹虫粓妫冨☉妯间簴闂佽娴烽弫鎼佲�﹂崼銏☆偨闁靛牆顦伴悡鐔兼煙娴煎瓨娑у褌鍗抽弻宥夋偡閹殿啩銏ゆ煃鐟欏嫬鐏撮柟顔规櫊瀹曪絾寰勭仦璇蹭汗闂傚倷娴囧銊х矆娴ｈ櫣鐭撻柣銏犵仛瀹曞弶绻濋棃娑欏窛缂佲槄鎷烽梻浣侯焾閺堫剛绮欓幋婵冩瀺闁挎繂娲ㄧ壕钘壝归敐鍫殐婵炲牞绲跨槐鎺旂磼濡偐鐣靛銈庡亜缁绘﹢骞栭崷顓熷枂闁告洦鍋嗚ぐ鎾⒒娴ｅ憡鎯堥悶姘煎亰瀹曟洟宕橀懠顒佹濡炪倕绻愰悧濠囧煕閹达附鐓熼柣鏂挎啞缁跺弶绻涢崼姘珚闁哄瞼鍠栧畷娆撳Χ閸℃浼�,teamId: " + teamId);
					return true;
				}
				else
				{
					SAskforCallBack sAskforCallBack = new SAskforCallBack();
					sAskforCallBack.leaderid = leaderRoleId;
					psendWhileCommit(callbacklist, sAskforCallBack);
					fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 140880, null);
				}
				
				
				return true;
			}
		};
		callbackMemberP.submit();
	}
	

	private boolean checkTeamStatusValid(long leaderRoleId)
	{
		BuffAgent agent = new BuffRoleImpl(leaderRoleId);
		return agent.canAddBuff(OperateType.TEAM_CALL_BACK_MEMBER);
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794443;

	public int getType() {
		return 794443;
	}

	public long memberid; // 召唤的队员id by changhao

	public CCallbackMember() {
	}

	public CCallbackMember(long _memberid_) {
		this.memberid = _memberid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(memberid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		memberid = _os_.unmarshal_long();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CCallbackMember) {
			CCallbackMember _o_ = (CCallbackMember)_o1_;
			if (memberid != _o_.memberid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)memberid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(memberid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CCallbackMember _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(memberid - _o_.memberid);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

