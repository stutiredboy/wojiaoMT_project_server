
package fire.pb.team;
// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CAcceptToTeam__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒閿曪妇绮欒箛鏃傜瘈闁靛骏绲剧涵鐐亜閹存繃鍠橀柕鍡楁嚇楠炴捇骞戝Δ锟界紞濠囧箖閳轰緡鍟呮い鏃傚帶婢瑰牏绱撴担鍝勪壕闁稿骸鍟块…鍥灳閹颁礁娈ㄩ梺鍓插亝濞叉牠鏌嬮崶銊ｄ簻闁规澘鐏氱欢姘辩磼閵娿儳鎽犵紒缁樼〒閿熻姤绋掗…鍥儗婵犲嫮纾界�广儱鎷戦煬顒傦拷娈垮枦椤曆囧煡婢舵劕顫呴柍鍝勫�瑰▍鍥⒒娴ｈ櫣甯涢拑杈╂喐閺夊灝鏆為柟渚垮妽閹棃鏁愰崶鈺嬬闯濠电偞鎸婚懝楣冩晝閵壯嶆嫹濮橆剛绉烘慨濠呮缁瑧鎹勯妸褌绱橀梻浣侯焾椤戝洭宕戦妶澶婄畺闂勫洨绮诲☉銏犵闁告劦浜滈弫鎼佹⒑閼姐倕鞋婵炲拑缍佸畷鏇㈠Χ婢癸箑顦甸幃娆戯拷闈涙憸椤旀洟姊洪崨濠佺繁闁告ü绮欒棢闁绘绮悡娆愩亜閺囩偞鍣规繛鍛Ч閺屸剝鎷呯憴鍕３闂佽桨鐒﹂幑鍥极閹剧粯鏅搁柨鐕傛嫹
 * @author changhao
 *
 */
public class CAcceptToTeam extends __CAcceptToTeam__ {
	
	
	@Override
	protected void process() {
		// protocol handle
		TeamManager.logger.info("Enter: " + this.getClass());
		final long leaderRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		final long applierRoleId  = this.roleid;
		if (leaderRoleId < 0)
			return;
		if (applierRoleId != 0)
		{
			fire.pb.PropRole applierprop = new fire.pb.PropRole(applierRoleId, true);
			if(applierprop.getProperties().getCruise() > 0) {
				TeamManager.logger.info("CAcceptToTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻棄顭烽獮澶愬箹娴ｇ懓浜遍梺鍓插亝缁诲嫰鎮烽弻銉︹拺缂佸顑欓崕娑樏瑰搴濋偗鐎殿喛顕ч埥澶愬閻樻牓鍔嶉妵鍕籍閸屾艾浠橀梺鎶芥敱鐢�愁潖閻戞ɑ濮滈柟娈垮櫘濡差喖顪冮妶鍡楃仴婵☆偅绻冩穱濠囨偨缁嬭法顦板銈嗙墬濮樸劑顢欐繝鍥ㄢ拺闁荤喐澹嗛幗鐘电磼鐠囪尙校缂佸倹甯￠幊鏍煛閸愵亷绱冲┑鐐存尰閼归箖鏁冮妷褝鎷峰顒傜Ш婵﹨娅ｇ划娆戞崉閵娧傜礃闂備胶顭堥鍥磻閵堝绠栭梽鍥╃不濞戙垹绠奸柛鎰典簻閺佹悂姊洪懡銈呅繛鍜冪秮瀹曟洟濡舵竟锕�顦甸幃娆戯拷闈涙憸椤旀洟姊洪崨濠佺繁闁告ü绮欒棢闁绘绮悡娆愩亜閺囩偞鍣归柡瀣洴閺屽秶鎲撮崟顐や患闂佽法鍠愰弸鑽ょ礊閸℃稑纾婚柨鐔剁矙閺岀喖鎮块娑变哗缂備浇椴哥敮鐐垫閹烘顫呴柣妯垮皺閻嫰姊绘担鍝勭殤闁归鍏樺鍫曞醇濮橆厽鐝ㄩ梺鐟板槻閸㈡煡锝炲┑瀣�锋い鎺炴嫹妞ゅ骏鎷�?" + applierRoleId + "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笂缁瑩寮婚妶鍡樺弿闁归偊鍓ㄩ幏鐑藉冀椤愵剚瀚规慨姗嗗墻閻撳ジ鏌″畝瀣М鐎殿噮鍣ｅ畷鎺戭潩椤戣法甯涚紓鍌氬�风欢銈夊箯瀹勯偊鐔嗛悹楦挎閻掑潡鏌熸搴″幋闁诡垰鍊垮畷銊︾節閸屻倓绱﹂梻鍌氬�峰ù鍥р枖閺囥垹绐楃�广儱娲ら崹婵囩箾閸℃ɑ灏电�规挷绶氶悡顐﹀炊閵娿儲鎯涙繛瀛樼矊缂嶅﹪寮婚悢鍏煎�绘俊顖濇娴犲吋淇婇妶鍥㈡繛宸弮瀵鏁愭径瀣簻闂佸壊鍋呭ú姗�顢撻弽顓熲拺缂佸顥氬☉銏犵倞鐟滃繘顢欓崱娑欌拺缂備焦锚閻忚鲸淇婇銏狀伀缂侇喖顭烽幖褰掝敃閿涘嫮鐣鹃梻渚�娼ч悧鍡欐崲閹寸媴鎷峰鎰佹綈缂佺粯绋撴竟鏇狅拷锝庝簷濮规绻濋悽闈涘壋闁归鍏樺娲传閸曨剚鎷卞┑鐐插级閿氭い鏇樺劦瀹曠喖顢涘璺烘暪婵犵數濞�濞佳兾涘Δ鍚藉鈹戠�ｎ偀鎷绘繛杈剧悼閹虫捇顢氬鍕闁告瑥顦辨晶鐢碉拷瑙勬礃閸旀﹢濡甸幇鏉跨闁规儳鍘栫花鍨節閻㈤潧浠滄俊顐ｇ懇楠炴劖绻濆顓炰簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛銉㈡櫅娴犳粓鏌ㄩ悢缁橆棄婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗?,婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ姀鐘差棌闁轰礁锕弻鈥愁吋鎼粹�崇缂備焦鍔栭〃鍡樼┍婵犲洤围闁告侗鍘藉▓鍓佺磽娴ｇ懓鏁剧紒鐘虫崌瀵鈽夊搴⑿俊鐐�戦崝宀勫箠閹邦厾鐝堕柡鍤堕姹楅梺鍦劋閹搁箖宕㈤幖浣瑰�甸悷娆忓閹嫰鏌涢悩宕囧⒌鐎殿喚鏁婚、妤呭磼閿旇棄顏堕梻鍌氱墛缁嬫捇鎮為崨濠冨弿濠电姴鎳忛鐘电磼椤旂晫鎳囨鐐村姈閹棃濮�閳ユ剚浼嗙紓鍌氬�搁崐椋庣矆娓氾拷椤㈡牠宕卞☉妯碱唹闂佹悶鍎洪崜娆撳及閵夆晜鐓忛煫鍥ь儏閿熻姤娲滈悮鎯ь吋婢跺鍘遍悗鐧告嫹閻庯綆鍠楅宥夋煟鎼搭澀浜㈡い顐㈩樀閵嗗啴濡烽埡鍌氾拷鐑芥煠绾板崬鍘搁柧蹇撻叄濮婃椽宕ㄦ繝鍐ｆ嫻閻庣櫢鎷烽柟闂寸閽冪喖鏌ㄥ┑鍡樺晵闁哄啫鐗婇弲鎼佹煢濡尨绱氭繛鎴炃氶弨浠嬫煕閳╁啰鎳勬繛鍫ョ畺濮婃椽妫冨☉姘辩杽闂佺锕ュú婊呭垝閼姐倗纾兼俊顖炴櫜缁ㄥ姊洪崫鍕殭闁稿﹦鎳撻埢宥夊即閵忥紕鍘卞┑鈽嗗灠濠�閬嶆儗濞嗘劖鍙忓┑鐘插暞閵囨繃淇婇銏犳殭闁宠棄顦～婵囶潙閺嵮勬毌濠电姷鏁告慨鐢割敊閺嶎厼绐楁慨妯挎硾缁�鍌涗繆椤栨瑨顒熼柛銈嗘礋閺岀喖姊荤�靛壊妲紓渚婃嫹闁告劦鍠楅悡鍐煟閻旇鐒藉ù鐘冲笧缁辨帡濡搁妷顔惧悑濠殿喖锕ュ钘夌暦椤愶箑绀嬫い鎺炴嫹闁稿绉瑰娲川婵犲啰鍙嗛梺鍝勭墱閸撶喎顕ｉ弻銉ョ濞撴艾锕ョ�氬綊鏌ｉ姀鐘冲暈濞存嚎鍊濋弻鐔兼倻缁涘顥栭梺鐟板级閹稿啿鐣烽悢纰辨晢闁稿被鍊栬ⅷ婵犵绱曢崑鎴﹀磹閹达箑绀夌�癸拷閸曨剚娅囬梺闈涱檧婵″洭鍩炲鍛斀闁绘ê寮舵径鍕煕婵犲偆鐓奸柡宀嬬畱铻ｅ〒姘煎灡妤旈梻浣告啞钃遍柟顔煎�搁～蹇涙惞閸︻厾鐓撻梺鍏煎墯閸ㄤ即顢旈銏♀拺缂佸顑欓崕蹇涙煥閺囥劋閭柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷");
				fire.pb.talk.MessageMgr.sendMsgNotify(applierRoleId, 162027, null);
				fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 162026, null);
				return;
			}
			
			fire.pb.PropRole leaderprop = new fire.pb.PropRole(roleid, true);
			if(leaderprop.getProperties().getCruise() > 0) {
				TeamManager.logger.info("CAcceptToTeam:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閼活垳绮旇ぐ鎺戣摕闁靛ě宥嗗闁挎繂楠告禍婊呯棯閻愵剙鈻曟慨濠冩そ瀹曨偊宕熼鐘插Ы缂傚倸鍊哥粔宕囩矆娓氾拷椤㈡岸鏁愭径妯绘櫌闂佸憡娲﹂崑鍕倵椤撶儐娓婚柕鍫濇椤ュ棙淇婇銏狀伃闁轰焦鎸剧划鐢碉拷锝庝簽娴犫晠姊虹�圭媭娼愰柛銊ユ健閵嗕礁顫濈捄鍝勮�垮┑鐐叉閸も晠濡舵径瀣ф嫼闂佽崵鍠愬妯衡枔閳哄懏鐓欓柛鎴欏�栫�氾拷" + roleid + "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻棄顭烽獮澶愬箹娴ｇ懓浜遍梺鍓插亝缁诲嫰鎮烽弻銉︹拺缂佸顑欓崕娑樏瑰搴濋偗鐎殿喛顕ч埥澶愬閻樻牓鍔嶉妵鍕籍閸屾艾浠橀梺鎶芥敱鐢�愁潖閻戞ɑ濮滈柟娈垮櫘濡差喖顪冮妶鍡楃仴婵☆偅绻冩穱濠囨偨缁嬭法顦板銈嗙墬濮樸劑顢欐繝鍥ㄥ�垫鐐茬仢閸旀岸鏌ｅΔ锟藉Λ婵嗙暦閵忋倕鐏抽柟棰佺劍鐎靛矂姊洪棃娑氬闁稿﹦鎳撻埢宥夊籍閸喓鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�?" + applierRoleId + "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閼活垳绮旇ぐ鎺戣摕闁靛ě宥嗗闁挎繂楠告禍婊呯棯閻愵剙鈻曟慨濠冩そ瀹曨偊宕熼鐘插Ы缂傚倸鍊哥粔宕囩矆娓氾拷椤㈡岸鏁愭径妯绘櫌闂佸憡娲﹂崑鍕倵椤撶儐娓婚柕鍫濇椤ュ棙淇婇銏狀伃闁轰焦鎸剧划鐢碉拷锝庝簽娴犫晠姊虹�圭媭娼愰柛銊ユ健閵嗕礁顫濈捄鍝勮�垮┑鐐叉閸ょ娀骞嬮敂瑙ｆ嫼闂佸憡绋戦敃銉╁煕閹扮増鐓熸俊銈呭暙閳诲牓鏌ｅ☉鍗炴珝鐎规洖銈告俊鐑藉Ψ鎼存ɑ娅婇柡灞炬礃瀵板嫰宕煎┑鍫滅棯闂備礁鎼崑濠囧箯閻戣姤鈷掗柛灞剧懄缁佺増銇勯銏╂Ц闁伙絽鍢茶灒閻炴稈鍓濋悘鍐ㄢ攽閻愭潙鐏熼柛銊ョ秺瀵即濡烽埡鍌氾拷鍫曟煟閹邦喚绀嬮柟鐑橆殔缂佲晛霉閻樺樊鍎愰柣鎾跺枑缁绘盯宕卞Δ鍐唹闂侀潻绲惧浠嬪箖濡わ拷椤繃娼忛妸銉︾暚婵＄偑鍊ゆ禍婊堝疮鐎涙ü绻嗛柛顐ｆ礀瀹告繃銇勯弽銊х煠闁哥偛鐖煎铏规嫚閹绘帩鍔夊┑顔角滈崝鎴濈暦濡わ拷铻ｉ柧蹇氼潐濞堟儳顪冮妶鍡欏⒈闁稿绋戦蹇撯攽鐎ｎ偄锟藉灚绻涢幋鐐垫噽闁绘帊绮欓弻娑樜熺紒妯虹３濠殿喖锕ㄥ▍锝夋晸閽樺璐″┑顔炬暬婵℃挳宕橀鍡欙紲闂佽法鍠曟慨銈囩箔閻斿吋鏅搁柦妯侯樈閸ゆ洟鏌熼幆鏉啃撻柛瀣閺屾稖绠涘顑挎睏闂佸憡锕㈡禍璺侯潖濞差亜绀冮柛娆忣槹閸庢捇姊虹粙娆惧剰婵☆偅顨婇崺銏ゅ箻閹颁胶鍙嗛梺鍓插亞閸犳捇宕㈤幖浣瑰�甸柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁告挻鐟╁畷鍝勭暆閸曨剛鍙勬繛鏉戝悑閻熝呯矓椤曪拷閺岋紕浠﹂崜褎鍒涢梺鐐藉劵缁犳捇鐛�ｎ亖鏀介柛銉㈡櫃婢规洟姊婚崒娆戭槮闁硅绻濋弫鍐敃閿曪拷缁狀垶鏌ㄩ悤鍌涘??,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐鐢�崇暦閿濆牏鐤�闁哄倸澧界粻姘舵⒑闂堟稓澧曢柟宄邦儔瀹曟洟骞囬悧鍫濓拷鍨叏濮楀棗澧扮紒澶屽劋閹便劍绻濋崨顕呬哗闂佸綊顥撴繛锟介柛銊╃畺閹煎綊顢曢妶鍕棜闂傚倸鍊风粈渚�骞栭锕�绠悗锝庡枛绾捐鈹戦悩鍙夋悙闁哄绶氶弻鐔煎礈瑜忕敮娑㈡倵閻㈤潧孝妞ゎ叀娉曢幑鍕瑹椤栨艾澹嶇紓浣鸿檸閸欏繘骞忛柨瀣瘈闁汇垽娼ф牎濡炪倖姊归悧鐘茬暦鐟欏嫮闄勭紒瀣硶閻撴垿姊洪崨濠傚闁告柨閰ｅ鎶芥晝閸屾稓鍘介梺闈涚箳婵敻宕悙鐑樼厱濠电姴瀚崢鎾煛瀹�瀣М妤犵偛顑夐幃婊堝幢濞嗗繐楔闂傚倷绀侀幉锟犳晝閵忥紕顩查悹杞扮秿濞戙垹宸濋柟纰卞幗閺呮繈姊洪棃娑氱畾闁告挻绻堥獮鍐ㄢ枎韫囷絾瀵岄梺闈涚墕濡鎮橀妷鈺傜厵闁惧浚鍊嬮鍫熷仼鐎瑰嫭澹嬮弨浠嬫倵閿濆骸浜濇繛鍛濮婃椽鎮烽幍顔芥喖闁汇埄鍨抽崑鐔哄垝鐠囧樊娼╅柤鍝ユ暩閸樹粙姊虹紒妯忣亜顕ｉ崼鏇炲偍闁稿瞼鍋為悡鏇㈡煛閸ャ儱濡煎ù婊嗘闇夌痪顓㈡敱鐎氾拷");
				fire.pb.talk.MessageMgr.sendMsgNotify(applierRoleId, 162026, null);
				fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 162027, null);
				return;
			}				
		}
		
		Long leaderclanfightid = xtable.Roleid2clanfightid.select(leaderRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞鐔虹磼濡尨鎷烽幇顓ф闁绘劖娼欐慨宥夋煛娴ｈ灏扮紒鍌涘笧閿熸枻缍嗛崑锟介柟椋庣帛缁绘稒娼忛崜褏袣濠电偛鎷戠徊鍧楀极椤斿皷妲堥柕蹇ョ磿閸樻悂鏌ｈ箛鏇炰哗妞ゆ泦鍕箚濞寸姴顑嗛悡娑㈡煕濞戞瑦绶查柣鎾村姍閺岀喖顢涘☉娆樻闂佽桨鐒﹂崝娆忕暦閸洖鐓涢柛鎰╁妼绗戞繝鐢靛Х閺佸憡鎱ㄩ悜钘夋瀬闁告稑锕ラ崣蹇涙煛婢跺娈繛宸簼閺呮繈鏌涚仦鍓р槈濞存粍顨婂娲传閸曨剙鍋嶉梺鎼炲妽濡炰粙骞冮敓鐘参ㄩ柍鍝勫�婚崢鎼佹⒑缁嬫寧婀扮紒瀣灴椤㈡艾顭ㄩ崼鐔哄幍濡炪倖鐗楀銊︽櫠閺囥垺鐓冮悷娆忓閻忔挳鏌涢妸鈺冪暫闁诡喗鐟╅幐濠冨緞婢跺﹤鐏婇梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝�婚惌娆撴煙鏉堝墽鐣遍柣鎾寸箞楠炴牕菐椤掞拷婵¤偐绱掗悩宕団檨闁靛洤瀚伴獮妯兼崉娓氼垽鎷风仦鍙ョ箚闂婎偒鍘煎畵鍡樻叏婵犲懏顏犻柟椋庡█瀹曪絾寰勭�ｎ亪妫烽梻鍌欐祰濡椼劑鎮為敃鍌氱畺闁稿本姘ㄩ弳锕傛煏韫囥儳绉垫俊顖氬濮婃椽骞愭惔锝囩暭闂佺顑嗛惄顖炲春閻愬搫绠ｉ柣娆忔噺鐎氬綊鏌ㄥ┑鍡樺櫧濞寸姵鐩弻锟犲椽閸愵亞袦濠殿喖锕ㄥ▍锝囨閹烘嚦鐔煎传閸曞灚缍嬮梻鍌欑閹诧繝鎮㈤鍕濡炲娴风壕钘夈�掑顒佹悙闁哄鐩弻锝夊冀椤愩垹浠樺銈庡亜缁绘帞妲愰幒鎳崇喖鎳栭埡鍌氭疄闂傚倷娴囧▔鏇㈠窗閺囩倣娑㈠礋椤栨鎷烽敃鍌氱倞妞ゆ帊绀佸▓銉╂⒑闂堟稓澧曟繛璇х悼缁厽寰勯幇顓涙嫼闂侀潻瀵岄崢濂稿礉鐎ｎ喗鐓曢柍杞拌兌婢ф洟妫佹径鎰厸鐎广儱楠搁獮妤呮煟閹惧磭绠伴柍瑙勫灴閹瑩妫冨☉妤�顥氭繝鐢靛仜閹冲骸螞濠靛钃熸繛鎴欏灩鍥撮梺鍛婁緱閸ㄤ即鍩呴悽鍛娾拺闁告繂瀚～锕傛煕閺冿拷閸ㄥ潡鐛崘顔嘉у璺猴功閿涙粌鈹戦悙鏉戠仸闁挎洍鏅滅�靛ジ鏁撻敓锟� by changhao
		if (leaderclanfightid != null)
		{
			Long applierclanfightid = xtable.Roleid2clanfightid.select(applierRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞鐔煎传閸曨剙锟筋垳绱撴担绋匡拷鍦暜閹烘柨寮叉俊鐐�曠换鎰板箠閹版澘鍌ㄥù鐘差儐閻撴瑩鏌ゅù瀣珗閽樼喖姊洪崨濠冨鞍缂佽瀚伴獮蹇氥亹閹烘垹浼嬮梺鍝勫�堕崕鏌ュ棘閿熻姤淇婇悙顏勶拷鏍偋椤撶姴绶ら柦妯侯樈閸ゆ洘銇勯弮锟介幏婵嬪箯妞嬪孩鍠嗛柛鏇ㄥ墰椤︻參姊烘潪鎵槮妞ゎ厾鍏橀悰顕�宕橀妸銏＄�婚梺鍦亾濞兼瑩鏁撻悾宀�甯涘ǎ鍥э躬椤㈡稑顭ㄩ崘銊ょ帛婵°倗濮烽崑鐐烘晝閵忕媭娼栫紓浣股戞刊鎾煕濞戞﹫鏀婚柛搴㈡尭椤啴濡惰箛娑欘�嶆繝銏㈡嚀濡繈寮幘缁樺仼鐎癸拷閿熶粙骞婂Δ鍛厱闁靛鍨靛ú锕傛晬濡ゅ懏鈷戦柤濮愬�曢弸鎴︽煟閻旀潙鍔ら柨鐔诲Г閸戝綊宕板顒夊殨鐟滄棃寮幘瀵割浄閻庯綆鍋�閹锋椽鏌ｉ悩鍏呰埅闁告柨鐭傚绋款吋閸モ晝锛滃銈嗘⒒閺咁偊骞婇崶顒佺厪闁糕剝娲滅粣鏃傦拷娈垮櫘閸ｏ絽鐣烽悡搴樻斀閻庯綆浜濋弳顏勨攽閻樺灚鏆╁┑鐑囨嫹濠电偘鍖犻崶銊ヤ罕濠电姴锕ら崥姗�鏁愭径妯绘櫖濠电偞鍨堕〃鍫㈢不濮樿埖鈷戠紓浣姑慨锕�霉濠婂嫮鐭掗柡浣规崌閹崇偤濡疯閳峰矂鎮楃憴鍕缂傚秴锕獮鍐焺閸愨晛鍔呭┑鈽嗗灥瀹曞灚绂嶅▎鎾粹拻濞达絽鎲￠幆鍫熺箾鐏炲倸濡介柟渚垮姂閹粓鎳為妷銉よ檸缂傚倸鍊烽悞锔炬箒缂備浇顕уΛ婵嬪蓟閺囥垹閱囨繝闈涙搐濞呫倝姊洪棃鈺冪ɑ婵＄偘绮欏濠氭晲婢跺﹦顔掗柣搴ㄦ涧閹诧繝宕虫导瀛樷拺閻犲洠锟借櫕鐏嶅銈冨妼閹虫﹢宕洪妷锕�绶炲┑鐐靛亾閻庡鏌ｈ箛鏇炰沪闁归攱绻勫Σ鎰枎閹邦亞绠氶梺缁樺姦娴滄粓鏁撻懞銉︾闁瑰箍鍨介獮鍥敋閸℃ê顏跺┑顔斤公閹风兘鏌涢妷鎴濇噹閹藉姊绘担鐟邦嚋婵炲弶鐗犲畷鎰亹閹烘挸浜楅梺闈涱槴閺呮粓鎮￠悢鍏肩厸闁告劑鍔岄敓鍊熷吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎熼敓浠嬫⒑閸濆嫯瀚扮紒澶婄秺楠炴劖绻濋崘銊х獮濠碘槅鍨抽崕鐢稿几閸涘瓨鈷掑ù锝堝Г閵嗗啴鏌ｉ幒鐐电暤妤犵偞鍨垮畷鍫曨敆閿熶粙寮告笟锟介弻鐔煎礈瑜忕敮娑㈡煛閸涱喗鍊愰柡灞诲姂閹倝宕掑☉姗嗕紦? by changhao
			if (!leaderclanfightid.equals(applierclanfightid))
			{
 			    fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 410028,  null);
 			    return;
			}
			else
			{
				xbean.ClanInfo claninfo = fire.pb.clan.ClanUtils.getClanInfoById(roleid, true);
				if (claninfo == null)
				{
					return;
				}
				
				xbean.ClanMemberInfo memberinfo = claninfo.getMembers().get(applierRoleId);
				if (memberinfo == null)
				{
	 			    fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 410029,  null);
					return;
				}
			}
		}
		else
		{
			Long applierclanfightid = xtable.Roleid2clanfightid.select(applierRoleId);//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘鐓曢柕濞垮劚閿熻棄顭烽獮澶愬箹娴ｇ懓浜遍梺鍓插亝缁诲嫰鎮烽弻銉︹拺缂佸顑欓崕娑樏瑰搴濋偗鐎殿喛顕ч埥澶愬閻樻牓鍔嶉妵鍕籍閸屾艾浠橀梺鎶芥敱鐢�愁潖閻戞ɑ濮滈柟娈垮櫘濡差喖顪冮妶鍡楃仴婵☆偅绻冩穱濠囨偨缁嬭法顦板銈嗙墬濮樸劑顢欐繝鍥ㄢ拺闁荤喐澹嗛幗鐘电磼鐠囪尙校缂佸倹甯楅妶锝夊礃閳圭偓瀚奸梻浣侯攰閸嬫劙宕戝☉銏℃櫢缂佹劖鐗曞ú銈囩不椤栫偞鐓熼柟杈剧到琚氶梺鎶芥敱鐢帡婀侀梺鎸庣箓閹冲繘宕悙鐑樼厱闁绘柨鎼禒婊堟煏閸℃ê绗掓い顐ｇ箞椤㈡顦抽柣銈勭窔閹鎲撮崟顒傦紭闂佹悶鍔忓▍锝囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡涱�楀褜鍠氶幉鎼佸级閹稿寒妫炲銈庝簻閸熷瓨淇婇崼鏇炲耿婵°倕鍟伴幊鍡涙⒑鐠囨彃顒㈤柛鎴濈秺瀹曪綁宕橀鑲╃暫闂佽法鍠撴慨鎾础閹惰姤鐓忛煫鍥ь儏閻忊晝鎲搁弶鍨伃婵﹥妞介獮鏍倷閹绘帒袝婵＄偑鍊戦崕鏌ュ箲閸パ呮殾婵﹩鍘奸閬嶆倵濞戞瑯鐒介柛妯哄船閳规垿鍩ラ崱妤冧化闂佺绨洪崐婵嬬嵁婢舵劕浼犻柕澹拑绱查梺鍝勵槸閻楀嫰宕濈仦鐭綊顢欓幘鍛閻熸瑥瀚粚璺ㄧ磼閹绘帪鎷烽悢杞拌埅闂傚倷绀侀幉锛勬崲閸屾粣鎷峰鐓庢珝濠碘�崇埣椤㈡瑩骞嬮幒鏃傜暰闂備線娼ч悧鍡椕洪妶鍛瘎闂傚倷鑳堕…鍫ヮ敄閸℃稒鍎庢い鏍亼閿熸垝绶氬浠嬵敇閻愯尙鐛╅梻浣筋潐椤旀牠宕伴弴銏″殝妞ゅ繐鐗婇埛鎺楁煕鐏炲墽鎳嗛柛蹇撶灱缁辨帡顢氶崨顓犱桓閻庤娲栫紞濠傜暦婵傜鍗虫俊銈咁儐鐎氬綊鏌ㄩ弴鐐诧拷鎼佹倷婵犲啨浜滈柟鍝勭Ф椤︼箓鏌涢幙鍐ㄥ箻缂佽鲸鎹囧畷鎺戔枎閹存繂顬夋俊鐐�ら崢鐓幟洪妸褍鍨濈紓浣骨滈崑鍛存煕閹般劍娅囬柛妯兼暬濮婃椽宕烽娑欏珱闂佸憡锚閵堟悂骞冨锟介弫鎾绘偐閸愯鎷烽崹顐ｅ弿婵☆垳鍘ф禍楣冩倵濮樼偓瀚�? by changhao
			if (applierclanfightid != null)
			{
				if (!applierclanfightid.equals(leaderclanfightid))
				{
	 			    fire.pb.talk.MessageMgr.sendMsgNotify(applierclanfightid, 410030,  null);	
	 			    return;
				}				
			}
		}
		
		new PAcceptToTeam(leaderRoleId, applierRoleId, accept, true).submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 787235;

	public int getType() {
		return 787235;
	}

	public long roleid; // 申请组队者ID
	public int accept; // 0 表示拒绝，1表示接受（拒绝情况下，如果roleid为0，表示清空申请者列表）

	public CAcceptToTeam() {
	}

	public CAcceptToTeam(long _roleid_, int _accept_) {
		this.roleid = _roleid_;
		this.accept = _accept_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(roleid);
		_os_.marshal(accept);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		roleid = _os_.unmarshal_long();
		accept = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CAcceptToTeam) {
			CAcceptToTeam _o_ = (CAcceptToTeam)_o1_;
			if (roleid != _o_.roleid) return false;
			if (accept != _o_.accept) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)roleid;
		_h_ += accept;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(roleid).append(",");
		_sb_.append(accept).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CAcceptToTeam _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(roleid - _o_.roleid);
		if (0 != _c_) return _c_;
		_c_ = accept - _o_.accept;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

