
package fire.pb.team;
import java.util.ArrayList;
import java.util.List;

import fire.pb.PropRole;
import fire.pb.StateCommon;
import fire.pb.buff.BuffAgent;
import fire.pb.buff.BuffRoleImpl;
import fire.pb.buff.OperateType;
import fire.pb.event.LeaveTeamSpecialQuestEvent;


// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CExpelMember__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐宄懊归崶褏鏆﹂柛顭戝亝閸欏繘鏌℃径瀣婵炲樊浜堕弫鍥煃鐠虹儤鎯堟い锔炬暬閻涱喖顫滈敓浠嬪箖濠婂牆鐓涢悗锝庡亜椤忓爼姊洪崫鍕枆闁告ê銈搁幃娆愮節閸愶缚绨婚梺鐟版惈缁夌兘顢欐径鎰厵闂傚牃鏅滅�氬綊姊婚崒姘拷鐑芥嚄閸撲礁鍨濇い鏍嚤濞戙垹绀冩い鏃囧亹閸濇姊绘笟鍥у缂佸顕划锝呂旈崨顔惧弳闂佺粯娲栭崐鍦拷姘炬嫹
 * @author changhao
 *
 */
public class CExpelMember extends __CExpelMember__ {
	
	Team team;
	
	@Override
	protected void process() {
		// protocol handle
		TeamManager.logger.debug("Enter: " + this.getClass());
		final long leaderRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (leaderRoleId < 0)
			return;
		final long expeledRoleId = roleid;
		mkdb.Procedure expelMemberP = new mkdb.Procedure()
		{

			@Override
			protected boolean process()
			{
				//lock start 
				Long teamId = xtable.Roleid2teamid.select(leaderRoleId);
				//闂傚倸鍊搁崐鎼佸磹閻戣姤鍤勯柛顐ｆ磵閿熸枻绠撳畷濂稿閳ュ啿绨ラ梻浣筋潐婢瑰棙鏅跺Δ鍛；閻庯綆鍠楅悡娆撴煕閹炬鎳庣粭锟犳⒑缁嬫鍎愰拑杈╃磼缂佹娲寸�规洖宕灒闁惧繘锟芥稒顢橀梻浣筋嚙鐎涒晝鍠婂澶嬪殞濡わ絽鍟繚闂佸湱鍎ら崺鍫濐焽閳哄懏鐓熼柟浼存涧婢ь喗銇勮箛姘厫缂佺粯绻傞銉╁几椤愵澁鎷烽妶澶婂惞閻庯綆鍠楅埛鎺楁煕閺囥劌浜滄い蹇ｅ亰閺屻劑鎮㈤悜妯荤彧闂佽桨鐒﹂幃鍌氱暦閵忥綆妯勫銈冨灪钃辩紒铏规櫕缁瑩宕归鍖℃嫹閸喒鏀介柍钘夋閻忥綁鏌涙惔銏犵仼缂侇喖顭烽獮妯兼嫚閼艰埖鎲版繝鐢靛仦閸ㄥ爼鏁冮埡渚囩劷闁冲搫鎳忛悡鏇㈡煙閻愵剦娈旈柟铏姍閹即濡烽埡鍌楁嫼闂佺厧顫曢崐鏇熺墡闂備礁鎲″褰掋�冩繝鍌滄殾濞村吋娼欑粻濠氭偣閸濆嫭鎯堥柣蹇擄躬濮婅櫣鎹勯妸銉︾彚闂佺懓鍤栭幏锟�?
				if(teamId != null)
					team = new Team(teamId,false);
				else
					return true;
				if(!team.isTeamLeader(leaderRoleId))
					return true;//濠电姷鏁告慨鎾儉婢舵劕绾ч柛鏍ゅ墲鐎氳淇婇妶鍕妽闁告瑥绻橀弻鐔虹磼閵忕姵鐏嶉梺绋垮椤ㄥ懘濡撮幒鎴僵闁绘劦鍓欓鍫曟⒒娴ｇ瓔鍤冮柛顭戝灦閹偤鏁冮敓浠嬵敋閵夆晛绀嬫い鎾寸箖閸曞啴姊虹拠鈥崇�婚柛娑卞弮閸欙繝姊婚崒姘拷椋庢濮橆剦鐒界憸鏃囨婵炲濮撮鍡涘磻閸岀偞鐓曟い鎰剁悼缁犮儵鏌ｉ幒宥囩煓闁哄被鍔戦幃銏ゅ传閸曟埊缍侀弻锝夊箻鐠鸿　鏋呴梺鍝勭焿缂嶄線骞冮姀銈呭窛濠电姴瀚崵鎺旂磽閸屾瑨鍏岄悗姘箻瀹曠喖顢旈崱娆戞毎闂傚倷绀侀幉锟犳偡閵夆敡鍥ㄥ閺夋垹锛欓梺褰掑亰閸ｎ垶骞忔搴㈠枂闁告洦鍓涢敍姗�姊虹粙鎸庢崳闁轰浇顕ч锝夘敃閿曪拷缁�鍐煃閸濆嫬锟芥悂顢撻幘缁樷拺闁诡垎鍛啈濡炪倖娲橀悧鐘茬暦椤栫偛纾奸柣鎰ˉ閹风粯绻涙潏鍓у埌闁硅绻濋獮鍡涘醇閵夛箑锟藉灚鎱ㄥΟ鍝勮埞闁告ê顕敓鍊燁潐濞叉牕锕㈤柆宥呯闁告洦鍓氭刊鎾煛閸ユ湹绨界紒澶樺櫍閺屸剝鎷呯粙鍖℃嫹閸ф绠板┑鐘插暙缁剁偞淇婇婊冨妺妞ゆ梹鎹囧铏规嫚閺屻儺锟芥绱掗悩鑼х�规洘娲熷畷锟犳倶缂佹ɑ銇濋柡浣稿暣瀹曟帒鈽夊Ο瑙勫亝闂傚倸鍊风欢锟犲礈濞嗘垹鐭撻柣銏㈩焾閻撴洟鏌熼悜姗嗘畷闁绘挻娲熼弻鐔煎级閸喗鍊庣紓浣靛妼椤兘寮婚敍鍕舵嫹閿濆骸浜炴繛鍙夋尦閺屸�崇暆鐎ｎ剛鐦堥悗瑙勬礋娴滃爼銆佸锟介幃銏＄附婢跺澶�
				Long[] roleids = new Long[2];
				if(leaderRoleId < expeledRoleId)
				{
					roleids[0] = leaderRoleId;
					roleids[1] = expeledRoleId;
				}
				else
				{
					roleids[0] = expeledRoleId;
					roleids[1] = leaderRoleId;
				}
				this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK,(Object[])roleids));
				//lock end

				if (checkPvP(leaderRoleId, expeledRoleId) != 0) {
					return true;
				}

				if(!checkLeaderInTeam(leaderRoleId, team))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担鍛婎棦闁哄本绋撴禒锕傚礈瑜忛悡渚�姊洪崫銉バｉ悽顖楋拷鎰佹綎缂備焦顭囬悷褰掓煥閻旂粯顥夋い顓炴喘閹筹繝濡堕崱妤婁紩闂備胶绮濠氬储瑜忕划鍫熷緞閹邦厾鍘甸柣搴㈢♁钃遍柛搴㈡礋閺屻劌鈹戦崱鈺傂ч梺鍝勬噺缁捇寮婚敃锟借灒濞撴凹鍨遍埢鎾绘⒑閹肩偛锟芥垿宕愬┑瀣畺婵°倕鎳愬畵渚�鏌涢…鎴濇灈濠殿喖閰ｉ弻锝嗘償閵忕姴姣堥梺鎼炲姀濞夋盯鎮鹃悜钘夘潊闁靛牆瀛╅弲銏ゆ⒑閸涘﹥澶勯柛鎾寸洴瀹曘垽鎮介崨濠勫幗闁瑰吋鐣崹濠氬煢娴ｅ箍浜滄い鎾跺仦婢跺嫰鏌￠崨顓犲煟闁轰焦鎹囬弫鎾绘晸閿燂拷?闂傚倸鍊搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ｇ矆閸喓绠鹃柟瀛樼懃閻忣亪鏌涚�Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹稿鎯勯鐐茶摕婵炴垯鍨归崡鎶芥煏韫囧﹤澧查梺娆惧弮濮婅櫣鎷犻弻銉у椽闂傚倸瀚�氼厾绮氭潏銊х瘈闁告洦鍓欓悵浼存偡濠婂啰绠婚柟顕�绠栧畷褰掝敃閿濆懎浼庡┑鐘垫暩婵鎹㈤幋鐙呮嫹濮樼偓瀚�?(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担鍛婎棦闁哄本绋撴禒锕傚礈瑜忛悡渚�姊洪崫銉バｉ悽顖楋拷鎰佹綎缂備焦顭囬悷褰掓煥閻旂粯顥夋い顓炴喘閹筹繝濡堕崱妤婁紩闂備胶绮濠氬储瑜忕划鍫熷緞閹邦厾鍘甸柣搴㈢♁钃遍柛搴㈡礋閺屻劌鈹戦崱鈺傂ч梺鍝勬噺缁捇寮婚敃锟借灒濞撴凹鍨遍埢鎾绘⒑閹肩偛锟芥垿宕愬┑瀣畺婵°倕鎳愬畵渚�鏌涢…鎴濇灈濠殿喖閰ｉ弻锝嗘償閵忕姴姣堥梺鎼炲姀濞夋盯鎮鹃悜钘夘潊闁靛牆瀛╅弲銏ゆ⒑閸涘﹥澶勯柛鎾寸洴瀹曘垽鎮介崨濠勫幗闁瑰吋鐣崹濠氬煢娴ｅ箍浜滄い鎾跺仦婢跺嫰鏌￠崨顓犲煟闁轰焦鎹囬弫鎾绘晸閿燂拷?闂傚倸鍊搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ｇ矆閸喓绠鹃柟瀛樼懃閻忣亪鏌涚�Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹稿鎯勯鐐茶摕婵炴垯鍨归崡鎶芥煏韫囧﹤澧查梺娆惧弮濮婅櫣鎷犻弻銉у椽闂傚倸瀚�氼厾绮氭潏銊х瘈闁告洦鍓欓悵浼存偡濠婂啰绠婚柟顕�绠栧畷褰掝敃閿濆懎浼庡┑鐘垫暩婵鎹㈤幋鐙呮嫹濮樼偓瀚�?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓熸俊顖濆吹濠�浠嬫煥閻旂粯顥夐柛濠傛健瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�: "+ leaderRoleId);
				}
				else if(!checkLeaderOnline(leaderRoleId))
				{
					//TODO 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担鍛婎棦闁哄本绋撴禒锕傚礈瑜忛悡渚�姊洪崫銉バｉ悽顖楋拷鎰佹綎缂備焦顭囬悷褰掓煥閻旂粯顥夋い顓炴喘閹筹繝濡堕崱妤婁紩闂備胶绮濠氬储瑜忕划鍫熷緞閹邦剛顔愬┑鐑囩秵閸撴瑦淇婃總鍛婄厱婵﹩鍓涚粔娲煛鐏炶濮傞柟顔哄�濆畷鎺戔槈濮楀棔绱�(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担鍛婎棦闁哄本绋撴禒锕傚礈瑜忛悡渚�姊洪崫銉バｉ悽顖楋拷鎰佹綎缂備焦顭囬悷褰掓煥閻旂粯顥夋い顓炴喘閹筹繝濡堕崱妤婁紩闂備胶绮濠氬储瑜忕划鍫熷緞閹邦剛顔愬┑鐑囩秵閸撴瑦淇婃總鍛婄厱婵﹩鍓涚粔娲煛鐏炶濮傞柟顔哄�濆畷鎺戔槈濮楀棔绱�,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓熸俊顖濆吹濠�浠嬫煥閻旂粯顥夐柛濠傛健瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�: "+ leaderRoleId);
				}
				else if(!checkExpeledIsMember(team, expeledRoleId))
				{
					//TODO 闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ｇ矆閸喓绠鹃柟瀛樼懃閻忣亪鏌涚�Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹稿鎯勯鐐茶摕婵炴垯鍨归崡鎶芥煏韫囧﹤澧查梺娆惧弮濮婅櫣鎷犻懠顒傜杽闂佺姘︾亸娆撳箲閵忕姭妲堥柕蹇曞Х椤撳搫顪冮妶鍡樺鞍缂佽瀚板畷娆撳捶椤撶姷锛濇繛杈剧悼椤牓鏁撻挊澶嬫喐缂侇喗妫冮幃鐣岀矙鐠囩嫏鍥ㄧ叆闁哄洨鍋涢敓钘夌秺瀵煡骞栨担鍦弳闂佺粯娲栭崐鍦拷姘炬嫹?闂傚倸鍊搁崐椋庣矆娓氾拷楠炲鏁嶉崟顓犵厯闂佺鎻梽鍕磻閵堝鐓忓┑鐘叉捣閸樻盯鏌℃径灞藉妺缂佺粯绻堥幃浠嬫濞戞鎹曟俊鐐�栧ú锕傚矗閸愩劎鏆﹂柕蹇ョ秵濡插墽绱撴笟鍥ф灍婵☆偄鍟撮獮鍐偩瀹�锟介惌娆撴煕椤垵鏋ら柨鐔虹摂閸樺ジ鍩為幋锔绘晩缂佹稑顑囬崝绋库攽閻愬樊妲圭紒瀣灴椤㈡瑨绠涘☉娆愭闂佽法鍣﹂幏锟�?(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ｇ矆閸喓绠鹃柟瀛樼懃閻忣亪鏌涚�Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹稿鎯勯鐐茶摕婵炴垯鍨归崡鎶芥煏韫囧﹤澧查梺娆惧弮濮婅櫣鎷犻懠顒傜杽闂佺姘︾亸娆撳箲閵忕姭妲堥柕蹇曞Х椤撳搫顪冮妶鍡樺鞍缂佽瀚板畷娆撳捶椤撶姷锛濇繛杈剧悼椤牓鏁撻挊澶嬫喐缂侇喗妫冮幃鐣岀矙鐠囩嫏鍥ㄧ叆闁哄洨鍋涢敓钘夌秺瀵煡骞栨担鍦弳闂佺粯娲栭崐鍦拷姘炬嫹?闂傚倸鍊搁崐椋庣矆娓氾拷楠炲鏁嶉崟顓犵厯闂佺鎻梽鍕磻閵堝鐓忓┑鐘叉捣閸樻盯鏌℃径灞藉妺缂佺粯绻堥幃浠嬫濞戞鎹曟俊鐐�栧ú锕傚矗閸愩劎鏆﹂柕蹇ョ秵濡插墽绱撴笟鍥ф灍婵☆偄鍟撮獮鍐偩瀹�锟介惌娆撴煕椤垵鏋ら柨鐔虹摂閸樺ジ鍩為幋锔绘晩缂佹稑顑囬崝绋库攽閻愬樊妲圭紒瀣灴椤㈡瑨绠涘☉娆愭闂佽法鍣﹂幏锟�?,闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鏁撻悩鍐蹭罕濡炪倖甯掔�氼剟鎮挎ィ鍐╃叆闁绘洖鍊圭�氾拷: "+ expeledRoleId);
				}
				else if(!checkTeamLeaderState(leaderRoleId))
				{
					//TODO 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮闁汇値鍠栭湁闁稿繐鍚嬬紞鎴犵磼閹邦収娈橀柨鐔绘缁犲秹宕曢崡鐏绘椽鏁冮崒锔剧◤闂佸搫娲㈤崹娲偂閻斿吋鐓欓梺顓ㄧ畱閺嬫盯鏌涢弬娆惧剶闁哄本绋撻敓鏂ょ秵閸嬪嫭鎱ㄥ澶嬬厸閻忕偠顕ч敓鑺ョ箓铻為柛鎰靛枛閻撴盯鏌涚仦鎯у毈濞寸》鎷�?婵犵數濮烽弫鎼佸磻閻樿绠垫い蹇撴缁�濠傘�掑鐐闁芥鍠栭弻鐔煎礈瑜忕敮娑㈡煕鐎Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹歌煤閻斿吋鍋傛い鎰剁畱閻愬﹦鎲稿澶樻晢闁靛繈鍨荤壕鐓幟归敐鍛儓妞わ絽銈搁弻鏇㈠炊瑜嶉顓狅拷娈垮櫘閸ｏ綁鐛锟藉鍫曞箣椤撴繄澶�(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮闁汇値鍠栭湁闁稿繐鍚嬬紞鎴犵磼閹邦収娈橀柨鐔绘缁犲秹宕曢崡鐏绘椽鏁冮崒锔剧◤闂佸搫娲㈤崹娲偂閻斿吋鐓欓梺顓ㄧ畱閺嬫盯鏌涢弬娆惧剶闁哄本绋撻敓鏂ょ秵閸嬪嫭鎱ㄥ澶嬬厸閻忕偠顕ч敓鑺ョ箓铻為柛鎰靛枛閻撴盯鏌涚仦鎯у毈濞寸》鎷�?婵犵數濮烽弫鎼佸磻閻樿绠垫い蹇撴缁�濠傘�掑鐐闁芥鍠栭弻鐔煎礈瑜忕敮娑㈡煕鐎Ｑ冨⒉缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣虹帛閹歌煤閻斿吋鍋傛い鎰剁畱閻愬﹦鎲稿澶樻晢闁靛繈鍨荤壕鐓幟归敐鍛儓妞わ絽銈搁弻鏇㈠炊瑜嶉顓狅拷娈垮櫘閸ｏ綁鐛锟藉鍫曞箣椤撴繄澶�,闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鏁撻悩鍐蹭罕濡炪倖甯掔�氼剟鎮挎ィ鍐╃叆闁绘洖鍊圭�氾拷: "+ expeledRoleId);
				}
				else
				{
					team.removeTeamMemberWithSP(expeledRoleId,false);
					
					//闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫宥夊礋椤愶絿锟芥娊鎮楅獮鍨姎妞わ富鍨跺畷褰掑磼濮橈絾鏂�闂佺鐬奸崑鐐寸閵堝洨纾界�广儱妫涙晶鐢告煛鐏炶濮傜�殿噮鍓熷畷褰掝敊鐟欏嫬鐦遍梻鍌欑劍濡炲潡宕㈡總鏉嗗洭顢涢悙鑼幋闂佺鎻梽鍕磻閹邦噯鎷风憴鍕婵炴潙鍊垮鎶芥晸閻樺啿浠╁┑顔斤供閸樺墽绮婚悙瀛樺弿濠电姴鍟妵婵堬拷瑙勬礃椤ㄥ﹤鐣峰Δ鍛殐闁宠桨绀佸▓銉╂⒒閸屾瑨鍏岄柟铏崌瀹曨垶宕归鍛兊闂佹寧娲栭崐鍛婎攰闂備礁婀辨晶妤�顭垮Ο鐓庮棜濠靛倸鎲￠悡鐔兼煙闁箑澧婚柛銈囧枛閺屾盯寮捄銊ょ驳缂備胶绮粙鎺戭焽韫囨稑绀堢憸宥夊春鐏炶В鏀介柣娆忔噺鐎氬綊姊洪崨濠庢畼闁稿鍋涜闁告洦鍨遍埛鎺楁煕鐏炲墽鎳嗛柛蹇撴湰缁绘盯宕ㄩ銏紙濡ょ姷鍋涚换姗�寮幘缁樻櫢闁跨噦鎷�?
					PropRole prole = new PropRole(team.getTeamInfo().getTeamleaderid(), true);
					List<String> name = new ArrayList<String>();
					name.add(prole.getName());
					fire.pb.talk.MessageMgr.psendMsgNotifyWhileCommit(expeledRoleId, 140641, name);
					PropRole expelrole = new PropRole(expeledRoleId, true);
					List<String> expelname = new ArrayList<String>();
					expelname.add(expelrole.getName());
					for(long memberId : team.getAllMemberIds())
						fire.pb.talk.MessageMgr.psendMsgNotifyWhileCommit(memberId,141208,expelname);
					TeamManager.logger.debug("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮闁汇値鍠栭湁闁稿繐鍚嬬紞鎴犵磼閹邦収娈橀柨鐔绘缁犲秹宕曢崡鐏绘椽鏁冮崒锔剧◤闂佸搫娲㈤崹娲偂閻斿吋鐓欓梺顓ㄧ畱閻忊剝銇勮箛鏇炩枅闁哄本绋戦埢搴ㄥ箛椤掑倻鎳栭梻渚�娼уú銈囷拷姘嵆閵嗕線寮撮姀鈺傛櫇闂侀潧绻掓慨鐑筋敊閹达附鈷掑ù锝堫潐閵囩喎霉濠婂懎鍘存鐐茬箻閺佹捇鏁撻敓锟�,闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鏁撻悩鍐蹭罕濡炪倖甯掔�氼剟鎮挎ィ鍐╃叆闁绘洖鍊圭�氾拷: "+ expeledRoleId);
				}
	//			FactionPatrol.setRoleTaskFailed(expeledRoleId);  //闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕缂佽鲸甯￠弫鎾寸鐎ｎ亞顦板銈嗗笒閸婂顢欓弴銏″�甸柣鐔告緲椤ュ繘鏌涢悩铏闁兼椽浜堕幊鏍煛閸屾矮绮℃繝鐢靛█濞佳兠洪妸褏涓嶅Δ锝呭暞閸婄敻鏌ｉ姀鈽嗗晱闁绘帡绠栭幃浠嬵敍濮橆剦鏆㈢紓浣介哺鐢顕ラ崟顓ㄦ嫹閿濆骸浜滈柛鐐差槸铻栭柣姗�娼ф禒婊堟煕閻曚礁浜柣蹇撳暣濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸〃鍛村煝瀹ュ鍐�妞ゆ挾鍠撻崢浠嬫椤愩垺澶勬繛鍙夌墬缁傛帟顦归柡灞剧〒閿熸枻缍嗛崑鍛焊閻㈢數纾兼い鏃傗拡閻撳吋顨ラ悙鏉戠瑨閾绘牕霉閿濆娅滅紓鍌涙尰娣囧﹪鎮欓鍕舵嫹閺嶎厽鍋嬫い鎾跺Т缁躲倕霉閻樺樊鍎忛柛鎴犲█閺岋綁寮幐搴㈠枑缂備胶濞�缁犳牠寮婚妸銉㈡斀闁糕剝锕╁Λ鐐烘⒑瀹曞洨甯涙繛鍙夌矒閺佹捇宕愰悤浣圭秷濠电偛寮剁换鍌炲煝閺傚簱妲堥柕蹇曞Х閸欙拷濠电姰鍨煎▔娑滃闂佸搫顑呴柊锝夊蓟閻斿吋鐒介柨鏇嫹闁哄绋掗〃銉╂倷閼碱儷褔鏌″畝瀣ɑ闁诡垱妫冮弫鎰板幢濡や胶鏆氬┑鐘殿暯閿熻棄鍟跨痪褔鏌涢妸锕�顕滃ǎ鍥э躬閹虫粓宕归銏犲Τ闂備線娼х换鍫ュ垂缂佹﹩娈┑鐘垫暩婵兘寮幖浣哥；婵炴垯鍩勯弫瀣亜閹捐泛鏋戦柛娆忕箰铻栭柨婵嗘噹閺嬨倝鏌℃担鍓插剳闁规彃鎲￠幆鏃堝Ω閵壯呮澖闂備線娼ц墝闁哄懏绮撳畷鎴﹀礋椤栨稓鍘遍棅顐㈡处濞叉牜鏁崼鏇熺厱闁瑰灝鍟顔芥叏婵犲啯銇濈�规洏鍔嶇换婵嬪礃椤垶袩闂傚倷绶氬鑽ょ礊閸℃稑绐楅柡宥庡幐閿熸枻绠撳畷鍫曨敆娴ｈ顏熼梻浣虹帛閿氱痪缁㈠弮瀹曘垽宕滆绾捐偐绱撴担闈涚仼妤犵偞鐗犻弻鐔煎礃閺屻儱寮伴梺褰掓敱濞茬喎鐣峰Δ鍐當閺夌偞澹嗛惄搴ㄦ⒒娴ｇ鏆遍柟纰卞亰椤㈡牠宕ㄥǎ顒婃嫹閸涙惌鏁嗛柛鏇ㄥ墰閸樼敻鎮楅悷鏉款伃闁稿锕畷鏇㈠箛閻楀牏鍙嗗┑鐐村灦閻熴儲鎱ㄩ崼銉︾厵鐎瑰嫮澧楅崵鍥煙椤旀儳鍘寸�殿喖澧庨幑鍕Ω閵夛附鍎ч梻鍌氬�搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫鎾绘偐閼艰埖鎲伴梻浣芥硶閸犳挻鎱ㄩ悽绋跨柧闁归棿鐒﹂悡鐔兼煥濠靛棙鍤�閻庢碍婢橀湁闁绘ê寮堕幆鍫ユ婢跺绡�濠电姴鍊搁弳鏃堟煕鐎ｃ劌鐏查柡宀�鍠栭、娆撴嚃閳哄唭銊╂⒑鏉炴壆鍔嶉柟鐟版喘瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�?
				fire.pb.event.Poster.getPoster().dispatchEvent(new LeaveTeamSpecialQuestEvent(expeledRoleId));
				return true;
			}
		};
		expelMemberP.submit();
		
	}

	// 婵犵數濮烽弫鍛婃叏閻戝锟藉倿鎸婃竟鈺嬬秮瀹曠喖顢涘槌栧數闂備浇娉曢崳锕傚箯閿燂拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佲枙闁绘帟濮ょ换娑㈠幢濡纰嶉梺缁樻尰閿曘垽寮婚悢鐑樺磯妞ゎ厽鍨堕锟�
	private static int checkPvP(long leaderRoleId, long expeledRoleId) {
		// 闂傚倸鍊搁崐宄懊归崶褏鏆﹂柛顭戝亝閸欏繘鏌℃径瀣婵炲樊浜堕弫鍥煃鐠虹儤鎯堟い锔炬暬閻涱喖顫滈敓浠嬪箖濠婂牆鐓涢悗锝庡亜椤忓爼姊洪崫鍕枆闁告ê銈搁幃娆愮節閸愶缚绨婚梺鐟版惈缁夌兘顢欐径鎰厵闂傚牃鏅滅�氬綊姊婚崒姘拷鐑芥嚄閸撲礁鍨濇い鏍嚤濞戙垹绀冩い鏃囧亹閸濇姊绘笟鍥у缂佸顕划锝呂旈崨顔惧弳闂佺粯娲栭崐鍦拷姘炬嫹
		return fire.pb.battle.pvp.PvPTeamHandle.onExpelMember(leaderRoleId, expeledRoleId);
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担闈╄含闁哄本绋戦埢搴∥熸潪鏉款棜缂傚倷鑳舵慨鐢稿垂閸ф鏄ラ柕澶涚畱缁剁偤鏌熼柇锕�骞楁繛鍛灲濮婅櫣鎹勯妸銉︾彚闂佺懓鍤栭幏锟�?濠电姷鏁告慨鐑藉极閹间礁纾婚柣鎰惈閸ㄥ倿鏌涢锝嗙缂佺姴缍婇弻宥夊传閸曨偓鎷锋繝姘ワ拷鍛村矗婢跺牅绨婚棅顐㈡处閹告悂鎮电�ｎ喗鐓ユ繝闈涙－濡插綊鏌￠崨顔剧煉闁哄矉绠戣灒濞撴凹鍨遍埢鎾绘⒑閹肩偛锟芥垿宕愬┑瀣畺婵°倕鎳愬畵渚�鏌涢…鎴濇灈濠殿喖楠搁埞鎴︽倷妫版繂娈濈紓浣哄У閹瑰洭鐛崘鈹垮亝闁告劏鏅濋崝鍫曟倵楠炲灝鍔氭俊顐㈢焸楠炲繑绻濆顓涙嫼闂佸憡绋戦敃銈嗘叏閿曪拷闇夋繝濠傚閻帞锟芥鍠氶…鍫ュ煡婢舵劕顫呴柨娑樺楠炴劙姊绘担铏广�婇柛鎾寸箘缁瑩骞囬弶璺ㄧ枀婵°倧绲介崯顖炴偂濞戞ǜ锟芥帒顫濋濠冩暰闁诲孩鐔幏锟�??闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫鎾绘偐閸愯弓鐢绘俊鐐�栭悧妤冪矙閹炬眹锟藉懘寮婚妷锔惧弳濠电娀娼уΛ顓炍ｉ崫銉х＜闁跨喍绮欏畷鎺戔槈濞嗗繐浼庢繝寰锋澘锟芥洟顢栭崱娆欐嫹濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆФ闂備胶顭堢换鎴︽晝閵忕姷鏆﹂柣鎴灻欢鐐烘煙闁箑澧版い鏂挎嚇濮婄儤瀵煎▎鎴濐嚤缂備焦妫忛弻鍗島re濠电姷鏁告慨鐑藉极閹间礁纾婚柣鎰惈閸ㄥ倿鏌涢锝嗙缂佺姴缍婇弻宥夊传閸曨剙娅ｉ梺娲诲幗椤ㄥ﹪寮婚妸鈺傚亜閻犲洦鐣幘缁樼厪闁搞儜鍐句純濡炪們鍨哄ú鐔笺�佸Δ鍛櫢濞寸姴顑冮敓钘夋嚇椤㈡宕熼鍌氬箥濠电娀娼ч崐鎼佀囬娑氼洸闁规鍣幏椋庢喆閸曨剛顦ㄩ梺鎸庢磸閸ㄤ粙濡存笟锟藉顕�宕煎┑鍡欑崺婵＄偑鍊栧濠氭偤閺冨牆瑙﹂柨鐕傛嫹
	private boolean checkLeaderInTeam(long leaderRoleId,Team team)
	{
		//xbean.TeamInfo team = xtable.Team.get(teamId);
		if(team.getTeamInfo() != null && team.getTeamInfo().getTeamleaderid() == leaderRoleId)
			return true;
		else
			return false;

	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂磋閿熸枻绠撻、妤佹媴娓氼垱閿ら梺鑽ゅЬ濡椼劎鎷冮敃鍌涘亜闁糕剝绋掗悡銉╂煟閺冨浂鍤欑悮姘舵⒑闁稓鈹掗柛鏃�鍨块獮鍐倻閼恒儳鍔烽梺鎸庢琚欓柡瀣嚇濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婄憸蹇涘汲閿曞倹鐓忓┑鐐靛亾濞呮捇鏌℃担鍛婂枠闁哄矉缍佸顕�宕剁捄鐑橆唲闂備浇顕栭崹浼存偋韫囨洘顫曢柟鎹愵嚙绾惧吋绻涢崱妯虹仼闁烩剝锕㈠娲偡閺夋寧顔�闂佺懓鍤栭幏锟�??闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫鎾绘偐閸愯弓鐢绘俊鐐�栭悧妤冪矙閹炬眹锟藉懘寮婚妷锔惧弳濠电娀娼уΛ顓炍ｉ崫銉х＜闁跨喍绮欏畷鎺戔槈濞嗗繐浼庢繝寰锋澘锟芥洟顢栭崱娆欐嫹濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆФ闂備胶顭堢换鎴︽晝閵忕姷鏆﹂柣鎴灻欢鐐烘煙闁箑澧版い鏂挎嚇濮婄儤瀵煎▎鎴濐嚤缂備焦妫忛弻鍗島re濠电姷鏁告慨鐑藉极閹间礁纾婚柣鎰惈閸ㄥ倿鏌涢锝嗙缂佺姴缍婇弻宥夊传閸曨剙娅ｉ梺娲诲幗椤ㄥ﹪寮婚妸鈺傚亜閻犲洦鐣幘缁樼厪闁搞儜鍐句純濡炪們鍨哄ú鐔笺�佸Δ鍛櫢濞寸姴顑冮敓钘夋嚇椤㈡宕熼鍌氬箥濠电娀娼ч崐鎼佀囬娑氼洸闁规鍣幏椋庢喆閸曨剛顦ㄩ梺鎸庢磸閸ㄤ粙濡存笟锟藉顕�宕煎┑鍡欑崺婵＄偑鍊栧濠氭偤閺冨牆瑙﹂柨鐕傛嫹
	private boolean checkLeaderOnline(long leaderRoleId)
	{
		if(StateCommon.isOnline(leaderRoleId))
			return true;
		else
			return false;
	}
	
	//闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾绾惧鏌ｉ幇顒佹儓缂侊拷閸曨厽鍠愰柣妤�鐗嗙粭鎺旂棯閹规劦鍤欐い顓℃硶閹瑰嫰宕ｅ畡鎵閸楅亶鏌涢銈呮瀭濞存粍绮撻悡顐﹀炊閵婏箑鏆楁繝鈷�鍕创闁哄本鐩俊鎯扮疀閺傛浼撻梻鍌氬�搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ｇ玻濡や椒绻嗛柕鍫濇噹閺嗙喖鏌熼崘鍙夊殗婵﹤顭峰畷鎺戭潩椤掑﹥瀚归柟闂寸绾惧綊鏌熼梻瀵割槮闁汇値鍠栭湁闁稿繐鍚嬬紞鎴犵磼閹邦収娈滈柡灞革拷鎰佸悑閹肩补锟藉磭顔愭繝娈垮枦椤鎮￠垾鎰佹綎婵炲樊浜堕弫鍡涙煥閻旂儤娅曠紒顔芥閹晫绮欑捄銊ュ箞闂備胶鎳撴晶鐣屽垝椤栫偞鍋傞柣鏂垮悑閻撴盯鏌涚仦鐐殤濞寸姰鍨洪妵鍕晲閸涱垽绱炵紓浣介哺鐢繝寮幘缁樺殟闁靛／鍛闂備焦鎮堕崕顖炲礉鎼淬劌鍌ㄥù鐘差儐閳锋垿姊婚崼鐔剁繁闁绘帡绠栭弻娑欐償閵娿倖鍠氬銈冨灪濡啴銆佸锟介幃銏ゅ礈娴ｈ櫣鏆伴梻浣藉吹婵潙鈻旇瀹曘劑顢涘☉娆樺晫闂備浇顕у锕傦綖婢跺♁楦跨疀濞戞顦悗鐧告嫹闁告洖澧庣粙蹇撯攽閻樿宸ラ柣妤�妫濋弻瀣炊椤掍胶鍘棅顐㈡处濞叉牗鐗庨梻浣侯焾鐎垫帗绂嶉鍕垫綎缂備焦蓱婵挳鏌涘☉姗堝伐闁哄棗鐗撳娲嚒閵堝懏鐝￠梺鎼炲姀娴滎剛鍒掔�ｎ亶鍚嬪璺侯儐濞呮粍绻濋姀锝嗙【闁挎洩绠撹棟鐟滃秹鍩為幋锔绘晩缂佹稑顑嗛娲⒑閸︻厼鍘存い銉︽崌閺佹捇宕愰悤浣圭秷濠电偛寮剁划鎾崇暦濡わ拷椤粓鏁撻挊澶屾殾闁绘垶锚缁剁偤鏌熼柇锕�澧版い鏂挎嚇濮婄儤瀵煎▎鎴濐嚤缂備焦妫忛弻鍗島re濠电姷鏁告慨鐑藉极閹间礁纾婚柣鎰惈閸ㄥ倿鏌涢锝嗙缂佺姴缍婇弻宥夊传閸曨剙娅ｉ梺娲诲幗椤ㄥ﹪寮婚妸鈺傚亜閻犲洦鐣幘缁樼厪闁搞儜鍐句純濡炪們鍨哄ú鐔笺�佸Δ鍛櫢濞寸姴顑冮敓钘夋嚇椤㈡宕熼鍌氬箥濠电娀娼ч崐鎼佀囬娑氼洸闁规鍣幏椋庢喆閸曨剛顦ㄩ梺鎸庢磸閸ㄤ粙濡存笟锟藉顕�宕煎┑鍡欑崺婵＄偑鍊栧濠氭偤閺冨牆瑙﹂柨鐕傛嫹
	private boolean checkExpeledIsMember(Team team, long expeledRoleId)
	{
		//xbean.TeamInfo team = xtable.Team.get(teamId);
		for(xbean.TeamMember member: team.getTeamInfo().getMembers())
		{
			if(member.getRoleid() == expeledRoleId)
				return true;
		}
		return false;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣椤愪粙鏌曢崼婵愭Ц缂佺媭鍨堕弻銊╂偆閸屾稑顏�?闂傚倸鍊搁崐宄懊归崶褏鏆﹂柛顭戝亝閸欏繘鏌℃径瀣婵炲樊浜滄儫闂佸疇妗ㄥù鍥箺閺囥垺鈷戦悹鎭掑妼濞呮劙鏌熼崙銈嗗?闂傚倸鍊搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ㄥ垂閸岀偞鐓欐繛鍫濈仢閺嬨倝鏌熼崘鍙夊殗婵﹤顭峰畷鎺戔枎閹邦喓鍋樻俊鐐�栧ú姗�鎮ч悩鑼殾婵°倧鎷烽柍钘夘槸椤粓宕卞Ο铏规В闂傚倷绀佸﹢閬嶅磿閵堝拋娼栭柤濮愬�楁稉宥夋煛閸屾侗鍎ラ柣鏂挎閺屻倝骞栨担瑙勯敪婵犳鍠栧ú銊ф閹烘鏅稿ù鐘差儏绾惧吋鎱ㄩ敐搴″箹缂傚秴锕顐﹀箛閺夎法鍊為梺鍐叉惈閸婂綊宕幒妤佲拻濞达絽鎲￠幉鎼佹煕閿濆繒鐣垫鐐茬箻閺佹捇鏁撻敓锟�? 闂傚倸鍊搁崐鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫鎾绘偐閸愯弓鐢绘俊鐐�栭悧妤冪矙閹炬眹锟藉懘寮婚妷锔惧弳濠电娀娼уΛ顓炍ｉ崫銉х＜闁跨喍绮欏畷鎺戔槈濞嗗繐浼庢繝寰锋澘锟芥洟顢栭崱娆欐嫹濮橆剛绉洪柟顔筋殘閹叉挳宕熼鍌ゆФ闂備胶顭堢换鎴︽晝閵忕姷鏆﹂柣鎴灻欢鐐烘煙闁箑澧版い鏂挎嚇濮婄儤瀵煎▎鎴濐嚤缂備焦妫忛弻鍗島re濠电姷鏁告慨鐑藉极閹间礁纾婚柣鎰惈閸ㄥ倿鏌涢锝嗙缂佺姴缍婇弻宥夊传閸曨剙娅ｉ梺娲诲幗椤ㄥ﹪寮婚妸鈺傚亜閻犲洦鐣幘缁樼厪闁搞儜鍐句純濡炪們鍨哄ú鐔笺�佸Δ鍛櫢濞寸姴顑冮敓钘夋嚇椤㈡宕熼鍌氬箥濠电娀娼ч崐鎼佀囬娑氼洸闁规鍣幏椋庢喆閸曨剛顦ㄩ梺鎸庢磸閸ㄤ粙濡存笟锟藉顕�宕煎┑鍡欑崺婵＄偑鍊栧濠氭偤閺冨牆瑙﹂柨鐕傛嫹
	private boolean checkTeamLeaderState(long roleId)
	{
		BuffAgent buffagent = new BuffRoleImpl(roleId);
		return buffagent.canAddBuff(OperateType.TEAM_EXPEL_MEMBER);
	}
	
	
	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794442;

	public int getType() {
		return 794442;
	}

	public long roleid;

	public CExpelMember() {
	}

	public CExpelMember(long _roleid_) {
		this.roleid = _roleid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(roleid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		roleid = _os_.unmarshal_long();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CExpelMember) {
			CExpelMember _o_ = (CExpelMember)_o1_;
			if (roleid != _o_.roleid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)roleid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(roleid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CExpelMember _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(roleid - _o_.roleid);
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

