
package fire.pb.team;
import fire.pb.StateCommon;
import fire.pb.buff.BuffAgent;
import fire.pb.buff.BuffConstant;
import fire.pb.buff.BuffRoleImpl;
import fire.pb.talk.MessageMgr;


// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CAnswerforSetLeader__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CAnswerforSetLeader extends __CAnswerforSetLeader__ {
	
	private long now = 0L;//procedure闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪Ч濠�渚�姊虹紒妯虹仴妞ゎ偅娲熼弫鎾绘寠婢跺鎷烽崸妞硷拷浣割潩閼稿灚娅㈡繛瀵稿Т椤戝洤鐣垫笟锟介悡顐﹀炊閵娧�妾ㄩ梺鍝勬噺閹倿寮婚妸鈺傚亞闁稿本绋戦锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冩繝鍥ц摕闁炽儲鍓氶崥瀣箹缁櫢鎷烽崘宸妧闂傚倷娴囧銊х矆娴ｇ尨鎷峰顐㈠祮鐎殿喛顕ч埥澶愬閻橀潧濮堕梻浣告啞閸旀宕戦幘娲绘晣闁荤喐澹嬮弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濠庢僵妞ゆ劧绲芥刊浼存⒒娴ｅ憡鍟為柟绋挎缁楃喐绻濋崘顭戜紦闂備礁婀遍崕銈夈�冮崱娑欏亗闁告劦鍠楅悡鐔兼煟閺冨偆鐒炬い銉ヮ儔瀵粙鏁嶉崟顓狅紳婵炶揪缍�濞咃絿鏁☉姘辩＜閻犲洩灏欐晶鏇㈡懚閻愮儤鐓曢柟鎵虫櫅婵￠攱淇婇幓鎺斿缂佺粯鐩畷鍗炍熼弴鐔风伌闁轰焦鎹囨俊鐑藉煛閸屾瀚藉┑鐐舵彧缁蹭粙骞夐敍鍕闁跨喓濮甸悡娑㈡煕濠婏拷缁�浣圭濠靛鐓欏〒姘仢婵倹顨ラ悙杈捐�挎い銏＄懇閹虫牠鍩℃担鍝ュ摋濠电姷鏁告慨浼村垂婵傜鏄ラ柡宥庡幖缁�澶愭煛瀹ュ骸骞栭柣銈夌畺閺岀喖姊荤�电濡介梺缁樻尪閸庣敻寮婚敐澶婂嵆闁绘劘顕滈幏鐑藉捶椤撱劍瀚规慨妯煎亾鐎氾拷?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹鐓戞繝銏ｆ硾閻ジ鎯侀崼鐔虹瘈闁汇垽娼у瓭闂佺锕ょ紞濠傜暦閹惰姤鍋╃�癸拷閿熺晫澹曟總鍛婄叆闁绘棁顕ц缂備胶绮换鍫濈暦閸洖惟闁靛鍨辩�氬綊鏌ｉ姀鐘冲暈闁绘挶鍎茬换婵嬫濞戞瑯妫﹀銈呭椤ㄥ﹪寮婚敍鍕舵嫹閿濆骸浜為柕鍡樺笧缁辨帗娼忛妸銉﹁癁闂佽桨鐒﹂幐鑽ょ矉閹烘棑鎷烽敐搴濋偗闁哥偠娉涢—鍐Χ鎼粹�茶埅闂佸摜濮甸〃鍫ユ晸閼恒儰浜㈡い顐㈩樀閵嗗啴濡烽埡鍌氾拷鐑芥煠绾板崬鍘搁柧蹇撻叄濮婃椽宕ㄦ繝鍐ｆ嫻缂佺偓婢樼粔鐢电矚鏉堛劎绡�闁搞儴鍩栭弲婵嬫⒑閹稿海绠撴繛璇х畵瀹曡櫕瀵肩�涙鍙冨┑鈽嗗灥瀹曠數绮诲锟介弻鐔煎矗婢跺锟芥劗锟芥鍣崜娆撳煝鎼淬劍鍊锋い鎺戝�婚埢澶嬬節閻㈤潧啸闁轰礁鎲￠幈銊╂偨閸涘﹤娈為梺鍛婃寙閸愮偓顥￠梻浣侯焾缁绘宕戦幇顔煎К闁跨喍绮欏濠氬磼濮樺崬顤�缂備礁顑嗙敮锟犵嵁閺嶎厼绠涙い鎾跺Х椤旀洟姊洪悷鏉挎毐闁搞垺鐓￠獮濠囧箛椤旂⒈妫滈梺鑺ッˉ銏ｃ亹閹烘挻娅滈梺鍛婃处閸橀箖鎮￠幘缁樷拺闁告稑锕︾粻姘箾閸滃啰鎮兼俊鍙夊姍楠炴帡寮敓鐣岋拷姘哺閺岀喓绱掑Ο铏圭懖濠电偛鐗嗘晶搴ｆ閹惧鐟归柛銉戝嫮浜堕柣搴ｆ閹烽绱掔�ｎ厽纭堕柡鍡畵閺屻劑鎮㈤崫鍕戯綁鏌涙繝鍕幋闁哄苯绉瑰畷顐﹀礋椤愵剚瀚圭憸鐗堝笒缁狙呯磼鐎ｎ亞姘ㄩ柡锟芥禒瀣厽婵☆垵娅ｆ禒娑㈡煛閸″繑娅呴柍瑙勫灴椤㈡瑧鍠婇崡鐐搭啀闂備浇娉曢崰鏇熸叏閵堝绀勭憸鐗堝笒閻鏌涢幇闈涙灍闁哄懏鐓￠弻锝夊箛椤掍讲鏋欓梺鍛婅壘椤戝寮诲☉妯锋闁告瑦顭囬崙褰掓⒑閸濆嫬浜伴柟宄板槻閳规垿鏁嶉崟顐℃澀闂佺锕ラ悧鏇綖韫囨梻绡�婵﹩鍓涢弻褍顪冮妶鍡楀闁稿﹥顨嗙粙澶婎吋婢跺鍘繝銏ｅ煐缁嬫挾妲愰幍顔剧＜閻犲洤寮堕ˉ銏ゆ煛鐏炲墽鈽夐柍璇叉唉缁犳盯鏁愰崱蹇旂亖闂傚倷绀侀幉鈥愁潖閻熸嫈鐔煎锤閸у獛ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺缂佸鍎婚～锕傛煕閺冿拷閸ㄥ灝顕ｆ繝姘櫇闁跨喎锟界喓浜藉┑鐐存尰閸戝綊宕归柆宥呯厺闁圭偓鏋奸弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濞㈢喖宕楅崗鑲╂殾闂傚倷娴囧▔鏇㈠窗瀹ュ洤鍨濇繛鍡楃箳閺嗭箓鏌熸潏楣冩闁稿﹦鍏橀弻娑樷攽閸℃浼�闂佸憡锕㈡禍璺侯潖濞差亜鎹舵い鎾跺仜婵″搫顪冮妶鍐ㄥ婵☆偅绻傞悾鐑藉箛閻楀牆浠洪梺鍛婄☉鑹岄柟宄邦煼濮婃椽宕滈幓鎺嶇敖闂佸摜濮甸幑鍥春閿旂晫鐟归柨鐔剁矙瀵鈽夐姀鈥充簻闂佸憡绻傜�氼亜危閹扮増鈷戦柛婵嗗閻掕法绱撳鍕獢鐎殿噮鍋婇獮鍥级閸ф鏁规繝鐢靛Т閿曘倝宕鐐茬？闁规儳澧庣壕浠嬫煕鐏炲墽鎳勭紒浣规緲椤啰锟芥稒蓱閸婃劖顨ラ悙鏉戝缂佺粯绻傞～婵嬵敆閸屻倕鏁搁梻鍌欑閹诧紕绮欓幒鎴劷婵炲棙鍔曢閬嶆煟濡偐甯涢柣鎾存礋閺岋繝宕堕妷銉ヮ瀳婵犫拃鍌氬祮闁哄被鍔戦幃銏ゅ礄閵堝棗顏堕梺缁樻煥婢瑰﹥绂掗埡鍐＝濞达絼绮欓崫娲煙缁嬫鐓兼鐐茬箻瀹曘劑顢涘☉妯荤�梻浣告啞濞插繘宕濆鍥锋嫹濮橆剦鐓兼慨濠勭帛閹峰懘鎮滃Ο鐑樼暚闂備浇顫夌粊鎾礈濠靛牊宕叉繛鎴炵懅缁★拷闂佹悶鍎崝灞剧閹烘埈娓婚柕鍫濇缁屽潡鏌熸搴″幋闁哄备鍓濋幏鍛喆閸曨偆锛撻梻浣芥〃閻掞箓骞戦崶顒�鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?
	Team team;
	
	@Override
	protected void process() {
		// protocol handle
		TeamManager.logger.debug("Enter: " + this.getClass());
		final long newLeaderRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (newLeaderRoleId < 0)
			return;
		mkdb.Procedure setTeamLeaderP = new mkdb.Procedure()
		{

			@Override
			protected boolean process()
			{
				//lock start
				Long teamId = xtable.Roleid2teamid.select(newLeaderRoleId);
				now = System.currentTimeMillis();
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁涘缍堟繝銏㈡嚀濡瑩寮茬捄浣曟棃宕ㄩ鐙呯幢闂佽鍑界紞鍡涘窗濡ゅ懏鍋傛繛鍡樻尰閻撴洟鏌熼悙顒夋當闁瑰啿娴风划顓㈡晸閻樻枼鎷虹紓浣割儐椤戞瑩宕曢幇鐗堝珔閺夊牃鏅濈壕鑲╃磽娴ｈ鐒芥繛鎻掝嚟閿熷�燁潐濞叉牕鐣烽鍐航闂備焦鍎崇换姗�鏁撻懞銉р檨妞ゃ垺锕㈠缁樻媴缁涘娈柣搴㈢▓閺呮繈宕版繝鍌ゅ悑濠㈣泛顑呭▓鐐翠繆閵堝繒鍒伴柛鐕佸亯缁绘岸姊绘担鍛婅础闁稿簺鍊濆畷娲醇濠垫劗鍔烽梺鍐叉惈閹冲繘鎮￠悢鍏肩厵濞寸厧鐡ㄥ☉褍顭胯閸犳濡甸崟顔剧杸婵﹩鍓涢崢顐ょ磽娴ｈ櫣甯涚紒璇插�块、姘跺Ψ閳轰礁鍤戝銈嗗姦濠線骞忛悜钘壩у璺猴工閹偤鏌ｆ惔顖滅У闁哥姵顨婇崺娑㈠箳濡や胶鍘遍梺鍝勬储閸斿本绂嶅鍕╀簻闊浄绲芥禍浼存煛鐏炶濮傞柟顔哄灲閹粌螣閼姐倕娑ч梻鍌欐祰濡椼劑鎮為敃鍌氱畺闁稿本姘ㄩ弳锕傛煏韫囥儳绉垫俊顖氬椤啴濡堕崘銊т痪闁藉啳浜槐鎺楁惞鐟欏嫭鐝紓渚囧枟閻熲晛鐣疯ぐ鎺濇晩闁告牑鍓濈�氬綊鏌涢…鎴濇灀闁猴拷娴犲鐓冮柦妯侯槹椤ユ粓鏌ｈ箛銉хМ闁哄本绋掗幆鏃堝閻樺吀鎮ｇ紓鍌欑贰閸犳牠鈥﹂悜鐣屽祦婵☆垰鍚嬬�氭岸鏌ら懝鏉跨厫闁硅尙澧楃换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮崘顔肩厸濞撴艾娲ㄩ崝鐑芥⒑閸愬弶鎯堥柟鍐茬箻閹繝寮撮姀锛勫幍闂佺粯鍔﹂崜锕�鈻撻弮鍫熺厵闁惧浚鍋勬慨宥夋煙椤旇宓嗗┑锛勫厴閸╋繝宕掑Δ浣割伖闂傚倷鑳堕崢褔锝為弴銏犵９闁哄洨鍠撴晶锟犳⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯囬敓钘夊暞缁绘繈宕掑鍕啎濠电偞娼欓崥瀣焽濞嗘垹涓嶅┑鐘崇閸嬶綁鏌涘┑鍡楊仾闁诡垰鐗撻弻锝堢疀閹垮嫯鍚┑顔硷龚濞咃綁骞戦崟顖毼╅柕澶涘瑜版岸姊绘担鐑樺殌闁搞倖鐗犻獮蹇涙晸閿燂拷?
				if(teamId != null)
					team = new Team(teamId,false);
				else
					return true;

				long oldLeaderRoleId = team.getTeamInfo().getTeamleaderid();
				if(!team.isInTeam(newLeaderRoleId))
				{
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鑼枛瀵鏁撻悩鑼�為梺闈涱槶閸庤櫕绂掗幆褉鏀介柣鎰綑濮ｅ棝鏌涢妷锝呭闁告ü绮欏Λ鍛搭敃閵忊�愁槱濠电偛寮堕悧鐘差嚕閹间礁绫嶉柛灞剧矌閿涙粓鏌℃径濠勫闁告柨鑻湁妞ゆ梹鎷濋幏宄扳枔閸喗鐝梺鍛婃尰閻╊垶鐛幋锕�绀嬫い鏍嚤閳哄懏鐓ラ柡鍐ㄦ处椤ュ鏌＄�ｎ偆銆掔紒杈ㄦ崌瀹曟帒顫濋濠冨濡炲娴烽惌鍡椼�掑鐐濡炪們鍨洪悧鐘茬暦閵娿儺娼伴柕鍫濇噺閸犳﹢鏌熼鑽ょ煓妤犵偞鐗犻幃婊堝炊閵娿儺浼撳┑鐐存尰閻旑剟骞忔搴嫹濞堝灝娅橀柛锝忕到閻ｇ兘鎮℃惔妯绘杸闁诲函缍嗘禍婵嬪汲椤忓牊鈷掗柛灞剧懆閸忓瞼绱掗鍛仩妞ゎ偄绻樺畷鐑筋敇閻愯尙浜伴柣搴＄畭閸庨亶骞冮崹顔氭椽顢旈崟顐㈡暏婵＄偑鍊栭幐楣冨窗閹剧粯鍋╅柟鎯板Г閳锋帡鏌涚仦鍓ф噯闁稿繐鐬肩槐鎺楊敋閸涱厾浠稿Δ鐘靛仦閸旀鍒掑▎寰盯妫冨☉姘毙ㄩ梺璇″枛濞硷繝銆佸☉姗嗘僵闁绘劦鍓欓鍫曟煟鎼淬垻鈾佹い顓炴川瀵囨晸娴犲鈷戞慨鐟版搐閻忓弶绻涙担鍐插椤╅攱绻濇繝鍌滃闁绘挾鍠愭穱濠囧Χ韫囨柨顏堕梻浣瑰濞诧附绂嶅鍫熷仼闁汇値鍨禍褰掓煙閻戞ê鐏ラ柣搴幖椤啴濡堕崱妯碱槬闂佺懓鍟跨换鎺旀閻愬瓨鍎熼柕蹇嬪灮閻﹀牓姊婚崒姘卞缂佸鍨块弫鎾绘嚍閵夛箑锟芥劖顨ラ悙宸█闁轰焦鎹囬幃鈺呮嚑椤掑﹦骞㈤梻鍌欑閹测�趁洪敃鍌氬瀭闂侇剙绉撮悡鏇㈡煙鏉堥箖妾柣鎾存礃閵囧嫰顢橀悢椋庝淮濠电偛鎳忛敃銏ゅ蓟濞戞瑦鍎熼柨娑樺椤旀帡姊洪崫鍕効缂佽鲸娲熼弫鎾诲棘閵堝洨袣闂佺硶鏅滈悧婊堟晸閼恒儳鍟查柟鍑ゆ嫹, newLeaderRoleId: " + newLeaderRoleId);
					fire.pb.talk.MessageMgr.psendMsgNotifyWhileCommit(newLeaderRoleId, 141056, null);
					psend(oldLeaderRoleId, new STeamError(TeamError.AbsentCantBeLeader));
					return true;
				}
				if(team.isTeamLeader(newLeaderRoleId))
				{
					TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傦紭闂佹悶鍔忓▍锝囩磽閹剧粯鍋╃�癸拷閿熶粙鎯屽▎鎾寸厱妞ゎ厽鍨甸弸鐔兼煕鎼搭喕閭慨濠勭帛閹峰懘宕ㄦ繝鍛攨闂備胶顭堢花娲磹閺囶澁缍栭煫鍥ㄧ♁閸ゆ帡鏌曢崼婵囧婵☆偅绮撳娲嚍閵夊喚浜棢闁靛骏绲绘禍褰掓煙閻戞ɑ灏版繛鍛矒濮婃椽宕ㄦ繝浣虹箒闂佸摜濮甸〃濠傜暦娴兼潙绠涙い鏂垮⒔閿涙繃绻涙潏鍓у埌闁圭⒈鍋勯悺顓㈡煟鎼淬埄鍟忛柛鐘崇洴瀹曟椽寮介銈囩厰闁哄鐗勯崝搴ｅ姬閿熶粙姊洪幖鐐插妧闁告侗鍨伴獮锟藉┑鐘垫暩婵即宕归悡搴樻灃婵炴垯鍩勯弫鍕煕濞戞鎽犻柡鍛倐閺屻倝骞侀幒鎴濆婵犳鍠栭悧鎾诲蓟閻斿摜鐟归柛顭戝枛椤绱撴担铏瑰笡缂佽鐗嗛悾鐑藉箳閹冲磭鍠愬顏堝级閸喚浜伴梻鍌氬�搁崐宄懊归崶顒夋晪闁哄稁鍘肩粣妤呮煙閹规劦鍤欓柛銊ュ�块弻锕�螣娓氼垱楔闂佸搫妫撮梽鍕┍婵犲洤围闁告侗鍠栧▍锝囩磽娓氬﹥瀚归梺绋跨灱閸嬬偤鎮￠悩宕囩闁哄鍩堥崕鎰箾閸涱厽顥犻柟顕呭櫍閺佹捇鏁撻敓锟�, newLeaderRoleId: " + newLeaderRoleId);
					return true;
				}
				
				Long[] roleids = new Long[2];
				if(oldLeaderRoleId < newLeaderRoleId)
				{
					roleids[0] = oldLeaderRoleId;
					roleids[1] = newLeaderRoleId;
				}
				else
				{
					roleids[0] = newLeaderRoleId;
					roleids[1] = oldLeaderRoleId;
				}
				this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK,(Object[])roleids));
				//lock end

				if(agree == 0)
				{//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛椤忕姷绱掗敓鑺ョ節閸屾鏂�闂佺粯锚瀵爼骞栭幇顔剧＝濞达絽寮跺▍濠勶拷娈垮枛閻栫厧鐣烽悡搴僵妞ゆ挾鍠撹ぐ鍡涙⒒娴ｅ憡鎯堟俊顐ｇ懅閸掓帡骞樼拠鑼舵憰闂佹寧绻傞ˇ顖滅不濞戙垺鐓熸俊銈忔嫹闁绘锕弻銊╊敇閵忊檧鎷洪梺纭呭亹閸嬫稒淇婇悾宀�纾奸悹鍥皺婢э妇锟芥鍠栭…鐑藉极閹邦厼绶炲┑鐘插閸氬懘姊绘担鐟邦嚋缂佽鍊歌灋妞ゆ挾鍊ｅ☉銏犵妞ゆ挾濮烽敍婵囩箾鏉堝墽鍒伴柟纰卞亰椤㈡捇骞橀崜浣猴紳閻庡箍鍎辩�氼喚绮ｉ弮鍌︽嫹濞堝灝鏋涙い顓犲厴楠炲啴濮�閵堝懐顦ч梺鍏肩ゴ閺呮稒鎱ㄥú顏呪拻濞达絿鎳撻婊勬叏婵犲倹璐￠柨鐔烘櫕閻熸娊宕惰椤斿姊洪幐搴ｇ畵婵炲眰鍔庢竟鏇㈡寠婢跺牞鎷烽幒鎴僵妞ゆ帒锕ラ弫楣冩煟鎼淬垼澹樼紓宥咃躬瀵鏁愰崱妯哄妳濡炪倖鐗楃划搴㈢墡闂傚倷绀侀幗婊勬叏閻㈡悶锟藉啯绻濋崶褎妲┑鐐村灟閸ㄥ湱绮婚搹顐＄箚闁靛牆瀚崗宀勬煕濮楋拷娴滆泛顫忛搹瑙勫枂闁告洦鍓涢崙锟犳⒑閸涘﹦鍟查柟鐑筋棑缁辨挻鎷呴棃娑橆瀳濡炪値鍘鹃崗妯侯嚕婵犳碍鏅柛鏇″煐鐎氬綊鏌ㄥ┑鍡涱�楀ù婊呭仦缁绘盯宕ｆ径瀣攭闂佸搫澶囬敓钘夌－閺嗗棝鎮楅敐搴″闁伙箑鐗撻幃妤冩喆閸曨剛顦版繛瀛樼矊閻栧ジ濡存担鍓叉建闁跨喍绮欓獮鍐閿涘嫰妾繝銏ｆ硾椤﹁鲸寰勯敓锟�
					if(!checkAnwserIsNewLeader(team, newLeaderRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鑼枛瀵鏁撻悩鑼�為梺闈涱槶閸庤櫕绂掗幆褉鏀介柣鎰綑濮ｅ棝鏌涢妷锝呭闁告ü绮欏Λ鍛搭敃閵忊剝鎮欏銈嗗灥閹虫ê鐣峰┑鍡╃叆闁割偆鍠撻崢顏堟⒑閹肩偛鍔�闁告劕褰炵槐鏃堟⒒娴ｈ櫣銆婇柡鍜佷簽濡叉劙寮撮姀鈩冩闂佸搫鍊堕崐妤冪矓閻㈠憡鐓曢柣妯诲墯濞堟粍銇勯姀鈩冨碍妞ゆ挸銈稿畷鍫曞煛閸愯法闂繝鐢靛仩閹活亞寰婇崸妞伙拷锕傚醇閵夛附娅㈤梺鑺ッˇ鎵嫻閿熺姵鐓涘〒姘搐濞呭秹鏌熼鐣屾噰鐎规洦鍋婂畷鐔碱敇瑜嶉弫鎼佹⒒閸屾瑨鍏岀紒顕呭灦閳ワ箓宕奸妷顔芥櫔閻熸粍妫冮獮鍡欎沪鏉炴寧妫冮弫鎾寸鐎Ｑ嶆嫹閿旂偓宕夐柕濠忕畱绾绢垶姊虹紒妯垮闁宦板姂瀵偊骞嗚濞撳鏌曢崼婵囶棡閻忓浚鍙冮弻鏇㈠醇閵忊晝鍔稿銈庡亜缁绘帞妲愰幒鎳崇喓鎷犲顕嗘嫹閹剧粯鈷戦梻鍫氭櫅閻︽粓鏌涘Ο鍦煓闁圭缍佸畷鍫曨敆娴ｅ弶瀚奸梻浣告啞缁嬫垿鏁冮妷鈺傚亗闁靛鏅滈悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倸顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐犲劜閳锋垿鏌涘☉姗堝姛闁瑰啿鍟撮弻娑㈡偆娴ｉ晲鍠婂銈冨灪瀹�鎼佸极閹版澘鐐婇柍鍝勫枦缁卞弶绻濈喊妯活潑闁搞劎鏁诲畷鎴﹀箛閻楀牆鍓ㄩ梺鍓插亖閸庢煡鍩涢幋锔界厵闁兼祴鏅涙禒婊堟煕閺冿拷閿曘垽寮诲☉銏犳婵炲棛鍋撻埢鍫澪旈悩闈涗沪闁告梹鐟╁顐﹀箻鐎靛壊娴勯柣搴秵閸嬶拷闁归绮换娑欐綇閸撗呅氬┑鐐叉嫅缁插潡寮灏栨闁靛骏绱曢崢鎼佹煟韫囨洖浠╂い鏇嗗嫭鍙忛柛灞剧玻閹烽鎲撮崟顒傦紭闂佺瀛╂繛濠囧极閹捐妫橀柕鍫濇川鏍￠梻浣芥硶閸犳捇鎮洪弮鍫濆瀭閺夊牃鏅滈弳婊堟煥閻斿搫孝闁哄绶氶弻鐔煎礈瑜忕敮娑㈡煛閸涱喗鍊愰柡灞诲姂閹倝宕掑☉姗嗕紦(illegal)
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鑼枛瀵鏁撻悩鑼�為梺闈涱槶閸庤櫕绂掗幆褉鏀介柣鎰綑濮ｅ棝鏌涢妷锝呭闁告ü绮欏Λ鍛搭敃閵忊剝鎮欏銈嗗灥閹虫ê鐣峰┑鍡╃叆闁割偆鍠撻崢顏堟⒑閹肩偛鍔�闁告劕褰炵槐鏃堟⒒娴ｈ櫣銆婇柡鍜佷簽濡叉劙寮撮姀鈩冩闂佸搫鍊堕崐妤冪矓閻㈠憡鐓曢柣妯诲墯濞堟粍銇勯姀鈩冨碍妞ゆ挸銈稿畷鍫曞煛閸愯法闂繝鐢靛仩閹活亞寰婇崸妞伙拷锕傚醇閵夛附娅㈤梺鑺ッˇ鎵嫻閿熺姵鐓涘〒姘搐濞呭秹鏌熼鐣屾噰鐎规洦鍋婂畷鐔碱敇瑜嶉弫鎼佹⒒閸屾瑨鍏岀紒顕呭灦閳ワ箓宕奸妷顔芥櫔閻熸粍妫冮獮鍡欎沪鏉炴寧妫冮弫鎾寸鐎Ｑ嶆嫹閿旂偓宕夐柕濠忕畱绾绢垶姊虹紒妯垮闁宦板姂瀵偊骞嗚濞撳鏌曢崼婵囶棡閻忓浚鍙冮弻鏇㈠醇閵忊晝鍔稿銈庡亜缁绘帞妲愰幒鎳崇喓鎷犲顕嗘嫹閹剧粯鈷戦梻鍫氭櫅閻︽粓鏌涘Ο鍦煓闁圭缍佸畷鍫曨敆娴ｅ弶瀚奸梻浣告啞缁嬫垿鏁冮妷鈺傚亗闁靛鏅滈悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倸顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐犲劜閳锋垿鏌涘☉姗堝姛闁瑰啿鍟撮弻娑㈡偆娴ｉ晲鍠婂銈冨灪瀹�鎼佸极閹版澘鐐婇柍鍝勫枦缁卞弶绻濈喊妯活潑闁搞劎鏁诲畷鎴﹀箛閻楀牆鍓ㄩ梺鍓插亖閸庢煡鍩涢幋锔界厵闁兼祴鏅涙禒婊堟煕閺冿拷閿曘垽寮诲☉銏犳婵炲棛鍋撻埢鍫澪旈悩闈涗沪闁告梹鐟╁顐﹀箻鐎靛壊娴勯柣搴秵閸嬶拷闁归绮换娑欐綇閸撗呅氬┑鐐叉嫅缁插潡寮灏栨闁靛骏绱曢崢鎼佹煟韫囨洖浠╂い鏇嗗嫭鍙忛柛灞剧玻閹烽鎲撮崟顒傦紭闂佺瀛╂繛濠囧极閹捐妫橀柕鍫濇川鏍￠梻浣芥硶閸犳捇鎮洪弮鍫濆瀭閺夊牃鏅滈弳婊堟煥閻斿搫孝闁哄绶氶弻鐔煎礈瑜忕敮娑㈡煛閸涱喗鍊愰柡灞诲姂閹倝宕掑☉姗嗕紦, teamId: " + teamId);
						psend(oldLeaderRoleId, new STeamError(TeamError.AbsentCantBeLeader));
						return true;
					}
					team.getTeamInfo().setSwitchleaderid(-1);
					team.getTeamInfo().setSwitchleadertime(-1);
					psend(oldLeaderRoleId, new STeamError(TeamError.RefuseChangeLeader));
					TeamManager.logger.debug("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛椤忕姷绱掗敓鑺ョ節閸屾鏂�闂佺粯锚瀵爼骞栭幇顔剧＝濞达絽寮跺▍濠勶拷娈垮枛閻栫厧鐣烽悡搴僵妞ゆ挾鍠撹ぐ鍡涙⒒娴ｅ憡鎯堟俊顐ｇ懅閸掓帡骞樼拠鑼舵憰闂佹寧绻傞ˇ顖滅不濞戙垺鐓熸俊銈忔嫹闁绘锕弻銊╊敇閵忊檧鎷洪梺纭呭亹閸嬫稒淇婇悾宀�纾奸悹鍥皺婢э妇锟芥鍠栭…鐑藉极閹邦厼绶炲┑鐘插閸氬懘姊绘担鐟邦嚋缂佽鍊歌灋妞ゆ挾鍊ｅ☉銏犵妞ゆ挾濮烽敍婵囩箾鏉堝墽鍒伴柟纰卞亰椤㈡捇骞橀崜浣猴紳閻庡箍鍎辩�氼喚绮ｉ弮鍌︽嫹濞堝灝鏋涙い顓犲厴楠炲啴濮�閵堝懐顦ч梺鍏肩ゴ閺呮稒鎱ㄥú顏呪拻濞达絿鎳撻婊勬叏婵犲倹璐￠柨鐔烘櫕閻熸娊宕惰椤斿姊洪幐搴ｇ畵婵炲眰鍔庢竟鏇㈡寠婢跺牞鎷烽幒鎴僵妞ゆ帒锕ラ弫楣冩煟鎼淬垼澹樼紓宥咃躬瀵鏁愰崱妯哄妳濡炪倖鐗楃划搴㈢墡闂傚倷绀侀幗婊勬叏閻㈡悶锟藉啯绻濋崶褎妲┑鐐村灟閸ㄥ湱绮婚搹顐＄箚闁靛牆瀚崗宀勬煕濮楋拷娴滆泛顫忛搹瑙勫枂闁告洦鍓涢崙锟犳⒑閸涘﹦鍟查柟鐑筋棑缁辨挻鎷呴棃娑橆瀳濡炪値鍘鹃崗妯侯嚕婵犳碍鏅柛鏇″煐鐎氬綊鏌ㄥ┑鍡涱�楀ù婊呭仦缁绘盯宕ｆ径瀣攭闂佸搫澶囬敓钘夌－閺嗗棝鎮楅敐搴″闁伙箑鐗撻幃妤冩喆閸曨剛顦版繛瀛樼矊閻栧ジ濡存担鍓叉建闁跨喍绮欓獮鍐閿涘嫰妾繝銏ｆ硾椤﹁鲸寰勯敓锟�, roleid: " + newLeaderRoleId);
					return true;
				}

				if (checkPvP(oldLeaderRoleId, newLeaderRoleId) != 0) {
					return true;
				}

				if(!checkLeaderOnline(newLeaderRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉潡寮婚敓鐘茬倞闁靛鍎虫禒楣冩⒑缂佹ɑ灏柛搴ｆ暬瀵鏁撻悩鑼紲濠电偞鍨堕敃鈺呭吹鐎ｎ喗鈷戦悹鍥ｏ拷宕囦哗闂佺粯顨呭Λ婵嬪春閻愬搫绠ｉ柨鏇嫹闁诲繑濞婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉潡寮婚敓鐘茬倞闁靛鍎虫禒楣冩⒑缂佹ɑ灏柛搴ｆ暬瀵鏁撻悩鑼紲濠电偞鍨堕敃鈺呭吹鐎ｎ喗鈷戦悹鍥ｏ拷宕囦哗闂佺粯顨呭Λ婵嬪春閻愬搫绠ｉ柨鏇嫹闁诲繑濞婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷, roleid: " + newLeaderRoleId);
				}
				else if(!checkNewLeaderNormal(team, newLeaderRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傗敍缂備焦鐓＄粻鏍嵁閸℃稑绫嶉柛顐ｇ箘閸旀悂姊洪棃娑辨▓闁搞劌纾划鏃堫敊閹惧懏瀚归悷娆忓缁岃法绱掔紒妯肩疄妤犵偛鍟～婊堟晸娴犲绠犻柨鐔哄Т鍥撮梺绯曞墲椤ㄥ棝鎮鹃浣风箚闁绘劦浜滈敓濮愬�濆畷銏ｃ亹閹烘垹顦梺鐟扮摠缁诲嫰寮抽敂鑺ュ弿婵°倕顑嗙�氱懓顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呴梺鐐藉劥濞呮洜浜哥�ｎ亖鏀介柣妯虹仛閺嗏晛鈹戦鎯у幋鐎殿噮鍋婇獮鏍ㄦ媴閸濄儻绱遍梻浣虹帛濮婂宕㈣閹繝寮撮姀锛勫幈濡炪倖鍔戦崐鏇㈠几閺冿拷閵囧嫰鍩℃担鍝ラ獓缂備胶绮换鍐崲濠靛纾兼繝濠傚暊閹奉亞绱撻崒姘拷鍝ョ矓閻㈠憡鍋嬮柣妯款嚙閽冪喖鏌￠崶椋庣？闁汇倧鎷烽梺璇插嚱缂嶅棙绂嶉悜钘夌闁绘垼妫勯崘锟藉銈嗘尵閸嬬喖寮昏濮婃椽宕崟顕呮蕉闂佺瀛╅悡锟犲箖閿熺姴鍗抽柣鏃囨椤旀洟姊洪悷鎵憼缂佽鍊块幊婊嗐亹閹烘挾鍘介棅顐㈡处濞叉牠鍩㈤崼銉︾厸鐎癸拷鐎ｎ剛袦濡ょ姷鍋為敃銏狀嚕閸洖绠ｉ柣妯夸含缁�澶娾攽閻樻剚鍟忛柛鐘崇墵閺佸啴濡搁妷銏＄�洪梺鎸庣箓濞诧箓锝為弴銏＄厵闁绘垶锚閻掔偓绻涚粭鍝勫闁哄本鐩崺鍕礃椤忓懎娅戝┑鐘愁問閸犳牠濡剁粙娆炬綎缂備焦蓱婵挳鏌ц箛鎾剁暛闁跨喕妫勯敃顏堝蓟閿熺姴妞藉ù锝囧厴閸嬫螖閻橀潧浠滅紒缁橈耿瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿噮鍓熷畷褰掝敊鐟欏嫬鐦遍梻鍌欑劍濡炲潡宕㈤悡骞稑鈹戠�ｎ亣鎽曞┑鐐村灟閸ㄥ綊宕￠幎鑺ョ厪濠电偛鐏濋崝銈吤归悪锟介崣鍐潖閾忓湱纾兼俊顖濐嚙闂夊秹姊洪悜鈺傛珦闁搞劏娉涢锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨澶愭煕鐎ｎ偅宕岄柟顕�绠栧畷濂稿即閻斿弶瀚奸梺鑽ゅУ娴滀粙宕濆畝鍕嚑婵炲棙鍔掔换鍡樸亜閹扳晛鐏╂い蹇ｅ弮閺屽秹濡烽婊呮殼闂佽鍠楃划鎾诲箰婵犲啫绶為悘鐐跺亹缁�鍫ユ⒒閸屾瑧顦﹂柟纰卞亞缁瑦绗熼敓钘夌暦閵忥紕闄勯柛娑橈工閿熻棄鍢查埞鎴︽偐閹绘帗娈ф繛瀛樼矋缁捇寮婚悢鍏兼優闁荤喖顣﹀▽顏堟煟鎼淬垼澹樼紓宥咃工椤曪綁宕奸弴鐐靛幐闂佺鏈划搴ㄦ偩閾忓湱纾藉ù锝堟鐢稓绱掔�ｎ偄绗掓い顓炴穿缁犳稑鈽夊Ο纰辨Ф闁荤喐绮岀换妤呭焻闂堟稈鏀介柨娑樺娴滃ジ鏌涙繝鍐ㄧ伌鐎规洘娲熷濠氬Ψ閵壯屽敼闂備焦鎮堕崕娲礈濞嗘垹涓嶉柡宥庡幗閻撶喖鏌熸潏鍓хɑ妞ゃ儱顦辩槐鎺楁偐瀹割喚鍚嬮梺鍝勬湰閻╊垶鐛锟介幊鐘垫崉閸濆嫬鑵愰梻鍌欑劍鐎笛呯矙閹烘柨鍨濋柟鐐墯濞兼牠鏌ц箛姘兼綈闁稿繑绮撻弻娑橆煥閿熶粙鎮為敂鍓х闁割偁鍎查埛鎴︽煕濞戞﹫鏀婚柍閿嬪姍閺岋絽螖娴ｈ櫣鐓�闂佸疇妫勯ˇ鐢稿箖閻ｅ瞼鐭欓柛褎顨呴弫褰掓⒒娴ｅ憡鎯堟繛灞傚姂瀹曚即骞樼拠鎻掑亶婵炲濮撮鍡涘煕閹达附鐓涢柛灞久崝婊勭箾閸涱厽鍤囬柡灞剧洴閹倖鎷呴梹鎰瀳闂備浇顕栭崰妤呮晝閵忋倗宓佹慨妤嬫嫹妞ゃ垺鐟╅幃鍓т沪閽樺顔囧┑鐘垫暩閸嬬偤骞愭繝姘殞濡わ絽鍟弲婵嬫煏婢诡垰绉电�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傗敍缂備焦鐓＄粻鏍嵁閸℃稑绫嶉柛顐ｇ箘閸旀悂姊洪棃娑辨▓闁搞劌纾划鏃堫敊閹惧懏瀚归悷娆忓缁岃法绱掔紒妯肩疄妤犵偛鍟～婊堟晸娴犲绠犻柨鐔哄Т鍥撮梺绯曞墲椤ㄥ棝鎮鹃浣风箚闁绘劦浜滈敓濮愬�濆畷銏ｃ亹閹烘垹顦梺鐟扮摠缁诲嫰寮抽敂鑺ュ弿婵°倕顑嗙�氱懓顪冮妶鍐ㄧ仾闁荤啿鏅犻獮鍐焺閸愨晛鍔呴梺鐐藉劥濞呮洜浜哥�ｎ亖鏀介柣妯虹仛閺嗏晛鈹戦鎯у幋鐎殿噮鍋婇獮鏍ㄦ媴閸濄儻绱遍梻浣虹帛濮婂宕㈣閹繝寮撮姀锛勫幈濡炪倖鍔戦崐鏇㈠几閺冿拷閵囧嫰鍩℃担鍝ラ獓缂備胶绮换鍐崲濠靛纾兼繝濠傚暊閹奉亞绱撻崒姘拷鍝ョ矓閻㈠憡鍋嬮柣妯款嚙閽冪喖鏌￠崶椋庣？闁汇倧鎷烽梺璇插嚱缂嶅棙绂嶉悜钘夌闁绘垼妫勯崘锟藉銈嗘尵閸嬬喖寮昏濮婃椽宕崟顕呮蕉闂佺瀛╅悡锟犲箖閿熺姴鍗抽柣鏃囨椤旀洟姊洪悷鎵憼缂佽鍊块幊婊嗐亹閹烘挾鍘介棅顐㈡处濞叉牠鍩㈤崼銉︾厸鐎癸拷鐎ｎ剛袦濡ょ姷鍋為敃銏狀嚕閸洖绠ｉ柣妯夸含缁�澶娾攽閻樻剚鍟忛柛鐘崇墵閺佸啴濡搁妷銏＄�洪梺鎸庣箓濞诧箓锝為弴銏＄厵闁绘垶锚閻掔偓绻涚粭鍝勫闁哄本鐩崺鍕礃椤忓懎娅戝┑鐘愁問閸犳牠濡剁粙娆炬綎缂備焦蓱婵挳鏌ц箛鎾剁暛闁跨喕妫勯敃顏堝蓟閿熺姴妞藉ù锝囧厴閸嬫螖閻橀潧浠滅紒缁橈耿瀵偊骞樼紒妯绘闂佽法鍣﹂幏锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿噮鍓熷畷褰掝敊鐟欏嫬鐦遍梻鍌欑劍濡炲潡宕㈤悡骞稑鈹戠�ｎ亣鎽曞┑鐐村灟閸ㄥ綊宕￠幎鑺ョ厪濠电偛鐏濋崝銈吤归悪锟介崣鍐潖閾忓湱纾兼俊顖濐嚙闂夊秹姊洪悜鈺傛珦闁搞劏娉涢锝囨嫚濞村顫嶉梺闈涚箳婵兘宕濋幘顔解拺闁告稑锕ゆ慨澶愭煕鐎ｎ偅宕岄柟顕�绠栧畷濂稿即閻斿弶瀚奸梺鑽ゅУ娴滀粙宕濆畝鍕嚑婵炲棙鍔掔换鍡樸亜閹扳晛鐏╂い蹇ｅ弮閺屽秹濡烽婊呮殼闂佽鍠楃划鎾诲箰婵犲啫绶為悘鐐跺亹缁�鍫ユ⒒閸屾瑧顦﹂柟纰卞亞缁瑦绗熼敓钘夌暦閵忥紕闄勯柛娑橈工閿熻棄鍢查埞鎴︽偐閹绘帗娈ф繛瀛樼矋缁捇寮婚悢鍏兼優闁荤喖顣﹀▽顏堟煟鎼淬垼澹樼紓宥咃工椤曪綁宕奸弴鐐靛幐闂佺鏈划搴ㄦ偩閾忓湱纾藉ù锝堟鐢稓绱掔�ｎ偄绗掓い顓炴穿缁犳稑鈽夊Ο纰辨Ф闁荤喐绮岀换妤呭焻闂堟稈鏀介柨娑樺娴滃ジ鏌涙繝鍐ㄧ伌鐎规洘娲熷濠氬Ψ閵壯屽敼闂備焦鎮堕崕娲礈濞嗘垹涓嶉柡宥庡幗閻撶喖鏌熸潏鍓хɑ妞ゃ儱顦辩槐鎺楁偐瀹割喚鍚嬮梺鍝勬湰閻╊垶鐛锟介幊鐘垫崉閸濆嫬鑵愰梻鍌欑劍鐎笛呯矙閹烘柨鍨濋柟鐐墯濞兼牠鏌ц箛姘兼綈闁稿繑绮撻弻娑橆煥閿熶粙鎮為敂鍓х闁割偁鍎查埛鎴︽煕濞戞﹫鏀婚柍閿嬪姍閺岋絽螖娴ｈ櫣鐓�闂佸疇妫勯ˇ鐢稿箖閻ｅ瞼鐭欓柛褎顨呴弫褰掓⒒娴ｅ憡鎯堟繛灞傚姂瀹曚即骞樼拠鎻掑亶婵炲濮撮鍡涘煕閹达附鐓涢柛灞久崝婊勭箾閸涱厽鍤囬柡灞剧洴閹倖鎷呴梹鎰瀳闂備浇顕栭崰妤呮晝閵忋倗宓佹慨妤嬫嫹妞ゃ垺鐟╅幃鍓т沪閽樺顔囧┑鐘垫暩閸嬬偤骞愭繝姘殞濡わ絽鍟弲婵嬫煏婢诡垰绉电�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?, roleid: " + newLeaderRoleId);
					MessageMgr.psendMsgNotifyWhileCommit(team.getTeamLeaderId(), 141671, null);
					MessageMgr.psendMsgNotifyWhileCommit(newLeaderRoleId, 141671, null);
				}
				else if(!checkTeamStatusValid(team))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｈ鲸顨ラ悙鎼畼缂佽鲸鎸搁濂稿幢濡ゅ啩鎮ｇ紓鍌欐祰妞村摜鏁垾宕囨殾婵犲﹤瀚刊鎾⒒閿熶粙骞囬褎缍楅梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝閸庡孩銇勯弽銊ュ毈闁搞倖娲熼弻鐔虹磼閵忕姵鐏堥柟顖滃枛濮婃椽妫冨☉姘暫濠电偠顕滅粻鎾愁嚕閸欏闄勯柛娑樑堥幏缁樼箾鏉堝墽绉俊顐㈠钘熺�广儱妫庢禍婊勩亜閹扳晛鐒烘俊顖ゆ嫹闁诲氦顫夊ú妯好洪悢鑲╁祦閹兼番鍔嶇�电姴顭跨捄楦垮鐎殿喓鍔岄埞鎴︽偐椤旇偐浼囬梺绯曟櫆閻楃姴鐣峰┑瀣嵆闁绘ê鍚�缁楀姊洪悡搴綗闁稿ě鍥х濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔哄劚閳规垿鎮欏顔筋�嗙紓浣哄У閹稿骞堥妸鈺傛櫢濞寸姴顑嗛悡蹇涚叓閸パ岀叚闁归鍏橀幖褰掝敃閵堝繑瀚瑰Δ锝呭暞閳锋帒霉閿濆牊顏犻悽顖涚♁閵囧嫰濡搁妷锕�娈楅梺璇″暙閸℃瑧鏉稿┑鐐村灦椤洭鎮￠幋锔解拺閻犳亽鍔岄弸娆愪繆椤愩垹顏柣蹇撳暣濮婅櫣绱掑鍫ｏ拷鎸庣箾娴ｅ啿瀚々鐑芥煥閺囩偛锟藉綊鎮￠弴銏＄厪濠电姴绻掗悾杈ㄣ亜閺囩喓鐭掗柡宀�鍠愮粭鐔煎垂椤旂⒈娼庨梻浣芥〃閻掞箓骞愰懡銈囩焿闁圭儤妫戦幏鐑芥晲鎼粹�茬敖闂佸憡锕╂禍顏勵潖濞差亜绀堥柟缁樺笂缁ㄨ偐绱撴担绛嬪殭闁哥喐鎸抽獮鍐晸閻樿櫕娅㈡繛瀵稿Т椤戝棝鍩涢幋锔界厱婵犻潧妫楅顏堟煕鐏炶濮傞柡灞剧洴婵℃悂鏁傛慨鎰檸闂備胶纭堕弲婊堟儎椤栫偟宓侀柟鐑樺殾閺冿拷閹峰懘宕崟顐ｈ緢闂傚倸鍊烽懗鍓佸垝椤栨凹娼栧┑鐘宠壘绾惧潡鏌曢崼婵囧櫝闁哄绉归弻锟犲炊閵夈儳浠鹃梺缁樻尰閻熲晠寮婚敐澶嬪亜闁告稑锕﹂崙鈥愁渻閵堝懏绂嬮柛妯恒偢閸╃偤骞嬮敃锟介悞娲煕閹般劍娅呴柨鐔诲Г閸旀洟鍩為幋锔芥櫖闁告洦鍋勯獮瀣旈悩闈涗粶婵炲樊鍘奸悾宄邦煥閸曨剙顎撻梺缁樺灦钃辨い鏃�鎹囧濠氬磼濞嗘埈妲梺鍦拡閸嬪﹪骞嗘径瀣檮缂佸娉曢悰銉╂⒑閸濆嫮鈻夐柛妯虹秺閺佹捇骞嬮幒鏃傜崲閻庢鍠曠划娆撱�侀弴銏℃櫜闁告侗鍨界槐锟犳⒒閸屾瑧绐旀繛浣冲棗娅ｉ梻浣告啞娓氭宕板Δ鍛柈闁绘鏁哥壕浠嬫煕鐏炴崘澹橀柨鐔诲Г閹倸鐣烽幇顒傛殝闁瑰啿锕ょ紞濠傜暦閸洖惟闁挎繂瀚惌鎺楁⒒娴ｅ摜绉烘俊顐㈡健閹偤鏁冮崒姘憋紱闂佽法鍠撴慨鐢告偂閵夆晜鐓涢柛銉㈡櫅娴犳帞绱掓鏍﹂偗闁哄本鐩俊鐑芥晲閸涱収鐎虫俊鐐�栧ú鐔哥閸洖绠栨俊銈忔嫹闁宠棄顦埢宥夘敇瑜岄柇顖炴煛娴ｈ宕岄柟绋匡攻瀵板嫭绻濋崘鍐ｆ櫊閺屟囨嚒閵堝懍妲愰梺鍝勭焿缁插�熺亙闂佽法鍠嶇划娆撳箖瑜戠粻娑㈠即閻樿京鐟濋梻浣告惈缁嬩線宕㈡禒瀣亗婵炴垯鍨洪悡鏇狅拷鐧告嫹閻庯綆鍠楅宥夋煟鎼淬垼澹樼紓宥咃工椤繑绻濆顒傦紲濠殿喗锕╅崜銊╁箯閻戣姤鍊婚柤鎭掑劚濞堟垿姊洪崜鎻掍簼婵炲弶鐗滅划濠氭偐缂佹鍘甸梺鍛婃寙閸涱厾顐奸梻浣侯焾椤戝啴宕愬┑瀣摕闁哄洨鍠撶粻楣冩煟閹伴潧澧柣婵囨礋濮婅櫣绮欏▎鎯у壈濡炪倖鍨靛Λ娆戠矚鏉堛劎绡�闁搞儺鐏涜閺屾稑鈽夐崡鐐寸亪濠电偛鎷戠紞浣割潖濞差亜绠归柣鎰絻椤牓姊虹粙鍖″伐缂傚秴锕ユ穱濠囨偨缁嬭法顦板銈嗙墬濮樸劑顢欐繝鍥ㄢ拺闁荤喐澹嗛幗鐘电磼鐠囪尙校缂佸倹甯￠幃鈩冩償濡粯鏉搁梻浣哥枃濡嫬螞濡や胶顩叉繝闈涱儐鐎氬懘鏌涘Δ鍐拷鎴炴償閵娿儳鍊為悷婊勭箞閻擃剟顢楅崟顒傚幍濡炪倖姊婚弲顐﹀箠閸ヮ煈娈介柣鎰摠瀹曞本顨ラ悙鏉戞诞鐎规洖宕灒闁惧繗顫夋闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊瑜忛弳锕傛煟閵忋埄鐒剧紒鎰殜閺岀喖鏌囬敃锟介弸鐔猴拷瑙勬礃閻擄繝寮诲☉銏╂晝闁绘ɑ褰冩慨搴ㄦ⒑閽樺鏆熼柛鐘崇墵瀵寮撮姀鐘诲敹濠电姴鐏氶崝鏍ㄦ櫏闂傚倷娴囬鏍垂閹惰棄纾婚柣鎰惈妗呴梺鍛婃处閸ㄦ壆绮诲☉銏＄厱闁规崘灏欓崝宥夋煕鐎ｆ柨瀚粻楣冩倵閻㈡鐒鹃悽顖氱埣閹顫濋悡搴㈢亾濠碘�冲级閸旀瑩鐛Ο纭锋嫹濞戞顏堫敁閹剧粯鈷戦柤濮愬�曢弸鏂款熆瑜庨〃濠傤嚕閾忣偄顕遍悗娑櫱氶幏娲⒑閼姐倕鏋戞繝銏∶埢鎾诲煛閸涱喚鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｈ鲸顨ラ悙鎼畼缂佽鲸鎸搁濂稿幢濡ゅ啩鎮ｇ紓鍌欐祰妞村摜鏁垾宕囨殾婵犲﹤瀚刊鎾⒒閿熶粙骞囬褎缍楅梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝閸庡孩銇勯弽銊ュ毈闁搞倖娲熼弻鐔虹磼閵忕姵鐏堥柟顖滃枛濮婃椽妫冨☉姘暫濠电偠顕滅粻鎾愁嚕閸欏闄勯柛娑樑堥幏缁樼箾鏉堝墽绉俊顐㈠钘熺�广儱妫庢禍婊勩亜閹扳晛鐒烘俊顖ゆ嫹闁诲氦顫夊ú妯好洪悢鑲╁祦閹兼番鍔嶇�电姴顭跨捄楦垮鐎殿喓鍔岄埞鎴︽偐椤旇偐浼囬梺绯曟櫆閻楃姴鐣峰┑瀣嵆闁绘ê鍚�缁楀姊洪悡搴綗闁稿ě鍥х濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔哄劚閳规垿鎮欏顔筋�嗙紓浣哄У閹稿骞堥妸鈺傛櫢濞寸姴顑嗛悡蹇涚叓閸パ岀叚闁归鍏橀幖褰掝敃閵堝繑瀚瑰Δ锝呭暞閳锋帒霉閿濆牊顏犻悽顖涚♁閵囧嫰濡搁妷锕�娈楅梺璇″暙閸℃瑧鏉稿┑鐐村灦椤洭鎮￠幋锔解拺閻犳亽鍔岄弸娆愪繆椤愩垹顏柣蹇撳暣濮婅櫣绱掑鍫ｏ拷鎸庣箾娴ｅ啿瀚々鐑芥煥閺囩偛锟藉綊鎮￠弴銏＄厪濠电姴绻掗悾杈ㄣ亜閺囩喓鐭掗柡宀�鍠愮粭鐔煎垂椤旂⒈娼庨梻浣芥〃閻掞箓骞愰懡銈囩焿闁圭儤妫戦幏鐑芥晲鎼粹�茬敖闂佸憡锕╂禍顏勵潖濞差亜绀堥柟缁樺笂缁ㄨ偐绱撴担绛嬪殭闁哥喐鎸抽獮鍐晸閻樿櫕娅㈡繛瀵稿Т椤戝棝鍩涢幋锔界厱婵犻潧妫楅顏堟煕鐏炶濮傞柡灞剧洴婵℃悂鏁傛慨鎰檸闂備胶纭堕弲婊堟儎椤栫偟宓侀柟鐑樺殾閺冿拷閹峰懘宕崟顐ｈ緢闂傚倸鍊烽懗鍓佸垝椤栨凹娼栧┑鐘宠壘绾惧潡鏌曢崼婵囧櫝闁哄绉归弻锟犲炊閵夈儳浠鹃梺缁樻尰閻熲晠寮婚敐澶嬪亜闁告稑锕﹂崙鈥愁渻閵堝懏绂嬮柛妯恒偢閸╃偤骞嬮敃锟介悞娲煕閹般劍娅呴柨鐔诲Г閸旀洟鍩為幋锔芥櫖闁告洦鍋勯獮瀣旈悩闈涗粶婵炲樊鍘奸悾宄邦煥閸曨剙顎撻梺缁樺灦钃辨い鏃�鎹囧濠氬磼濞嗘埈妲梺鍦拡閸嬪﹪骞嗘径瀣檮缂佸娉曢悰銉╂⒑閸濆嫮鈻夐柛妯虹秺閺佹捇骞嬮幒鏃傜崲閻庢鍠曠划娆撱�侀弴銏℃櫜闁告侗鍨界槐锟犳⒒閸屾瑧绐旀繛浣冲棗娅ｉ梻浣告啞娓氭宕板Δ鍛柈闁绘鏁哥壕浠嬫煕鐏炴崘澹橀柨鐔诲Г閹倸鐣烽幇顒傛殝闁瑰啿锕ょ紞濠傜暦閸洖惟闁挎繂瀚惌鎺楁⒒娴ｅ摜绉烘俊顐㈡健閹偤鏁冮崒姘憋紱闂佽法鍠撴慨鐢告偂閵夆晜鐓涢柛銉㈡櫅娴犳帞绱掓鏍﹂偗闁哄本鐩俊鐑芥晲閸涱収鐎虫俊鐐�栧ú鐔哥閸洖绠栨俊銈忔嫹闁宠棄顦埢宥夘敇瑜岄柇顖炴煛娴ｈ宕岄柟绋匡攻瀵板嫭绻濋崘鍐ｆ櫊閺屟囨嚒閵堝懍妲愰梺鍝勭焿缁插�熺亙闂佽法鍠嶇划娆撳箖瑜戠粻娑㈠即閻樿京鐟濋梻浣告惈缁嬩線宕㈡禒瀣亗婵炴垯鍨洪悡鏇狅拷鐧告嫹閻庯綆鍠楅宥夋煟鎼淬垼澹樼紓宥咃工椤繑绻濆顒傦紲濠殿喗锕╅崜銊╁箯閻戣姤鍊婚柤鎭掑劚濞堟垿姊洪崜鎻掍簼婵炲弶鐗滅划濠氭偐缂佹鍘甸梺鍛婃寙閸涱厾顐奸梻浣侯焾椤戝啴宕愬┑瀣摕闁哄洨鍠撶粻楣冩煟閹伴潧澧柣婵囨礋濮婅櫣绮欏▎鎯у壈濡炪倖鍨靛Λ娆戠矚鏉堛劎绡�闁搞儺鐏涜閺屾稑鈽夐崡鐐寸亪濠电偛鎷戠紞浣割潖濞差亜绠归柣鎰絻椤牓姊虹粙鍖″伐缂傚秴锕ユ穱濠囨偨缁嬭法顦板銈嗙墬濮樸劑顢欐繝鍥ㄢ拺闁荤喐澹嗛幗鐘电磼鐠囪尙校缂佸倹甯￠幃鈩冩償濡粯鏉搁梻浣哥枃濡嫬螞濡や胶顩叉繝闈涱儐鐎氬懘鏌涘Δ鍐拷鎴炴償閵娿儳鍊為悷婊勭箞閻擃剟顢楅崟顒傚幍濡炪倖姊婚弲顐﹀箠閸ヮ煈娈介柣鎰摠瀹曞本顨ラ悙鏉戞诞鐎规洖宕灒闁惧繗顫夋闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊瑜忛弳锕傛煟閵忋埄鐒剧紒鎰殜閺岀喖鏌囬敃锟介弸鐔猴拷瑙勬礃閻擄繝寮诲☉銏╂晝闁绘ɑ褰冩慨搴ㄦ⒑閽樺鏆熼柛鐘崇墵瀵寮撮姀鐘诲敹濠电姴鐏氶崝鏍ㄦ櫏闂傚倷娴囬鏍垂閹惰棄纾婚柣鎰惈妗呴梺鍛婃处閸ㄦ壆绮诲☉銏＄厱闁规崘灏欓崝宥夋煕鐎ｆ柨瀚粻楣冩倵閻㈡鐒鹃悽顖氱埣閹顫濋悡搴㈢亾濠碘�冲级閸旀瑩鐛Ο纭锋嫹濞戞顏堫敁閹剧粯鈷戦柤濮愬�曢弸鏂款熆瑜庨〃濠傤嚕閾忣偄顕遍悗娑櫱氶幏娲⒑閼姐倕鏋戞繝銏∶埢鎾诲煛閸涱喚鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�, teamId: " + teamId);
				}
				else if(!checkTeamInSwitchStatus(team))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯椤兘寮诲☉銏犖ч柛銉戝嫮浜梻浣告惈閼活垳绮旈崜浣诡潟闁圭儤鍤﹂悢鍏煎�婚柍鍝勫�搁娲⒒閸屾瑦绁版繛澶嬫礋瀹曚即寮撮悙宥嗙洴瀹曠喖顢橀悩杈╃憹闁诲骸绠嶉崕閬嵥囬婊冾棜闁秆勵殕閳锋垶銇勯幒鐐村缂備礁顦顓犲垝婵犳凹鏁嶉柣鎰綑閿熺晫鏁婚弻銊モ攽閸℃姣愰梺褰掝棑閸忔﹢銆佸锟芥俊姝岊槾鐞氾箓鏌ｆ惔銈庢綈婵炴祴鏅濋幑銏犫攽鐎ｎ亞鐣哄┑顔筋殣閹风兘鏌熺粵鍦瘈濠碘�崇埣瀹曞崬螖娴ｇ儤娈繝纰夌磿閸嬫垿宕愰妶澶婂偍鐟滅増甯掔粈澶愭煙鐎涙绠橀柡鍡檮閹便劌螖鐎ｎ偄顏堕梻浣哄仺閸庤崵绮婚幘鑽ゅ祦閻庯綆浜栭弨浠嬫煕閻欙拷閸犳捇宕濆畝鍕厴闁硅揪闄勯崑鎰版煕椤垵浜濇慨锝呭濮婅櫣绮欏▎鎯у壋闂佺顑囨繛锟藉┑锛勬暬楠炲洭寮剁捄顭戞О婵＄偑鍊ら崢浠嬪垂瑜版帒绀夐柣鎴ｅГ閳锋垿鎮归幁鎺戝闁哄鏌ㄩ埞鎴︻敊閻撳孩些闂佷紮绲介悘姘辩箔閻斿吋鏅稿ù鐘差儏閽冪喖鏌ｉ弬鎸庡暈缂傚秴娲弻娑㈠箻濡わ拷閹冲繐鈻撻崨濠佺箚闁绘劦浜滈敓濮愬�濆畷鎴﹀礋椤栨氨鐤囧┑顔筋殣閹烽锟芥鍠栭…宄邦嚕閹绢喖顫呴柣妯款嚙閺佽绻濋悽闈涒枅婵炰匠鍏犳椽濡搁埡浣稿亶闂佽澹嗘晶妤呭煕閹达附鐓曟繝闈涙椤忣亪鏌涚仦璇插闁哄本鐩俊鎼佹晜婵劒铏庨梻浣虹《閺呮粓鎯勯鐐靛祦闁圭儤鍤﹂弮锟介幏鍛村传閸曨偅杈堥梻鍌氬�烽懗鍓佸垝椤栨凹娼栧┑鐘宠壘绾惧潡鏌曢崼婵囧櫝闁哄绉归弻锟犲炊閵夈儳浠鹃梺缁樻尰閻熲晠寮婚敐澶嬪亜闁告稑锕﹂崙鈥愁渻閵堝懏绂嬮柛妯恒偢閸╃偤骞嬮敃锟介悞娲煕閹般劍娅呴柨鐔诲Г閸旀瑩寮婚埄鍐╁缂佸灏呴幏鐑藉锤濡わ拷缁犵娀鏌ｉ幇顒佹儓閸烆垰顪冮妶鍡樼叆闁告艾顑呴埢宥夊即閵忊檧鎷婚梺绋挎湰閼归箖鏁撻挊澶婃Щ闂囧鏌涢妷鎴濇噺濞堥箖姊洪崜鑼帥闁稿鎳樺畷锝堢疀濞戞瑧鍘告繝銏ｆ硾椤戝懎鈻撻鐣岀鐎瑰壊鍠曢幉楣冩煛娴ｅ憡鍠橀柡灞界Ф閹瑰嫰鎮滃Ο璇插壍婵＄偑鍊ф俊鍥极婵犳碍鍋樻い鏂挎閻旂儤鍏滈梺鍨儏椤忚泛鈹戦悙鏉戠仸妞ゅ浚浜、鏃堝礋闂堟稒顓块梻浣侯潒閸曞灚鐣烽梺鎶芥敱閸ㄥ綊骞夐幖浣瑰亱闁割偅绻勯悷鏌ユ⒑閹稿海銆掗柛鐘虫尵濡叉劙骞掑Δ浣规闂佸吋浜介崕鍙夊垔閹绢喗鐓ｉ煫鍥ㄥ喕閹峰嘲鈽夊杈ㄥ枓闂傚倸鍊烽懗鍫曞箠閹剧粯鍋ら柕濞у嫷鍋ㄩ梺姹囧�ら崹顒佺瑜版帗鐓欓柣鎴炆戠亸鐗堢箾閸涱喚鐭掓慨濠冩そ楠炴牠鎮欓幓鎺戭潙闂備礁鎲￠弻銊╂嚐椤栫偛鐓濋柟鎯х－閺嗗棝鏌涢弴銊ュ幋闁归攱妞介弻锝夋偐閸欏鈹涢柣蹇撶箲閻熝呭垝婵犳艾鐭楀璺虹墔缁ㄥ姊洪棃娑辩劸闁稿骸顭烽悡顒勵敆閸岋附瀚规繛鍫濈仢閺嬫稒銇勯銏℃暠濞ｅ洤锕幊婊堟濞戞氨鐛┑鐘垫暩婵锟芥矮鍗抽幃浼村箻缂佹ǚ鎷绘繛杈剧到閹诧紕鎷归埄鍐︿簻妞ゆ挾鍋熸晶娑欍亜閵婏絽鍔ょ紒顔界懄閹棃骞樼�甸晲绨撮梺璇叉捣濞呫垽骞忛悜鑺ョ叆闁绘梻鍎ゅ▍鏇熶繆閸欏濮嶆鐐搭焽閿熻姤绋掗敋妞ゅ孩鎹囧娲川婵犲啫纰嶉悗娈垮枦閸╂牠寮查妷鈺傗拻闁稿本鐟чˇ锔界節閿熶粙鏌嗗渚婃嫹閿曞倸閱囬柕澶堝劤閺屽牓姊虹粔鍡楀濞堛垽鏌℃担鍓插剶闁哄被鍔岄埞鎴﹀幢閳哄倐褔姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�?(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯椤兘寮诲☉銏犖ч柛銉戝嫮浜梻浣告惈閼活垳绮旈崜浣诡潟闁圭儤鍤﹂悢鍏煎�婚柍鍝勫�搁娲⒒閸屾瑦绁版繛澶嬫礋瀹曚即寮撮悙宥嗙洴瀹曠喖顢橀悩杈╃憹闁诲骸绠嶉崕閬嵥囬婊冾棜闁秆勵殕閳锋垶銇勯幒鐐村缂備礁顦顓犲垝婵犳凹鏁嶉柣鎰綑閿熺晫鏁婚弻銊モ攽閸℃姣愰梺褰掝棑閸忔﹢銆佸锟芥俊姝岊槾鐞氾箓鏌ｆ惔銈庢綈婵炴祴鏅濋幑銏犫攽鐎ｎ亞鐣哄┑顔筋殣閹风兘鏌熺粵鍦瘈濠碘�崇埣瀹曞崬螖娴ｇ儤娈繝纰夌磿閸嬫垿宕愰妶澶婂偍鐟滅増甯掔粈澶愭煙鐎涙绠橀柡鍡檮閹便劌螖鐎ｎ偄顏堕梻浣哄仺閸庤崵绮婚幘鑽ゅ祦閻庯綆浜栭弨浠嬫煕閻欙拷閸犳捇宕濆畝鍕厴闁硅揪闄勯崑鎰版煕椤垵浜濇慨锝呭濮婅櫣绮欏▎鎯у壋闂佺顑囨繛锟藉┑锛勬暬楠炲洭寮剁捄顭戞О婵＄偑鍊ら崢浠嬪垂瑜版帒绀夐柣鎴ｅГ閳锋垿鎮归幁鎺戝闁哄鏌ㄩ埞鎴︻敊閻撳孩些闂佷紮绲介悘姘辩箔閻斿吋鏅稿ù鐘差儏閽冪喖鏌ｉ弬鎸庡暈缂傚秴娲弻娑㈠箻濡わ拷閹冲繐鈻撻崨濠佺箚闁绘劦浜滈敓濮愬�濆畷鎴﹀礋椤栨氨鐤囧┑顔筋殣閹烽锟芥鍠栭…宄邦嚕閹绢喖顫呴柣妯款嚙閺佽绻濋悽闈涒枅婵炰匠鍏犳椽濡搁埡浣稿亶闂佽澹嗘晶妤呭煕閹达附鐓曟繝闈涙椤忣亪鏌涚仦璇插闁哄本鐩俊鎼佹晜婵劒铏庨梻浣虹《閺呮粓鎯勯鐐靛祦闁圭儤鍤﹂弮锟介幏鍛村传閸曨偅杈堥梻鍌氬�烽懗鍓佸垝椤栨凹娼栧┑鐘宠壘绾惧潡鏌曢崼婵囧櫝闁哄绉归弻锟犲炊閵夈儳浠鹃梺缁樻尰閻熲晠寮婚敐澶嬪亜闁告稑锕﹂崙鈥愁渻閵堝懏绂嬮柛妯恒偢閸╃偤骞嬮敃锟介悞娲煕閹般劍娅呴柨鐔诲Г閸旀瑩寮婚埄鍐╁缂佸灏呴幏鐑藉锤濡わ拷缁犵娀鏌ｉ幇顒佹儓閸烆垰顪冮妶鍡樼叆闁告艾顑呴埢宥夊即閵忊檧鎷婚梺绋挎湰閼归箖鏁撻挊澶婃Щ闂囧鏌涢妷鎴濇噺濞堥箖姊洪崜鑼帥闁稿鎳樺畷锝堢疀濞戞瑧鍘告繝銏ｆ硾椤戝懎鈻撻鐣岀鐎瑰壊鍠曢幉楣冩煛娴ｅ憡鍠橀柡灞界Ф閹瑰嫰鎮滃Ο璇插壍婵＄偑鍊ф俊鍥极婵犳碍鍋樻い鏂挎閻旂儤鍏滈梺鍨儏椤忚泛鈹戦悙鏉戠仸妞ゅ浚浜、鏃堝礋闂堟稒顓块梻浣侯潒閸曞灚鐣烽梺鎶芥敱閸ㄥ綊骞夐幖浣瑰亱闁割偅绻勯悷鏌ユ⒑閹稿海銆掗柛鐘虫尵濡叉劙骞掑Δ浣规闂佸吋浜介崕鍙夊垔閹绢喗鐓ｉ煫鍥ㄥ喕閹峰嘲鈽夊杈ㄥ枓闂傚倸鍊烽懗鍫曞箠閹剧粯鍋ら柕濞у嫷鍋ㄩ梺姹囧�ら崹顒佺瑜版帗鐓欓柣鎴炆戠亸鐗堢箾閸涱喚鐭掓慨濠冩そ楠炴牠鎮欓幓鎺戭潙闂備礁鎲￠弻銊╂嚐椤栫偛鐓濋柟鎯х－閺嗗棝鏌涢弴銊ュ幋闁归攱妞介弻锝夋偐閸欏鈹涢柣蹇撶箲閻熝呭垝婵犳艾鐭楀璺虹墔缁ㄥ姊洪棃娑辩劸闁稿骸顭烽悡顒勵敆閸岋附瀚规繛鍫濈仢閺嬫稒銇勯銏℃暠濞ｅ洤锕幊婊堟濞戞氨鐛┑鐘垫暩婵锟芥矮鍗抽幃浼村箻缂佹ǚ鎷绘繛杈剧到閹诧紕鎷归埄鍐︿簻妞ゆ挾鍋熸晶娑欍亜閵婏絽鍔ょ紒顔界懄閹棃骞樼�甸晲绨撮梺璇叉捣濞呫垽骞忛悜鑺ョ叆闁绘梻鍎ゅ▍鏇熶繆閸欏濮嶆鐐搭焽閿熻姤绋掗敋妞ゅ孩鎹囧娲川婵犲啫纰嶉悗娈垮枦閸╂牠寮查妷鈺傗拻闁稿本鐟чˇ锔界節閿熶粙鏌嗗渚婃嫹閿曞倸閱囬柕澶堝劤閺屽牓姊虹粔鍡楀濞堛垽鏌℃担鍓插剶闁哄被鍔岄埞鎴﹀幢閳哄倐褔姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�?, teamId: " + teamId);
				}
				else if(!checkAnwserIsNewLeader(team, newLeaderRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鑼枛瀵鏁撻悩鑼�為梺闈涱槶閸庤櫕绂掗幆褉鏀介柣鎰綑濮ｅ棝鏌涢妷锝呭闁告ü绮欏Λ鍛搭敃閵忊剝鎮欏銈嗗灥閹虫ê鐣峰┑鍡╃叆闁割偆鍠撻崢顏堟⒑閹肩偛鍔�闁告劕褰炵槐鏃堟⒒娴ｈ櫣銆婇柡鍜佷簽濡叉劙寮撮姀鈩冩闂佸搫鍊堕崐妤冪矓閻㈠憡鐓曢柣妯诲墯濞堟粍銇勯姀鈩冨碍妞ゆ挸銈稿畷鍫曞煛閸愯法闂繝鐢靛仩閹活亞寰婇崸妞伙拷锕傚醇閵夛附娅㈤梺鑺ッˇ鎵嫻閿熺姵鐓涘〒姘搐濞呭秹鏌熼鐣屾噰鐎规洦鍋婂畷鐔碱敇瑜嶉弫鎼佹⒒閸屾瑨鍏岀紒顕呭灦閳ワ箓宕奸妷顔芥櫔閻熸粍妫冮獮鍡欎沪鏉炴寧妫冮弫鎾寸鐎Ｑ嶆嫹閿旂偓宕夐柕濠忕畱绾绢垶姊虹紒妯垮闁宦板姂瀵偊骞嗚濞撳鏌曢崼婵囶棡閻忓浚鍙冮弻鏇㈠醇閵忊晝鍔稿銈庡亜缁绘帞妲愰幒鎳崇喓鎷犲顕嗘嫹閹剧粯鈷戦梻鍫氭櫅閻︽粓鏌涘Ο鍦煓闁圭缍佸畷鍫曨敆娴ｅ弶瀚奸梻浣告啞缁嬫垿鏁冮妷鈺傚亗闁靛鏅滈悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倸顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐犲劜閳锋垿鏌涘☉姗堝姛闁瑰啿鍟撮弻娑㈡偆娴ｉ晲鍠婂銈冨灪瀹�鎼佸极閹版澘鐐婇柍鍝勫枦缁卞弶绻濈喊妯活潑闁搞劎鏁诲畷鎴﹀箛閻楀牆鍓ㄩ梺鍓插亖閸庢煡鍩涢幋锔界厵闁兼祴鏅涙禒婊堟煕閺冿拷閿曘垽寮诲☉銏犳婵炲棛鍋撻埢鍫澪旈悩闈涗沪闁告梹鐟╁顐﹀箻鐎靛壊娴勯柣搴秵閸嬶拷闁归绮换娑欐綇閸撗呅氬┑鐐叉嫅缁插潡寮灏栨闁靛骏绱曢崢鎼佹煟韫囨洖浠╂い鏇嗗嫭鍙忛柛灞剧玻閹烽鎲撮崟顒傦紭闂佺瀛╂繛濠囧极閹捐妫橀柕鍫濇川鏍￠梻浣芥硶閸犳捇鎮洪弮鍫濆瀭閺夊牃鏅滈弳婊堟煥閻斿搫孝闁哄绶氶弻鐔煎礈瑜忕敮娑㈡煛閸涱喗鍊愰柡灞诲姂閹倝宕掑☉姗嗕紦(illegal)
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傤槰缂備緡鍠栭惌鍌炲春閵夛箑绶為柟閭﹀墻濞煎﹪姊洪悙钘夊姎闁告ɑ鐗犻幃鐣岀磼濡偐鐦堥梺姹囧灲濞佳囧煝閸喓绠惧ù锝呭暱濞村倿寮崟顖涚厱闁斥晛鍟伴埦渚�鏌涚�ｎ亜锟藉湱鎹㈠☉銏犵婵炲棗绻掓禒楣冩⒑缂佹ɑ灏版繛鑼枛瀵鏁撻悩鑼�為梺闈涱槶閸庤櫕绂掗幆褉鏀介柣鎰綑濮ｅ棝鏌涢妷锝呭闁告ü绮欏Λ鍛搭敃閵忊剝鎮欏銈嗗灥閹虫ê鐣峰┑鍡╃叆闁割偆鍠撻崢顏堟⒑閹肩偛鍔�闁告劕褰炵槐鏃堟⒒娴ｈ櫣銆婇柡鍜佷簽濡叉劙寮撮姀鈩冩闂佸搫鍊堕崐妤冪矓閻㈠憡鐓曢柣妯诲墯濞堟粍銇勯姀鈩冨碍妞ゆ挸銈稿畷鍫曞煛閸愯法闂繝鐢靛仩閹活亞寰婇崸妞伙拷锕傚醇閵夛附娅㈤梺鑺ッˇ鎵嫻閿熺姵鐓涘〒姘搐濞呭秹鏌熼鐣屾噰鐎规洦鍋婂畷鐔碱敇瑜嶉弫鎼佹⒒閸屾瑨鍏岀紒顕呭灦閳ワ箓宕奸妷顔芥櫔閻熸粍妫冮獮鍡欎沪鏉炴寧妫冮弫鎾寸鐎Ｑ嶆嫹閿旂偓宕夐柕濠忕畱绾绢垶姊虹紒妯垮闁宦板姂瀵偊骞嗚濞撳鏌曢崼婵囶棡閻忓浚鍙冮弻鏇㈠醇閵忊晝鍔稿銈庡亜缁绘帞妲愰幒鎳崇喓鎷犲顕嗘嫹閹剧粯鈷戦梻鍫氭櫅閻︽粓鏌涘Ο鍦煓闁圭缍佸畷鍫曨敆娴ｅ弶瀚奸梻浣告啞缁嬫垿鏁冮妷鈺傚亗闁靛鏅滈悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倸顕ｉ锕�绠荤紓浣姑▓鐔兼⒑闂堟侗妲堕柛搴″船琚欓柛顐犲劜閳锋垿鏌涘☉姗堝姛闁瑰啿鍟撮弻娑㈡偆娴ｉ晲鍠婂銈冨灪瀹�鎼佸极閹版澘鐐婇柍鍝勫枦缁卞弶绻濈喊妯活潑闁搞劎鏁诲畷鎴﹀箛閻楀牆鍓ㄩ梺鍓插亖閸庢煡鍩涢幋锔界厵闁兼祴鏅涙禒婊堟煕閺冿拷閿曘垽寮诲☉銏犳婵炲棛鍋撻埢鍫澪旈悩闈涗沪闁告梹鐟╁顐﹀箻鐎靛壊娴勯柣搴秵閸嬶拷闁归绮换娑欐綇閸撗呅氬┑鐐叉嫅缁插潡寮灏栨闁靛骏绱曢崢鎼佹煟韫囨洖浠╂い鏇嗗嫭鍙忛柛灞剧玻閹烽鎲撮崟顒傦紭闂佺瀛╂繛濠囧极閹捐妫橀柕鍫濇川鏍￠梻浣芥硶閸犳捇鎮洪弮鍫濆瀭閺夊牃鏅滈弳婊堟煥閻斿搫孝闁哄绶氶弻鐔煎礈瑜忕敮娑㈡煛閸涱喗鍊愰柡灞诲姂閹倝宕掑☉姗嗕紦, teamId: " + teamId);
				}
				/*else if(!checkTeamNoSuccSwitchIn2min(team))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛銉㈡櫅娴犳粓鏌ㄩ悢缁橆棄婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗2闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呴崨濠呯闂佺绨洪崐婵嗙暦閻㈠憡鏅濋柨鐔剁矙閸┿儲寰勬繛銏㈠枛閺屻劎锟斤綆鍋呭鎴︽⒒娴ｇ瓔鍤欓柛鎴犳櫕缁辩偤宕卞Ο纰辨锤闂佺粯鍔掔拃锕傚极婵犲洦鐓曢柕澶樺枛婢ь垶鏌嶉柨瀣伌闁诡喖鍢查埢搴ょ疀閹垮啩鎮ｇ紓鍌欑筏閹风兘鏌涢幇銊︽澓濞存粍绮撻弻锟犲炊瑜庨ˉ婊勭箾鐠囇呯暤鐎规洘娲栬灃濞达綁顥撶粻姘舵⒑闂堟稓澧曢悗姘緲椤﹤鐣￠幊濠勬嚀椤劑宕熼鐘靛帨闂備胶绮幖鈺呭磻婵犲倻鏆﹂柛顐ｆ礀鎯熼梺鎸庢穿閹风兘姊绘径濠勑ф慨濠冩そ閹兘寮堕幐搴★拷顖炴⒑閸涘﹥鈷愰柣鐔叉櫅椤曪絿鎷犲ù瀣潔濠碘槅鍨辩划搴ㄥ窗閹捐埖顫曢柟鐑樺殾閻旂厧浼犻柛鏇ㄥ墯閺嗘﹢姊婚崒姘拷椋庣矆娓氾拷楠炴牠顢曢敂钘夊壒婵犮垼娉涢張顒�鐣烽崣澶岀瘈闂傚牊绋掗ˉ鐘绘煛閸☆厾鐣甸柡宀�鍠栭、娑㈡倷闊厼鏋堟繝纰樺墲閻擄紕绮婚弽褜娼栨繛宸簻閹硅埖銇勯幘璺烘瀾闁绘繍浜濈换婵嗏枔閸喗鐏撻梺绋跨箲閿曘垹顕ｉ锕�绠婚悹鍥皺閿涙瑩姊虹紒妯荤；闁绘帪濡囩槐鐐哄醇濠靛啯鏂�闂佺粯鍔栬ぐ鍐棯瑜旈弻銊╁即濡櫣浼堝Δ鐘靛仜閸熸挳寮幘缁樺亹闁肩⒈鍏涚槐婊堟⒒娴ｅ摜绉烘い锝忕畵閹偤鏁傞崜褏顦柟鍏肩暘閸ㄨ崵寮ч敓浠嬫⒒閸屾氨澧涚紒瀣灴閺佹捇鎳為妷锕�锟芥劖顨ラ悙宸█闁轰焦鎹囬幃鈺呮嚑椤掑﹦骞㈤梻鍌欑閹测�趁洪敃鍌氬瀭闂侇剙绉甸崑鍌炴煛閸ャ儱鐏柛娆愭崌閺屾盯濡烽敐鍛瀴闁诲繐娴氶崣鍐蓟閻旂⒈鏁婇柦妯侯槺娴煎矂姊洪崫鍕効缂傚秳绶氬顐﹀磼閻愭潙娈愰梺鍐叉惈閸欐劙骞嬮悩鐢碉紳婵炶揪缍�濞咃絿鏁☉銏＄厽闁冲搫锕ら悘锕傛煟濞戝崬鏋ら柨鐔告灮缂嶅棝宕抽锟藉顐㈩吋閸℃瑧顔曢梺鐟邦嚟閸庢垶绗熷☉妯忓湱娑甸柨瀣伓?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤濞硷繝寮婚悢鍛婄秶闁告挆鍛缂傚倷鑳舵刊顓㈠垂閸洖钃熼柕濞炬櫆閸嬪棝鏌涚仦鍓р槈妞ゅ骏鎷�?
					psend(newLeaderRoleId, new STeamError(TeamError.ChangeLeaderInCD));
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛銉㈡櫅娴犳粓鏌ㄩ悢缁橆棄婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗2闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呴崨濠呯闂佺绨洪崐婵嗙暦閻㈠憡鏅濋柨鐔剁矙閸┿儲寰勬繛銏㈠枛閺屻劎锟斤綆鍋呭鎴︽⒒娴ｇ瓔鍤欓柛鎴犳櫕缁辩偤宕卞Ο纰辨锤闂佺粯鍔掔拃锕傚极婵犲洦鐓曢柕澶樺枛婢ь垶鏌嶉柨瀣伌闁诡喖鍢查埢搴ょ疀閹垮啩鎮ｇ紓鍌欑筏閹风兘鏌涢幇銊︽澓濞存粍绮撻弻锟犲炊瑜庨ˉ婊勭箾鐠囇呯暤鐎规洘娲栬灃濞达綁顥撶粻姘舵⒑闂堟稓澧曢悗姘緲椤﹤鐣￠幊濠勬嚀椤劑宕熼鐘靛帨闂備胶绮幖鈺呭磻婵犲倻鏆﹂柛顐ｆ礀鎯熼梺鎸庢穿閹风兘姊绘径濠勑ф慨濠冩そ閹兘寮堕幐搴★拷顖炴⒑閸涘﹥鈷愰柣鐔叉櫅椤曪絿鎷犲ù瀣潔濠碘槅鍨辩划搴ㄥ窗閹捐埖顫曢柟鐑樺殾閻旂厧浼犻柛鏇ㄥ墯閺嗘﹢姊婚崒姘拷椋庣矆娓氾拷楠炴牠顢曢敂钘夊壒婵犮垼娉涢張顒�鐣烽崣澶岀瘈闂傚牊绋掗ˉ鐘绘煛閸☆厾鐣甸柡宀�鍠栭、娑㈡倷闊厼鏋堟繝纰樺墲閻擄紕绮婚弽褜娼栨繛宸簻閹硅埖銇勯幘璺烘瀾闁绘繍浜濈换婵嗏枔閸喗鐏撻梺绋跨箲閿曘垹顕ｉ锕�绠婚悹鍥皺閿涙瑩姊虹紒妯荤；闁绘帪濡囩槐鐐哄醇濠靛啯鏂�闂佺粯鍔栬ぐ鍐棯瑜旈弻銊╁即濡櫣浼堝Δ鐘靛仜閸熸挳寮幘缁樺亹闁肩⒈鍏涚槐婊堟⒒娴ｅ摜绉烘い锝忕畵閹偤鏁傞崜褏顦柟鍏肩暘閸ㄨ崵寮ч敓浠嬫⒒閸屾氨澧涚紒瀣灴閺佹捇鎳為妷锕�锟芥劖顨ラ悙宸█闁轰焦鎹囬幃鈺呮嚑椤掑﹦骞㈤梻鍌欑閹测�趁洪敃鍌氬瀭闂侇剙绉甸崑鍌炴煛閸ャ儱鐏柛娆愭崌閺屾盯濡烽敐鍛瀴闁诲繐娴氶崣鍐蓟閻旂⒈鏁婇柦妯侯槺娴煎矂姊洪崫鍕効缂傚秳绶氬顐﹀磼閻愭潙娈愰梺鍐叉惈閸欐劙骞嬮悩鐢碉紳婵炶揪缍�濞咃絿鏁☉銏＄厽闁冲搫锕ら悘锕傛煟濞戝崬鏋ら柨鐔告灮缂嶅棝宕抽锟藉顐㈩吋閸℃瑧顔曢梺鐟邦嚟閸庢垶绗熷☉妯忓湱娑甸柨瀣伓?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤濞硷繝寮婚悢鍛婄秶闁告挆鍛缂傚倷鑳舵刊顓㈠垂閸洖钃熼柕濞炬櫆閸嬪棝鏌涚仦鍓р槈妞ゅ骏鎷�?, teamId: " + teamId);
				}*/
				else
				{
					
					//xbean.TeamInfo team = xtable.Team.get(team);
					if(team.switchTeamLeaderWithSP(newLeaderRoleId))
					{
						team.getTeamInfo().setSuccessswitchtime(now);
						TeamManager.logger.debugWhileCommit("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅鐢告⒑閸濆嫭婀扮紒瀣灱閻忓啯绻涙潏鍓ф偧缁绢厼鐖煎绋库枎閹剧补鎷洪柣鐘叉礌閿熷�熸珪閻忓秴顪冮妶鍐ㄥ闁硅櫕锕㈠畷娲Ψ閿曪拷缁剁偛鈹戦悙闈涗壕闁诲骸鎼—鍐Χ閸℃ê鐦烽梺绋挎湰缁矂宕甸鍕拻濞达絿鐡旈崵鍐煕閵娿儱鑸规い顐㈢箻瀹曠兘顢橀悢宄扮哎婵犵數濞�濞佳囶敄閸涘瓨鍊峰┑鐘叉处閻撳繐鈹戦悙鑼虎闁诲浚浜幃妤�顫濋銈囩厯濠殿喖锕︾划顖炲箯閸涙潙宸濆┑鐘插�瑰▓姗�姊绘担鍛婂暈婵☆偅鍨垮浠嬪礋椤撶姷鐒块悗骞垮劚閹峰鎮￠妷鈺傜厱妞ゆ劧绲跨粻鎾绘煕閵堝棗鐏ラ柍瑙勫灴閹瑩寮堕幋鐘辨埛闂備焦鎮堕崝宥咁渻娴犲绠栭柍銉︽灱濡插牓鏌曡箛銉х？闁告﹢浜跺铏癸拷鍦У椤ュ淇婇锝庢疁闁绘侗鍠栬灃闁告侗鍠栭敓钘夌仛閹便劌螣閻撳簼澹曢柣搴㈢啲閹凤拷, teamId: " + teamId);
					}
					else
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅鐢告⒑閸濆嫭婀扮紒瀣灱閻忓啯绻涙潏鍓ф偧缁绢厼鐖煎绋库枎閹剧补鎷洪柣鐘叉礌閿熷�熸珪閻忓秴顪冮妶鍐ㄥ闁硅櫕锕㈠畷娲Ψ閿曪拷缁剁偛鈹戦悙闈涗壕闁诲骸鎼—鍐Χ閸℃ê鐦烽梺绋挎湰缁矂宕甸鍕拻濞达絿鐡旈崵鍐煕閵娿儱鑸规い顐㈢箻瀹曠兘顢橀悢宄扮哎婵犵數濞�濞佳囶敄閸涘瓨鍊峰┑鐘叉处閻撳繐鈹戦悙鑼虎闁诲浚浜幃妤�顫濋銈囩厯濠殿喖锕︾划顖炲箯閸涙潙宸濆┑鐘插�瑰▓姗�姊绘担鍛婂暈婵☆偅鍨垮浠嬪礋椤撶姷鐒块悗骞垮劚閹峰鎮￠妷鈺傜厱妞ゆ劧绲跨粻鎾绘煕閵堝棗鐏ラ柍瑙勫灴閹瑩寮堕幋鐘辨埛闂備焦鎮堕崝宥咁渻娴犲绠栭柍銉︽灱濡插牓鏌曡箛銉х？闁告﹢浜跺娲棘閵夛附鐝旈梺鍝ュ櫏閸嬪﹤鐣烽鈷氭椽顢旈崨顖氬箞婵犵數濞�濞佳囨晝閵夆晩鏁傞柣妯肩帛閻撱儵鏌ｉ弮鍌滃笡妞ゃ儱顦甸弻锝堢疀閺冨洤顥濆銈庡幖閻忔繆鐏掔紒缁㈠弮閺�杈╋拷姘愁潐閹便劌螣閻撳骸浠樺Δ鐘靛仦閻楁濡甸崟顖ｆ晣闁绘劕顕埞娑氱磽娴ｅ搫校缂佸鍨块崺銉﹀緞鐎ｎ偆绉堕梺闈涱煭闂勫嫰鎮甸弽顓熲拻闁稿本鐟х粣鏃�绻涙担鍐叉硽閸ャ劌顕遍柡澶嬪灩椤︻噣鎮峰鍕棃闁绘侗鍠涚粻娑樷槈濞嗘劖顏熼梻浣芥硶閸ｏ箓骞忛敓锟�, teamId: " + teamId);
				}
					 
				return true;
			}
		};
		setTeamLeaderP.submit();
	}

	// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋婵愭綗闁跨喕妫勯崐鍧楀箰婵犲啰鐝堕柍鍝勵儑缁夘喚锟借娲滈崰鏍�佸☉姗嗘僵濡插本鐗曢弫鎼佹⒒閸屾瑦绁版繛澶嬫礋瀹曟娊鏁冮崒姘鳖唵闂佽法鍣﹂幏锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊璁查弸娆撴⒑缂佹ê绗╁┑顔哄�楅幑銏犫槈閵忕姴鑰垮┑鈽嗗灥椤曆呭枈瀹ュ鈷戠紓浣股戠亸浼存煥閺囨ê鐏茬�殿喖顭烽幃銏ゆ倻濡櫣锛忔俊鐐�ら崢浠嬪垂閸洦鏁侀柨鐕傛嫹
	private static int checkPvP(long oldLeaderRoleId, long newLeaderRoleId) {
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁绘劦鍓欓崝銈嗐亜椤撶姴鍘寸�殿喖顭烽弫鎰緞婵犲喚妫熼梻浣稿閻撳牓宕板Δ鍛９妞ゆ牜鍋為埛鎴犵磼鐎ｎ偒鍎ラ柛搴＄Ч閺屾稒绻濋崘顏嗙杽閻庢鍠栭…鐑藉极閹邦厼绶炲┑鐘插濞煎姊绘担渚劸闁哄牜鍓熼幊婵嬫倷椤掑偆娴勫┑顔筋殣閹烽攱鎱ㄦ繝鍐┿仢鐎规洏鍔嶇换婵嬪礋椤掞拷濞呮垿姊绘担鐟邦嚋婵炴彃绻樺畷鏇㈠垂椤愶紕绠氶梺姹囧灮椤牏绮堢�ｎ偁浜滈柡宥冨姀婢规﹢鏌涢悙顏勫婵﹥妞藉Λ鍐归妶鍡欍�掑ù鐙呯畵閹瑩顢楁径濠冩珝闂傚倸鍊搁崐鎼佸磹閻戣姤鍤勯柛顐ｆ磵閿熸枻绠撳畷濂告偆娴ｈ鍟嶉梻浣哥秺濡潡鎮為敃鍌氱柧婵犻潧娲㈡禍婊堢叓閸ャ劍灏靛褎娲熼弻锕傚礃椤忓嫭鐏堥梺鍝勭焿缂嶄礁顕ｉ锟藉畷鎺戭潩椤戣法甯涚紓鍌氬�烽懗鑸垫叏閻㈠灚鏆滈柨鐔哄Т閽冪喖鏌ｉ弬鍨倯闁稿﹦绮穱濠囶敍濠靛浂浠╂繛瀵稿Т閻°劎鎹㈠┑鍡忔灁闁割煈鍠楅悘鍫ユ⒒娴ｇ绨荤紓宥勭窔閻涱噣宕橀妸褎娈濋梻渚囧弿婵″洭宕ｉ崱娑欌拺闁告稑锕ユ径鍕煕閹惧娲寸�规洘鐟╅弫鎾绘偐閺傘儲瀚肩紓鍌氬�烽悞锕傛晝閳轰讲鏋旈柡鍥ュ灪閻撴瑩鏌涘☉姗堟敾闁稿﹥鍔欓弻銊モ攽閸繀鍝楃紓浣哄У閻╊垰顕ｉ锟藉畷鎺楁倷閹碱叏鎷峰澶嬧拻濞达絽鎲￠崯鐐电磼鐎ｎ偄鐏撮柡浣稿暣婵″爼宕卞▎妯婚敜婵犵數濮撮敃銈夋偋婵犲洤鐓曢柟瀵稿Х绾惧ジ鎮楅敐搴″箺缁绢厼澧庣槐鎺楁偐閸楃偛绁梺鍝勬湰缁嬫垿锝炲┑瀣垫晢濠㈣泛锕ゆ竟搴ㄦ⒒娴ｇ瓔鍤冮柛顭戝灣濞嗐垹顫濈捄鐑樼�梺鍦濠㈡﹢鐛姀锛勭闁糕剝锚閻掗箖鏌涢悢鐑藉弰婵﹨娅ｉ幏鐘诲矗婢跺闂梻浣芥〃閻掞箓骞冮崒鐐茬伋闁挎洖鍊搁柋鍥煏婢诡垰绉电�氬綊姊洪崹顕呭剮缂佽妫濋弻锝夊箛閸忓摜鐩庨梺璺ㄥ枙婵倝鎮ч弴銏犵厺闁哄啫鐗婇弲婵嬫煕鐏炵偓鐨戦柛濠勫仱閹嘲顭ㄩ崘顏嗩啋闂佽鍠栧鈥崇暦閸洦鏁嗗ù锝呭级鐎氬ジ姊洪懡銈呅ｅù婊�绮欏畷婵堜沪鐟欙絾鐎洪梺瑙勫婢ф鎮″▎鎾寸厱闁瑰瓨鐟ラ敓鑺ョ墱閿熻姤鐔幏锟�
		return fire.pb.battle.pvp.PvPTeamHandle.onAnswerforSetLeader(oldLeaderRoleId, newLeaderRoleId);
	}

	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傦紭闂佹悶鍔忓▍锝囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡涱�楀褜鍠氶幉鎼佸级閹稿寒妫炲銈庝簻閸熷瓨淇婇崼鏇炲耿婵°倕鍟伴幊鍡涙⒒娴ｄ警鐒鹃柨鏇樺妼閻ｇ兘宕归銈囧骄闂佸搫娲ㄩ崰鎾绘⒔閸曨垱鐓曟繛鎴烇公閸旂喖鏌涘▎蹇旑棦婵﹨娅ｇ槐鎺懳熼懡銈庢К闂備胶顭堥敃銈咃耿闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗??闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻娑樼暆閿熶粙宕戦悙鍝勭厱闁圭儤顨嗛悡鏇㈡倶閻愭彃鈷旈柟鍐叉嚇閺屾盯寮捄銊愌囨煙椤旂瓔娈樼紒顕呭幖閳藉螣鐠囧弶顏ら梻浣规た閸樹粙鎮烽埡鍛摕闁绘柨鎲＄紞鍥旈敐鍛殲妞ゅ骸绉瑰铏圭矙閸噮鍔夊銈冨妼閿曨亜顕ｇ拠娴嬫婵☆垰鍚嬪▓鏇㈡⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞嬪┑鍐╊潔濠殿喗顭堟禍顒勬晬濠婂牊鈷戦柛鎰级閹牓鏌涙繝鍛厫缂佸倸绉撮…銊╁醇閻斿搫甯鹃梻浣稿閸嬪懐鎹㈤崘顭戝晠婵犻潧鏋归悷閭︾叆闁告洦鍘肩壕绯砮rRoleId闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹瑜版帒纾块柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘梻纾奸柨鐔诲Г瀵板嫰骞囬鐑囨嫹閸洘鐓熼柟鎵濞懷兠瑰鍛壕缂佺粯鐩畷銊╊敍濮橈絾鐎伴梻浣告惈閻鎹㈠┑瀣瀬闁规儳顕々鐑芥倵閿濆簼绨介柣锝嗗▕濮婃椽宕崟鍨﹂梺绯曟櫆娴犳竷k
	private boolean checkLeaderOnline(long leaderRoleId)
	{
		if(StateCommon.isOnline(leaderRoleId))
			return true;
		else
			return false;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傗敍缂備焦鐓＄粻鏍嵁閸℃稑绫嶉柛顐ｇ箘閸旀悂姊洪棃娑辨▓闁搞劌纾划鏃堫敊閹惧懏瀚归悷娆忓缁岃法绱掔紒妯肩疄妤犵偛鍟～婊堟晸娴犲绠犻柨鐔哄Т鍥撮梺绯曞墲椤ㄥ棝鎮鹃浣风箚闁绘劦浜滈敓濮愬�濆畷銏ｃ亹閹烘垹顦梺鐟扮摠缁诲嫰寮抽敂鑺ュ弿婵°倕顑嗙�氬綊姊洪悙钘夊姷缂佺姵鎹囬悰顔撅拷锝庝簴閺�浠嬫煕閻欙拷閸犳捇宕濆畝鍕厴闁硅揪闄勯弲顒勬煕閺囥劌浜楅柡澶樺弮濮婅櫣绮欓崠鈩冩暰闂佺粯顨嗙划鎾愁嚕椤愶富鏁婇柛銏狀槹濡啫鐣峰锟芥俊鎼佸Ψ瑜岄崰濠囨⒒娴ｇ儤鍤�闁告艾顑夐幃楣冾敂閸繄顦悗鐧告嫹闁告洦鍋勯崵鎴炵箾鏉堝墽鍒扮紒鐘茬У缁傚秴顭ㄩ崼鐔哄幐闂佹悶鍎插﹢鍦姳婵傚憡鍊垫慨姗嗗墰缁夋椽鏌熼绛嬫畼闁瑰弶鎸冲畷鐔碱敆閿熶粙藝閳哄懏鈷戠紒瀣儥閸庡繘鏌ㄩ弴妯哄姕缂佸矁椴哥换婵嬪炊閵娿儻鎷锋繝姘參婵☆垳灏ㄧ槐姘舵煏婵炵偓娅嗛柣鎾寸懇閺屸剝寰勬繝鍕檸濡炪倧绲炬繛濠囧蓟閿濆鏅查柛銉ｅ妽濮ｅ牓姊洪崫鍕槵闁跨喕妫勭壕顓㈠汲閸℃稒鐓ラ柣鏂垮閻瑧锟借娲戦崡鍐差嚕娴犲鏁囨繝濠冨姈鐎氱懓銆掑鐐閻庢鍠曠划娆撱�侀弴銏℃櫜闁告侗鍨界槐锟犳⒒閸屾瑧绐旀繛浣冲棗娅ｉ梻浣告啞娓氭宕板Δ鍛柈闁绘鏁哥壕浠嬫煕鐏炴崘澹橀柨鐔诲Г閹倸鐣烽幇顒傛殝闁瑰啿锕ょ紞濠傜暦閸洖惟鐟滄粌煤缁嬫娓婚柕鍫濇缁楁帡鎮楀鐓庡⒋鐎殿喖鎲＄粭鐔兼晸娴犲绠栫憸鐗堝笒閻愬﹥銇勮箛鎾愁伀婵絻鍨藉娲传閸曨剨绱ㄧ紓浣哄У閹瑰洤顕ｆ繝姘╅柕澶堝灪閺傦拷闂備胶纭跺褔寮插鍫濈厺闁瑰墽绮埛鎴﹀级閻愭潙顥嬫い锔肩畵閺屾稒绻濋崒娑樹淮閻庢鍠涢褔鍩ユ径鎰潊闁绘ɑ鐗撻崝鎴﹀蓟閻旂尨鎷峰☉娆樼劷缂佺姵鎹囬弻锟犲幢濡吋鍣紓浣介哺鐢繝骞冮鍫濆窛妞ゆ牗绨藉鍐ｆ斀妞ゆ梻銆嬮崝鐔虹磼椤曞懎鐏ｇ紒顕呭弮閹垽宕楅崗鍏碱仧闂備浇濮ら敋妞わ缚绮欓幃鐐烘寠婢跺棙鏂�闂佺粯锚绾绢參銆傞弻銉︾厱闁靛牆鎳愭晶锕傛煙椤旂厧妲婚柍璇叉唉缁犳盯骞欓崘褏妫┑鐘垫暩閸嬫盯骞婇幇顓熷弿闁汇垻顭堟闂佸憡娲﹂崳顔嘉ｆィ鍐┾拺缂備焦顭囩粻姗�鏌ｅΔ浣烘懌dure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkNewLeaderNormal(Team team, long memberRoleId)
	{
		//xbean.TeamInfo team = xtable.Team.get(teamId);
		for(xbean.TeamMember member: team.getTeamInfo().getMembers())
		{
			if(member.getRoleid() == memberRoleId && member.getState() == fire.pb.team.TeamMemberState.eTeamNormal)
				return true;
		}
		return false;
	}
	
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｈ鲸顨ラ悙鎼畼缂佽鲸鎸搁濂稿幢濡ゅ啩鎮ｇ紓鍌欐祰妞村摜鏁垾宕囨殾婵犲﹤瀚刊鎾⒒閿熶粙骞囬褎缍楅梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝閸庡孩銇勯弽銊ュ毈闁搞倖娲熼弻鐔虹磼閵忕姵鐏堥柟顖滃枛濮婃椽妫冨☉姘暫濠电偠顕滅粻鎾愁嚕閸欏闄勯柛娑樑堥幏缁樼箾鏉堝墽鍒伴柟纰卞亞閺侇噣宕滄担铏癸紳閻庡箍鍎遍幏鎴﹀礉閻旇櫣纾兼い鏃傗拡閻撹偐锟芥鍠曠划娆撱�佸锟介幃娆撴嚋閸偄鏆繝鐢靛Х閺佹悂宕戦悙鍝勫瀭闁诡垱婢樼紞鏃堟⒒娴ｅ憡鎯堟い鎴濇噽閿熻姤绋堥弲婊呯矚鏉堛劎绡�闁搞儴鍩栭弲顒�鈹戦悩缁樻锭婵炴潙鍊圭粋鎺楀煛閸屾粎顔曢柣搴ｆ暩椤牓锝為幒妤佺厱闁哄洢鍔岄獮妯汇亜閺冿拷濞茬喖寮婚敐鍡樺劅闁靛繆鎳囧銊ヮ渻閵堝骸骞栨繛宸弮楠炲棗鐣濋敓浠嬫晸閺傘倗绉甸柛鐘愁殜瀹曟垿濡搁敂杞扮盎闂佸搫绉查崕閬嶆晸閼恒儺娈樼�殿啫鍥ㄦ櫢濞寸姴顑嗛埛鎴犵磽娴ｅ鑲╂闁秵鐓曢柨婵嗙箳缁夘噣鏌ｅ☉鍗炴灓闁跨喐鏋荤紞鍡涘窗濡ゅ懎鐤炬繝闈涱儐閻撱儵鏌ｉ弬鍨暢闁活厽鐟╅弻銊モ攽閸繀妲愰悗瑙勬磸閸斿酣鏁撻懞銉р檨妞ゎ厼娲畷銏ゎ敂閸啿鎷洪梺鍛婃尰瑜板啯绂嶅┑鍫㈢＜閻犲洦褰冮弳锝夋煙椤曞棛绡�闁轰焦鎸荤粋鎺旓拷锝庡亐閹锋椽姊洪崨濠勭畵閻庢凹鍙冨畷鎺楀Ω閳哄倻鍘遍梺闈涱煭闂勫嫰濡靛┑瀣厱闁冲搫鍊诲ú瀛橆殽閻愭潙绗掗摶鏍归敐鍛儓鐎殿喗濞婂缁樻媴閾忕懓绗″┑顔硷工椤嘲鐣烽弴銏犖ч柛娑变簼閻庢椽姊洪崫鍕偍闁搞劍妞介幃鈥斥枎閹惧鍘介梺缁樻煥閹诧紕娆㈤崣澶堜簻闊浄绲介獮鏍煃鐟欏嫬鐏撮柛鈺佸瀹曟﹢鍩℃笟濠冨闁规壆澧楅悡娑樏归敐鍥剁劸闁跨喕妫勫锟犵嵁閸愩劉鏋庨柟鍨暞閺呫垺绻涢幘纾嬪婵炲眰鍊濆鏌ユ偐缂佹ǚ鎷婚梺绋挎湰閼归箖鏁撻懞銉﹀�愮�规洘鍔欓幃婊堟嚍閵夈儲鐣遍梻浣告啞閹搁绮堟笟锟藉畷鐟扳攽閸ャ儰绨婚梺鍝勭▉閸嬪嫭绂嶈ぐ鎺撶叆闁绘柨鎲￠悘顔剧磼閻樿櫕灏柣锝夋敱缁虹晫绮欑拠淇卞姂閺屾洘寰勫☉銏☆�嶉悶姘剧秮濮婂宕掑▎鎰偘濠电偛顦板ú鐔风暦閹惰姤鏅濋柛灞炬皑椤斿棝姊虹捄銊ユ珢闁瑰嚖鎷�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姕闁哥姴妫濋弻銊╁籍閸屾矮澹曢梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃�鎱ㄥΟ鍨厫闁绘挾鍠栭弻鐔煎箚瑜嶉懜褰掓煕閺冿拷缁海妲愰幒鏃傜＜婵☆垰鍚嬮崚娑樜旈悩闈涗粶妞ゆ垵顦甸獮鍐煥閸繂鑰垮┑鐐叉缁绘劖顨欐繝鐢靛Х閺佸憡鎱ㄩ銏犵闁告劦鐓堥崥瀣熆鐠轰警鍎涢柨鐔绘缁夌懓顫忓ú顏咁棃婵炴垶鐟﹂幃娆撴煟鎼淬垺鐨戝褎顨嗙粚杈ㄧ節閸ャ劌锟借崵绱掑☉姗嗗剱闁哄拋鍓欓埞鎴︽偐鐠囇冧紣闁诲孩鍑归崜姘辩矉閹烘洏浜归柟鐑樻尨閹风粯绻涙潏鍓ф偧闁烩剝妫冨畷鐢稿礃椤旂晫鍘遍梺缁樕戦崜姘枔閺冿拷閵囧嫰顢橀悙鍏歌檸濡炪値鍋呯划鎾诲极閹惧顩烽悗锝庝簽閻ｆ椽姊虹拠鈥崇�婚柨鐔剁矙瀵劍绂掔�ｎ偆鍘卞銈嗗姦閸嬪嫭鏅堕鐐村�垫慨姗嗗墰缁夋椽鏌＄仦璇插闁宠鍨垮畷鍗炩槈閹插瀚规俊銈忔嫹妞ゎ叀鍎婚ˇ鏉戭熆瑜庨〃濠冧繆閻㈢绀嬫い鏍ㄧ♁濞呭棝鏌ｉ悩鍙夋悙鐎殿喖鐖奸幃闈涒攽閸″繑鏂�濡炪倖姊婚妴瀣绩缂佹ü绻嗛柣鎰閻瑦顨ラ悙鎻掓殻闁诡喗绮撻幐濠冨緞瀹�濠傛倯濠碉紕鍋戦崐鏍涙担瑙勫弿闁靛牆顦粣妤呮煛瀹ュ骸骞楅柍閿嬪灴閺岋箑螣娓氼垱笑闂佸搫妫寸徊浠嬫箒濠电姴锕ら崯浼村春閿濆浄鎷峰▓鍨灈妞ゎ厾鍏樺顐㈩吋婢跺﹦顦伴梺鍏兼倐濞佳囶敂閸洘鈷戦柟绋挎捣缁犳挸螖閻樺弶鍟為柡鍛埣椤㈡岸鏁撴禒瀣摕闁挎稑瀚搁幏鐑芥晲鎼粹�茬盎闂佽绻嗛弲婵堟閹烘挻缍囬柕濞垮劤椤戝倿姊虹捄銊ユ瀾闁哄宕电槐鐐哄幢濡⒈娲搁柣鐘烘〃缂嶅秹鎮㈤崗鍏兼闂佽姤锚椤﹁棄銆掓繝姘厪闁割偅绻傞弳娆撴煟韫囷絼閭柡灞诲妼椤繈鎳滈悽闈涘笚闂佽崵鍠愰悷銉э拷姘煎墴閹锟界敻娼婚幏椋庢喆閸曨剛顦ラ梺闈涚墕閹诧繝骞堥妸鈺傛櫢濞寸姴顑嗛悡鍐煏婢跺牆濡介柣婵愪邯閺岋綀绠涢妷锕�顏堕梻鍌氬�搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欘槬闂佺琚崝搴ㄥ箟閹间礁绫嶉柛顐ｇ箘閻ｆ椽姊虹粔鍡楀濞堟棃鏌ｉ幇顒婅含闁哄本娲樼换婵婄疀閺囩姵娈搁柣搴㈩問閸犳牕顭囬垾鎰佹綎婵炲樊浜濋ˉ鍫熺箾閹寸偠澹樻い锝嗘そ濮婅櫣娑甸崨顔惧涧闂佸憡姊归悷銉╊敋閿濆绠柤鎭掑劜濞呭洭姊虹粙鎸庢拱缂佸鎹囧畷銏ゅ箹娴ｅ湱鍘介棅顐㈡处濞叉牗绂掗埡鍌樹簻闁哄洤妫楀ú銈囩矆婢跺绡�濠电姴鍊绘晶娑㈡煟閹惧啿鏆ｆ慨濠冩そ瀹曞綊顢氶崨顓炲闁诲氦顫夊ú鏍儗閸岀偛钃熼柍銉ョ－閺嗗棝鎮楅敐搴″鐞氾箓鏌ｆ惔銏╁晱闁革綆鍣ｅ畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮繝鍥ㄧ參婵☆垯璀﹀褔鏌熸搴″幋妞ゃ垺绋戦～婵嬫晲閸℃ɑ婢戝┑锛勫亼閸婃牕煤閺嶎灛娑樷槈濮樿京鐓撴繝鐢靛У绾板秹鎮￠弴銏＄厸闁告劖瀵х�氬綊姊洪懡銈呮毐闁哄懏鐩、姘舵晲閸℃瑧鐦堝┑顔斤供閸庣敻鍩￠崨顔惧帾婵犮垼娉涢悧鍡涙倶椤忓懌浜滄い鎰╁灮瀛濋梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╁ǎ顕�姊绘担渚劸妞ゆ垵妫濆畷婵嗏枎韫囨洘娈惧┑鐘绘涧椤戞劙寮繝鍥ㄧ厱闁圭偓顨呴幏鎴犳閸愭祴鏀介柣鎰煐瑜把呯磽瀹ュ繑瀚规繝鐢靛仜閹锋垹寰婇崸妤�鏋佹い鏂跨毞濡插牊绻涢崱妯虹仼妞ゆ梹娲熷娲嚃閳圭偓瀚涢梺鍛婃尰閻熲晛顕ｉ崨濠冨劅闁逞屽厸缁ㄥ姊洪崫鍕ォ濞存粎鍋熺划鏃堫敊閹惧懏瀚归悷娆忓缁�锟界紓鍌氱Т閿曨亪濡存笟锟藉鎾閻欙拷濞煎﹪姊洪棃娑氱疄闁搞劏顕ч悾鍨媴閸︻厾鐦堥梺姹囧灲濞佳冩毄闂備浇妗ㄧ粈渚�骞夐敓鐘茬疄闁靛ň鏅涚粻缁樸亜閺冨洤浜归柨娑欑懇濮婃椽宕ㄦ繝鍕窗闂佺瀛╅悡锟犮�侀弴銏″殟闁靛绲肩花濠氭⒑鐟欏嫬绀冩繛澶嬬洴瀵悂寮崒婊咃紲闂佺粯顭堝畷鐢告偩濞差亝鐓欐い鏃傜摂濞堟粓鏌熼鎸庮棄闁崇粯鎸鹃幑鍕Ω閵夈儛顏堟⒒娴ｅ憡鎯堢紒瀣閹广垹鈹戦崱鈺傜稁闂佹儳绻愬﹢杈╁閸忓吋鍙忔俊銈忔嫹婵☆偅鐟╅幃鐐槹鎼达絿锛濇繛鎾磋壘濞层倝寮稿☉姘辩＜濠㈣泛锕︾粔娲煟濞戝崬娅嶇�规洖銈告俊鐑藉Ψ鎼存ɑ娅婇柡灞界У濞碱亪骞忕仦钘夊腐婵＄偑鍊栧褰掑礉閺嶎偅宕叉繛鎴炵懄缂嶅洭鏌涢幘妤�鍟悡鍌炴⒒娴ｄ警鏀板┑顔哄�楅崚鎺楀箻鐠囪尙鐣洪梺缁樺姦閸撴氨绱為崶顒佺厪濠电倯鍐╁闁哥喎閰ｅ娲传閸曞灚笑闂佺粯顨呭Λ娆撳疾閼哥數顩烽悗锝庝簽椤︻偅绻涚�电甯堕柣掳鍔戦幃鈥斥枎閹炬潙浠梺鎼炲劚濞层倝骞婇幇鐗堝剨闁割偁鍎查崐鐢告偡濞嗗繐顏紒锟介崘顔界厱闁靛鍎崇粔娲煛娴ｈ宕岀�殿噮鍓熸俊鍫曞炊閳诡剨缍佸娲传閵夈儛锝嗐亜閵娿儻韬鐐插暣閺佹捇鎮╅崣鍌樺姂閺屻劑寮崹顔规寖濡炪倖姊瑰ú鐔奉潖濞差亝鍋￠梺顓ㄧ畱濞堝爼姊虹粙娆惧剳濠殿喚鏁哥划鈺呮偄閼茶櫣鍠栭幊锟犲Χ閸ヨ泛鏅梻鍌欑閹测剝绗熷Δ鍛獥闁哄秲鍔嶉崣蹇擃熆鐠鸿櫣鐏辩痪鎯с偢瀵爼宕煎☉妯侯瀳濠电偞鎯岄崰妤呫�冮妷鈺傚�风�瑰壊鍠楁闂備浇娉曢崰鎰板几閼姐倗绀婇柛鈩冪☉绾惧鏌涢弴銊ョ伇闁轰礁鍊块弻銊╂偆閸屾稑顏�
	private boolean checkTeamStatusValid(Team team)
	{
		BuffAgent agent = new BuffRoleImpl(team.getTeamLeaderId(),true);
		int conflictId = agent.checkCanAddBuff(BuffConstant.StateType.STATE_TEAM_LEADER);
		return conflictId == 0;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｈ鲸顨ラ悙鎼畼缂佽鲸鎸搁濂稿幢濡ゅ啩鎮ｇ紓鍌欐祰妞村摜鏁垾宕囨殾婵犲﹤瀚刊鎾⒒閿熶粙骞囬褎缍楅梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝閸庡孩銇勯弽銊ュ毈闁搞倖娲熼弻鐔虹磼閵忕姵鐏堥柟顖滃枛濮婃椽妫冨☉姘暫濠电偠顕滅粻鎾愁嚕閸欏闄勯柛娑樑堥幏缁樼箾鏉堝墽鍒伴柟纰卞亞閺侇噣宕滄担铏癸紳閻庡箍鍎遍幏鎴﹀礉閻旇櫣纾兼い鏃傗拡閻撹偐锟芥鍠曠划娆撱�佸锟介幃娆撴嚋閸偄鏆梻鍌氬�峰ù鍥р枖閺囥垹绐楅柟鎯х摠閸欏繘鏌熺紒銏犳灍闁稿﹤鍢查埞鎴︽偐閹绘帩浠鹃梺鍝ュУ閸旀瑩鎮￠锕�鐐婇柕濞э拷濡插牏绱撴担鍝勑ｆ俊鐐扮矙瀵鏁愰崨鍌滃枔閸犲﹥娼忛妸锔诲敹闂傚倷绀佸﹢閬嶅礂濮楋拷钘熼柟鎹愵嚙缁犵喖鏌熺紒銏犳灈缂侊拷鐎ｎ偁浜滈柟鐑樺灥娴滅偞淇婇煫顓炲祮婵﹦绮幏鍛存惞閻熸壆顐奸梻浣烘嚀閹诧繝骞愰幎钘夋瀬闁瑰墽绮崵宥夋煏婢跺牆鍔氭い顐簻閳规垿鎮欓幓鎺撳�梺缁橆殕濞茬喖宕洪悙鍝勭闁挎洩鎷风痪鎯у悑閹便劌顫滈崱妤�绠归梺鍝勬閻楁挸顫忛搹鍦煓婵炲棙鍎抽崜浼存煟鎼淬垻鐓柛妤�鍟块锝囨嫚濞村顫嶅┑鐘诧工閹虫劙寮堕幖浣光拺閻熸瑥瀚粈鍐╃箾閸涱喗绀嬬�规洘鍔欓、娑㈡倷缁瀚煎┑鐐存綑閸氬鎮烽妸鈺婃晣闁惧繐婀辩壕鐣岋拷骞垮劚鐎氼噣藝閿斿浜滄い鎰╁灮缁犺崵锟借娲﹂崑濠傜暦閻旂厧绠犵�瑰嫮澧楅幖鎰版煟閹邦剨鍔熼柟鍙夌摃缁犳盯寮崒銈嗙カ濠电娀娼ч崐鎼佸箟閿熺姴鐓曢柟瀵稿仦閸欏繘鏌ｉ悢鍝勵暭闁瑰吋鍔欓弻銊╂偄鐠囨畫鎾寸箾閸欏澧遍柛娆忔噹椤啴濡堕崱妯虹殤闂佺顑嗛幑鍥极閹捐绠ｉ柟鐑樻濡差喖顪冮妶搴′簼缂佽鍟撮弫宥夊箛椤戣姤鏂�闂佹悶鍎崝宥夋偟濠婂牊鈷掗柛灞剧懅椤︼箓鏌熷ù瀣舵嫹鐡掍焦妞介弫鍐磼濮橀硸妲舵繝鐢靛仜濡瑩宕濆Δ鍛拷鍛存嚑椤掍礁鏋戦梺缁橆殔閻楀棛绮鑸电厓闂佸灝顑呴悘銉╂煃鐟欏嫬鐏寸�规洘甯掗～婵嬵敇閻愬瓨鐣兼繝鐢靛仜閻°劑宕垫惔銊ョ９婵犻潧顑呴拑鐔兼煟閺冨倸甯剁紒锟介崟顖涚厪闁割偅绻冮ˉ婊勩亜韫囥儲瀚�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃洝鐏冮梺鎸庣箓閹冲酣寮抽悙鐑樼厱閻庯絻鍔岄敓鑺ョ箞瀵鏁撻悩鑼�為梺瀹犳〃缁讹繝鏁撻懞銉﹀磳闁哄瞼鍠庨悾锟犲级閹稿巩鈺侇渻閵堝骸浜濈紒璇茬墦閵嗕礁顫滈敓浠嬪箖閳哄懎绀冮柛娆忣槺瑜版盯姊婚崒姘拷椋庣矆娓氾拷閹潡宕堕‖顒佺洴瀹曠喖顢涢敓浠嬪炊椤掍礁浠洪梺鍛婄缚閸庤京绮婇敃锟介埞鎴﹀煡閸℃浠梺闈涙椤戝鐛箛鎾舵殝闁逛絻娅曢～宥呪攽閻愬弶鍤�濡炲顭堥悾婵嬪箹娴ｅ搫绁﹂棅顐㈡处缁嬫帡宕戦敓鐘崇厵濞达絽鍟悵顏堟煛閸岋附瀚归梻鍌氬�烽懗鍓佸垝椤栫偞鍋￠柕澶嗘櫅缁犵娀鐓崶銊︾┛闁瑰嘲鍢查～婵囨綇閵娿儲鐣俊鐐�ゆ禍婊堝疮鐎涙ü绻嗛柛顐ｆ礀楠炪垺淇婇婊冨妺婵炲牜鍋勯埞鎴︽偐閹颁礁鏅遍梺鍝ュУ瀹�绋款嚕椤愶絿绡�婵ê宕粊锕傛⒑缁洖澧茬紒瀣灥閺侇噣姊绘担绋挎毐闁圭⒈鍋婂畷鎰節濮橆剙鍋嶉梺鍛婎殘閸嬫劙寮ㄦ禒瀣厽闁归偊鍘界紞鎴︽煟韫囧鍔ら柨鐔凤拷鐕佹綈婵炶绠撳畷婊堟偄婵傚娈ㄩ梺褰掓？閻掞箓宕戦崟顖涚厵闁兼祴鏅涙禒鎺旂磼閵娿儺鐓奸柡灞诲妼椤劑宕橀崜褍鎮戦柣搴ゎ潐濞叉牠鎮ラ崗闂寸箚婵繂鐭堝Σ濠氭倵濞堝灝鏋熷┑鐐诧工椤繒绱掑Ο璇差�撻梺鍏间航閸庢娊濡存繝鍥ㄢ拺闂傚牃鏅濈粔鍓佺磼閻樿櫕宕岄柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷?
	private boolean checkTeamInSwitchStatus(Team team)
	{
		//xbean.TeamInfo team = xtable.Team.get(teamId);
		if(team.getTeamInfo().getSwitchleaderid() == -1)
			return false;
		else if((now - team.getTeamInfo().getSwitchleadertime()) > TeamManager.MAX_INVITE_TIMEOUT )
		{
			team.getTeamInfo().setSwitchleaderid(-1);
			return false;
		}
		else
			return true;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹锋椽姊虹涵鍛汗闁稿鐩弫鎾剁玻閺嵮勬悙缂佺媭鍨堕弻锝夊箣閿濆憛鎾绘煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柛鐔哄仱閺屾盯鎮㈤崫鍕捕闂侀潧妫欑敮鎺楋綖濠靛鏁囩憸搴ㄦ偪娓氾拷閹鎲撮崟顒傦紭闂佹悶鍔忓▍锝囧垝鐎ｎ喖绠抽柡鍐╂尰鐎氬綊鏌ㄥ┑鍡涱�楀ù婊勭矒閺屾盯骞欓崘銊ョ睄濠殿喖锕ㄥ▍锝呪槈閻㈢宸濇い鏂垮悑闁款參姊婚崒姘拷鍝ワ拷姘煎墰閿熻姤鐭崡鎶界嵁閸愵喖鐏抽柡鍌樺劜椤秹姊洪棃娑㈢崪缂佽鲸娲熷畷銏ゆ焼瀹ュ棌鎷洪梺鍛婄箓鐎氼參宕掗妸鈺傜厱闁靛鍎查幆鍫ユ煃閽樺妲兼い锕�缍婇弻鈥崇暆鐎ｎ剛袣缂備胶濮甸惄顖涗繆閻ゎ垼妲鹃梺浼欑畱閻楁挸顫忓ú顏勪紶闁告洦鍘鹃崝鍦磽娴ｄ粙鍝烘繛鍙夘焽缁骞掑Δ浣规珖闂佺鏈喊宥壦夊┑瀣拺闂傚牊绋撴晶鏇㈡煟濡わ拷濡繈鐛崱娑橀唶闁绘棁娅ｉ惁鍫濃攽閻愯尙澧曢柣蹇旂箞瀵鈽夐姀锛勫弳闂佸搫娲﹂敋闁跨喕濮ょ换鍐╃┍婵犲洤閱囬柡鍥╁仧椤旀劖绻涙潏鍓у埌闁硅姤绮撻幃鎯洪鍛嫼闂傚倸鐗婄粙鎾剁不閻愮儤鐓曞┑鐘插暞缁�鍫㈢磼椤旇偐澧︾�规洘甯￠幃娆戯拷鐢殿焾楠炲牓姊绘繝搴′簻婵炶绠撻幊婵嬫倷椤掑偆娲搁柣鐔哥懃鐎氼亞鎹㈤崱娆欐嫹閻熸澘顥忛柛鐘虫礋閺屽洭顢涘☉娆忓伎婵犵數濮寸�氼喚鏁☉銏＄厵鐎瑰嫮澧楅崳鐣岀磼椤旂晫鎳呴柟鐟板婵℃悂鏁傜拠鍙夋珝闂傚倸鍊搁崐鐑芥嚄閸洖绠犻柟鎹愵嚙閸氬綊鏌″搴″箹缂佺媭鍨堕弻銊╂偆閸屾稑顏�?
	private boolean checkAnwserIsNewLeader(Team team , long newLeaderId)
	{
		if(team.getTeamInfo().getSwitchleaderid() == newLeaderId)
			return true;
		else
			return false;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛銉㈡櫅娴犳粓鏌ㄩ悢缁橆棄婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗2闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呴崨濠呯闂佺绨洪崐婵嗙暦閻㈠憡鏅濋柨鐔剁矙閸┿儲寰勬繛銏㈠枛閺屻劎锟斤綆鍋呭鎴︽⒒娴ｇ瓔鍤欓柛鎴犳櫕缁辩偤宕卞Ο纰辨锤闂佺粯鍔掔拃锕傚极婵犲洦鐓曢柕澶樺枛婢ь垶鏌嶉柨瀣伌闁诡喖鍢查埢搴ょ疀閹垮啩鎮ｇ紓鍌欑筏閹风兘鏌涢幇銊︽澓濞存粍绮撻弻锟犲炊瑜庨ˉ婊堟煙閾忣偄濮嶉柟顖氱焸瀹曞崬鈽夊▎鎴濆箞闂備線锟芥稑宓嗘繛浣冲洤鍑犻柣鏂垮悑閻撶喖鏌熼幆褏鎽犵紒锟介崘顏嗙＜缂備焦顭囧ú瀛橆殽閻愬樊鍎忛柍瑙勫灴瀹曞崬顫濋鍌氬箣闂傚倸鍊风粈渚�骞栭锔绘晞闁搞儺鍓欑粣妤呮煙閸撗呭笡闁哄懏鎮傞弻銈夊箒閹烘垵濮堕梺鍝ュ枎缁绘﹢寮诲☉銏″亹闁归鐒﹂悿浣肝旈悩闈涗沪闁搞劌鐏濋悾鐑藉醇閺囥劍鏅㈤梺璺ㄥ枍缁瑩骞忛幋锔藉亜闁稿繗鍋愰崢浠嬫⒑閸濆嫬鏆欓柛濠冩倐閹啴骞嬮敂鐣屽幍閻庣懓瀚妯何ｆ繝姘厓闁芥ê顦藉Σ鎼佹煃鐠囪尙效妞ゃ垺顭堥ˇ杈╃磼閵娿儯鍋㈤柡宀�鍠愮粭鐔煎垂椤旂⒈娼庨柣搴ゎ潐濞叉﹢宕曟總鏉嗗洭顢氶敓浠嬪蓟閿熺姵鏅稿ù鐘差儐閸ゅ秹鏌曟径娑氬缂併劌顭峰娲传閸曨偅娈梺绋匡功閹虫捇鍩㈠澶婂嵆闁绘棁娅ｉ鏇㈡⒑閸︻厾甯涢悽顖楁櫊瀹曠敻鎮㈤崗鑲╁弳闂佺粯妫侀褑顣挎俊鐐�栧褰掓偋閻樿尙鏆﹀ù鍏兼綑閸愶拷濡炪倖鎸嗛崟顒佺彣濠碉紕鍋戦崐鏍箰閸洖鍨傛繛宸簻閻ら箖鏌熼梻瀵稿妽闁绘挾濞�閺岀喖顢橀悢椋庣懆闂佸憡鏌ｉ崐婵嬪蓟瀹ュ鐭楅柕澹懐宕查梻浣告惈鐞氼偊宕濆畝鍕剁稏婵犻潧鐗婂畷澶愭煣韫囨凹鍤冮柛鐔锋喘濮婄粯鎷呴崨濠冨創濡炪倧缂氶崡鍐茬暦閻戞绡�闁搞儮鏅涜ぐ鍡楊渻閵堝棗绗掗柛瀣躬楠炲繐鐣￠幍铏亖闂佸壊鐓堥崰妤呮倶閸儲鈷戠紓浣诡焽婢ь亪鏌曢崼銏╃劸闁伙絽鍢茬叅妞ゅ繐瀚崝鎾⒑閸涘﹤濮�闁哄懏鐩、鎾诲箻缂佹ǚ鎷洪梺鐓庮潟閸婃洟寮搁弬娆剧唵鐟滃酣銆冩繝鍥х畺婵☆垳绮崕鐔兼煏韫囧鐏柣锕�鐗撻幃妤呮偨闂堟侗鏆梺璇茬箲瀹�绋跨暦閹版澘围濠㈣泛锕ら幆鐐烘煟鎼搭垳绉甸柛鎾寸〒婢规洘绺介崨濠勫幗濠碘槅鍨辩�笛囨偟椤忓牊鍊堕煫鍥风到楠炴鏌曢崶褍顏い銏℃礋婵拷闁靛繈鍩勯崯鍫ユ⒒娓氾拷濞佳兠洪敃鍌氱婵炲棙鎸惧畵渚�鏌熼悜姗嗘當缂佺媴缍侀弻锝呪枎濞嗘劕顏舵繝纰橈拷鍐茬骇婵＄偠妫勯～蹇曠磼濡顎撻梺鑽ゅ枛閸嬪﹪宕电�ｎ剛纾藉ù锝呭閸庢劙鏌涢妸銉хШ闁轰焦鎹囬幊鐐哄Ψ閵夈儲鐦撻梻浣告啞閹搁箖宕伴弽顓熷仒妞ゆ洩鎷风�规洖宕埥澶娾枎閹邦収浠ч梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷�
	private boolean checkTeamNoSuccSwitchIn2min(Team team)
	{
		if((now - team.getTeamInfo().getSuccessswitchtime()) > TeamManager.MIN_SUCCESS_SWITCH_LEADER_PERIOD )
			return true;
		else
			return false;
	}
	
	
	
	
	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794455;

	public int getType() {
		return 794455;
	}

	public byte agree; // 0 拒绝 1同意

	public CAnswerforSetLeader() {
	}

	public CAnswerforSetLeader(byte _agree_) {
		this.agree = _agree_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(agree);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		agree = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CAnswerforSetLeader) {
			CAnswerforSetLeader _o_ = (CAnswerforSetLeader)_o1_;
			if (agree != _o_.agree) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)agree;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(agree).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CAnswerforSetLeader _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = agree - _o_.agree;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

