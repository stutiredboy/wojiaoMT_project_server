
package fire.pb.team;

// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CFormationMakeBook__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╄兌閿熻棄绠嶉崕閬嵥囬婊呯焼閻庯綆鍋佹禍婊堟煙閸濆嫮肖闁告柨绉甸妵鍕棘閹稿骸顦╃紓浣虹帛缁诲倿顢氶妷鈺傜叆閻庯綆鍋嗛崙锟犳⒑鐠恒劌鏋旈柣娑栧�濆畷鎯邦槾妞ゆ柨妫濆铏圭磼濡櫣浼囨繝娈垮枔閸婃繈骞冮敓鐘参ㄩ柍鍝勫�婚崢鎼佹⒑閹肩偛鍔撮柣鎾茬窔椤㈡棃宕奸悢鍑ゆ嫹閸洘鐓犵痪鏉垮船婢ч箖鏌熼悜绛嬫闁瑰弶鎸冲畷鐔碱敆閸屻倖肖闂傚倷鑳堕…鍫㈡崲閹达附鏅濋柕蹇嬪�曡繚婵炶揪绲芥竟濠傤焽閵娾晜鐓ラ柣鏂垮閻瑦顨ラ悙鎻掓殻闁糕斁鍓濋幏鍛村矗婢跺奔绨撮梻鍌欑濠�閬嶁�﹂崼婵愬晠闁冲搫鎳忛弲婵嬫煕鐏炲墽鈻撻柟宄邦煼濮婅櫣绮欓幐搴㈡嫳闂佽崵鍟欓崶浣告喘閺佸啴宕掑☉姘箥缂備胶鍋撳妯虹暦椤掍胶顩查柟娈垮櫙閹烽鎲撮崟顒�顦╅梺鎼炲妼閻栧ジ濡存笟锟藉鎾閳╁啯鐝曢梻浣藉Г閿氭い锔诲枤缁辨棃寮撮姀鈾�鎷绘繛杈剧秬濞咃綁濡存繝鍥ㄧ厱闁规儳顕粻鐐烘煙椤旂偓鐒挎い锕�缍婇弻鐔碱敍濮樿京鍔悗瑙勬礀瀹曨剟鍩ユ径濞炬瀻闁瑰瓨绻傜粻鐐烘⒒娴ｇ瓔鍤欑紒缁樺浮瀹曟垿鎮欓崫鍕紵闂佽鍎煎Λ鍕触鐟欏嫨浜滈柟鐑樺灥椤忣亪鏌ｉ幘璺烘灈闁哄矉绻濆畷鎺戔槈濮楀棗娈濇俊鐐�戦崕顖炲垂娴犲钃熼柣鏃傗拡閺佸﹪鏌ｉ幇闈涘婵炲牆鐭傞弻锝夊箻閸楃儑鎷烽弽顓炍﹂柛鏇ㄥ枤閻わ拷闂佸湱鍋撻幆灞轿涢妶鍥╃＝濞达絿鎳撴慨鍫熴亜閵娿儻韬�殿喖顭烽弫鎰板幢濡搫濡抽梻渚�娼х换鍫ュ春閸曨垰姹查柍鈺佸暟缁★拷闂侀潧绻堥崹娲吹閿熻棄鈹戦埥鍡椾簼缂佸鍨靛畵鍕⒑閸︻厼顣兼繝銏☆焽缁鎼归锛勭畾闂侀潧鐗嗙�氼噣藝閿曪拷闇夋繝濠傚暟缁夋椽鏌″畝瀣ɑ闁诡垱妫冮崺鍕礃椤撶媭鏀ㄦ繝鐢靛У椤旀牠宕板Δ鍛閻庡湱濮甸敍鍌涚節閻㈤潧鈻堟繛浣冲浂鏁勯柛鈩冪☉閻撴洟鏌熸潏楣冩闁稿﹦鏁婚弻娑㈡晜鐠囨彃绠归柡宥侊拷鎰佹富闁靛牆鍟崝姘亜閿斿灝宓嗗┑锛勬暬瀹曠喖顢涘☉娆愮彆闂備胶绮崝锕傚礈濮橆儷鎺楀醇閵夛箑锟藉灚绻涢崼婵堜虎婵炲懏锕㈤弻娑氾拷锝庝悍闊剟鏌ｅ☉鍗炴灈閾伙綁鏌ゅù瀣珖闁挎稒绮岄埞鎴﹀煡閸℃浠紓渚囧櫘閸ㄥ爼銆侀弮鍫熷亜闁稿繐鐨烽幏缁樼箾鏉堝墽绉┑顔哄�楀☉鐢稿醇閺囩喓鍘遍梺鎸庣箓缁绘帡鎮鹃崹顐闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?
 * @author changhao
 *
 */
public class CFormationMakeBook extends __CFormationMakeBook__ {
	@Override
	protected void process() {
		// protocol handle
		
		//final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		
		mkdb.Procedure formationmakebook = new mkdb.Procedure()
		{
			@Override
			protected boolean process()
			{
				/*
				fire.pb.item.GroceryItemAttr config = ConfigManager.getInstance().getConf(fire.pb.item.GroceryItemAttr.class).get(bookid);
				if (config == null)
				{
					psend(roleid, new STeamError(TeamError.UnKnuownFormBook));
					TeamManager.logger.debug("CFormationMakeBook:濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐏忓繘姊洪崨濠庢畷濠电偛锕ら锝囨嫚濞村顫嶅┑鈽嗗灦閺�閬嶅棘閿熶粙姊绘担鍛婂暈婵炶绠撳畷鎴﹀礋椤掍礁寮块梺闈涚箞閸婃牠鍩涢幋鐐电闁煎ジ顤傞崵娆愵殽閻愭惌娈滈柡宀�鍠栭幃鐑芥偋閸繃鐏庨柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佸啿鎼崐鐟扳枍閸ヮ剚鈷掑ù锝囨嚀椤曟粎绱掔拠鎻掞拷姝岀亱濠电偞鍨熼幊鐐哄炊椤掞拷鎯熼梺鍐叉惈閸婄敻骞忛搹鍦＝濞达絽澹婇崕鎰亜閹寸偟鎳囩�规洘娲濈粻娑樷槈濞嗘垵骞堝┑鐘垫暩婵挳宕愯ぐ鎺戠；闁靛／宥嗗婵炲牆鐏濋弸娑欍亜椤撱垺鏁卞ǎ鍥э躬楠炴牗鎷呴崫銉ュ箰闂備胶顭堥張顒勬儗椤旀崘濮冲┑鐘崇閳锋帒霉閿濆懏鍟為柛鐔哄仧缁辨帞鎷犻幓鎺炴嫹婵犳碍鏅搁柤鎭掑劥婢规﹢鏌熼搹顐�跨�殿噮鍋婇獮鍥敇閻愮數鐛梺璇插嚱缂嶅棝宕滃▎鎾跺祦婵°倕鎳忛埛鎺懨归敐鍛暈閻犳劧绻濋弻娑欐償濞戞﹫鎷峰┑鍡欐殾鐟滅増甯╅弫宥夋煟閹邦垰鐨洪柨娑欑洴濮婃椽妫冨☉姘辩杽闂佺锕ラ悧鐘诲箖閳ユ枼妲堟慨妯煎亾鐎氬綊鏌ｈ閹诧紕锟芥艾缍婂铏规崉閵娿儲鐎虹紓渚囧枟閻熴儵鎮鹃柨瀣嚤闁哄鍨甸崬銊ヮ渻閵堝棙灏靛┑顔碱嚟缁﹪鏁冮崒娑掓嫼缂佺虎鍘奸幊蹇氥亹瑜忕槐鎺楁偐閸愯尙浠肩紓渚囧枦椤曆囧煡婢跺ň鏋庣�广儱瀚惄搴ㄦ⒒娴ｅ憡璐￠柛搴涘�濆畷褰掓偨閸涘﹥娅㈤梺鑺ッˇ浼村箟閹间焦鐓涘〒姘搐濞呭秶锟借娲滈…鍫ｇ亙婵炶揪绲藉鍓侊拷姘虫閳规垿鎮欓懜闈涙锭缂傚倸绉崇欢姘虫＂闂佽鍎抽顓㈠煝閺冨牊鐓犵痪鏉垮船婢ф壆鐥崜褎娅曢柨鐔绘缁犲秹宕曟潏鈺嬫嫹濮樼厧娅嶇�规洘绻傞濂稿炊閳哄喛绱查梻浣侯焾閺堫剙顫濋妸锔芥珡闂佽姘﹂～澶娒洪弽顓炍х紒瀣儥閸ゆ洟鏌熺紒銏犳灍闁稿﹦鍏橀弻銈囩矙鐠恒劋绮甸梺鍝ュ枎閹碱偊鍩為幋锔藉亹闁割煈鍋呭В鍕⒑缁嬫鍎戦柛瀣ㄥ�曢悾鐤亹閹烘垹顦繛杈剧悼椤牓鎮樻繝鍥ㄧ厵闁稿繗鍋愰弳姗�鏌涢弬璺ㄐх�规洘鍨块、鏃堝醇閻斿搫寮抽梻浣虹帛閺屻劍鏅舵惔銊﹀剹婵炲棙鍔栭崣蹇撯攽閻樻彃鏆為柕鍥ㄧ箞閺岀喖顢欓幆褍骞嬪Δ鐘靛仜缁夊綊銆佸▎鎾冲強闊洦妫忛敓鑺ヮ殜濮婂宕掑▎鎴М闂佺濮ょ划鎾崇暦閹惰棄唯闁宠桨绀侀悗顓㈡⒒娓氬洤澧紒澶嬬叀閺佹捇鎸婃径濠冩闂佸疇顕у锔剧不濞戞瑧绡�闁告劏鏅滃鎴︽⒒娴ｅ憡璐￠柛搴涘�栫换娑欑節閸屾粍娈鹃梺褰掑亰閸庣敻寮敓浠嬪箯閸涘瓨鍋￠柡澶娿仒缁辩喖姊婚崒娆掑厡缂侇噮鍨跺畷褰掓偂楠烆剚鐩畷鐔碱敇閻戝棙顥＄紓鍌氬�烽悞锕傗�﹂崶鈺冧笉濡わ絽鍟悡娆撴倵閻㈡鐒鹃柛鎾讳憾閺岋綁骞掗幋鐐叉殘缂備胶绮惄顖炵嵁鐎ｎ喗鍊烽柛鎰ㄦ櫅閸濊櫣锟芥鍠栭幉锟犲箚閺冨牆惟闁挎梹鍎抽獮宥夋⒑鐠囧弶鎹ｉ柡浣规倐閳ワ箓宕煎┑鍥ㄧ槑闂傚倸鍊烽懗鍓佸垝椤栫偛绠板┑鐘宠壘缁犳煡鏌涢妷鎴濇湰缂嶅酣姊洪幆褏绠烘い顐㈩槸閻ｉ攱寰勯幇顓犲帾婵犵數鍋涢悘婵嬪礉濠婂牊鐓熸繝闈涘閻忓弶鎱ㄦ繝鍐┿仢闁诡喚鍏樺鍫曞箰鎼搭喖鏁ら梻鍌欒兌閹虫捇宕甸弽顓炵闁跨噦鎷�? "+roleid);
					return true;
				}
				
				if (config.getItemtypeid() == TeamManager.ITEMTYPE_FORMBOOK_ID)
				{
					psend(roleid, new STeamError(TeamError.UnKnuownFormBook));
					TeamManager.logger.debug("CFormationMakeBook:濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐏忓繘姊洪崨濠庢畷濠电偛锕ら锝囨嫚濞村顫嶅┑鈽嗗灦閺�閬嶅棘閿熶粙姊绘担鍛婂暈婵炶绠撳畷鎴﹀礋椤掍礁寮块梺闈涚箞閸婃牠鍩涢幋鐐电闁煎ジ顤傞崵娆愵殽閻愭惌娈滈柡宀�鍠栭幃鐑芥偋閸繃鐏庨柣搴㈩問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佸啿鎼崐鐟扳枍閸ヮ剚鈷掑ù锝囨嚀椤曟粎绱掔拠鎻掞拷姝岀亱濠电偞鍨熼幊鐐哄炊椤掞拷鎯熼梺鍐叉惈閸婄敻骞忛搹鍦＝濞达絽澹婇崕鎰亜閹寸偟鎳囩�规洘娲濈粻娑樷槈濞嗘垵骞堝┑鐘垫暩婵挳宕愯ぐ鎺戠；闁靛／宥嗗婵炲牆鐏濋弸娑欍亜椤撱垺鏁卞ǎ鍥э躬楠炴牗鎷呴崫銉ュ箰闂備胶顭堥張顒勬儗椤旀崘濮冲┑鐘崇閳锋帒霉閿濆懏鍟為柛鐔哄仧缁辨帞鎷犻幓鎺炴嫹婵犳碍鏅搁柤鎭掑劥婢规﹢鏌熼搹顐�跨�殿噮鍋婇獮鍥敇閻愮數鐛梺璇插嚱缂嶅棝宕滃▎鎾跺祦婵°倕鎳忛埛鎺懨归敐鍛暈閻犳劧绻濋弻娑欐償濞戞﹫鎷峰┑鍡欐殾鐟滅増甯╅弫宥夋煟閹邦垰鐨洪柨娑欑洴濮婃椽妫冨☉姘辩杽闂佺锕ラ悧鐘诲箖閳ユ枼妲堟慨妯煎亾鐎氬綊鏌ｈ閹诧紕锟芥艾缍婂铏规崉閵娿儲鐎虹紓渚囧枟閻熴儵鎮鹃柨瀣嚤闁哄鍨甸崬銊ヮ渻閵堝棙灏靛┑顔碱嚟缁﹪鏁冮崒娑掓嫼缂佺虎鍘奸幊蹇氥亹瑜忕槐鎺楁偐閸愯尙浠肩紓渚囧枦椤曆囧煡婢跺ň鏋庣�广儱瀚惄搴ㄦ⒒娴ｅ憡璐￠柛搴涘�濆畷褰掓偨閸涘﹥娅㈤梺鑺ッˇ浼村箟閹间焦鐓涘〒姘搐濞呭秶锟借娲滈…鍫ｇ亙婵炶揪绲藉鍓侊拷姘虫閳规垿鎮欓懜闈涙锭缂傚倸绉崇欢姘虫＂闂佽鍎抽顓㈠煝閺冨牊鐓犵痪鏉垮船婢ф壆鐥崜褎娅曢柨鐔绘缁犲秹宕曟潏鈺嬫嫹濮樼厧娅嶇�规洘绻傞濂稿炊閳哄喛绱查梻浣侯焾閺堫剙顫濋妸锔芥珡闂佽姘﹂～澶娒洪弽顓炍х紒瀣儥閸ゆ洟鏌熺紒銏犳灍闁稿﹦鍏橀弻銈囩矙鐠恒劋绮甸梺鍝ュ枎閹碱偊鍩為幋锔藉亹闁割煈鍋呭В鍕⒑缁嬫鍎戦柛瀣ㄥ�曢悾鐤亹閹烘垹顦繛杈剧悼椤牓鎮樻繝鍥ㄧ厵闁稿繗鍋愰弳姗�鏌涢弬璺ㄐх�规洘鍨块、鏃堝醇閻斿搫寮抽梻浣虹帛閺屻劍鏅舵惔銊﹀剹婵炲棙鍔栭崣蹇撯攽閻樻彃鏆為柕鍥ㄧ箞閺岀喖顢欓幆褍骞嬪Δ鐘靛仜缁夊綊銆佸▎鎾冲強闊洦妫忛敓鑺ヮ殜濮婂宕掑▎鎴М闂佺濮ょ划鎾崇暦閹惰棄唯闁宠桨绀侀悗顓㈡⒒娓氬洤澧紒澶嬬叀閺佹捇鎸婃径濠冩闂佸疇顕у锔剧不濞戞瑧绡�闁告劏鏅滃鎴︽⒒娴ｅ憡璐￠柛搴涘�栫换娑欑節閸屾粍娈鹃梺褰掑亰閸庣敻寮敓浠嬪箯閸涘瓨鍋￠柡澶娿仒缁辩喖姊婚崒娆掑厡缂侇噮鍨跺畷褰掓偂楠烆剚鐩畷鐔碱敇閻戝棙顥＄紓鍌氬�烽悞锕傗�﹂崶鈺冧笉濡わ絽鍟悡娆撴倵閻㈡鐒鹃柛鎾讳憾閺岋綁骞掗幋鐐叉殘缂備胶绮惄顖炵嵁鐎ｎ喗鍊烽柛鎰ㄦ櫅閸濊櫣锟芥鍠栭幉锟犲箚閺冨牆惟闁挎梹鍎抽獮宥夋⒑鐠囧弶鎹ｉ柡浣规倐閳ワ箓宕煎┑鍥ㄧ槑闂傚倸鍊烽懗鍓佸垝椤栫偛绠板┑鐘宠壘缁犳煡鏌涢妷鎴濇湰缂嶅酣姊洪幆褏绠烘い顐㈩槸閻ｉ攱寰勯幇顓犲帾婵犵數鍋涢悘婵嬪礉濠婂牊鐓熸繝闈涘閻忓弶鎱ㄦ繝鍐┿仢闁诡喚鍏樺鍫曞箰鎼搭喖鏁ら梻鍌欒兌閹虫捇宕甸弽顓炵闁跨噦鎷�? "+roleid);
					return true;					
				}
					
				fire.pb.common.SCommon itemidconfig = ConfigManager.getInstance().getConf(fire.pb.common.SCommon.class).get(TeamManager.FORMBOOKHALF_COMMON_ID);
				
				String str = itemidconfig.getValue(); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒椤︿即寮查鍫熷仭婵犲﹤鍟版晥濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ槐鎺懳熼搹閫涚礃婵犵妲呴崑鍕拷姘緲椤曪綁宕ㄦ繝鍕嚌闂佽法鍠嶇划娆忣嚕鐠囨祴妲堟俊顖炴敱椤秴鈹戦绛嬫當闁绘锕顐﹀箚瑜夐弨浠嬫煟閹邦剙绾ч柛锝堟閳规垿顢欓懖鈺�绮电紓浣哥焷妞村摜鎹㈠┑瀣倞妞ゎ剦鍎搁崶銊у幈濠电偞鍨靛畷顒勫几濞戞瑧绠鹃柛婊冨暟缁★拷濠殿喖锕ㄥ▍锝夊箲閸曨垰惟闁靛濡囨禍鐐寸節绾版ɑ顫婇柛瀣閿熻姤纰嶅姗�鎮鹃悜绛嬫晬闁绘劘灏欐鍥⒑閻熼偊鍤熷┑顕�娼ч埢鎾淬偅閸愨斁鎷洪梻鍌氱墛閸楁洟宕奸妷銉ф煣濠电偞鍨跺銊ノ涢婊勫枑闁哄啫鐗嗛拑鐔兼煟閺冨倸鐨戦柟椋庡厴閹棄鈻撶捄銊ュЪ濠电偛顕刊瀛樹繆閸ヮ剙绠栨い鏇嫹闁轰焦鍔栧鍕拷锛卞嫬顏烘繝鐢靛仩閹活亞寰婇崸妤佸仱闁哄啫鐗嗛崥瑙勭箾閸℃ê鐏╃痪鎹愬亹缁辨挻鎷呮慨鎴簻闇夋い鏃�鎷濋幏椋庢喆閸曨剛顦ㄩ梺鎼炲妼濞硷繝鐛崘顔肩厸闁稿本绮庨幊婵嗩渻閵堝棛澧紒瀣浮閹線鎮欓悜妯锋嫽闂佺鏈懝楣冩晸娴犲妫戠紒顔肩墛缁楃喖鏁撴禒瀣祦闁哄稁鍙庨弫鍐煥閺冨倻甯涢柡鍛仱濮婅櫣鍖栭弴鐐测拤闂侀潧娲ら崐鎼佸煡婢舵劕顫呴柣妯活問濡茬増淇婇悙顏勶拷鏍涙笟锟藉畷鎴﹀箛閻楀牆浠奸梺鍛婄箓鐎氀囧绩娴犲绠抽柟鎯版绾惧綊鏌￠崶銉ョ仼缂佺姷濞�閻擃偊宕堕妸褉妲堥梺姹囧�濈粻鏍蓟閿涘嫪娌悹鍥ㄥ絻婵海绱撴担鍝勑㈢紓宥咃躬楠炲啫螖閿熶粙鍩ユ径濞炬瀻婵☆垳鍘ф慨铏圭磽閸屾瑨鍏屽┑顔炬暬閺佸啴濮�閵堝懓鎽曢梺鎸庣箓椤︻垶鎮″☉妯忓綊鏁愰崼顐ｇ秷閻庤娲栫壕顓犳閹惧瓨濯村ù鐘差儏閹界敻姊洪崷顓х劸妞ゎ厾鍏橀悰顔跨疀濞戞ê绐涘銈嗘礀閹冲繑鏅ラ梻浣烘嚀閸氬骞嗗畝鍕獥婵°倕瀚ч崣铏圭磽閸屾艾锟芥悂宕愰幖浣哥９闁归棿绀佺壕褰掓煕濠靛嫬鍔ら柣顓熸崌閺岀喓绱掗姀鐘崇亶闂佸搫鎳忕换鍐Φ閸曨喚鐤�闁圭偓鍓氭导宀勬⒑閹肩偛锟芥牕煤閺嶎厼鐓橀柟杈鹃檮閸嬫劗锟借娲栧ù鍌炲汲閿熺姵鈷戦柛婵嗗閸ｈ櫣鎲搁弶鍨殻闁炽儻濡囬幑鍕Ω閿曪拷绾绢垱绻濋棃娑橈拷褰掑几閼姐倖宕叉繝闈涱儏閺勩儵鏌ㄩ悢鍝勑㈢�瑰憡绻冮妵鍕籍閿熶粙宕曞畷鍥ㄦ殰闁诡垎锟介弨浠嬫煟濮楀棗鏋涢柣蹇氶哺缁绘稒寰勭�ｎ剚鍒涢梺璇″暙閸パ冭�垮┑鐐村灦椤洭藝椤曪拷濮婃椽宕崟鍨ч梺鎼炲�栨穱娲Φ閹版澘绠抽柟鎯у帠缁ㄧ敻姊虹涵鍛汗閻炴稏鍎靛畷婊冣攽閸″繑鐏侀梺鑲┾拡閸撴稓澹曢挊澹濆綊鏁愰崼鐕佷哗闁汇埄鍨辩粙鎾舵閹烘棑鎷烽敐搴′簼鐎规洖鐭傞弻鈩冩媴鐟欏嫬纾抽梺鐟扮－閸嬨倖淇婇悿顖ｆХ濠碘�插嫎閸斿矂鈥旈崘顔嘉ч幖绮癸拷宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冾殘閺嗗棝鏌涢弴銊ヤ簽妞ゆ柨锕娲传閸曨偅娈梺绋匡工椤兘寮鍜佺叆闁割偆鍟块幏铏圭磽閸屾瑧鍔嶉柍绗哄�濋、鏃堝幢濡ゅ﹥顥℃俊鐐�栭幐楣冨窗閹邦兘鏋嶉柣妯煎仺娴滄粓鐓崶銊﹀暗濠⒀勭洴閺岋綁骞樼捄鐑樼亪闂佸搫琚崝宀勫煘閹达箑骞㈡俊顖滃劋椤忕姵绻濈喊妯哄⒉鐟滄澘鍟撮垾锕傛倻閽樺顔戦梺鍓插亝濞叉牠宕橀敓钘夘渻閵堝棙灏甸柛鐘虫崌瀹曘垽鏌嗗鍡忔嫼闁荤喐鐟ョ�氼厾娆㈤弻銉︾厱婵鍋撶�氬湱绱撻崒娆撴闁告柨顑囬崚鎺戔枎閹惧疇鎽曢梺鎸庣箓椤︻垳绮绘繝姘�垫繛鎴炵懕娓氭稒淇婇銏犳殭闁宠鍨块、娆戞兜閻戠晫鍙嶆繝鐢靛仜閹锋垹寰婃禒瀣叀濠㈣埖鍔栭崑銊х磼鐎ｎ偄顕滈柕鍥ㄧ箖缁绘稒娼忛崜褍鍩岄梺瑙勭ゴ閿熻姤鏋奸弸宥囷拷骞垮劚椤︿即鍩涢幒鎳ㄥ綊鏁愰崶褍濡洪梺鎼炲�ч幏鐑芥⒒娴ｈ鍋犻柛濠冪墵閹囨偐閼姐倕绁﹂棅顐㈡处缁嬫帡寮查幖浣圭叆闁绘洖鍊圭�氾拷 by changhao
				int itemid = Integer.parseInt(str);
				
				Bag bag = new Bag(roleid, false);
				
				int number = bag.removeItemById(itemid, TeamManager.FORMBOOKHALF_COMBINE_NUM, fire.log.YYLogger.COUNTER_TYPE, 0, TeamManager.MAKE_FORMBOOK);
				if(number != TeamManager.FORMBOOKHALF_COMBINE_NUM){
					
					psend(roleid, new STeamError(TeamError.FormBookHalfNotEnough));
					TeamManager.logger.debug("CFormationMakeBook:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔稿銈庡亜閹虫﹢寮诲澶娢ㄩ柕澶堝劜濮ｆ劗绱撴担闈涘Ω闁稿酣娼ч～蹇曠磼濡顎撶紓浣圭☉椤戝棛绱為崼婵冩斀闁绘﹩鍠栭悘顏堟煥閺囨ê鐏╅柣锝囧厴閺佹劖寰勬繝鍕靛晪闂佽崵濮村ú鈺冧焊濞嗘挸纾归柣鎰▕濞撳鏌曢崼婵囶棞缂佹鍊块弻銈夊礃閼碱剙鐓熼悗瑙勬礃缁诲牆鐣锋總绋垮嵆闁绘柨鍤栭幏鐑藉垂椤愵偅顔旈梺缁樺姌鐏忔瑦绂掗姀銈嗙厱闁哄喛鎷风痪鏉跨Ф閹广垹鈽夊顐ｅ媰闂佺鏈悢顒勫箯瀹勬嫈鏃堝礃閵娿儳浜板┑鐘垫暩婵潙煤閿曞倸鐤炬繝闈涱儐閻撴洟鎮橀悙鎻掆挃闁崇粯鎹囬弻鐔兼偪椤栨侗浠╃紓浣介哺閹歌崵绮悢鐓庣倞鐟滃繑绂掗鐐╂斀闁绘劖褰冪痪褔鏌ｅΔ渚囨疁鐎殿喗鐓″畷濂稿即閻愮數鍘┑鐘灱濞夋盯鎮ч崨顖濆С閻犲洤妯婂〒濠氭煏閸繃顥為悘蹇曟暬閺屾稓锟斤綆鍓欐禒杈╋拷瑙勬礃濠㈡﹢锝炲鍫熸櫢濞寸姴顑呴拑鐔哥箾閹存瑥鐏╅柣鎾达耿閺屾盯鈥﹂幋婵囩亾婵炲鍘ч悧鎾诲箖濡わ拷閳绘捇宕归鐣屼憾闂備浇顫夐悺鏇炩枍閺囥垹绠為柕濞炬櫆閺呯霉閻樺樊鍎愰柣鎾卞劜缁绘盯骞嬮悘娲讳邯椤㈡棃鍩￠崘鎸庡婵炲牆鐏濋弸鐔封攽閻愯宸ユい顐㈢箳缁辨帒螣鐠囧樊锟芥捇姊洪崨濠勨槈闁挎洏鍎靛畷鏇㈠箻缂佹ǚ鎷洪梺鍛婄缚閸庡崬鈻嶈箛娑欑厱閻庯綆浜峰銉╂煟閿濆洤鍘存鐐叉喘閹囧醇濠靛懐鏁鹃梻鍌欑窔閿熻姤绋撶粊閿嬬箾閸涱喗绀嬮柟顔筋殔鐓ゆい蹇撴噳閹锋椽姊洪崨濠勭畵閻庢凹鍙冨畷鎺楀Ω閳哄倻鍘遍梺闈涱煭闂勫嫰濡靛┑瀣厵妞ゆ梻娅㈤幏鐑藉棘閵夛富娼旈梻渚�娼ф蹇曟閺囥垹鍌ㄩ梺顒�绉甸埛鎴︽煛閸屾ê鍔滄繛鍛嚇閺屾盯鎮╅崘鎻掓懙闂佽鍠氶崑鐐电矉閹烘棑鎷烽敐搴′簽闁告鏁诲娲川婵犲倸顫岄悗娈垮枛閻栫厧鐣烽弶娆炬建闁跨喍绮欏濠氬灳瀹曞洦娈曢柣搴秵閸撴盯鏁嶉悢鍝ョ閻庣數顭堥鎾剁磼閻樿櫕灏柣锝呭槻椤劑宕遍埡鍌傘儲绻濈喊妯哄⒉鐟滄澘鍟撮幃褔骞樼拠鑼舵憰閻熸粌绻掑Σ鎰板箳閹冲磭鍠栭幃鈩冩償濡顏梻鍌氬�风粈渚�骞栭锕�瀚夋い鎺戝閸庡孩銇勯弽銊ュ毈闁搞倖娲熼弻鐔虹磼閵忕姵鐏堥柟顖滃枛濮婃椽妫冨☉杈ㄐら梺绋垮瘨閸ｏ綁鐛箛娑樜у璺侯儌閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘鹃悷婊呭鐢偤鎮鹃搹鐧告嫹鐟欏嫭绀冮柛鏃�鐟╅獮濠囨晸閻樺弬褔鏌涢埦锟介弲婊呯礊濡ゅ懏鈷掑ù锝囩摂濞兼劙鏌涙惔銏犫枙闁诡喗妞芥俊鎼佹晝閿熶粙宕归弮鍫熺厵缂備降鍨归弸鐔兼煕鐎ｅ墎绉柡灞剧洴婵＄兘顢涘鍐ㄧ厒濠电姭鎷冮崟顓炲绩闂佸搫鐭夌紞渚�寮幇鏉块唶闁绘梹浜介敓鑺ュ姇椤啴濡舵惔婵堢泿闂佸摜鍠庨悺銊︾┍婵犲洤绠氶柟娈垮枤閺夋悂姊洪崫鍕窛濠殿噣娼ч埢鎾绘偂鎼存ɑ鏂�闂佺粯鍔樼亸娆撳箺閻樼數纾兼い鏃囧亹閻掓悂鏌熼鍝勫姕缂佽桨绮欏畷銊︾節閸屾瑧閽靛┑锛勫亼閸婃牕煤閳哄懎绠瀣嚱閹峰嘲鈻撻崹顔界亞缂備緡鍠楅悷鈺呭Υ娴ｅ壊娼ㄩ柨鐔剁矙楠炲啴濮�閵堝懎绐涙繝鐢靛Т缁ㄥジ骞嬮悜鑺モ拻闁稿本鑹鹃敓钘夊槻闇夐柛銉戯拷閺嬫牠鏌￠崶銉ョ仼闂傚偆鍨堕弻銊╁即閻愯鎷烽崫銉т笉妞ゆ牜鍋為悡銉╂煟閺囩偛锟藉湱锟芥熬鎷�? "+roleid);		
					return false;
				}				
				
				int added = BagUtil.addBindItem(roleid, bookid, 1, TeamManager.MAKE_FORMBOOK, fire.log.YYLogger.COUNTER_TYPE, 1, true);
				
				if (1 != added)
				{
					psend(roleid, new STeamError(TeamError.UnkownError));
					TeamManager.logger.debug("CFormationMakeBook:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戠┛闂傚倷娴囧▔鏇㈠窗閹版澘鍑犻柤濮愬�楁稉宥夋煙閹咃紞闁哄棴绠戦埞鎴﹀磼濠婂海鍔稿銈庡亜閹虫﹢寮诲澶娢ㄩ柕澶堝劜濮ｆ劗绱撴担闈涘Ω闁稿酣娼ч～蹇曠磼濡顎撶紓浣圭☉椤戝棛绱為崼婵冩斀闁绘﹩鍠栭悘顏堟煥閺囨ê鐏╅柣锝囧厴閺佹劖寰勬繝鍕靛晪闂佽崵濮村ú鈺冧焊濞嗘挸纾归柣鎰▕濞撳鏌曢崼婵囶棞缂佹鍊块弻銈夊礃閼碱剙鐓熼悗瑙勬礃缁诲牆鐣锋總绋垮嵆闁绘柨鍤栭幏鐑藉垂椤愵偅顔旈梺缁樺姌鐏忔瑦绂掗姀銈嗙厱闁哄喛鎷风痪鏉跨Ф閹广垹鈽夊顐ｅ媰闂佺鏈悢顒勫箯瀹勬嫈鏃堝礃閵娿儳浜板┑鐘垫暩婵潙煤閿曞倸鐤炬繝闈涱儐閻撴洟鎮橀悙鎻掆挃闁崇粯鎹囬弻鐔兼偪椤栨侗浠╃紓浣介哺閹歌崵绮悢鐓庣倞鐟滃繑绂掗鐐╂斀闁绘劖褰冪痪褔鏌ｅΔ渚囨疁鐎殿喗鐓″畷濂稿即閻愮數鍘┑鐘灱濞夋盯鎮ч崨顖濆С閻犲洤妯婂〒濠氭煏閸繃顥為悘蹇曟暬閺屾稓锟斤綆鍓欐禒杈╋拷瑙勬礃濠㈡﹢锝炲鍫熸櫢濞寸姴顑呴拑鐔哥箾閹存瑥鐏╅柣鎾达耿閺屾盯鈥﹂幋婵囩亾婵炲鍘ч悧鎾诲箖濡わ拷閳绘捇宕归鐣屼憾闂備浇顫夐悺鏇炩枍閺囥垹绠為柕濞炬櫆閺呯霉閻樺樊鍎愰柣鎾卞劜缁绘盯骞嬮悘娲讳邯椤㈡棃鍩￠崘鎸庡婵炲牆鐏濋弸鐔封攽閻愯宸ユい顐㈢箳缁辨帒螣鐠囧樊锟芥捇姊洪崨濠勨槈闁挎洏鍎靛畷鏇㈠箻閺傘儲鏂�闂佺粯鍔曢悺銊х礊閹达附鐓曞┑鐘插�圭拹锛勭磼椤旂⒈鍎忔い鎾炽偢瀹曘劑顢旈崨顔芥緫闂傚倷绀佹竟濠囧磻閹烘绀堟慨妯诲敾閹峰嘲顫濋幇浣圭秷闂侀�涚┒閸斿矂锝炲鍫濆耿婵°倧鎷锋い顐亞缁辨挻鎷呴崜鍙壭ㄩ梺绋跨昂閸婃繈鐛崼銉ノ╅柨鏂垮⒔閻﹀牓姊洪崨濠傚闁哄倸鍊圭粋鎺楀閻樻牗妫冮幃鈺呮濞戞鍕冮梻浣虹帛椤ㄥ牊绻涢敓鑺ヮ殽閻愭彃鏆欓柍璇查叄楠炴ê鐣烽崶璺烘杸闂傚倷绀佸﹢閬嶅磿閵堝洦宕查柛鏇ㄥ灡閺呮悂鏌ら幁鎺戝姎闁崇粯娲熼弻鈥崇暆鐎ｎ剛蓱闂佽鍨卞Λ鍐╀繆閼稿灚鍎熼柕蹇嬪灮鍟告繝鐢靛Х閺佹悂宕戦悩娲绘晪婵犲﹤鎳愭稉宥夋煙閹咃紞闁哄棴闄勭换婵囩節閸屾粌顤�闂佺顑呯�氼喚妲愰幒鎳虫棃宕橀妸褎顓婚梻浣告贡閸忔﹢寮ㄩ柆宥呯闁告稒娼欑粈鍫ユ煕濞嗗浚妲搁柛蹇擄攻娣囧﹪鎮欓鍕舵嫹閺嶎厼鍨傞柛蹇撳悑閸欏繘鏌曢崼婵愭Ч闁稿﹪娼ч埞鎴︽偐瀹曞浂鏆￠梺鎶芥敱閸ㄥ潡骞冨畡鎵虫瀻闊洦鎼╂禒濂告⒑閸涘﹥鐓熼柛濠冪箞瀵鈽夊Ο婊呭枛閹筹繝濡堕崨顏呭珱濠电姷顣介敓钘夊暱缁狙囨煕閺冿拷閻熴儵鎮鹃柨瀣檮缂佸鐏濆畵鍡涙⒑缂佹ɑ鐓ョ�殿喖澧庨敓鑺ヨ壘閵堢顫忕紒妯诲闁告稑锕ら弳鍫㈢磽娴ｅ壊鍎愰柛銊ユ健瀵偊宕橀鍢夈劎鎲稿澹﹀顫濋懜鐢靛幗闂侀潧绻掓慨鐢稿疮閻愮儤鐓熼柟鎯ь嚟濞叉挳鏌＄仦鍓р槈闁宠棄顦靛畷锟犳倷鐎甸晲澹曢梻鍌欒兌閹虫捇宕崹顔氭椽濡搁埡鍌涙闂佸吋浜介崕娲疮韫囨稒鐓曢柣妯虹－婢х敻鏌熼鍝勫姕缂佽桨绮欓獮鏍倻閸ャ劌顏舵繛杈剧到婢瑰﹤顭囬妸鈺傜叆闁绘棁顕ц闂侀�涚┒閸旀垿寮幘瀵割浄閻庯綆鍋嗛崣鍡椻攽閻愭潙鐏﹂柨姘亜韫囧﹥娅嗘い銊ｅ劦閹瑩骞栭鐔烘澒婵犳鍠栭敃锔惧垝椤栫偛绠柛娑樼摠閹偤鏌ｉ悢绋款棆妞ゆ劕銈稿缁樻媴閽樺鎯為梺鍝ュТ濡繂鐣烽弴銏″仺闁告縿鍎辩粊锔界節閻㈤潧孝闁硅櫕鍔欓幃鍧楁晸娴犲鈷戦柛婵嗗缁佲晛霉濠婂嫮绠橀柨鐔诲Г娣囨椽锝炴径鎰疄闁靛鍎欓悢鍏煎亗閹煎瓨绻傞ˉ姘舵⒑鐠囨彃顒㈤柣鏃戝墴楠炲繘鏁撻敓锟�? "+roleid);	
					return false;						
				}				
				*/
				return true;
			}
		};
		
		formationmakebook.submit();
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794552;

	public int getType() {
		return 794552;
	}


	public CFormationMakeBook() {
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CFormationMakeBook) {
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CFormationMakeBook _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

