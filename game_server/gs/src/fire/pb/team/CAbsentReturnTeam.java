package fire.pb.team;

import fire.pb.PropRole;
import fire.pb.map.Role;
import fire.pb.map.RoleManager;



// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CAbsentReturnTeam__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}
//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻橀潧骞�闂備礁鍚嬫禍浠嬪磿閹惰棄鐓″鑸靛姈閹虫岸鏌″搴″箺闁绘挻娲樼换娑㈠箣濠靛棜鍩炲Δ鐘靛仦閿曘垽寮婚妸銉㈡婵炲棙鍨堕崳顓犵磽娴ｈ櫣甯涚紒璇茬墦楠炲啯绂掔�ｎ偒妫冨┑鐐殿棎椤旀劗绱炴笟锟藉璇测槈閵忕姷鍘告繛杈剧到閹测�斥枔婵犳碍鈷戦弶鐐村閸斿秹鏌熼悷鐗堝枠妤犵偛锕幃娆撳传閸曞簺鍔庨幉绋款吋婢跺﹦鍘遍悗鐧告嫹闁告洦鍓欓敓鐣屾暬閹嘲鈻庤箛鎿冧痪缂備緤鎷烽柨鐔剁矙濮婅櫣绱掑Ο鐓庘吂闂侀潧鐗婇幃鍌涗繆鐎涙ɑ濯撮柤鍙夌箖濡啫鐣烽妸鈺婃晩闁兼亽鍎烘禒褔姊婚崒娆愵樂缂侀硸鍠氬濠冪鐎ｎ偄鍓堕梺绋跨箺閸嬫劙鍩㈤弮鍌︽嫹楠炲灝鍔氭い锔垮嵆閹繝濡烽敂鍓х槇闂傚倸鐗婄粙鎺楁晬瀹ュ棔绻嗛柟缁樺笧缁夋椽鏌″畝瀣М妤犵偞顭囬敓钘夌仛閹爼鏁撻懞銉ユ诞闁哄被鍔戦幃銏ゅ礄閵堝棗顏堕梺缁樻磻閻掞妇绱為崼銉︹拺闁荤喐澹嗗В鐐烘煛閸涱垰孝闁伙綁鏀辩�靛ジ寮堕幋婵嗘暏婵＄偑鍊栭崝锕傚礈濮樻唻鎷峰鎰佹綈闁逛究鍔岃灒闁绘挸楠告禒妯衡攽閻愬弶鍣圭紒澶婄秺楠炴劖绻濋崒妤佹杸闁诲函缍嗛崑鍡涘储椤忓懐绡�闁靛骏绲剧涵鐐繆椤愶絿鎳冮柍璇茬Ч瀹曞崬鈽夊▎鎴濆箞闂佽鍑介幀銉╁礃閵娿垺瀚熺紓鍌氬�烽懗鍓佸垝椤栨粍宕查柛鎰典簼瀹曞弶绻濋棃娑卞剰缁炬儳鍚嬬换娑㈠箣閻愬棙鍨块、鏃堟偐閸忓懐绠氶梺缁樺姦娴滄粓鏁撶粣鏍ф噹缁躲倕霉閻樺樊鍎忛崶鎾⒑瑜版帗锛熺紒锟芥担铏逛笉闁哄稁鐏愯ぐ鎺撳亹鐎瑰壊鍠栭崜楣冩⒑鏉炴壆顦︾紒澶婄仛缁岃鲸绻濋崶顬囨煕濠婏拷缁�渚�宕滈柆宥嗙厽閹兼惌婢�娴溿垺銇勯銏╂Ш闁瑰箍鍨归埞鎴狅拷锝庝憾濞煎﹪姊虹紒妯忣亜螣婵犲啫顕遍柟鐑樻⒒绾句粙鏌涚仦鐐殤鐏忓繒绱撴担钘夌厫闁煎綊绠栭、姘舵晲婢舵ɑ鏅濋梺鎸庢穿閹烽鐥幆褋鍋㈤柡宀嬬秮楠炲洭顢橀悢铏光枏闂備浇鐨崘顭戜痪缂備胶绮换鍫熸叏閿熶粙鏌ㄥ┑鍡樺櫧闁告﹩鍋婂娲箰鎼达綆鏆＄紓浣虹帛閻╊垰鐣锋總鍓叉晢濞达絽澹婃导锟�? by changhao
public class CAbsentReturnTeam extends __CAbsentReturnTeam__ {

	private Team team;

	@Override
	protected void process() {
		TeamManager.logger.debug("Enter: " + this.getClass());
		// protocol handle
		final long memberRoleId = gnet.link.Onlines.getInstance().findRoleid(
				this);
		if (memberRoleId < 0)
			return;
		if (checkPvP(memberRoleId, absent) != 0) {
			return;
		}

		PAbsentReturnTeam absentReturnTeamP = new PAbsentReturnTeam(
				memberRoleId, absent);

		if (absent == 1)
		{ //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閳锋垶銇勯幒鐐村缂備礁顦遍弫濠氬箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫬鏆欓柛濠呭吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｉ搹鍦＜閺夊牄鍔嶇亸顓熴亜閹剧偨鍋㈢�规洦浜畷姗�顢橀悙鏉戝壍婵犲痉鏉匡拷妤佹叏閻戣棄纾绘繛鎴欏灩閻ゎ喗銇勯幇鈺佸姢濞存粈绮欏娲嚒閵堝憛銏＄箾濞村娅囧ù婊咁焾閳诲酣骞嬮悩闈涚闂備胶绮崝妤呭磿閵堝鐓曢柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘嚚鐟邦煥閿熶粙宕￠幎钘夎摕婵炴垯鍨圭粻濠氭倵闂堟稑顥忛柡鍡忥拷鏂ユ斀闁绘劙娼х敮鍓佺磼缂佹◤顏堟偩闁垮闄勭紒瀣嚦閵娾晜鐓ラ柡鍐ㄦ祩濞兼劙鎮楀鍐蹭汗缂佽鲸鎹囧畷鎺戔枎閹搭厽袦婵＄偑鍊栭崹闈浳涘☉銏℃櫢闁伙絽鐬奸幊妤呮煕閹邦垰鍔甸柨鐔绘濞硷繝寮婚悢灏佹灁闁割煈鍠楅悘鎾剁磼閻愵剙鍔ら柛姘儔婵＄敻宕熼姘辩潉闂佽法鍠嶇划娆忕暦閺囥垹绠柦妯侯槺閸樻椽姊洪崜鎻掍簴闁稿孩鐓￠幃鈥斥枎閹扳晙绨婚梺鍝勫暙閸婂骞楅崒娑氱闁割偆鍠撻惌宀勬煥閻旇袚妞ゆ梹鐗犲畷浼村冀椤撴冻鎷烽敃鍌涚叆閻庯絺鏅濈粻姘舵⒑缂佹ê鐏卞┑顔哄�濆鎻掝煥閸喓鍘靛銈嗙墪濡宕导鎼晩闁硅揪闄勯埛鎺楁煕鐏炴崘澹橀柨鐔剁矙椤ユ挸鈻庨姀鐙�娼╂い鎺戭槺閸旂兘鎮峰鍕棃闁搞劑绠栭弫鍐磼濮樿泛鏁归梻渚�娼чˇ顓㈠磿閹惰姤鏅柣鏂垮悑閳锋帒銆掑顒佹悙濠⒀屽枤缁辨帞锟斤絺鏅濈粣鏃傦拷娈垮櫘閸嬪﹤鐣烽幒鎴旀闁哄稄濡囬惄搴ㄦ⒒娴ｅ憡璐￠柛搴涘�濆畷褰掓偨閸撳弶鏅滃銈呯箰閻楀﹪鎮￠悢鍏肩厵闁硅鍔栫涵楣冩煛鐎ｎ偆娲撮柡宀嬬磿娴狅妇鎷犻幓鎺濇綆闁诲孩顔栭崳顕�宕滈悢椋庢殾鐟滅増甯╅弫濠囨煢濡警妾ч柟椋庡厴椤㈡盯鎮欑�电骞楅梺鐟板悑閻ｎ亪宕规繝姘柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷� by changhao
			absentReturnTeamP.submit();
		} 
		/*
		else if (absent == 2) //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幈濡炪値鍘介崹鍨濠靛鐓曟繛鍡楃箳缁犲鏌＄仦绋垮⒉鐎垫澘瀚敓鏂ょ秵娴滄繈顢欓崨顓涙斀闁绘劕寮堕埢鏇灻瑰鍐煟鐎殿噮鍋婂畷鍫曨敆娴ｅ搫甯鹃梻濠庡亜濞诧箑煤閺嵮勬瘎闂傚倷绀侀幉锛勬崲閸愵喓锟藉啯绻濋崒銈嗙稁缂傚倷鐒﹂…鍥偡瑜版帗鐓曢柕澶嬪灥閸犳艾顭囬懡銈囩＝闁稿本鐟чˇ锔姐亜閿曞倷鎲剧�殿噮鍋嗛幏鐘绘嚑椤掍焦顔曢梻浣告惈濞层垽宕归崷顓犱笉闁挎繂妫涚弧锟介梺闈涢獜缁辨洜绮婚幘鍓佺＝鐎广儱鎷戝銉╂煟閿濆懎妲婚摶鏍煕濞戝崬骞樻い蟻鍥ㄢ拺闁稿繗鍋愰妶鎾煛閸涱喚绠為柛鈹垮灱缁犳稑鈽夊▎灞惧濠电偠鎻紞锟芥繛鍜冪悼閺侇喖鈽夐姀锛勫幈闂佸搫鍠涢幏閿嬬箾閼碱剙鏋涚�殿噮鍋婂畷姗�顢氶崨顔芥珕闂備礁澹婇崑鍛崲閸℃稑绠洪柡鍥ュ灪閳锋垿鏌熺粙鎸庢崳缂佺姵鎸婚妵鍕晜鐠囪尙浠紓渚囧枦椤曆囧煡婢跺ň鏋庣�广儱瀚惄搴ㄦ⒒娴ｅ憡鎯堢紒澶嬬叀瀹曟繂顓兼径瀣壄闂佺懓顕崑鐐哄矗韫囨稒鐓ユ繝闈涙閺嗘瑩鏌ｈ箛锝呮灓缂佽鲸甯楀蹇涘Ω閿曪拷闂夊秹姊洪悷鏉挎Щ闁硅櫕锚閻ｅ嘲顭ㄩ崼婵堢厬婵犮垼鍩栭敃顐﹀箯閻戣棄骞㈡繛鎴炵憿閹锋椽姊洪懡銈呮瀾婵犮垺锚閳绘捇鍩￠崨顔惧幍闂佸憡鍨崐鏍拷姘炬嫹(闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗩槹娴溿倝鏌ら弶鎸庡仴婵﹥妞介、妤呮晸閻ｅ瞼鐭撻柟缁㈠枛绾惧ジ鏌曟繛褍瀚弸鎴︽⒑閸濆嫬鏆欓柣妤�妫涚划濠氬冀閵娧咁啎閻庣懓澹婇崰鏇犺姳婵犳艾绠氶柣鏂垮悑閳锋垿鎮楅崷顓炐ｉ柕鍡楀暞缁绘盯寮堕幋鐐叉灎濡ょ姷鍋為〃濠傤嚕閹绢喖顫呴柍鎾呮嫹闁归攱妞藉濠氬磼濮樺崬顤�闂佸憡顨嗗ú鐔风暦婵傜唯闁靛／鍕弰闂傚倷绀侀崯鍧楀箹椤愶箑绠犻幖娣妼閸戠姴銆掑鐐闂佽鍠楅〃濠囧极閹邦厽鍎熼柍銉ㄥ皺閹稿鈹戦悙鑼憼缂侇喖绉堕崚鎺楀箻鐠囪尪鎽曢梺璺ㄥ枔婵挳鎮欐繝鍥ㄧ厸闁割偁鍨洪弳鈺呮煕閹存繄绉洪柡宀嬬稻閹棃濮�閿濆拋妫熺紓鍌氬�哥粔鎾晝椤忓牏宓侀柛鎰╁壆閺冨牆绀冮柍杞扮劍閻庮參姊绘担鍛婂暈婵炶绠撳畷婊冣槈閵忊剝娅栧┑顔筋殣閹烽攱鎱ㄦ繝鍛仩缂侇喗鐟╅獮鎰償閳╁啯鏆樺┑鐘垫暩閸嬫盯骞婅箛鎾佸搫顭ㄩ崨顓炵亰闁诲函缍嗛崰鏍不閾忣偂绻嗛柕鍫濆閸斿秵绻涢崨顓熷枠婵﹨娅ｇ划娆撳箰鎼淬垺瀚崇紓鍌欑椤戝棝宕归悽绋跨厺闁瑰墽绮崑鍕煕韫囨挾姣為柟閿嬫そ濮婂宕掑鍗烆杸婵炴挻纰嶉〃鍛祫闂佸壊鍋呭ú姗�鎮￠弴銏犵婵烇綆鍓欐俊娲煙閺屻儳鐣洪柡宀�鍠栭、姘舵晸娴犲缁╅梺顒�绉寸粻姘舵煛閸愩劎澧曢幆鐔兼⒑閹稿孩顥嗘い顐㈩槺閿熻姤淇哄Λ鍕煘閹达附鍊烽柤鎼佹涧濞懷呯磽閸屾氨鈻岄柟宄板槻椤啴濡舵惔鈥茬盎濡炪倧绠撳褔鎮鹃悜钘夌闁挎棁妫勬禍鍦磽閸屾瑧鍔嶆い顓炴喘瀹曘垽鏌嗗鍡欏幍闂佺绻楅崑鎰板汲濮楋拷閺屾盯濡搁妷顔惧悑閻庤娲╃紞渚�寮幘瀵割浄閻庯綆鍋勯敓鐣屾暬閹嘲鈻庤箛鎿冧痪缂備緤鎷烽柛鎰ㄦ櫇缁犻箖鏌ょ喊鍗炲闁哄鐩弻锝呪槈閸楃偞鐏嶉梺璇″灡濡啴寮幇鏉跨倞妞ゆ垼濮ら弫浠嬫⒒娴ｇ瓔鍤欓柛鎴犳櫕缁辩偤宕卞☉妯硷紱闂佸憡渚楅崢鎼佸几瀹ュ浄鎷烽獮鍨姎妞わ缚鍗抽幃锟犳偄閸忚偐鍘介梺鍝勫�圭�笛囧箟閹间焦鐓熸い鎾跺仩鐎氱増銇勯鈥冲姷妞わ箒娅曢妵鍕Ω閵壯冣叺閻庢鍣崑濠囥�佸鑸垫櫢濞寸姴顑囧畵渚�鏌熼悜姗嗘當缂侇偄绉归弻娑氫沪閸撗勫櫘闂佽崵鍠愮换鍫濐潖缂佹ɑ濯撮柣鐔煎亰閸ゅ绱撴担绛嬪殭闁稿﹤娼￠悰顔跨疀閺囶亝瀚归柨婵嗙凹缁ㄧ敻鏌ㄩ悢璇残撻悽顖涱殘閹广垹鈹戦崱鈺傚兊濡炪倖鎸鹃崕鎴﹀箯閻戣姤鍋ㄩ柛娑橈功閸欏棗鈹戦悩缁樻锭婵☆偅鐩畷娆撳捶椤撶姷锛滈梺闈涱焾閸庢椽鎮℃總鍛婄厸鐎癸拷鐎ｎ剛袦闂佽桨绀侀崐鍨暦椤愶箑绀嬫い鎰靛亞閿熻姤濞婂濠氬磼濮橆厽鎮欏銈忓閺佽顕ｆ繝姘櫜濠㈣泛锕﹂鎺楁⒑閻熸澘顣抽柣鈩冩閺佹捇鎳為妷顔界杹闂佸搫琚崝鎴﹀箖閵忋垻纾兼慨妤�妫欓ˉ澶嬬節閻㈤潧浠滈柣銊у厴閺佹捇鎳為妷銉ヮ潽闂佹悶鍊栧ú鏍煘閹达附鍋愰悗鍦Т椤ユ繈鏌涢妷锔藉唉婵﹨娅ｉ崠鏍即閻愭祴鎷ら梻浣藉吹閸熷潡寮插☉鈶╋拷鏍ㄧ節閸ヨ埖鏅╅梺浼欑到閻ジ鎯侀崼銉︹拺闂傚牊鐩悰婊呯磼閹绘帒鈷旀繛鎴犳暬閹瑩顢栭崣銉х泿闂備焦瀵уú鏍磹閻戣棄绠熷Δ锝呭暞閻撴瑦銇勯弽銊ㄥ妞ゅ浚浜弻鐔碱敍濞戞瑯妫冩繝娈垮櫙閹风兘姊洪棃娑氱疄闁搞劏顕у嵄闁搞儯鍔庣弧锟介梺姹囧灲濞佳勭濠婂牊鐓熸俊銈忔嫹婵☆偅绻堥獮鍐ㄎ熺悰鈩冩杸闁诲函缍嗘禍婊堝吹閹达附鈷戦柣鐔告緲閳锋梻绱掗鍛仸闁诡喒锟芥枼妲堥柕蹇ョ磿閸樺崬鈹戦悙鏉戠仴鐎规洦鍓熷鎼佸Χ閸℃瑧顔曢梺鍦帛鐢偤骞楅悩缁樼厪闁搞儜鍐句純婵犳鍣幏鐑芥⒑閻愯棄鍔氶柛鐔锋健楠炴鎮介崨濞炬嫼闁哄鍋炴竟鍡涘礉瀹ュ鐓欓柣鐔哄閸犳锟芥鍣崑濠囩嵁濡偐纾兼俊顖滅帛椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婎潊闁绘ê妯婂Λ宀勬⒑鏉炴壆顦﹂柨鏇ㄤ邯瀵鍨鹃幇浣告倯闁硅偐琛ラ敓钘夌－椤旀劗绱撻崒娆戝妽闁告梹鐗犻妴鍐╃節閸パ嗘憰闂佺偨鍎查崜姘跺触鐎ｎ喖绠圭紒顔炬閹风兘宕樺顔煎Η闂傚倸鍊峰ù鍥ь浖閵娧呯焼濞达絿灏ㄩ幏宄邦潩椤愩垹绁悗娈垮枦椤曆囧煡婢跺á鐔兼煥鐎ｅ灚缍屽┑鐘垫暩閸嬫稑螞濞嗘挸绀夐柡鍥ュ灩缁�鍫㈡喐閻楀牆绗氶柍閿嬪灴瀵爼鎮欓弶鎴濡炪倧璁ｉ梽鍕Φ閸曨垰绠ｆ繝鍨姈閳诲牓鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐椤厾鍓ㄦ繛杈剧到濠�杈ㄧ閺嶎厽鈷掑ù锝囶焾椤ュ繘鏌ｉ幘宕囧ⅵ鐎规洘婢樿灃闁告侗鍠栭敓钘夊閿熻棄绠嶉崕閬嵥囨导鏉戠９闁汇垹鎲￠崑鈩冪箾閸℃绠版い蹇ｄ簽缁辨帡鏁撴禒瀣櫢闁芥ê顦藉〒濠氭煏閸繄绠崇紒鍙樺嵆閺屾稑螖閸曨剛褰ф繛锝呮搐閿曨亪骞冮悾宀�鐭欓悹渚厛濡茶淇婇悙顏勶拷鏍偋濡ゅ懏鍤屽Δ锝呭暙閼稿綊鏌曟繛鍨姶婵炴挸顭烽弻鏇㈠醇濠靛浂妫炴繝娈垮櫙闂勫嫮鎹㈠┑瀣剁稏妞ゆ棁妫勯璺衡攽閻樺灚鏆╅柛瀣洴閹矂宕奸悢渚锤濡炪倕绻愮�氬嘲顭囬弽銊х鐎瑰壊鍠曠花鑽ょ磼閻樺崬宓嗘鐐寸墬濞煎繘宕滆閻繂鈹戦垾鎻掑珟闁告梹鍨甸～蹇涙惞閸︻厾锛滃┑顔筋殔濡瑩鎮惧畡鎵虫斀闁绘劖褰冪痪褏绱掔拠鑼ⅵ妤犵偛鍟灒缁绢參鏀辩�氬綊鏌ㄥ┑鍡涱�楅柡瀣枛閺屽秹鏌ㄧ�ｎ亞浼岄梺璇″枛缂嶅﹪鐛笟锟介獮鎺楀箣濠垫劗锟借櫕绻濋悽闈涗粶闁瑰啿绻樺畷婵嗏枎閹惧疇鎽曢梺缁樻⒒閸樠呯矆閸曨垱鐓忛柛顐ｇ箖椤ユ粍銇勮箛銉﹀?)
		{
			Long teamId = xtable.Roleid2teamid.select(memberRoleId);
			if (teamId != null)
				team = new Team(teamId, true);
			else
				return;
			
			if (!team.isInTeam(memberRoleId))
				return;
			long leaderRoleId = team.getTeamInfo().getTeamleaderid();
			PropRole prole = new PropRole(leaderRoleId, true);
			SAbsentReturnTeam sendret = new SAbsentReturnTeam();		
			if(prole.getProperties().getCruise() > 0) {
				TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崹褰掑箲閵忕姭鏀介柛鈾�鏅滈崓闈涱渻閵堝棗绗掗柛瀣功濡叉劙寮婚妷锔规嫽婵炶揪绲块幊鎾活敋濠婂嫪绻嗘い鎰剁磿椤︼箓鎽堕悙鐑樼厱闁哄洢鍔岄悘閬嶆煛娴ｇ锟藉潡寮诲☉銏╂晝闁挎繂妫涢ˇ銊╂⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁瑰啿绻樺畷顖炴倷閻戞鍘遍梺缁樻煥閹碱偅绂掗柆宥嗙厸鐎癸拷鐎ｎ剙鍩岄柧缁樼墪閳规垿鎮╅幓鎺炴嫹閸濄儳涓嶉悹鍥ㄧゴ閺�浠嬫煃閵夈儱鏆辩紒鐙欏洦鐓曢柡鍐挎嫹闁荤喆鍎甸、姘舵晲婢跺﹦顔掑銈嗘濡嫭绂嶈ぐ鎺撯拺婵懓娲ら悘顕�鏌℃担瑙勫�愮�规洘绻堝畷濂稿即閻斿弶瀚藉┑鐐舵彧缂嶏拷婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍归敐澶嬫珳缂併劎鏁诲缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽妷褝鎷烽敐搴℃灍闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶姤鐎抽悗骞垮劚椤︻垱顢婇梻浣告啞濞诧箓宕板鑸靛仾闁跨喕濮ょ换婵嬫偨闂堟刀銏ゆ煕閻曚礁鐏﹂柟顕�娼ч～婵嬫嚋绾版ɑ瀚奸梺鑽ゅТ濞茬娀鏁撻崐鐔哥彧闁诲繐鐗忕槐鎾诲磼濮樻瘷銏ゆ煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾闁割偅娲﹂弫鍡楊熆鐠轰警鍎愭繛鍛Ч濮婄粯鎷呴搹鐟扮闂佸搫琚崝鎴︾嵁閺嶎収鏁冮柨鏇嫹闁告艾缍婇弻鐔兼倻濮楀棙鐣烽梺鎶芥敱鐢帡濡撮幒鎴僵闁绘劦鍓欓鑸电節閻㈤潧浠掗柛鏍█瀹曟鎮欓鍌楁闂佸疇顕ч柊锝夌嵁鐎ｎ喗鍊烽悗娑欙供閸炲爼姊婚崒娆掑厡闁稿鍔戝畷鏇熸綇閳轰緡妫滃銈嗘尪閸ㄧ懓效閺屻儲鐓ラ柡鍌涱儥濞肩喎霉濠婂嫮鐭掗柡宀�鍠栧鍫曞垂椤曞懏娈洪梻浣风串缂嶄焦绂嶇捄铏规殾妞ゆ帒瀚烽弫宥夋煟閹邦喛藟闁归攱妞藉濠氬磼濮樺崬顤�婵炴挻纰嶉〃鍛祫閻熸粎澧楃敮妤呮偂閺囥垺鐓涢柛灞剧矊娴犳粓鏌熼搹顐㈠缂佸顦鍏煎緞鐎ｎ剙骞嶉梻浣侯攰椤宕濋敃鍌氬惞婵炲棙鎸婚悡銏ゆ煕閹板吀绨婚柡瀣洴閺屸�崇暆鐎ｎ剛袦閻庢鍣崜鐔风暦瑜版帩鏁婇柦妯侯檧閹风兘顢涢悙绮规嫼闂佸憡绻傜�氼參宕冲ú顏呯厵妞ゆ梻鍘ч敓钘夌仢椤曪絾绻濆顑┾晠鏌嶉崫鍕拷鍛婄閻愮儤鈷戠紒瀣濠�鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冮崱妯尖攳濠电姴娲ゅ洿闂佸憡渚楅崢钘夆枔閸撲胶纾藉ù锝囨嚀閺佸墽绱掗悩铏磳鐎殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍘鹃悵鍫曟煛閸ゅ爼顣﹀Ч妤呮⒑閸︻厼鍔嬮柟鎼佺畺瀹曘垽骞栨担鐟帮拷鐢告偡濞嗗繐顏柟顖氬閺屾盯鎮╁畷鍥р拰閻庢鍠氶弫濠氥�佸Δ鍛＜闁挎棁妫勯鍫曟⒒閸屾氨澧涚紒瀣崌閹偤宕ㄦ繝鍐ㄥ伎婵犵數濮撮幊蹇涱敂閻樼數纾兼い鏃傛櫕閹冲洦顨ラ悙鏉戝闁诡垱妫冩慨锟介柍銉﹀墯娴煎棛绱撻崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鍗炩槈濡⒈鍞归梻浣规偠閸庢椽宕滃▎鎾冲強闁靛鏅滈悡蹇涚叓閸パ屽剰闁跨喕濮ゅú婊堟偖閹屽悑濠㈣泛顑囬崢閬嶆倵閻у憡瀚归柣搴秵閸犳顢撳澶嬬厽閹兼惌婢�娴溿垺銇勯銏╂█闁靛棗鍟存俊鐑藉煛閸屾熬鎷烽悜鑺ョ厾缁炬澘宕崢鎼佹煣韫囨捇鍙勬慨濠冩そ瀹曘劍绻濋崘锝嗗闁诲海娅㈤幏鐑芥煙闂傚顦﹂柦鍐枛閺屻劌鈹戦崱妯烘櫟闂佸搫鍟悧濠囧疾閹间焦鐓㈡俊顖滃皑缁辨碍绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍟伴幊鍕箾閸儳鐣烘慨濠冩そ濡啫鈽夊▎鎴炊婵犵數濯锟界紒鑸靛哺閻涱喛绠涘☉娆忥拷濠氭煠閹帒鍔存俊顐㈠暙閳规垿鎮欓弶鎴犱桓闂佽崵鍠嗛崕闈涱嚕閹惰棄閱囬柕澶涜吂閹锋椽姊洪崨濠勭細闁稿氦椴搁悧搴ㄦ⒒娴ｅ憡鍟炴慨濠傜秺閹兘鍩℃笟鍥ф婵犵數濮电喊宥夊疾閺屻儲鐓曟繛鎴灻敓鐣屾嚀铻為柛鎰靛枛閺嬩線鏌熼幆褜鍤熸い鈺冨厴閹鏁愭惔鈥茬盎婵炲瓨绮撴禍璺侯潖閾忕懓瀵查柡鍥╁仜閳峰顪冮妶蹇曠暤缂傚倹宀告俊鐢稿箛閺夎法顔婂┑鐘绘涧濞诧箑鈻嶉幘缁樷拻濞达絿鍎ら崵锟介梺瀹︽澘濡块柡渚囧櫍閹瑩鎮介崗鍝ョ憹婵犳鍠楅…鍫ュ春閺嶎厽鍋傞柣鏂垮悑閻撶喐淇婇姘儓缂佺嫏鍥ㄧ厱婵☆垰鎼敓钘夋健瀵鈽夐姀鐘插祮闂侀潧顭堥崕浼存嚋椤忓懐绠鹃悗鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷,teamId: " + teamId);
				fire.pb.talk.MessageMgr.sendMsgNotify(memberRoleId, 160435, null);
				sendret.ret = 0;
			} else {
				sendret.ret = 1;
			}
			gnet.link.Onlines.getInstance().send(memberRoleId, sendret);
			return;
		}
		*/
		else
		{
			Long teamId = xtable.Roleid2teamid.select(memberRoleId);

			if (teamId != null)
				team = new Team(teamId, true);
			else
				return;
			
			//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻樻爠鍥╁彄闁搞儯鍔嶉悡銉︺亜韫囨碍纭鹃柍瑙勫灴椤㈡瑩鎯岄顐＄盎闁伙絿鍏橀、妤呭礋椤愩垹浜堕梺璇叉捣閺佽顭囨繝姘濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔诲枛椤啴濡舵惔鈥茬盎濡炪倧绠撴禍鍫曞极閹惧顩烽悗锝庡亝闁款參姊洪棃娑氬ⅱ妞ゎ厼鐗撻、姘舵晲婢跺﹪鍞堕梺鍝勬川閸嬬喖顢樺ú顏呪拺缂備焦鈼ら鍫熷�舵慨姗嗗劮閹烘挻鍎熼柕蹇嬪灮閻﹀牓姊哄Ч鍥х伈婵炰匠鍕浄闁挎洖鍊归悡娆戠磼鐎ｎ偒鍎ラ柣鎾炽偢閺岀喖顢欓崫鍕紙濡炪們鍨洪〃濠傜暦閻旂⒈鏁冮柕鍫濋閺佸憡绻濈喊澶岀？闁稿鐩、鏍川閺夋垹顦╂繛瀵稿Т椤戝懐绮婚姘兼富閻庯綆浜滈銏ゆ煕閻樺弶顥㈤柡灞剧洴瀵挳濡搁妷銉骄婵＄偑鍊х�靛矂宕ｉ崘顭戞綎闁惧繐婀遍惌娆撴偣閹帒濡挎い鏂款樀閺岋箓宕橀妸銉ㄥ煘闁兼寧鍔欓弻娑㈠Ψ閹存繄啸闁告凹鍋勮灃闁绘﹢娼ф禒锕傛煟濡や緡娈滄鐐茬箻瀹曘劑寮堕幋婊呯倞闂備線娼чˇ顓㈠磿鏉堚晝涓嶅ù鐓庣摠閳锋帡鏌涚仦鍓ф噯闁稿繐鏈妵鍕敇閻愰潧鈪甸梺鐟扮－閸犳牠銆佸☉銏″�烽柤纰卞墾缁鳖噣姊绘担钘夊惞闁哥姵鍔欏畷鎶藉级閹炽劍妞介、鏃堝礋椤愩垺鏆忓┑锛勫亼閸婃牠骞愭ィ鍐ㄧ獥闁瑰墽绮崑鈺呮煙閹澘袚闁抽攱甯￠弻娑氫沪閸撗勫櫙闂佺绻愰惉鑲╂閹烘鏁嬮柛娑卞幘娴犵螖閻橀潧浠﹂柛鏃�顨堥崚鎺戔枎瀵邦偅鐩幃浠嬪垂椤愩垺鐣梻浣风串缂嶅洨鎹㈠┑瀣祦鐎广儱顦介弫濠囨煟閿濆懏婀版い顐ｇ矒濮婂宕掑顒婃嫹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗釜閹烽鐥幆褜鐓奸柡宀�鍠栭獮蹇曚沪閻ｅ苯濮洪梻浣芥硶閸犳洖螞閸曨垰纾归柛褎銇滈敓鎴掔椤繈鎳滈崹顐ｎ仧濠电偛顕慨鎾敄閸パ呮殼濞撴熬鎷烽柣鎿冨亰瀹曞爼濡歌濡俱劑姊洪崫鍕櫤闁诡喖鍊垮濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟� by changhao
			if (!team.isInTeam(memberRoleId))
				return;
			
			long leaderRoleId = team.getTeamInfo().getTeamleaderid();
			PropRole prole = new PropRole(leaderRoleId, true);
			if(prole.getProperties().getCruise() > 0) {
				TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崹褰掑箲閵忕姭鏀介柛鈾�鏅滈崓闈涱渻閵堝棗绗掗柛瀣功濡叉劙寮婚妷锔规嫽婵炶揪绲块幊鎾活敋濠婂嫪绻嗘い鎰剁磿椤︼箓鎽堕悙鐑樼厱闁哄洢鍔岄悘閬嶆煛娴ｇ锟藉潡寮诲☉銏╂晝闁挎繂妫涢ˇ銊╂⒑閹惰姤鏁遍悽顖涘浮濠�渚�姊洪幐搴ｇ畵闁瑰啿绻樺畷顖炴倷閻戞鍘遍梺缁樻煥閹碱偅绂掗柆宥嗙厸鐎癸拷鐎ｎ剙鍩岄柧缁樼墪閳规垿鎮╅幓鎺炴嫹閸濄儳涓嶉悹鍥ㄧゴ閺�浠嬫煃閵夈儱鏆辩紒鐙欏洦鐓曢柡鍐挎嫹闁荤喆鍎甸、姘舵晲婢跺﹦顔掑銈嗘濡嫭绂嶈ぐ鎺撯拺婵懓娲ら悘顕�鏌℃担瑙勫�愮�规洘绻堝畷濂稿即閻斿弶瀚藉┑鐐舵彧缂嶏拷婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮诲Ο鑲╃＜妞ゆ梻鏅幊鍥殽閻愭潙绗掗摶鏍归敐澶嬫珳缂併劎鏁诲缁樻媴閾忕懓绗￠梺鍝勮閸旀垵鐣烽妷褝鎷烽敐搴℃灍闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶姤鐎抽悗骞垮劚椤︻垱顢婇梻浣告啞濞诧箓宕板鑸靛仾闁跨喕濮ょ换婵嬫偨闂堟刀銏ゆ煕閻曚礁鐏﹂柟顕�娼ч～婵嬫嚋绾版ɑ瀚奸梺鑽ゅТ濞茬娀鏁撻崐鐔哥彧闁诲繐鐗忕槐鎾诲磼濮樻瘷銏ゆ煥閺囥劋閭柟顔诲嵆椤㈡岸鏁撻挊澶屾殾闁割偅娲﹂弫鍡楊熆鐠轰警鍎愭繛鍛Ч濮婄粯鎷呴搹鐟扮闂佸搫琚崝鎴︾嵁閺嶎収鏁冮柨鏇嫹闁告艾缍婇弻鐔兼倻濮楀棙鐣烽梺鎶芥敱鐢帡濡撮幒鎴僵闁绘劦鍓欓鑸电節閻㈤潧浠掗柛鏍█瀹曟鎮欓鍌楁闂佸疇顕ч柊锝夌嵁鐎ｎ喗鍊烽悗娑欙供閸炲爼姊婚崒娆掑厡闁稿鍔戝畷鏇熸綇閳轰緡妫滃銈嗘尪閸ㄧ懓效閺屻儲鐓ラ柡鍌涱儥濞肩喎霉濠婂嫮鐭掗柡宀�鍠栧鍫曞垂椤曞懏娈洪梻浣风串缂嶄焦绂嶇捄铏规殾妞ゆ帒瀚烽弫宥夋煟閹邦喛藟闁归攱妞藉濠氬磼濮樺崬顤�婵炴挻纰嶉〃鍛祫閻熸粎澧楃敮妤呮偂閺囥垺鐓涢柛灞剧矊娴犳粓鏌熼搹顐㈠缂佸顦鍏煎緞鐎ｎ剙骞嶉梻浣侯攰椤宕濋敃鍌氬惞婵炲棙鎸婚悡銏ゆ煕閹板吀绨婚柡瀣洴閺屸�崇暆鐎ｎ剛袦閻庢鍣崜鐔风暦瑜版帩鏁婇柦妯侯檧閹风兘顢涢悙绮规嫼闂佸憡绻傜�氼參宕冲ú顏呯厵妞ゆ梻鍘ч敓钘夌仢椤曪絾绻濆顑┾晠鏌嶉崫鍕拷鍛婄閻愮儤鈷戠紒瀣濠�鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冮崱妯尖攳濠电姴娲ゅ洿闂佸憡渚楅崢钘夆枔閸撲胶纾藉ù锝囨嚀閺佸墽绱掗悩铏磳鐎殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍘鹃悵鍫曟煛閸ゅ爼顣﹀Ч妤呮⒑閸︻厼鍔嬮柟鎼佺畺瀹曘垽骞栨担鐟帮拷鐢告偡濞嗗繐顏柟顖氬閺屾盯鎮╁畷鍥р拰閻庢鍠氶弫濠氥�佸Δ鍛＜闁挎棁妫勯鍫曟⒒閸屾氨澧涚紒瀣崌閹偤宕ㄦ繝鍐ㄥ伎婵犵數濮撮幊蹇涱敂閻樼數纾兼い鏃傛櫕閹冲洦顨ラ悙鏉戝闁诡垱妫冩慨锟介柍銉﹀墯娴煎棛绱撻崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鍗炩槈濡⒈鍞归梻浣规偠閸庢椽宕滃▎鎾冲強闁靛鏅滈悡蹇涚叓閸パ屽剰闁跨喕濮ゅú婊堟偖閹屽悑濠㈣泛顑囬崢閬嶆倵閻у憡瀚归柣搴秵閸犳顢撳澶嬬厽閹兼惌婢�娴溿垺銇勯銏╂█闁靛棗鍟存俊鐑藉煛閸屾熬鎷烽悜鑺ョ厾缁炬澘宕崢鎼佹煣韫囨捇鍙勬慨濠冩そ瀹曘劍绻濋崘锝嗗闁诲海娅㈤幏鐑芥煙闂傚顦﹂柦鍐枛閺屻劌鈹戦崱妯烘櫟闂佸搫鍟悧濠囧疾閹间焦鐓㈡俊顖滃皑缁辨碍绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍟伴幊鍕箾閸儳鐣烘慨濠冩そ濡啫鈽夊▎鎴炊婵犵數濯锟界紒鑸靛哺閻涱喛绠涘☉娆忥拷濠氭煠閹帒鍔存俊顐㈠暙閳规垿鎮欓弶鎴犱桓闂佽崵鍠嗛崕闈涱嚕閹惰棄閱囬柕澶涜吂閹锋椽姊洪崨濠勭細闁稿氦椴搁悧搴ㄦ⒒娴ｅ憡鍟炴慨濠傜秺閹兘鍩℃笟鍥ф婵犵數濮电喊宥夊疾閺屻儲鐓曟繛鎴灻敓鐣屾嚀铻為柛鎰靛枛閺嬩線鏌熼幆褜鍤熸い鈺冨厴閹鏁愭惔鈥茬盎婵炲瓨绮撴禍璺侯潖閾忕懓瀵查柡鍥╁仜閳峰顪冮妶蹇曠暤缂傚倹宀告俊鐢稿箛閺夎法顔婂┑鐘绘涧濞诧箑鈻嶉幘缁樷拻濞达絿鍎ら崵锟介梺瀹︽澘濡块柡渚囧櫍閹瑩鎮介崗鍝ョ憹婵犳鍠楅…鍫ュ春閺嶎厽鍋傞柣鏂垮悑閻撶喐淇婇姘儓缂佺嫏鍥ㄧ厱婵☆垰鎼敓钘夋健瀵鈽夐姀鐘插祮闂侀潧顭堥崕浼存嚋椤忓懐绠鹃悗鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷,teamId: " + teamId);
				fire.pb.talk.MessageMgr.sendMsgNotify(memberRoleId, 160435, null);
				return;
			}
			PropRole pmemrole = new PropRole(memberRoleId, true);
			if(pmemrole.getProperties().getCruise() > 0) {
				TeamManager.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐕傝�块柡灞诲姂閹垻绱掑鍡橆棄缂傚倷鑳舵慨瀵哥矓閻熸壆鏆﹂柡鍥ュ灩绾拷闂佽绻掔划顖氼渻娴犲鏋侀柛鎰靛枛绾惧ジ鏌ㄩ弬鍨挃闁崇鍊濆缁樻媴閸涘﹥鍎撳┑鐐茬湴閸ㄨ棄鐣烽悷鎳婃椽顢旈崨顓濈暗闂備胶绮弻銊╁触鐎ｎ喗鍋傛繛鍡樻尰閳锋垶銇勯幘鍗炲闁伙綁浜堕弻锛勶拷锝庡亞濞叉挳鏌＄仦鍓ф创鐎殿噮鍓欓埢搴ㄥ箚瑜嶆竟搴ㄦ⒒娴ｅ憡鎯堥柣顓烆槺閹广垹鈹戦崱娆愭濡炪倕绻愰幊蹇斿垔鐎靛摜纾奸悗锝庝簽濮樸劑鏌熸總澶婁喊婵﹦绮幏鍛村川婵犲啫鍓甸梻浣告惈閻楁粓宕滈悢鐓庣畾闁告洦鍨奸弫宥夋煟閹板吀鎮嶉柟鐑芥敱缁楃喖鏁撻挊澶樺殨闁圭虎鍠栭～鍛存煃閵夈儱甯犳慨瑙勵殜濮婄粯鎷呴崨濠呯缂備緡鍣崹鎶藉极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝娈垮枟椤牓宕洪弽顓熷亗闁绘柨鍚嬮悡鐔兼煙闁箑澧婚柛銈囧枑閵囧嫰鏁愰崼婵堟缂備浇椴哥敮鐐哄箯閻樼粯鍤戞い鎺炴嫹妞わ絽鎼—鍐Χ鎼粹�茬盎缂備胶绮崝妤呭矗閸涱収娓婚柕鍫濇噽缁犱即鎮楀鐓庡缂侇噯绲介埥澶娾枎閹寸姷妲囬梻浣圭湽閸ㄨ棄顭囪閻☆參姊虹拠鎻掝劉闁汇劍绮撳畷姗�宕滆閹风兘宕奸弴鐔哄帾婵犵數鍋熼崑鎾斥枍閸℃稒鐓冮梺鍨儏閻忔挳鏌″畝锟介崰鎾跺垝濞嗘挸鍨傛い鏇炴噹婵″嘲鈹戦悩顔肩伇婵炲绋撻敓鑺ョ煯閸楀啿顕ｇ拠娴嬫婵鍋撶�氬綊鏌ㄥ┑鍡欏嚬缂併劌鍚嬮妵鍕Ψ閿斿墽鐓夐悗瑙勬穿缁绘繈寮婚崱妤婂悑闁糕剝鐟ラ獮宥夋⒒閸屾瑧璐伴柛娆忕箳缁骞嬮悙瀛樼彿缂傚倷鐒﹂…鍥╃不妤ｅ啯鍊堕煫鍥ㄦ⒒婢ь剚绻涢崨顓ㄨ含闁哄矉绱曟禒锔炬嫚鐠囇勫婵犻潧顑囧畵渚�鏌″鍐ㄥ濠殿垱鎸抽幃宄扳枎韫囨搩浼冮梺杞扮贰娴滎亜顫忕紒妯诲闁告稑锕ら弳鍫ユ⒑閻熸壆姣為柡鍛Т閻ｇ兘鏁愭径濠勵槰濡炪値鍘介崹鍓佺礊鎼粹檧鏀介柣鎰级閳绘洖霉濠婂嫮鐭婃い鏂跨箰閳规垿宕辫箛鏃�鏉搁梻浣虹帛钃辩憸鏉垮暣瀵啿鈻庨幇鈺�绨婚梺鎸庢椤鈻嶆繝鍐╁弿濠电姴鎳忛鐘电磼椤旂晫鎳冮柍璇查叄楠炲棜顦插鐟扮墛娣囧﹪鎮欓鍕舵嫹瑜忕划濠氬箳閹鹃娲稿銈嗗笒鐎氼剛绮堥崱娑欑厵闁绘垶锕╁▓鏇㈡煛閸涱喚鍙�闁哄本绋戦埥澶娢熼悮瀛樺闁荤喖鍋婂鏍喐閻楀牆绗掔紒鐙�鍨堕弻娑樷槈濡吋鎲奸梺璇″灣閸嬨倝骞冭ぐ鎺戠倞闁挎繂绻戠�氬綊鏌ц箛锝呬簼闁绘繍鍓熷濠氬磼濮橆剨鎷烽幖浣哥９鐎瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒锕︾粙蹇旂節閵忥絾纭鹃柨鏇畵瀵娊鏁傞幋鎺旂畾濡炪倖鐗楃缓鍧楁晸閺傘倖瀚归梻浣告惈椤戝懐绮旇ぐ鎺戣摕闁跨喓濮撮悙濠囨煏婢跺牆鍔ゅù鐘哄亹缁辨挻鎷呴崫鍕戙儵鏌涢悩铏暗婵″弶鍔欓獮鎺楀籍閹炬潙顏堕梺鎸庣箓缁ㄨ偐鑺遍懞銉﹀弿婵☆垳顭堟慨鍌炴煛瀹�瀣瘈闁轰焦鎸荤粋鎺旓拷锝庡亜濞堢喖姊洪棃娑辨缂佽尪鍋愰懞杈ㄧ節濮橆厸鎷洪梺鍛婄箓鐎氼剟寮冲▎鎰閻忕偛鍊搁敓鑺ョ洴閵嗗倿宕稿Δ浣叉嫽婵炶揪绲肩拃锕傛倿妤ｅ啯鐓ラ柡鍥崝锔撅拷瑙勬礃缁诲牆顕ｆ禒瀣垫晣婵犲﹥鍔栫�氬綊鏌涢幇闈涙灈閸烆垶姊洪崘鍙夋儓闁稿﹥鎮傞弫鎾绘寠婢舵鍚嬮梺鍝勬湰閻╊垱淇婇悜鑺ユ櫜闁告侗鍙庨悗铏繆閻愵亜锟芥洘顨ヨ箛娑樼闁跨噦鎷�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冮崱妯尖攳濠电姴娲ゅ洿闂佸憡渚楅崢钘夆枔閸撲胶纾藉ù锝囨嚀閺佸墽绱掗悩铏磳鐎殿喛顕ч埥澶婎煥鎼粹懣顏呬繆閻愵亜锟芥垿宕濆畝鍕疇闁归偊鍘鹃悵鍫曟煛閸ゅ爼顣﹀Ч妤呮⒑閸︻厼鍔嬮柟鎼佺畺瀹曘垽骞栨担鐟帮拷鐢告偡濞嗗繐顏柟顖氬閺屾盯鎮╁畷鍥р拰閻庢鍠氶弫濠氥�佸Δ鍛＜闁挎棁妫勯鍫曟⒒閸屾氨澧涚紒瀣崌閹偤宕ㄦ繝鍐ㄥ伎婵犵數濮撮幊蹇涱敂閻樼數纾兼い鏃傛櫕閹冲洦顨ラ悙鏉戝闁诡垱妫冩慨锟介柍銉﹀墯娴煎棛绱撻崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鍗炩槈濡⒈鍞归梻浣规偠閸庢椽宕滃▎鎾冲強闁靛鏅滈悡蹇涚叓閸パ屽剰闁跨喕濮ゅú婊堟偖閹屽悑濠㈣泛顑囬崢閬嶆倵閻у憡瀚归柣搴秵閸犳顢撳澶嬬厽閹兼惌婢�娴溿垺銇勯銏╂█闁靛棗鍟存俊鐑藉煛閸屾熬鎷烽悜鑺ョ厾缁炬澘宕崢鎼佹煣韫囨捇鍙勬慨濠冩そ瀹曘劍绻濋崘锝嗗闁诲海娅㈤幏鐑芥煙闂傚顦﹂柦鍐枛閺屻劌鈹戦崱妯烘櫟闂佸搫鍟悧濠囧疾閹间焦鐓㈡俊顖滃皑缁辨碍绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍟伴幊鍕箾閸儳鐣烘慨濠冩そ濡啫鈽夊▎鎴炊婵犵數濯锟界紒鑸靛哺閻涱喛绠涘☉娆忥拷濠氭煠閹帒鍔存俊顐㈠暙閳规垿鎮欓弶鎴犱桓闂佽崵鍠嗛崕闈涱嚕閹惰棄閱囬柕澶涜吂閹锋椽姊洪崨濠勭細闁稿氦椴搁悧搴ㄦ⒒娴ｅ憡鍟炴慨濠傜秺閹兘鍩℃笟鍥ф婵犵數濮电喊宥夊疾閺屻儲鐓曟繛鎴灻敓鐣屾嚀铻為柛鎰靛枛閺嬩線鏌熼幆褜鍤熸い鈺冨厴閹鏁愭惔鈥茬盎婵炲瓨绮撴禍璺侯潖閾忕懓瀵查柡鍥╁仜閳峰顪冮妶蹇曠暤缂傚倹宀告俊鐢稿箛閺夎法顔婂┑鐘绘涧濞诧箑鈻嶉幘缁樷拻濞达絿鍎ら崵锟介梺瀹︽澘濡块柡渚囧櫍閹瑩鎮介崗鍝ョ憹婵犳鍠楅…鍫ュ春閺嶎厽鍋傞柣鏂垮悑閻撶喐淇婇姘儓缂佺嫏鍥ㄧ厱婵☆垰鎼敓钘夋健瀵鈽夐姀鐘插祮闂侀潧顭堥崕浼存嚋椤忓懐绠鹃悗鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷,teamId: " + teamId);
				fire.pb.talk.MessageMgr.sendMsgNotify(memberRoleId, 160436, null);
				return;
			}
			
			Long leaderclanfightid = xtable.Roleid2clanfightid.select(leaderRoleId); //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閳锋垶銇勯幒鐐村缂備礁顦遍弫濠氬箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫬鏆欓柛濠呭吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｉ搹鍦＜閺夊牄鍔嶇亸顓熴亜閹剧偨鍋㈢�规洦浜畷姗�顢橀悙鏉戝壍婵犲痉鏉匡拷妤佹叏閻戣棄纾绘繛鎴欏灩閻ゎ喗銇勯幇鈺佸姢濞存粈绮欏娲嚒閵堝憛銏＄箾濞村娅囧ù婊咁焾閳诲酣骞嬮悩闈涚闂備胶绮崝妤呭磿閵堝鐓曢柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘嚚鐟邦煥閿熶粙宕￠幎钘夎摕婵炴垶顭傞悢铏圭＜婵☆垳灏ㄩ幏鐑藉箛椤撗勵啍闂佺粯鍔栧娆愭叏瀹ュ鐓涘ù锝堫潐鐏忔壆绱掗崒娑樼闁跨喐鏋荤紞鍡涘磻閿熶粙鏌熸搴ｅ笡缂佺粯绋掑蹇涘礈瑜忚ⅲ婵犵數鍋涢幏鎴犲緤閸ф鏋佹い鏂跨毞濡插牓鏌曡箛銉х？闁告ɑ鎮傞弻锝堢疀閺囩偘鍝楀銈嗘肠閸曨剙寮块梺绋挎湰缁綁骞忔搴㈠枂闁告洦鍓涢敍姗�姊虹粙鍨劉濠电偛锕顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欐祰濞夋洟宕伴幘缁樺仱闁哄啫鐗嗛崹鍌炲级閸碍娅嗛柡鍡樼矒閺屻劑鎮㈤崫鍕戙儳锟借鎸风欢姘跺蓟濞戙垹唯妞ゆ梻鍘ч～顏堟⒑缁嬫鍎忔い鎴濐樀瀵鈽夐姀鈺傛櫇闂佺粯顭堢亸娆愮閻撳宫鏃堟偐闂堟稐绮堕梺缁橆殕閹告悂锝炶箛鏇犵＜婵☆垵顕ч鎾绘⒑閼姐倕鏋涢柛瀣躬瀹曠數锟斤綆鍠楅埛鎴︽煕濠靛棗顏い顐畵閺屾盯寮敓浠嬪垂閸ф鍋樻い鏇嫹鐎殿喕绮欓、妯款槼闁哄懏绻堝娲箰鎼达絿鐣甸柣搴㈠嚬閸犳氨鍒掔拠宸僵妞ゆ挾濮烽惁鍫ユ⒒閸屾氨澧涚紒瀣灴閺佹捇鎳為妷锕�锟芥劖顨ラ悙宸█闁轰焦鎹囬幃鈺呭礃闊厾鏆楅梻鍌欑閹碱偄煤閵娾晛绐楅柟鎯у娑撳秴螖閿濆懎鏆為柣鎾存礋閺屽秹鍩℃担绋跨濡炪倕绻愰幊蹇涘矗韫囨稒鐓曟い鎰Т閻忣喚鐥幆褋鍋㈤柡灞诲姂閹垽宕滄担铏瑰幆闁诲氦顫夊ú姗�鏁冮姀銈冿拷浣糕枎閹炬潙鐧勬繝銏ｅ煐缁嬫帞锟芥艾缍婇弻锝夊閻樺啿鏆堥梺缁樻尵閸犳牠寮婚弴锛勭杸閻庯綆浜烽幏鐑藉冀瑜夊Σ鍫㈡喐閺冨牆绠栧ù鐘差儛閺佸秵绻濋棃娑欘棤闁告﹩鍋婂娲濞戞瑦鎮欓柣搴㈢煯閸楁娊濡存笟锟藉鎾閳╁啯鐝抽梻浣规偠閸庮噣寮插┑瀣骇闁兼亽鍎扮换鍡涙煟閹板吀绨婚柨鐔诲Г閸ㄥ灝鐣烽悷鎳婃椽顢旈崨顔界彇闂備線娼х换鍫ュ磹閺囩姷涓嶉柡宥冨妿缁犻箖鏌涢埄鍏╂垹浜搁鐘电＜闁跨喍绮欏畷鎺楁倷鐎电骞堟繝鐢靛█濞佳咃拷姘煎墴瀹曟繂顭ㄩ崪鍐╁閻熸瑥瀚粈鍫ユ煕閻樺磭澧い顐㈢箲缁绘繂顫濋鍌︾床婵犳鍠楅敃鈺呭礈閵娾晛绠梺鍨儛濡插綊骞栧ǎ顒�鐒洪柛瀣ㄥ妼閳规垿顢欓弬銈勭返闂佸憡鎼粻鎾诲箖閻愬顩烽悗锝庡亞閸樼偓绻濆▓鍨灍闁告梹娲熼弫鎾绘嚍閵夘喗鐣风紓浣割儏椤︻垶顢橀崗鐓庣窞閻庯綆鍓欓獮宥夋⒒娴ｈ櫣甯涢柛銊ョ埣閺佸姊虹紒妯虹闁稿鎸鹃幑銏犫槈濮樼偓瀚规繛鎴炵懐閻掕棄顭胯閺佸寮婚敍鍕勃闁绘劦鍓涢ˇ銊х磽娴ｈ櫣甯涚紒瀣墵钘濋柡灞诲劜閻撴瑩鏌ц箛锝呬簻濠殿喖绉归弻鐔碱敋閿熺晫绮婚弽顓炵疇婵犲﹤鐗婇崑銊╂煟閵忋垺鏆╂俊鎻掓喘濮婄粯绗熼敓钘夘焽瑜庨〃銉ㄧ疀閺囩偟绛忔繛瀵稿Т椤戝棝宕戦崒鐐寸厵闁规鍠栭。濂告煟閹惧瓨绀嬮柡宀嬬節瀹曟﹢骞愭惔鈽嗕紦闂傚倷鑳剁划顖炪�冮崼鐔稿弿闁圭虎鍠楅崑鈺呮煟閹达絽袚闁稿鍔庣槐鎺旓拷锝庡幗绾埖銇勯敂鑺ョ凡妞ゎ亜鍟存俊鍫曞幢濞嗗浚娼风紓鍌欑椤戝棝骞戦崶褏鏆﹂柨婵嗩槸缁�鍐煏婵炲灝鐏柡鍌︽嫹闂傚倷绀侀悿鍥涢崟顐嬫稑螖閸涱喖锟藉爼鏌ｉ弬鍨倯闁稿缍侀弻銊╂偄閸撲胶鐓撻梺杞扮閸熸挳寮幘缁樺癄濠㈣泛锕﹂妶顐︽⒒閸屾瑧绐旀繛鑹板吹閿熶粙娼ч惌鍌氱暦閵忋倕绀堢憸宥壦夊顑芥斀闁稿本纰嶉崯鐐烘煟閹惧崬鍔﹂柡宀嬬秮瀵剟宕归鍛闂備焦妞块崢浠嬫偡閳哄懎钃熼柍鈺佸暞婵挳鎮峰▎蹇擃仼闂傚绉剁槐鎾存媴缁嬪尅鎷烽崷顓熸殰闁绘劗鍎ら弲鎼佹煛閸屾ê锟芥绮旈悽鍛婄厱閻庯綆浜滈顏嗙磼閸屾稑娴い銏★耿閹瑩鍩￠崒娑欐緫闂傚倷鑳剁划顖炩�﹂崼銉晪婵犲﹤鍠氶崯鍛存煏婢跺棙娅嗛柣鎾寸懇閺屾盯骞囬鐘插绩闂佸憡鐟ョ�氫即寮婚弴銏犲耿婵°倧鎷烽柨鐔绘濠�杈╃磽閹惧顩烽悗锝庝簻缁愭稒绻濋悽闈浶㈤柛濠囶棑缁辨捇骞樼紙鐘电畾闂佺粯鍔︽禍婊堟晸閼恒儳澧甸柟顔ㄥ吘鏃堝川椤愵剚瀚归柛鎰靛枛缁犳盯鏌℃径搴㈢《妞ゆ柨妫濋幃妤呮偡閺夋浼冮梺绋款儏閿曨亪骞冮姀銈呭耿婵炴垶鐟ч崢閬嶆⒑閸濆嫭宸濋柛瀣洴閵嗗倸鐣烽崶鈺冿紲婵犮垼鍩栭敋婵炲懎绉归弻锛勪沪缁嬪灝鈷夐梺鐟板槻閹虫劗鍒掑▎鎾崇闁斥晛鍟鍫曟⒑缁夊棗瀚峰▓鏃傜磼閻樿櫕绶查柍瑙勫灴閹晠骞撻幒鎾搭唲缂傚倷绀佹晶搴ㄥ磻閻愬鈹嶅┑鐘叉祩閺佸秵绻濇繝鍌氭殭濠碘�虫惈椤啴濡堕崱姗嗘闂佺懓鍤栭幏锟�? by changhao
			if (leaderclanfightid != null)
			{
				Long memberclanfightid = xtable.Roleid2clanfightid.select(memberRoleId);
				if (!leaderclanfightid.equals(memberclanfightid))
				{
					fire.pb.talk.MessageMgr.sendMsgNotify(memberRoleId, 410020, null); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐔虹煉闁哄矉绱曟禒锕傛閳哄倸顏堕梺褰掝暒缁�渚�骞冮幋锔界厵闁兼祴鏅炶棢闂佽法鍠曞Λ鍕椤撱埄鏁婇柟閭﹀幘缁★拷濠电偛鐗嗛悘婵嬪几閿斿浜滄い鎰╁焺濡拷闂佽鍣换婵嬪垂妤ｅ啫绠涘ù锝呮贡缁嬩焦绻濋悽闈涗粶婵☆垰锕ョ粋宥夊醇閺囩偞鐎梺绯曞墲缁嬫帡鎮￠妷鈺傜厽闁哄啫鍊搁崝瀣箾閸涱喗绀堢紒杈ㄥ浮椤㈡瑩鎳為妷顔筋棃婵°倗濮烽崑鐐烘晝閵忋們锟戒礁鈻庨幘鏉戞異闂佸啿鎼敃銈夊极婵傚憡鈷掗柛灞剧懅椤︼箑顭块悷甯含鐎规洘鍨垮畷銊╊敆閻撳孩鎯堟い顐ｇ矒閺佹挻绂掔�ｎ亞鐣洪梻鍕川缁鈽夐姀鐘殿啋濡炪倖鐗楃粙鎺楀级閹间焦鈷掑ù锝堟鐢盯鏌涢弮锟介…鍥ㄧ缁嬪簱鏋庨柟閭﹀櫘濞村嫰姊洪棃娑氱疄闁稿﹥鐗犻幃锟犲即閵忥紕鍘搁梺鍛婂姈鐎笛咃拷姘辨嚀閳规垿顢欑憴鎺撶矒瀹曟繈骞嬮敂鎯хウ婵犮垼鍩栭崝鏇犵不閻熸噴褰掓晲閸涱喗鍠愭俊銈囧Т濞差厼顫忓ú顏勬嵍妞ゆ挆鍛Ъ闂佽楠搁悘姘辨暜閹烘洜浜遍梻浣虹帛閸旀宕曢妶澶婄厱闁圭儤顨嗛悡鏇㈡煏婢跺鐏ラ柡鍫墴閸┿垽宕奸妷锔规嫼闂佸憡绻傜�氼厼锕㈤幍顔剧＜閻庯綆鍋嗘晶杈╃磼椤旀鍤欓柍钘夘槸椤粓宕卞Ο鍝勫帪濠碉紕鍋戦崐鏍垂閸撲緤鎷风粭娑樻处閸庢捇鐓崶銊︾叄缂佽妫濋弻锝夊箛閸忓摜鐩庨梺璺ㄥ枔閻涖倝宕ㄩ鐘电摌濠德板�х徊浠嬪疮椤栫偛纾婚柛宀�鍋為悡銉╂煟閺傛寧鎯堢�涙繈姊洪挊澶婃殶闁哥姵鍔楅幑銏犫槈閵忕姷顓洪梺鍝勫枦閹风兘鏌涢敐鍕祮闁哄被鍔戦幃銏ゅ川婵犲嫪绱曠紓鍌欒兌婵敻骞戦崶顒佸仒妞ゆ梹鎷濋幏鐑芥晲鎼存繄鎸夐梺鐚存嫹濞寸姴顑嗛悡鏇㈡煃閵夈儳锛嶇紒鐘崇叀閹顫濋悡搴♀拫濠殿喖锕ㄥ▍锝夊箯閻樿鐭楀璺猴攻閺侇亝淇婇悙顏勶拷銈夊磻閸曨垁鍥敍濠婂啫鐤惧┑鐘垫暩婵挳鏁冮妶澶嬪亱闁糕剝鐟ч惌鍡涙煕鐏炲墽鈼ョ紒璇叉閵囧嫰寮介妸褏鐣哄銈呯箳婵烇拷闁哄矉绻濆畷閬嶎敇閵忊槅锟藉秹姊洪棃娑欐悙閻庢矮鍗抽悰顕�宕堕锟界粈鍫澝归敐鍥у妺婵炲牆鎽滅槐鎾诲磼濞嗘垹鐡橀梺褰掝棑閸忔﹢骞冨Δ鍛櫜閹肩补锟借尙鎸夊┑鐐茬摠缁秶鍒掗幘璇茶摕闁绘梻鍘х痪褔鏌涢…鎴濇珮闁哄棎鍨荤槐鎾存媴閸撴彃鍓崇紓渚囧櫘閸ㄦ娊骞戦姀鐘闁靛繒濞�閸炶泛鈹戦悩璇у伐闁硅櫕鍔欓幃锟犲箻閺傘儲鏂�濡炪倖姊婚妴瀣啅閵夛负浜滄い鎾跺仜濡插鏌ｉ敐鍥у幋妤犵偞甯￠獮瀣籍閿熶粙鎮楁繝姘拺缁绢厼鎳忚ぐ褏绱掗幓鎺撳仴闁诡喕鍗虫俊鐑藉煛閸屾瀚藉┑鐐舵彧缁蹭粙骞夐敓鐘茬疅缂佸绨遍弨鑺ャ亜閺冨倸浜鹃柡鍡╁墯椤ㄣ儵鎮欓弶鎴犱紝閻庤娲橀崕濂杆囬幘顔界厸闁糕槅鍙冨顔剧磼缂佹绠炴俊顐㈠暙閳藉宕橀幓鎺濇浆闂傚倷鐒﹂惇褰掑磹瑜旈獮蹇涙煥鐎ｎ剛鐦堥梺姹囧灲濞佳勭閿曞倹鐓曢柕濞垮劤閸╋綁鏌嶉妷顖滅暤鐎规洖鐖奸、鏍晝閿熻棄煤閳哄惤鍥蓟閵夛妇鍘撻柣鐔哥懃鐎氼剟鎮樼�涙ǜ浜滈柕蹇ョ磿閹冲懐绱掗鐐毄闁跨喐鏋荤紞鍡涘磻閹烘瑙﹂柛娑樼摠閳锋帒霉閿濆懏鍟為悹鎰剁節閺屾稖绠涢弮鎾癸拷鍧楁寠閻斿吋鐓欓柛鎾楀懎绗￠梺鍝勬噺閹倿寮诲☉娆戠瘈闁告洦鍋呴悵鈥斥攽閻愭彃鎮戦柛鏃�鐗滈幑銏犫槈閵忕姷鐓戞繝銏ｆ硾閼活垶鍩涘畝鍕拺閻犲洠锟借櫕鐏侀梺绋挎唉鐏忔瑧绱撻幘缁樺仼鐎癸拷閿熶粙鎯屽▎鎾村仯闁诡厽甯掓俊鍧楁煛閸♀晛浜濈紒缁樼箞閹粙妫冨☉妤冩崟婵犵妲呴崑鍛存偡閳哄懐宓侀柟閭﹀幘缁★拷濠殿喗锕╅崜娆撳箚閻愮儤鈷戦柣鐔煎亰閸ょ喖鏌涚�ｎ偄鐏︾紒鍌氱Т椤劑宕奸悢鍝勫箥闂備胶绮崹鍫曟晪闂佽绻堥崕鐢稿蓟閵娾晜鍋勯悹鍥ㄧ暙閹剧粯鐓曢柡鍐挎嫹闁荤啿鏅涢锝夘敃閿曪拷缁犺崵绱撴担鑲℃垵鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚� by changhao
					fire.pb.talk.MessageMgr.sendMsgNotify(leaderRoleId, 410021, null); //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥闁哄稁鍘界粻鎺楁⒒娴ｄ警鐒剧紒缁樺姍瀹曘儳锟斤綆鍓涚粈濠囨煙鐎电啸缁炬儳銈搁弻鐔兼焽閿曪拷瀵偓绻涢崼鐔虹煁妞ゃ劊鍎甸幃娆戯拷鐢殿焾閳綊鏌ら幐搴″闁靛洤瀚伴獮鎺楁倷閺夋埈浼撴繝鐢靛Т閻ュ濡堕崨顒佺潖缂傚倷娴囨ご鍝ユ暜閿熺姴绠栭柍鍝勬噺椤ュ牊绻涢幋鐐垫噮濞存粠浜缁樻媴閸涘﹥鍎撻梺娲诲墮閵堢鐣锋导鏉戝唨妞ゆ挾濮寸粊锕傛⒑缁洖澧茬紒瀣浮瀹曟垹锟斤綆鍠楅悡鏇熴亜閹伴潧浜滃ù婊勭箖閵囧嫰濡烽妷顔解枅濠殿喖锕︾划顖炲箯閸涙潙宸濆┑鐘叉噽椤㈠懘姊绘担渚敯婵炲懏娲熼獮鎴﹀炊椤掞拷缁犳牠鏌曟径娑橆洭闂傚嫬瀚槐鎺旓拷锝庡幖閸旂敻鏌熼懞銉︾婵﹥妞藉畷顐﹀礋椤掞拷缁愭盯姊洪崫銉バｉ柟绋垮⒔閸掓帞绱掑Ο绋夸簼闂佸憡鍔忛弲婵嬪储閸楃儐娓婚柕鍫濋楠炴鏌涢妸褎鏆�殿喚顭堥埥澶娢熼柨瀣澑婵＄偑鍊栭弻銊╁Χ閹间礁鐭楅柛鏇ㄥ灡閻撴瑦銇勯弮鍌氬付婵¤尙绮妵鍕敇濠婂啫顫囬悗瑙勬礈閸犳牠銆佸Δ鍛＜婵﹩鍓氶鍏肩節閻㈤潧啸妞わ綀妫勫嵄闁告稒娼欑壕濠氭煕濞戞瑧鏆橀柨鐔绘閸燁垳鎹㈠┑瀣＜闁挎洑绶ら幏鐑藉垂椤旂尨鎷烽幒鎴僵闁绘劦鍓欓鑸电節濞堝灝鏋涢柨鏇樺妼閳诲秹鏁愰崶褍鐏婂┑鐐叉閸ㄨ泛鐣锋径鎰厪濠电倯鍐闁哄懌鍎靛濠氬磼濞嗘帒鍘″銈庡幖閻楁捇銆侀弽顓炲耿婵炴垶顭囬ˇ顔尖攽閻愬弶顥為柟鍛婄摃缁绘岸姊绘担渚劸闁活剙銈稿畷鎴濃槈閵忊�崇彅闂佺粯鏌ㄩ崥瀣偂韫囨搩鐔嗛柤鍝ユ暩閳藉銇勯埡濠傚⒋闁哄本绋戣灒闁告繂瀚崺鐐差渻閵堝簼绨婚柛鐔风摠娣囧﹪鎳滈崹顐㈠妳闂佺偨鍎辩壕顓㈩敊閹达附鈷掑ù锝堫潐閸嬬娀鏌涢弬璺ㄧ劯闁诡喗锚椤繄鎹勯搹瑙勭叄闂備礁鎲￠幐椋庢閵堝绠柣鎴ｅГ閸嬨劑鏌涘☉姗堟婵﹫绠撳娲捶椤撶偛骞嬪銈冨劜閹瑰洭鐛径鎰妞ゆ棁鍋愰ˇ鏉款渻閵堝棗绗掗柛瀣鍗遍柛顐ｆ礃閳锋帒霉閿濆嫯顒熼柣鎺戝⒔缁辨帞绱掑Ο铏逛紝闂佽桨绀侀澶婎潖閻戞ê顕辨繛鍡樺灦閸嬔囨⒑缁嬭法绠查柨鏇樺灲婵″瓨绗熼敓钘夘嚕閹绢喖顫呴柍鈺佸暞閻濇牠姊绘担鑺ョ《闁哥姵鎹囧鏌ヮ敃閵堝懎鐏婇梺鍓插亽濠線骞忛悜鑺ユ櫜閹肩补鍓濋悘宥夋⒑缂佹ɑ灏版繛鍙夛耿婵＄敻宕熼锝嗘櫍闂佺粯妫冮ˉ鎾寸鐎涙绠鹃悗娑欘焽閻鏌涢弮锟介悷鈺侇嚕婵犳碍鏅柛鏇″煐鐎氬綊鏌ㄥ┑鍡欏嚬闂侇収鍨遍妵鍕償閵忊晜鐤侀梺鍝勮嫰缁夊爼骞夐幘顔肩妞ゆ劑鍊撶槐婵嬫⒒娴ｇ瓔鍤冮柛鐘愁殜閹兘鍩℃笟鍥ф闂佸壊鍋呭ú鏍不閿濆鐓熸俊顖氭健閸濈儤銇勯姀鈽呰�挎慨濠傤煼瀹曟帒鈻庨幋顓熜滄繝鐢靛閹风兘姊洪锟界粔顕�鏁撻弬銈囩暤鐎规洖銈告俊鐑藉Ψ瑜滈崯鍫熺節閻㈤潧孝闁挎洏鍊濋獮濠冩償閵娿儱鐎┑鐘绘涧椤戝棝鎮″☉銏＄厱闁规壋鏅涙俊鍨熆瑜庨惄顖炲蓟濞戞瑧绡�闁稿被鍊楅崥瀣⒑閸濆嫮鐒跨紒鐘冲灱閻忔帗绻涢幘鏉戝毈闁搞劏椴搁〃娆忊攽閿涘嫬浜煎ù鐓庢噺閹峰懐绮欓幐搴㈢杹闂備胶灏ㄩ幏鐑芥煠閹帒鍔樺ù婊勭矒閺岋繝宕橀妸銉嫹婵犳艾绠洪柛灞剧〒缁犻箖鏌涢顐㈠缂佸鍣ｉ弻鈥崇暆閿熶粙宕伴弽顓炵畺婵犲﹤鎳愭す鎶芥倵閿濆骸浜芥俊顐ｇ墵濮婄粯鎷呴懞銉с�婇梺鍝ュТ闁帮綁寮幘缁樺仼閻忕偠濮ら悵鈥斥攽閻愭彃鎮戦柛鏃�鐗滈幑銏犫槈閵忕姷鐓戞繝銏ｆ硾閼活垶鍩涘畝鍕拺閻犲洠锟借櫕鐏侀梺绋挎唉鐏忔瑧绱撻幘缁樺仼鐎癸拷閿熶粙鎯屽▎鎾村仯闁诡厽甯掓俊鍧楁煛閸♀晛浜濈紒缁樼箞閹粙妫冨☉妤冩崟婵犵妲呴崑鍛存偡閳哄懐宓侀柟閭﹀幘缁★拷濠殿喗锕╅崜娆撳箚閻愮儤鈷戦柣鐔煎亰閸ょ喖鏌涚�ｎ偄鐏︾紒鍌氱Т椤劑宕奸悢鍝勫箥闂備胶绮崹鍫曟晪闂佽绻堥崕鐢稿蓟閵娾晜鍋勯悹鍥ㄧ暙閹剧粯鐓曢柡鍐挎嫹闁荤啿鏅涢锝夘敃閿曪拷缁犺崵绱撴担鑲℃垵鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚� by changhao
					return;
				}
			}
			
			Role memberRole = RoleManager.getInstance().getRoleByID(memberRoleId);
			Role leaderRole = RoleManager.getInstance().getRoleByID(leaderRoleId);
			if (memberRole == null || leaderRole == null)
			{
				TeamManager.logger.error("can't get role scene when return team");
				return;
			}
			
			if (memberRole.getScene() == leaderRole.getScene()) //婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閳锋垶銇勯幒鐐村缂備礁顦遍弫濠氬箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫬鏆欓柛濠呭吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｉ搹鍦＜閺夊牄鍔嶇亸顓熴亜閹剧偨鍋㈢�规洦浜畷姗�顢橀悙鏉戝壍婵犲痉鏉匡拷妤佹叏閻戣棄纾绘繛鎴欏灩閻ゎ喗銇勯幇鈺佸姢濞存粈绮欏娲嚒閵堝憛銏＄箾濞村娅囧ù婊咁焾閳诲酣骞嬮悩闈涚闂備胶绮崝妤呭磿閵堝鐓曢柟瀵稿У閸犳劙鏌ｅΔ锟介悧鍡欑箔閹烘嚚鐟邦煥閿熶粙宕￠幎钘夎摕婵炴垯鍨圭粻濠氭煛婢跺鐏ラ柟钘夌仛缁绘繄鍠婃径宀�鐦堝┑鐐板尃閸パ呭幋闂佺懓顕刊鎾箯閻戣姤鏅查幖绮癸拷鑼泿闂備浇娉曢崰鎾诲疾椤愶箑鏋佸┑鐘宠壘閽冪喖鏌ㄥ┑鍡欏⒈婵℃彃顭峰铏规兜閸滀礁娈濈紓浣介哺濞茬喖寮幘缁樺殟闁靛鍔岄ˉ婵堢磽閸屾氨孝闁挎洏鍊濋敐鐐剁疀閹句焦妞介、鏃堝礋椤愩倗宕烘繝鐢靛Х閺佸憡鎱ㄩ幘顔肩柈妞ゆ剣璇叉喘閸╋繝宕ㄩ瑙勫缂傚倷绀侀鍡欙拷绗涘洤绠查柨婵嗩槹閻撴洟鐓崶銊︾�い蹇撶墱閺佸鏌ㄥ┑鍡╂Ц缂佺姷绮妵鍕籍閸ヮ煈妫勯梺璺ㄥ枙濡嫰鎮ユ總绋跨畺鐟滅増甯掗悙濠冦亜韫囨挸顏慨锝冨灮缁辨挻鎷呴崜鍙壭у┑锛勫仒缁瑥顕ｆ繝姘亜缁炬媽椴搁弲鈺呮⒑閼姐倕鏋戞繝銏★耿閸╂稒寰勯幇顓涙嫼闁荤姴娲犻敓钘夌－娴狀厼鈹戦埥鍡椾簻闁哥喐娼欓锝夘敃閵忊晛鎮戞繝銏ｆ硾椤戝懎鈻撳┑鍡╂富闁靛牆妫楅柌婊堟煙妞嬪骸鍘撮柡宀嬬秬缁犳盯鏁愰崟顓熸櫦缂傚倷娴囨ご鍝ユ暜閻愬灚顫曢柟鐑樺殾閻斿吋鍤冮柍鍝勫暞濠㈡牠姊婚崒娆愮グ婵℃ぜ鍔戦幃鐐烘晝閸屾氨顔囬梺鐓庮潟閸婃鎯屾径鎰厵闁绘垶蓱椤ユ牠鏌熸搴″幋闁轰焦鍔欏畷銊╊敍濞嗘垿鈹忛梻鍌欑閹碱偊骞婅箛鏇炲灊闁圭偓鍓氬鏍ㄧ箾瀹割喕绨荤紒锟介崼銉︾厵缂備焦锚缁楀倻绱掗妸銊ヤ汗缂佽鲸鎸婚幏鍛驳鐎ｎ亝顔勬繝纰樻閸嬪懐鍒掗幘鍦唴闂備胶顭堥惉濂稿磻閻愬搫鐓曢柟鐑樺殮瑜版帗鏅查柛銉㈡櫆閹叉﹢姊洪幖鐐诧拷鏍偡瑜忓Σ鎰板箳閺冨倻锛滃┑鈽嗗灣閸庛倗鎷犻悙鐑樺�甸悷娆忓缁�鍐煕閵娿儲鍋ユ鐐插暣閸╋繝宕橀埡浣哄酱闂備浇鍋愰埛鍫ュ礈閵娧勵潟闂侇剙绉甸埛鎺戙�掑鐐闂佽法鍠曟慨銈囩矙閹存繄鏆ら柛鈩冪♁閻撴洟鎮楅敐搴濇倣闂婎剦鍓涢敓鑺ヮ問閸ｎ噣宕戞繝鍌滄殾闁圭儤顨嗛崐鐑芥倵閻㈡鐒炬鐐茬墛缁绘繂顕ラ柨瀣凡闁跨喕濮ゅú鐔风暦椤栫儐鏁冮柨婵嗘祩濞叉悂鏌ｉ悢鍝ユ噧閻庢凹浜為幑銏ゅ幢濞戞瑧鍘电紓鍌欑劍閿氱紒妞﹀喚鐔嗙憸婵堢不閹捐钃熼柍銉ョ－閺嗗棝鏌ㄩ悢鍓佺煓鐎规洑鍗冲鍊燁槾闁哄棴濡囬幉鎼佹偋閸繀鍒婇梺杞扮閿曨亪寮诲☉婊呯杸闁规崘娅曢崐顖氼渻閵堝棙宕勬繛澶嬫礈濡叉劙骞樼拠鑼紲濠电偛妫欓幐濠氼敁閺嶎厽鈷戦柛娑橈攻閻撱儲绻涚�电鍘寸�规洘宀搁獮鎺懳旀繝鍐╂珫婵犵數濮撮敃銈囷拷姘煎墯閹梹绻濋崒妤佹杸闂佺粯顭囩划顖氣槈瑜庨妵鍕敇瑜嶆晶顔姐亜椤掞拷閿曨亪銆侀弮鍫濋唶闁绘柨寮剁�氬ジ鏌ｉ悢鍝ョ煂濠⒀勵殘閺侇噣鍩℃担鍕洴楠炲鏁傞悾灞藉箞闂傚鍋勫ú锕傚几閸岀儐鏁傞柛顐墰缁嬪繘妫呴銏″闁瑰嘲顑呯叅妞ゅ繐绉甸弲婊堟⒑閸涘﹣绶遍柛妯挎閸掓帡鏁撻悩鏂ユ嫼闁荤姴娲﹁ぐ鍐敆閵忋垻纾奸悗锝庡亜濞搭噣鏌℃担鍓插剰妞ゎ亜鍟存俊鍫曞川鐎电妞介梻浣烘嚀閸ゆ牠骞忛敓锟�? by changhao
			{
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍嵁閹达箑绠涢梻鍫熺♁椤斿嫰姊洪悷鏉挎倯婵炲吋鐟╅弫鍐敂閸繆鎽曢梺鎸庣☉鐎氼亜鈻介鍫熷仯闁搞儯鍔岀徊璇差熆鐟欏嫬濮嶆慨濠冩そ楠炴牠鎮欓幓鎺懶ら梻浣告啞閹碱偆绮婚幘鎰佸殨妞ゆ劑鍩勯崥瀣熆鐠轰警鍎戦柛妯圭矙濮婇缚銇愰幒鎴滃枈闂佸憡鎸婚悷褔鎯�椤忓浂妲兼繛锝呮搐閿曘倝顢欒箛娑辨晩闁绘挸绨堕幏顐︽⒒娴ｇ瓔鍤冮柛鐘愁殜閵嗗啯绻濋崶褏鐣鹃梺绋跨灱閸嬫稑顔忓┑鍡忔斀闁绘ɑ褰冩禍鐐裁归崗鍏煎磳婵﹤顭峰畷鎺戔枎閹搭厽袦闂備浇顫夌粊鎾晸閸婄喓袦婵炲樊浜濋弲婵嬫煕鐏炵偓鐨戞い蟻鍐ｆ斀妞ゆ梻鐡斿▓锝夋煙閻戣姤鏁辨い銊ｅ劦閹瑩寮堕幋婵愭綒闂備浇妗ㄩ悞锕傚箰閼姐倗鐭夐柟鐑樻閹风兘鏁愭惔鈥茬爱闂佸綊顥撶划顖滄崲濞戞瑦缍囬柛鎾楀憛姘攽閻愬弶瀚呯紒鎻掓健瀵偊顢欑亸鏍潔闂侀潧楠忕槐鏇㈠储閹间焦鐓熼煫鍥ㄦ礀娴犫晜銇勯弴鍡楀閸欏繘鏌涚仦鍓х幓闁圭兘顥撻幉鎾礋椤掑偊绱梻浣侯焾鐎涒晜绻涙繝鍥ф瀬闁规崘顕уΛ姗�鏌曢崼婵囧窛閺嶏繝姊绘担鑺ョ《闁哥姵鎹囬幃娲籍閸繂鐎柡澶婄墐閺呮粓寮冲鍫熺叆闁绘柨鎼暩閻庤鎸风欢姘跺蓟濞戙垹唯妞ゆ梻鍘ч～顏堟⒑缁嬫鍎忔い鎴濐樀瀵鈽夐姀鈺傛櫇闂佹寧绻傚ù鍌炲汲閿熺姵鐓熼幖娣灱婢规﹢鏌曢崼銏╃劸妞ゎ偄绻掔槐鎺懳熺拠宸拷鎾绘⒑閸忛棿鑸柛搴㈠▕婵″瓨绻濋崶銊㈡嫼闂傚倸鐗冮弲婵堢矓閸撲胶纾奸柣妯挎珪瀹曞矂鏌ｅ☉鍗炴灕缂佺姵绋戦埥澶娾枎閹邦収浠ч梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷�? by changhao
				fire.pb.team.PGotoTeamLeader go = new fire.pb.team.PGotoTeamLeader(team, memberRoleId, 1);
				go.submit();				
				//absentReturnTeamP.submit();
			}
			else
			{
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂傚倷鑳舵慨閿嬬箾閿熶粙鏌″畝锟介崰鏍嵁閹达箑绠涢梻鍫熺♁椤斿嫰姊洪悷鏉挎倯婵炲吋鐟╅弫鍐敂閸繆鎽曢梺鎸庣☉鐎氼亜鈻介鍫熷仯闁搞儯鍔岀徊璇差熆鐟欏嫬濮嶆慨濠冩そ楠炴牠鎮欓幓鎺懶ら梻浣告啞閹碱偆绮婚幘鎰佸殨妞ゆ劑鍩勯崥瀣熆鐠轰警鍎戦柛妯圭矙濮婇缚銇愰幒鎴滃枈闂佸憡鎸婚悷褔鎯�椤忓浂妲兼繛锝呮搐閿曘倝顢欒箛娑辨晩闁绘挸绨堕幏顐︽⒒娴ｇ瓔鍤冮柛鐘愁殜閵嗗啯绻濋崶褏鐣鹃梺绋跨灱閸嬫稑顔忓┑鍡忔斀闁绘ɑ褰冩禍鐐裁归崗鍏煎磳婵﹤顭峰畷鎺戔枎閹搭厽袦闂備浇顫夌粊鎾晸閸婄喓袦婵炲樊浜濋弲婵嬫煕鐏炵偓鐨戞い蟻鍐ｆ斀妞ゆ梻鐡斿▓锝夋煙閻戣姤鏁辨い銊ｅ劦閹瑩寮堕幋婵愭綒闂備浇妗ㄩ悞锕傚箰閼姐倗鐭夐柟鐑樻閹风兘鏁愭惔鈥茬爱闂佸綊顥撶划顖滄崲濞戞瑦缍囬柛鎾楀憛姘攽閻愬弶瀚呯紒鎻掓健瀵偊顢欑亸鏍潔闂侀潧楠忕槐鏇㈠储閹间焦鐓熼煫鍥ㄦ礀娴犫晜銇勯弴鍡楀閸欏繘鏌涚仦鍓х幓闁圭兘顥撻幉鎾礋椤掑偊绱梻浣侯焾鐎涒晜绻涙繝鍥ф瀬闁规崘顕уΛ姗�鏌曢崼婵囧窛閺嶏繝姊绘担鑺ョ《闁哥姵鎹囬幃娲籍閸繂鐎柡澶婄墐閺呮粓寮冲鍫熺叆闁绘柨鎼暩閻庤鎸风欢姘跺蓟濞戙垹唯妞ゆ梻鍘ч～顏堟⒑缁嬫鍎忔い鎴濐樀瀵鈽夐姀鈺傛櫇闂佹寧绻傚ù鍌炲汲閿熺姵鐓熼幖娣灱婢规﹢鏌曢崼銏╃劸妞ゎ偄绻掔槐鎺懳熺拠宸拷鎾绘⒑閸忛棿鑸柛搴㈠▕婵″瓨绻濋崶銊㈡嫼闂傚倸鐗冮弲婵堢矓閸撲胶纾奸柣妯挎珪瀹曞矂鏌ｅ☉鍗炴灕缂佺姵绋戦埥澶娾枎閹邦収浠ч梻鍌欐祰濞夋洟宕抽敃鍌氱闁跨噦鎷�? by changhao
				fire.pb.team.PGotoTeamLeader go = new fire.pb.team.PGotoTeamLeader(team, memberRoleId, 2);
				go.submit();
			}
		}
	}

	// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崸妤�绠板┑鐘插暟閻濆爼鏌嶉崫鍕靛剳缂佸鍠氶敓鍊燁潐濞叉粓宕伴弽顓滐拷浣糕槈濮楀棙鍍垫俊鎻掓湰閻楁洟寮幖浣光拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婄拋鏌ュ几濞嗘挻鈷戠紓浣姑粭鈺佲攽椤斿搫锟芥骞戦姀鐘闁靛繒濮撮懓鍨攽閳藉棗鐏ユい鏇嗗懎鏋堢�广儱顦伴埛鎴犵磽娴ｈ偂鎴犱焊娴煎瓨鐓ラ柡鍥悘鑼拷娈垮枛椤兘骞冮姀銈嗗�绘俊顖濇閿涘繑淇婇悙顏勶拷銈夊储娴犲鍨傞柛顐ｆ处閺佷線鏌ㄩ悤鍌涘
	private static int checkPvP(long roleId, byte absent) {
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻橀潧骞�闂備礁鍚嬫禍浠嬪磿閹惰棄鐓″鑸靛姈閹虫岸鏌″搴″箺闁绘挻娲樼换娑㈠箣濠靛棜鍩炲Δ鐘靛仦閿曘垽寮婚妸銉㈡婵炲棙鍨堕崳顓犵磽娴ｈ櫣甯涚紒璇茬墦楠炲啯绂掔�ｎ偒妫冨┑鐐殿棎椤旀劗绱炴笟锟藉璇测槈閵忕姷鍘告繛杈剧到閹测�斥枔婵犳碍鈷戦弶鐐村閸斿秹鏌熼悷鐗堝枠妤犵偛锕幃娆撳传閸曞簺鍔庨幉绋款吋婢跺﹦鍘遍悗鐧告嫹闁告洦鍓欓敓鐣屾暬閹嘲鈻庤箛鎿冧痪缂備緤鎷烽柨鐔剁矙濮婅櫣绱掑Ο鐓庘吂闂侀潧鐗婇幃鍌涗繆鐎涙ɑ濯撮柤鍙夌箖濡啫鐣烽妸鈺婃晩闁兼亽鍎烘禒褔姊婚崒娆愵樂缂侀硸鍠氬濠冪鐎ｎ偄鍓堕梺绋跨箺閸嬫劙鍩㈤弮鍌︽嫹楠炲灝鍔氭い锔垮嵆閹繝濡烽敂鍓х槇闂傚倸鐗婄粙鎺楁晬瀹ュ棔绻嗛柟缁樺笧缁夋椽鏌″畝瀣М妤犵偞顭囬敓钘夌仛閹爼鏁撻懞銉ユ诞闁哄被鍔戦幃銏ゅ礄閵堝棗顏堕梺缁樻磻閻掞妇绱為崼銉︹拺闁荤喐澹嗗В鐐烘煛閸涱垰孝闁伙綁鏀辩�靛ジ寮堕幋婵嗘暏婵＄偑鍊栭崝锕傚礈濮樻唻鎷峰鎰佹綈闁逛究鍔岃灒闁绘挸楠告禒妯衡攽閻愬弶鍣圭紒澶婄秺楠炴劖绻濋崒妤佹杸闁诲函缍嗛崑鍡涘储椤忓懐绡�闁靛骏绲剧涵鐐繆椤愶絿鎳冮柍璇茬Ч瀹曞崬鈽夊▎鎴濆箞闂佽鍑介幀銉╁礃閵娿垺瀚熺紓鍌氬�烽懗鍓佸垝椤栨粍宕查柛鎰典簼瀹曞弶绻濋棃娑卞剰缂侊拷閸愵喗鐓忓┑鐐茬仢閸斿瓨绻涢崗鍏碱棃婵﹨娅ｉ幏鐘诲箵閹烘繂濡烽梻浣虹帛濡繘宕滈悢鑲╁祦闊洦绋掗弲鎼佹煥閻曞倹瀚�?
		return fire.pb.battle.pvp.PvPTeamHandle.onAbsentReturn(roleId, absent);
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794441;

	public int getType() {
		return 794441;
	}

	public byte absent; // 1表示暂离 0表示回归

	public CAbsentReturnTeam() {
	}

	public CAbsentReturnTeam(byte _absent_) {
		this.absent = _absent_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(absent);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		absent = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CAbsentReturnTeam) {
			CAbsentReturnTeam _o_ = (CAbsentReturnTeam)_o1_;
			if (absent != _o_.absent) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)absent;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(absent).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CAbsentReturnTeam _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = absent - _o_.absent;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}
