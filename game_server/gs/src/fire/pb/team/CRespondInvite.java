
package fire.pb.team;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;

import fire.pb.PropRole;
import fire.pb.StateCommon;
import fire.pb.battle.PlayPKManage;
import fire.pb.buff.BuffAgent;
import fire.pb.buff.BuffRoleImpl;
import fire.pb.clan.ClanUtils;
import fire.pb.event.ArriveTeamSpecialQuestEvent;
import fire.pb.main.ConfigManager;
import fire.pb.map.MapConfig;
import fire.pb.talk.MessageMgr;




// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CRespondInvite__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

/***
 * 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹疯櫣绱撻崒娆戝妽闁挎岸姊洪崣澶岀煉闁哄瞼鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
 * @author changhao
 *
 */
public class CRespondInvite extends __CRespondInvite__ {
		
	//final static int MEMBER_MAX_COUNT = 4;//4濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹顔岄梺鍦劋缁诲啰锟介潧鐭傞弻锝嗘償椤栨粎校婵炲瓨绮嶇划鎾汇�佸Δ鍛潊閹鸿櫕绂嶅鍕╀簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鍡欙紲缂傚倷鐒﹂…鍥╃不閻愮繝绻嗘い鎰╁灩閺嗘瑩鏌嶉挊澶樻Ц闁宠姘︾粻娑㈡晲閸犳壆鍠愮换婵嬫偨闂堟刀锝嗐亜閺冿拷閻楃姴鐣风憴鍕嚤閻庢稒锚娴犻亶姊洪棃娴ゆ盯宕熼銏㈠搸濠电姷鏁告繛锟芥繛浣冲厾娲Ω瑜嶆慨顒勬煥閻斿墎鐭欐慨濠呮缁瑩骞愭惔銏″缂傚倷绀侀鍡涘垂閻㈢鐓濈�广儱顦洿婵犮垼娉涢鍌炲箯濞差亝鈷戦柛娑橈功缁犳捇鎮楀鐓庡籍閽樼喐绻濇繝鍌涘櫧缁炬崘鍋愮槐鎾存媴婵埈浜濋幈銊ヮ吋閸℃瑧鐦堥梺璺ㄥ枙婵倝骞忛崨顖氬闁哄洨鍠愰弶鎼佹⒒娴ｈ櫣甯涙い顓炵墦椤㈡艾顭ㄩ崘鎯ф櫊闂侀潧顦弲婊堟偂閺囥垺鐓熼柡鍌涘閸熺偤鎮樿箛銉ヮ洭闁跨喎锟界噥娼愭繛娴嬫櫇缁辩偞鎷呴崫銉︽闂佺粯姊婚埛鍫ュ极閸曨垱鍋ｉ柟顓熷笒婵″潡鏌ｉ敐澶岀暫婵﹥妞介幊锟犲Χ閸涘懌鍨虹换娑欑珶椤栨碍鎼愰柣鎰攻閵囧嫰顢橀悢椋庡帎闂佺懓鍢查崲鏌ヮ敇閸忕厧绶為悗锝庡墮楠炴姊虹涵鍛棈闁规椿浜炲濠冦偅閸愩劍杈堥梺鍐叉惈閹冲繘鎮￠弴鐔剁箚妞ゆ牗绮屽瓭濠电偞娼欓崐鍨嚕椤愶箑鐐婄憸澶愬绩娴犲鐓曢悘鐐插⒔閻倝鏌ｉ幒鏂夸壕妞ゃ劊鍎甸幃娆擃敂閸曨厺鐥┑鐑囩到濞层倝鏁冮鍛箚闁割偅娲栧婵囥亜閹捐泛鏋戞い鎾村缁绘繈鎮介棃娑楃捕濡炪倖娲﹂崣鍐ㄧ暦濡わ拷铻ｅ〒姘煎灡缂嶅海绱撻崒娆戝妽閽冨崬鈹戦娑欏唉闁哄本绋戦埥澶婎潨閸繀绱ｉ梻浣告惈濡鎮ц箛鏇燁潟闁规儳鐡ㄦ刊鎾煕閹炬潙绲婚柛鎾讳憾閺岋綁濮�閳轰胶浠梺绋款儐閻╊垶寮崘顔碱潊闁斥晛鍟鎾剁磽娓氬洤鐏℃繛鍙夛耿瀵剟鏁撻懞銉ょ箚闁绘劦浜滈敓鑺ョ墪椤繑绻濆顒傦紱闂佽宕橀褔宕ヨぐ鎺撶叆闁绘梻绮ˉ澶嬨亜椤忓嫬鏆ｅ┑鈩冨劶缁犳盯寮撮悩铏啌濠电姷鏁搁崑姗�宕犻悩璇茬倞闁肩鐏氬▍鏃堟⒒娴ｇ懓顕滅紒璇插�胯棟濞寸姴顑呴弸渚�鏌涢幇闈涙灍闁绘挸绻橀弻娑㈩敃閿濆洨鐣哄銈冨劤閸嬬偟鎹㈠☉銏犻唶闁绘柨鎽滈崙鈥愁渻閵堝簼绨婚柛鐔风摠娣囧﹪宕奸弴鐐茶�垮┑鈽嗗灣閸樠冾嚕閸愭祴鏀介柣姗嗗亝婵即鏌涚仦鍓х煂闁绘挻鎹囬弻锕�螣閼姐倗鐤勯梺鍝勮嫰缁夌懓鐣烽锕�绀嬫い鎰靛墯鐎氬綊鏌ゆ慨鎰拷妤佺▔瀹ュ憘鏃堟晲閸涱厽娈查梺缁樻尰閻熲晠骞冨Δ鍛仺婵炲牐娉曢崝鍛婄箾鐎电顎撶紒鐘虫崌楠炲啫螣鐠恒劎鏉搁梺鎸庣箓閹冲海绮婚懡銈囩＝濞达絼绮欓崫娲偨椤栨侗娈旀い鏇樺劦瀹曠喖顢楅崒婊呮闂佺鍋愮悰銉╁礈濠靛鏁婄�广儱顦伴埛鎺懨归敐鍫澬撶痪顓炵埣閺屾盯鎮╅搹顐ゎ槬闁捐崵鍋ら弻娑㈠即閵娿儳浠梺绋匡龚閸╂牠骞堥妸銉庣喖宕归鎯у缚闂備礁鎼幊蹇曟崲閸儱钃熼柡鍥风磿閻わ拷闁诲函缍嗘禍鐑藉箯瀹勬嫈鏃堟晸娴犲鍋╅柛顭戝亞閻熷綊鏌ㄩ悢鍓佺煓闁诡噯绻濋、鏇㈡晝閿熶粙鎮欐繝鍥ㄧ厪濠电偛鐏濋敓鑺ヮ殘閹广垺绗熼敓钘夘潖閻戞ɑ濮滈柟娈垮櫘濡差喖鈹戦埥鍡椾簼缂佽鐗嗛锝囨嫚濞村顫嶉梺闈涚箳婵潙鐣甸崱娑欌拺闂傚牊渚楅悞楣冩煕鎼淬倝鍝洪柟渚垮妽鐎佃偐锟芥稒菤閹锋椽姊洪崨濠勭畵閻庢凹鍙冨畷鎺楀Ω閳哄倻鍘遍梺闈涱煭闂勫嫰濡靛┑瀣厱闁冲搫鍊诲ú瀛橆殽閻愭潙绗掗摶鏍归敐鍛儓鐎殿喗濞婂缁樻媴閾忕懓绗￠梺鍝勮閸斿秹寮查懜鍨劅闁靛绠戦崜鐟扳攽閻愬弶顥為柛鈺侊躬楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬鐔虹瘈闁汇垽娼ч崜鎶芥煙妞嬪骸鍘存慨濠勫劋濞碱亪骞嶉鍛滅紓鍌欑椤﹂亶骞婇幘缁樺仼闁绘垼濮ら崑鍕棯閹峰矂鍝洪柡鍜冪秮閹嘲顭ㄩ崘顕咃拷妤呮煟閳藉棗寮慨濠傤煼瀹曟帒顫濋濠冨闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰娲箹閻愯鎷烽弽顓炵闁哄稁鍘兼闂佸憡娲﹂崹浼村礃閿熻棄顪冮妶鍡楀Е婵狀澁鎷风紓渚囧枛婢у海妲愰幘瀛樺闁告繂瀚呴敐澶嬬厽婵°倕鍟埢鍫拷娈垮枛椤兘骞冮姀銈嗗亗閹艰揪缍嗛崬褰掓⒒娓氾拷閿熻姤绋戝畵鍡樼箾娴ｅ啿鍟犻弸鏃�銇勯幘璺盒ョ痪鎹愭閵嗘帒顫濋浣规倷婵炲瓨绮嶇划搴ｆ閹烘挸绶炲┑鐘插妤旀俊銈囧Х閸嬫盯宕幎钘壩﹂柟鐗堟緲缁犳娊鏌熺�涙鐭岄柣鎰躬濮婄粯鎷呴崨濠傛殘濠电偠顕滅粻鎾崇暦濠婂喚娼╅悹楦挎閿涚喖姊虹憴鍕姢濠⒀冩捣婢规洟鎸婃竟婵嗙秺閺佹劙宕堕崜浣稿Ъ缂傚倷鑳剁�氬繘宕熼鍡欑暰闂備胶绮崝鏍ㄧ珶閸℃稒鍎楁繛鍡樺煀閹峰嘲鈻撻崹顔界仌濡炪倖娉﹂崶褏鍙�婵犮垼鍩栭崝鏇綖閸涘瓨鐓熸俊顖涙た閸熷繘鏌涘顒佸殗婵﹦绮幏鍛存偡闁箑娈濈紓鍌欐祰椤曆囧磹濮濆瞼浜辨俊鐐�栭幐楣冨窗閹炬眹锟藉懘鎮滈懞銉у帗闁哄鍋炴刊浠嬵敊婢舵劖鐓涢柨鐔诲Г缁傛帞锟斤綆鍋嗛崢浠嬫⒑瑜版帒浜伴柛銊ゅ嵆閹啴宕崟鐢靛數閻熸粌閰ｉ幆鍕敍閻愯尪鎽曞┑鐐村灟閸ㄨ鍎梻渚�娼ч¨锟界紒鐘冲灦缁傛帡骞橀钘夛拷鍨箾閸繄浠㈤柡瀣♁閵囧嫰顢橀悩鎻掑箣閻庢鍣崑濠囩嵁濡偐纾兼俊顖滅帛椤忕喖姊绘担鑺ョ《闁革綇绠撻獮蹇涙晸閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掑Δ锟介崡铏繆椤栨繍娼愰柣顐㈢箻濮婄粯鎷呴崨濠呯闂佺绨洪崐婵嬬嵁閹邦厹鍋呴柛鎰╁妼閸嬪秹姊洪崷顓炲妺闁搞劎鍠栧銊︾鐎ｎ偆鍘藉┑鈽嗗灡椤戞瑩宕电�ｎ剨鎷风憴鍕仩闁稿海鏁诲濠氭晲閸涘倹妫冮弫鎾绘寠婢光晜绋戦埞鎴﹀幢閳轰焦顓块梻浣哥秺濡潡鎮為敃鍌氱柧闁归棿鐒﹂悡銉╂煟閺囩偛锟藉湱锟芥熬鎷�?
	
	//final static long MAX_INVITE_TIMEOUT = 30*1000;//30s,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝呂熷▎鎯ф缂備胶濮撮悘姘跺Φ閸曨喚鐤�闁圭偓鎯屽Λ鐐电磽娴ｇ晫鍫柛濠冪箞瀵鈽夐姀鐘殿啋濠德板�ч幏鐑芥煕閻曚礁浜伴柟顔缴戠换婵嬪炊閵娧冨箥闂備胶顭堢换妤呭磻閹版澘姹叉慨妤嬫嫹闁哄本鐩顒傛崉閵娧冨П闁诲孩顔栭崰鏍箟閿涘嫮绠旈柣鏂垮悑閺呯霉閻樺樊鍎忛柦鍐枛閺岋繝宕堕妷銉т患闂備礁宕ú锔炬崲濠靛顥堟繛鎴炵懅閵堚晛鈹戦埥鍡椾簴闁稿﹥娲熼垾鏃堝礃椤斿槈褔鏌涚仦鍓р檨闁绘繃娲熷铏圭磼濡粯鍎撶紓浣虹帛缁诲牓骞冩导鎼晪闁跨喕妫勯锝嗙鐎Ｑ嶆嫹閺嶎厼唯闁靛鏅涘鏉款渻閵堝啫鐏い銊ワ躬瀵偊骞樼紒妯烘疅闂侀潧顦崐妤冪不濮橆厾绡�闂傚牊绋戦敓鑺ユ倐楠炲鏁撻悩鍐蹭簵闂侀潧顦弲婊堟偂閻斿吋鐓涢柛鎰╁妼閿熷�熷吹閺侇喖鈽夊▎宥勭盎闂侀潧顦崕鍝勎ｈぐ鎺撶厪闁搞儜鍐句純濡ょ姷鍋涢鍛村煘閹达箑鐐婄憸搴ㄦ倶鎼搭澀绻嗛柕鍫濇搐鍟搁梺绋款儐缁嬫捇骞戦姀鐙�娼ㄩ柨鐔剁矙閻涱噣宕橀鑲╁幐闂佸憡鍔︽禍鐐烘晬濠婂啠鏀介柍钘夋閻忋儲淇婂鐓庡闁诡垽鎷峰銈呯箰閹冲秶鎹㈤崱娑欑厽闁规澘鍚�缁ㄥ鏌ㄩ悢璇残撻柣妤冨█楠炲啳顦查摶鏍煕閹伴潧骞栫亸蹇撯攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕ㄦ潏鍓х◤闂佸憡绋戦悺銊╂偂韫囨稒鐓曟い鎰剁悼缁犳牗銇勯妷褍鈻堥柡灞剧☉铻ｇ紓浣姑敓鑺ュ姈閹便劍绻濋崘鈹夸虎閻庤娲忛崝宥囨崲濠靛纾兼慨锝嗗濞茬喎顫忓ú顏勫窛濠电姴瀚崳褔姊绘担绋跨盎缂佽弓绮欓幃楣冩倻缁涘鏅梺缁樺姌鐏忔瑩宕愰悙鐑樷拺闁告劕寮堕幆鍫ユ煕閻旇泛宓嗛柡浣哥Т椤劑宕奸悢鍝勫箰濠电姰鍨煎▔娑㈡晝閿旇姤娅犻柟杈鹃檮閻撴洟鏌￠崒娑橆嚋闁圭櫢绲跨槐鎺楊敊绾拌京鍚嬮梺璇″枟閻熝囧窗婵犲啫绶為悗锝庝憾娴兼捇姊洪懡銈呮瀾闁荤喆鍎抽敓鑺ュ嚬閸樼偓绔熼弴銏犵濞达絽婀遍崢閬嶆煙閸忚偐鏆橀柛濠冪墵閹敻顢旈崱娆戯紲闂佺鏈粙鎴澝归锟介弻鈩冩媴缁嬫寧娈婚悗瑙勬礃鐢帡鍩ユ径濞㈢喖鎳￠妶鍡橆啀闂傚倸鍊搁崐椋庣矆娓氾拷瀹曨垶宕稿Δ锟界粻瑙勩亜閹板爼妾柡鍛箞閺屻劌鈹戦崱妯侯槱濡炪値鍋呭ú姗�骞堥妸銉庢梻锟斤綆鍋勯鑸电節濞堝灝鏋涢柨鏇樺�濋垾锕�鐣￠幍顔芥闂佸湱鍎ら崹鐔煎几鎼淬劍鐓欓悗鐢殿焾鍟搁梺纭呮閻倸顫忕紒妯诲闁绘垶锚濞堝矂姊洪幖鐐诧拷鏍偋閻樿崵宓侀煫鍥ㄧ♁閺呮悂鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋鐑芥⒑閼姐倕顎撻柟椋庡厴閺屻劑寮撮悙璇ф嫹瑜版帒纾归柣銏犳啞閻撶娀鏌涘┑鍕姕闁哄棌鏅濈槐鎺楁偐閹绘巻鎸冮梺璺ㄥ枔閺咁偊骞婇幘瀵哥彾濠电姴娲ょ粣妤呮煛閸モ晛鞋濠殿喗濞婇弻銈嗘叏閹邦剨鎷峰Δ鍐棜濠靛倸鎲￠悡銉╂煟閺傚灝顣抽柣顓熺懅閿熷�燁潐濞叉牕鐣烽鍕叀濠㈣泛艌閺嬪酣鏌熺�涙绠撶紒鐘哄吹缁辨捇宕掑顒婃嫹妞嬪海鐭嗗〒姘炬嫹妞ゃ垺鐗犲畷鐓庘攽閸愨晝浜欓梻浣告惈濞层劑宕伴幘姹囷拷鍛存煥鐎ｎ剛顔曢梺鐟邦嚟閸嬬喖骞婇敓鑺ョ箾鐎涙鐭嬬紒顔芥崌瀵偅鎯旈姀銏㈢槇濠殿喗锕╅崜娑㈠磹閻愮儤鈷戦梻鍫熶緱閻掗箖鏌涢妸銊︻仩闁跨喕濮ら惌顔惧垝濞嗗浚娼栫紓浣股戞刊鎾煠閹帒鍔ら柕鍡楋躬濮婃椽妫冮埡鍐ょ紓浣哄У閹瑰洭鎮伴璺ㄧ杸婵炴垶鐟﹀▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?
	private long now = 0L;//procedure闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪Ч濠�渚�姊虹紒妯虹仴妞ゎ偅娲熼弫鎾绘寠婢跺鎷烽崸妞硷拷浣割潩閼稿灚娅㈡繛瀵稿Т椤戝洤鐣垫笟锟介悡顐﹀炊閵娧�妾ㄩ梺鍝勬噺閹倿寮婚妸鈺傚亞闁稿本绋戦锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊閻樺樊妫岄梺杞扮閿曨亪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑劍閸旀牠銆冩繝鍥ц摕闁炽儲鍓氶崥瀣箹缁櫢鎷烽崘宸妧闂傚倷娴囧銊х矆娴ｇ尨鎷峰顐㈠祮鐎殿喛顕ч埥澶愬閻橀潧濮堕梻浣告啞閸旀宕戦幘娲绘晣闁荤喐澹嬮弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濠庢僵妞ゆ劧绲芥刊浼存⒒娴ｅ憡鍟為柟绋挎缁楃喐绻濋崘顭戜紦闂備礁婀遍崕銈夈�冮崱娑欏亗闁告劦鍠楅悡鐔兼煟閺冨偆鐒炬い銉ヮ儔瀵粙鏁嶉崟顓狅紳婵炶揪缍�濞咃絿鏁☉姘辩＜閻犲洩灏欐晶鏇㈡懚閻愮儤鐓曢柟鎵虫櫅婵￠攱淇婇幓鎺斿缂佺粯鐩畷鍗炍熼弴鐔风伌闁轰焦鎹囨俊鐑藉煛閸屾瀚藉┑鐐舵彧缁蹭粙骞夐敍鍕闁跨喓濮甸悡娑㈡煕濠婏拷缁�浣圭濠靛鐓欏〒姘仢婵倹顨ラ悙杈捐�挎い銏＄懇閹虫牠鍩℃担鍝ュ摋濠电姷鏁告慨浼村垂婵傜鏄ラ柡宥庡幖缁�澶愭煛瀹ュ骸骞栭柣銈夌畺閺岀喖姊荤�电濡介梺缁樻尪閸庣敻寮婚敐澶婂嵆闁绘劘顕滈幏鐑藉捶椤撱劍瀚规慨妯煎亾鐎氾拷?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垼鎽曢梺闈涱檧婵″洭宕ｉ崱娑欌拺缂備焦蓱缁�锟介梺绋匡工濠�閬嶆晸閼恒儳鍟查柟鍑ゆ嫹?缂傚倸鍊搁崐鎼佸磹閹间礁纾归柣鎴ｅГ閸ゅ嫰鏌涢锝嗙闁诡垳鍋ら獮鏍庨锟芥俊濂告煟椤撶噥娈滈柡灞剧洴楠炲洭妫冨☉娆愮暯濠电姰鍨奸崺鏍礉閺囩姷涓嶅┑鐘崇閻撴洟鏌熼幑鎰敿闁稿繐鐭傞弻锝夊箳閹存繃鍊紓浣虹帛缁诲牊鎱ㄩ敓浠嬫煥濠靛棙顥犻柕鍡樺姇椤啴濡舵惔鈥斥拤婵犳鍠撻崐婵嬬嵁閸℃稑绫嶉柛顐ｆ儕閳哄懏鐓忓璇″灠閸犳盯骞忛悜鑺ュ�烽柣鎴炃氶幏娲⒒閸屾氨澧涘☉鎾舵嚀閳藉濮�閻樿尙鐛╂俊鐐�栭悧妤冪矙閹烘鍎婇柣鎰劋閳锋帡鏌涚仦鎹愬闁跨喕妫勯崲鏌モ�旈崘顔肩闁哄喛鎷锋い顐ｆ礃閵囧嫰寮崹顔规寖婵炴垶鎸哥粔褰掑蓟閻斿皝鏋庨梽鍥敋瑜嶇叅妞ゆ挴鍋撻敓鎴掔閳藉濮�閳ョ鎷锋繝姘厱闁靛鍨哄▍鍥煃缁楀搫锟芥繂顫忕紒妯肩懝闁跨喕妫勯…鍥槾闁瑰箍鍨藉畷濂告偄婵傚娈奸梻浣芥硶閸犲秶鍒掑▎鎾宠摕婵炴垯鍨瑰敮濡炪倖姊婚崢褔锝為埡鍐＝濞达絽鎼悵锟犳煕閺囥劌骞樻い鏃�娲熼幃妤呮儌閸涘﹤顏堕梻浣芥硶閸犲秶鍒掑▎鎾崇伋闁挎洖鍊歌繚闂佸憡绻勭粣鍗筫濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺缂佸鍎婚～锕傛煕閺冿拷閸ㄥ灝顕ｆ繝姘櫇闁跨喎锟界喓浜藉┑鐐存尰閸戝綊宕归柆宥呯厺闁圭偓鏋奸弨浠嬫煟閹邦剛鎽犻悘蹇ｅ幗閵囧嫰顢橀悩鎻掑箣閻庢鍠涢褔鍩ユ径濞㈢喖宕楅崗鑲╂殾闂傚倷娴囧▔鏇㈠窗瀹ュ洤鍨濇繛鍡楃箳閺嗭箓鏌熸潏楣冩闁稿﹦鍏橀弻娑樷攽閸℃浼�闂佸憡锕㈡禍璺侯潖濞差亜鎹舵い鎾跺仜婵″搫顪冮妶鍐ㄥ婵☆偅绻傞悾鐑藉箛閻楀牆浠洪梺鍛婄☉鑹岄柟宄邦煼濮婃椽宕滈幓鎺嶇敖闂佸摜濮甸幑鍥春閿旂晫鐟归柨鐔剁矙瀵鈽夐姀鈥充簻闂佸憡绻傜�氼亜危閹扮増鈷戦柛婵嗗閻掕法绱撳鍕獢鐎殿噮鍋婇獮鍥级閸ф鏁规繝鐢靛Т閿曘倝宕鐐茬？闁规儳澧庣壕浠嬫煕鐏炲墽鎳勭紒浣规緲椤啰锟芥稒蓱閸婃劖顨ラ悙鏉戝缂佺粯绻傞～婵嬵敆閸屻倕鏁搁梻鍌欑閹诧紕绮欓幒鎴劷婵炲棙鍔曢閬嶆煟濡偐甯涢柣鎾存礋閺岋繝宕堕妷銉ヮ瀳婵犫拃鍌氬祮闁哄被鍔戦幃銏ゅ礄閵堝棗顏堕梺缁樻煥婢瑰﹥绂掗埡鍐＝濞达絼绮欓崫娲煙缁嬫鐓兼鐐茬箻瀹曘劑顢涘☉妯荤�梻浣告啞濞插繘宕濆鍥锋嫹濮橆剦鐓兼慨濠勭帛閹峰懘鎮滃Ο鐑樼暚闂備浇顫夌粊鎾礈濠靛牊宕叉繛鎴炵懅缁★拷闂佹悶鍎崝灞剧閹烘埈娓婚柕鍫濇缁屽潡鏌熸搴″幋闁哄备鍓濋幏鍛喆閸曨偆锛撻梻浣芥〃閻掞箓骞戦崶顒�鏋侀柟鍓х帛閺呮悂鏌ㄩ悤鍌涘?
	Team team;
	
	@Override
	protected void process() {
		// protocol handle
		TeamManager.logger.debug("Enter: " + this.getClass());
		final long invitedRoleId = gnet.link.Onlines.getInstance().findRoleid(this);
		if (invitedRoleId < 0)
			return;	
		
		mkdb.Procedure resInviteP = new mkdb.Procedure()
		{

			@Override
			protected boolean process()
			{
				now = System.currentTimeMillis();
				//lock start
				//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柟缁㈠枟閸庡顭块懜闈涘缂佺嫏鍥ㄧ厱闁哄秲鍊曟晶鏌ユ倵濮樻剚娼愬ǎ鍥э躬婵″爼宕熼鐐差瀴闂備礁鎲￠悷銉ф崲濮楋拷瀵鎮㈤搹鍦紲闂侀潧绻掓慨鐢告倶瀹ュ鈷戠紒瀣仢椤掋垺銇勯妸銉﹀殗濠碘剝鎸抽獮鎺楀箣椤撶喎鍏婇梻浣虹帛閸旓箓宕滃▎鎿冩晜闁割偅娲橀埛鎺懨归敐鍥╂憘闁搞倕鍟撮弻娑⑩�﹂幋婵堜桓闂佽鍠氶崑銈夊极閸愵喗鏅稿ù鐘差儛閺佸鏌曟径鍡樻珔缂侊拷鐎ｎ偁浜滈柡宥冨妽閻ㄦ垿鏌ｉ妶蹇斿婵犵绱曢崑鎴﹀磹閺嶎偅鏆滄い蹇撶墕缁狀垰顪冪�ｎ亜鍤遍柟宄板槻閳绘捇宕归鐣屼邯闂備焦鎮堕崹娲偂閿熺姴鐏抽柡鍐ㄧ墕缁�鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰典簼閸Ｑ冾渻閵堝骸锟姐倝宕ㄩ婊愮床闂備胶绮崝锕傚礈濮樿鲸顐介柤纰卞墰绾剧厧顭跨捄鐑樻拱闁搞倧鎷烽梻浣风串缁插潡宕楀Ο渚殨闁圭虎鍠楅崑鍕煣韫囨挻璐℃俊鎻掓喘濮婄粯鎷呯憴鍕哗闂佺瀵掗崹璺虹暦濠靛牅娌柛鎾楀本绁梻浣哥枃濡椼劎鎷嬮弻銉ョ哗闁兼亽鍎禍婊堟煛閸愩劌锟藉骞楅崒鐐寸厽闁瑰搫绉堕惌娆撴煛鐏炲墽鈽夐摶锝夋煟濡绲绘い蹇ｅ亝閵囧嫰鍩￠崒姘辩シ闂傚洤顦甸弻锝夊箻閾忣偅宕抽梺鍦櫕婵烇拷闁哄矉缍侀獮妯硷拷娑欘焽椤︺儵姊虹�圭媭娼愰柛銊ユ健楠炲啴鍩￠崨顓狀唽闂佺懓鎼粔鍫曞极閺嶎厽鈷掑ù锝勮閻掗箖鎮楀☉鎺撴珚鐎规洖缍婂畷绋课旈敓浠嬫嫅閻斿吋鐓熼柡鍐ㄥ�哥敮鍓佺磼閿熶粙宕熼娑氬帾闂佸壊鍋呯换鍐夊鍕╀簻闊洢鍎茬�氾拷?
				try
				{
				xbean.InviteInfo inviteInfo = xtable.Teaminvite.select(invitedRoleId);
				if(inviteInfo == null)
					return true;
				else if(!inviteInfo.getBeinginvited())
					return true;
				else if((now - inviteInfo.getInviting().getInvitetime()) > TeamManager.MAX_INVITE_TIMEOUT)
				{   //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤閸撗勫厹濡わ絽鍟悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倿鐛崱妤冩殕闁告洦鍋嗛鎺旂磽閸屾瑧鍔嶆い顓炴喘瀹曘垽鎮介悽鐢碉紳闂佺鏈悷鈺侇瀶閻戣姤鐓曢柕濞垮劤缁夎櫣锟芥鍠氶…鍫ュ煡婢跺娼╅弶鍫氭櫔缁卞弶淇婇悙顏勶拷鏍礉閿曞倸绀堟慨妯诲敾閹峰嘲顫濋悙顒�顏�?
					inviteInfo.setBeinginvited(false);
					return true;
				}
				
				xbean.TeamInvite inviting = inviteInfo.getInviting();
				long inviterRoleId = inviting.getRoleid();
				Long inviterTeamId = null;
				if(inviting.getTeamid() > -1)
					inviterTeamId = inviting.getTeamid();
				int lockState = 0;
				if(agree == 1)
				{
					Long inviterclanfightid = xtable.Roleid2clanfightid.select(inviterRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戞﹩娼ㄩ柨鐔烘櫕缁寮借閺嗭附绻濋棃娑卞剱闁哄懏鎮傞弻銊╂偆閸屾稑顏�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
					if (inviterclanfightid != null)
					{
						Long invitedclanfightid = xtable.Roleid2clanfightid.select(invitedRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夋偂閻旇偐鍙撻柛銉ｅ妽缁�锟芥繛瀵稿缁犳捇寮诲☉娆愬劅闁靛牆妫涜ぐ褏绱撴担绋匡拷鍦暜閻旇櫣涓嶆繛鎴欏灩缁犲ジ鏌涢幇銊︽珔闁伙附绮撳缁樼瑹閿熻棄顭囪閹囧幢濡炪垺绋戣灃濞达絿鎳撳鍧楁偡濠婂啰绠虫俊鍙夊姍楠炴帒螖娴ｉ晲姹楅梻浣告啞閸旀浜稿▎鎰嚤鐎癸拷閸曨兘鎷洪柡澶屽仦婢瑰棝宕濆澶嬬厵闁荤喓澧楅崰妯活殽閻愭潙濮堢紒缁樼箞瀹曟﹢濡歌閻涱喗绻濈喊妯活潑闁搞劋鍗抽獮鏍敃閿濆洨褰鹃柣搴秵閸犳鍩涢幒鎳ㄥ綊鏁愰崨顔藉枑缂備礁顦遍崕銈夊Φ閸曨垰唯闁挎棁妫勯棄宥囩磽娴ｈ櫣甯涢柣鈺婂灦瀵偊骞樼�靛壊娴勯柣搴秵閸嬪棝宕㈤棃娑辨富闁靛牆妫欓悡銉╂煕濮橆剦鍎旂�规洘鍨挎俊鐑藉煛閸屾粌骞愬┑鐐舵彧缂嶏拷妞ゎ偄顦悾宄扮暆閸曨剛鍘告繛杈剧秬椤鐣峰畝鍕厸濞达綀顫夊畷宀勬煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
						if (!inviterclanfightid.equals(invitedclanfightid))
						{
			 			    MessageMgr.sendMsgNotify(inviterRoleId, 410022,  null);
			 			    MessageMgr.sendMsgNotify(invitedRoleId, 410031,  null);
			 			    return true;
						}
						else
						{
							xbean.ClanInfo claninfo = ClanUtils.getClanInfoById(inviterRoleId, true);
							if (claninfo == null)
							{
								return true;
							}
							
							xbean.ClanMemberInfo memberinfo = claninfo.getMembers().get(invitedRoleId);
							if (memberinfo == null)
							{
				 			    MessageMgr.sendMsgNotify(inviterRoleId, 410023,  null);
				 			    MessageMgr.sendMsgNotify(invitedRoleId, 410029,  null);
								return true;
							}
						}
					}
					else
					{
						Long invitedclanfightid = xtable.Roleid2clanfightid.select(invitedRoleId);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夋偂閻旇偐鍙撻柛銉ｅ妽缁�锟芥繛瀵稿缁犳捇寮诲☉娆愬劅闁靛牆妫涜ぐ褏绱撴担绋匡拷鍦暜閻旇櫣涓嶆繛鎴欏灩缁犲ジ鏌涢幇銊︽珔闁伙附绮撳缁樼瑹閿熻棄顭囪閹囧幢濡炪垺绋戣灃濞达絿鎳撳鍧楁偡濠婂啰绠虫俊鍙夊姍楠炴帒螖娴ｉ晲姹楅梻浣告啞閸旀浜稿▎鎰嚤鐎癸拷閸曨兘鎷洪柡澶屽仦婢瑰棝宕濆澶嬬厵闁荤喓澧楅崰妯活殽閻愭潙濮堢紒缁樼箞瀹曟﹢濡歌閻涱喗绻濈喊妯活潑闁搞劋鍗抽獮鏍敃閿濆洨褰鹃柣搴秵閸犳鍩涢幒鎳ㄥ綊鏁愰崨顔藉枑缂備礁顦遍崕銈夊Φ閸曨垰唯闁挎棁妫勯棄宥囩磽娴ｈ櫣甯涢柣鈺婂灦瀵偊骞樼�靛壊娴勯柣搴秵閸嬪棝宕㈤棃娑辨富闁靛牆妫欓悡銉╂煕濮橆剦鍎旂�规洘鍨挎俊鐑藉煛閸屾粌骞愬┑鐐舵彧缂嶏拷妞ゎ偄顦悾宄扮暆閸曨剛鍘告繛杈剧秬椤鐣峰畝鍕厸濞达綀顫夊畷宀勬煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垹绱撴担鑲℃垹浜搁悧鍫㈢闁肩⒈鍓欓弸娑㈡煙椤曞棛绡�妞ゃ垺娲熼弫鍐晸娴犲鍊峰┑鐘插亞濞撳鎮楅敐搴濋偗妞ゅ孩顨婇弻娑㈠煛娴ｈ櫣鍔┑顔硷攻濡炶棄鐣烽妸锔剧闁圭儤绻�闁垱顨ラ悙鎼當妞ゎ厹鍔戝畷銊╊敋閸涱喚绋愰梻鍌欑濠�閬嶅磿閵堝锟藉啴宕ㄧ�涙ê鍓瑰┑掳鍊撳鎺旀崲閸℃ǜ浜滈柡宥冨妿椤ｆ煡鏌熼姘卞ⅱ缂佽鲸甯楃粭鐔煎炊瑜庨悘鍫ユ煣缂佹澧甸柡宀嬬到椤粓鏁撻挊澶樼劷鐟滃海绮嬮幒鎴叆闁告洍鏅欑花濠氭⒑閻熸壆鎽犵紒璇插暣瀹曠敻鏁撴禒瀣拺閻犲洩灏欑粻鏌ユ偨椤栨鎷烽幇浣圭稁闂佹儳绻愬﹢杈╁閸忛棿绻嗘い鏍ㄧ箖椤忕姴霉閻樻鐒炬い顏勫暣婵¤埖鎯旈垾宕囶啇婵犵數鍋涘Ο濠囧矗閸愵喚宓侀柛鈩冪☉缁�鍐┿亜韫囨挻顥犻柨娑欑矊閳规垿鍩ラ崱妤冧淮闂佺顑嗛崝娆撱�佸▎鎾冲嵆闁靛繆妾ч幏娲煟閻斿摜鎳冮悗姘煎弮瀹曟洖螖閸涱喚鍘遍梺闈涱焾閸斿宕ラ锔界叆闁绘棁顕ц闂佺粯妫忛崜鐔肩嵁韫囨稒鏅搁柨鐕傛嫹? by changhao
						if (invitedclanfightid != null)
						{
							if (!invitedclanfightid.equals(inviterclanfightid))
							{
				 			    MessageMgr.sendMsgNotify(inviterRoleId, 410024,  null);
				 			    MessageMgr.sendMsgNotify(invitedRoleId, 410032,  null);	
				 			    return true;
							}				
						}
					}						
					
					PropRole inviterprop = new PropRole(inviterRoleId, true);
					if(inviterprop.getProperties().getCruise() > 0)
					{
						MessageMgr.sendMsgNotify(invitedRoleId, 162026, null);
						MessageMgr.sendMsgNotify(inviterRoleId, 162027, null);
						TeamManager.logger.info("CRespondInvite1:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇㈡倷婵犲洦鐓忓┑鐘茬箻濡绢喗銇勮箛鏇炴灈婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑闂堚晝绉剁紒鐘虫崌閻涱喛绠涘☉娆愭闂佽法鍣﹂幏锟�" + inviterRoleId + "闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閻戞ê鏋戦悗骞垮劚椤э拷缂傚秵鐗楃换婵嬫濞戝崬鍓鹃梺杞扮濡繈寮婚妸鈺傚亜闁告挷鑳堕悡鎾绘⒑鏉炴壆鍔嶉柟鐟版喘楠炴劖绻濋崘銊х獮閻庣櫢鎷烽柨鐔诲Г椤ㄦ瑩姊婚崒娆愮グ妞ゆ洘鐗犲畷褰掑级濡灚妞介、姗�濮�閻樺磭锟筋剟姊洪悷鏉库挃缂侇噮鍨跺鏌ュ箹娴ｅ湱鍙嗛梺缁樻礀閸婂湱锟芥熬鎷�" + invitedRoleId + ",闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晜銇勯幒鎴濓拷鐟扳枔婵傚憡鍊垫鐐茬仢閸旀碍銇勯敂鍨祮闁糕晜鐩獮瀣晜鐟欙絾瀚介梻浣稿閸嬪棝宕板鍥偨闂侇剙绉甸悡鐔兼煙閻戞﹩娈橀柣锝嗘そ閺岋紕浠﹂崜褉妾ㄩ梺璇″灡濡啴宕洪妷鈺佸耿婵°倓绶￠崯锟界紓鍌氬�搁崐椋庢閿熺姴闂い鏍ㄧ矊缁躲倝鏌涙繝鍕灁濞存粍鐟ラ埞鎴︽倷閼搁潧娑х紓鍌氱▌閹峰嘲鈹戦悙鍙夊珔缂傚秳绶氶妴浣糕枎閹惧啿宓嗛梺闈涚箚濡狙囧箯濞差亝鐓熼柣鏂挎憸閹冲啴鎮楀鐓庡缂侇喖鐗撳畷姗�鍩￠崘顏嶅晭闂備礁鎲℃笟妤呭窗濡ゅ啰鐭嗛悗锝庡亽濞堜粙鏌ｉ幇顒佲枙婵¤尪娅ｇ槐鎺楊敊閻ｅ本鍣梺璇″灡濡啴鐛Ο纭锋嫹濞戞鎴濐熆閹存績鏀介柨娑樺娴滃ジ鏌涙繝鍐ⅹ閾荤偛霉閿濆牜娼愰柛娆忕箻閺屾洟宕煎┑鎰︾紒鐐劤缂嶅﹪寮婚悢鍏肩劷闁挎洩鎷风�殿喚鍋撶换娑㈠醇濠婂懐鐓撻梺鍝勭焿缂嶄線鐛�ｎ亖鏀介柛銉戝本袩闂備浇顕х�涒晠鎮㈤鍕闁跨噦鎷�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐鐢�崇暦閿濆牏鐤�闁哄倸澧界粻姘舵⒑闂堟稓澧曢柟宄邦儔瀹曟洟骞囬悧鍫濓拷鍨叏濮楀棗澧扮紒澶屽劋閹便劍绻濋崘鈹夸虎閻庤娲﹂崑濠傜暦閻旂⒈鏁囬柣妯诲絻铦庨梻鍌氬�烽懗鍫曞箠閹捐鍚归柡宥庡幖缁狀垶鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锕備憾瀵偆鎷犻懠顒佹闂佺鎻粻鎴犲婵傚憡鐓熼柟閭﹀墻閸ょ喖鏌涘锟芥禍璺侯潖濞差亝顥堟繛鎴ｉ哺椤庡棛绱撴担钘夎敿濠殿喓鍊栫粚杈ㄧ節閸パ咁唶闁圭厧鐡ㄧ粙鎰姳婵犳碍鈷戦柛鎰级閹牊銇勯幋婵囶棤闁跨喕濮ら悢顒勫箯閿燂拷?");
						return true;
					}
					
					PropRole invitedprop = new PropRole(invitedRoleId, true);
					if(invitedprop.getProperties().getCruise() > 0)
					{
						MessageMgr.sendMsgNotify(invitedRoleId, 162027, null);
						MessageMgr.sendMsgNotify(inviterRoleId, 162026, null);
						TeamManager.logger.info("CRespondInvite2:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇㈡倷婵犲洦鐓忓┑鐘茬箻濡绢喗銇勮箛鏇炴灈婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑闂堚晝绉剁紒鐘虫崌閻涱喛绠涘☉娆愭闂佽法鍣﹂幏锟�" + inviterRoleId + "闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閻戞ê鏋戦悗骞垮劚椤э拷缂傚秵鐗楃换婵嬫濞戝崬鍓鹃梺杞扮濡繈寮婚妸鈺傚亜闁告挷鑳堕悡鎾绘⒑鏉炴壆鍔嶉柟鐟版喘楠炴劖绻濋崘銊х獮閻庣櫢鎷烽柨鐔诲Г椤ㄦ瑩姊婚崒娆愮グ妞ゆ洘鐗犲畷褰掑级濡灚妞介、姗�濮�閻樺磭锟筋剟姊洪悷鏉库挃缂侇噮鍨跺鏌ュ箹娴ｅ湱鍙嗛梺缁樻礀閸婂湱锟芥熬鎷�" + invitedRoleId + ",闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矒閹�斥槈濡繐缍婇弫鎰板炊閼稿灚顔囬梻浣哥秺椤ユ捇宕楀锟介悰顕�骞掗幊铏⒐閹峰懘姊归幇顔芥毎闂傚倸鍊搁崐鎼佸磹閹间焦鍋嬮柛鈩冪♁閸嬪鏌曡箛瀣拷鏇犵矆鐎ｎ偁浜滈柟鎵虫櫅閿熻姤顨婇幃浼搭敋閿熻棄顫忕紒妯诲闁告縿鍎虫闂備胶顭堥鍛存晝椤忓嫮鏆︽繝濠傚枤濞尖晜銇勯幒鎴濓拷鐟扳枔婵傚憡鍊垫鐐茬仢閸旀碍銇勯敂鍨祮闁糕晜鐩獮瀣晜鐟欙絾瀚介梻浣稿閸嬪棝宕板鍥偨闂侇剙绉甸悡鐔兼煙閻戞﹩娈橀柣锝嗘そ閺岋紕浠﹂崜褉妾ㄩ梺璇″灡濡啴宕洪妷鈺佸耿婵°倓绶￠崯锟界紓鍌氬�搁崐椋庢閿熺姴闂い鏍ㄧ矊缁躲倝鏌涙繝鍕灁濞存粍鐟ラ埞鎴︽倷閼搁潧娑х紓鍌氱▌閹峰嘲鈹戦悙鍙夊珔缂傚秳绶氶妴浣糕枎閹惧啿宓嗛梺闈涚箚濡狙囧箯濞差亝鐓熼柣鏂挎憸閹冲啴鎮楀鐓庡缂侇喖鐗撳畷姗�鍩￠崘顏嶅晭闂備礁鎲℃笟妤呭窗濡ゅ啰鐭嗛悗锝庡亽濞堜粙鏌ｉ幇顒佲枙婵¤尪娅ｇ槐鎺楊敊閻ｅ本鍣梺璇″灡濡啴鐛Ο纭锋嫹濞戞鎴濐熆閹存績鏀介柨娑樺娴滃ジ鏌涙繝鍐ⅹ閾荤偛霉閿濆牜娼愰柛娆忕箻閺屾洟宕煎┑鎰︾紒鐐劤缂嶅﹪寮婚悢鍏肩劷闁挎洩鎷风�殿喚鍋撶换娑㈠醇濠婂懐鐓撻梺鍝勭焿缂嶄線鐛�ｎ亖鏀介柛銉戝本袩闂備浇顕х�涒晠鎮㈤鍕闁跨噦鎷�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐鐢�崇暦閿濆牏鐤�闁哄倸澧界粻姘舵⒑闂堟稓澧曢柟宄邦儔瀹曟洟骞囬悧鍫濓拷鍨叏濮楀棗澧扮紒澶屽劋閹便劍绻濋崘鈹夸虎閻庤娲﹂崑濠傜暦閻旂⒈鏁囬柣妯诲絻铦庨梻鍌氬�烽懗鍫曞箠閹捐鍚归柡宥庡幖缁狀垶鏌ㄩ悤鍌涘?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锕備憾瀵偆鎷犻懠顒佹闂佺鎻粻鎴犲婵傚憡鐓熼柟閭﹀墻閸ょ喖鏌涘锟芥禍璺侯潖濞差亝顥堟繛鎴ｉ哺椤庡棛绱撴担钘夎敿濠殿喓鍊栫粚杈ㄧ節閸パ咁唶闁圭厧鐡ㄧ粙鎰姳婵犳碍鈷戦柛鎰级閹牊銇勯幋婵囶棤闁跨喕濮ら悢顒勫箯閿燂拷?");
						return true;
					}
					
					if(checkInviteFromTeam(inviterTeamId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插鐢盯鏌￠崨鐗堢【闁宠棄顦垫慨锟介柨娑樺鐢姊婚崒娆戭槮闁诲繑绻堥、鏍幢濡ゅ啯娈鹃悗鐧告嫹闁告洦鍓涢崢鎼佹倵閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮�ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灠閹碱偆鐥椤法鎹勯崫鍕典純闂佸搫鐭夌紞渚�鐛Ο鍏煎磯闁绘垶顭囨禍顏堟⒒娴ｅ憡鎯堥柡鍫墮鐓ゆ俊顖氬悑瀹曞弶绻涢幋娆忕仼闁搞劌鍊归妵鍕籍閸屾艾浠樺銈庡亝閹哥粯绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮撮悘鑽ゆ嚀椤繄鎹勯搹鍦幀闂備礁鎲￠崝锕傚窗閺嶎厽瀚呴柣鏂挎憸缁犻箖鏌熺�电浠ч柟鍐叉噽缁辨帡鍩ラ崨顔碱伓闂傚倸鍊烽懗鍫曗�﹂崼銏″仏妞ゆ劧绠戠壕褰掓煛閸ャ儱鐏╃紒锟介崼銉︾厵闁诡垱婢樿闂佹娊鏀遍崹褰掑箟閹间焦鍋嬮柛顐ｇ箑閸掑﹤鈹戦埥鍡椾簼闁搞劎鏁婚崺鐐哄箣閿旇棄锟藉鏌涢妷锝呭妞ゅ繐鐖煎铏规嫚閸欏鏀銈庡亜椤︻垳鍙呭┑顔筋殣閹风兘鏌熼鎯у幋闁糕晪绻濆畷鎺戔枎閹寸姷鏆伴梻鍌欑婢瑰﹪宕戦崨顒兼椽寮介鐔凤拷宄扳攽閻樺弶澶勯柣鎾冲暣閺屾稑鈹戦崱妤婁紥闂佺尨鎷峰┑鐘宠壘閻ゎ噣鏌熼梻瀵稿妽闁抽攱甯￠弻娑氫沪閹规劕顥濋梺璺ㄥ枙婵倝骞冮崒姘辨殾闁归偊鍙庡Σ褰掑箹鏉堝墽鎮奸柣鎺戝悑缁绘盯骞樼�电鏆￠梺鐟板槻閸㈡煡鍩為幋锔芥櫢闁绘娅曢柨顓㈡煣娴兼瑧鎮肩紒杈ㄦ尰閹峰懐鎷犻敍鍕Ш缂傚倷绀侀ˇ鍐测枖濞戙垹鐓橀柟杈鹃檮閸婄兘鎮楀☉娅亞鍠婂澶嬧拺闁革富鍘藉▍鏇㈡煟濡炲墽鐭欐慨濠傤煼瀹曟帒顫濋濠冨闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰铏圭矙閸噮鍔夊銈冨妼閿曨亜顕ｇ拠娴嬫婵﹩鍋呴崟鍐磽閸屾瑩妾烽柛銊ф嚀閳绘挻绺介崨濞炬嫼闂佸湱顭堝ù椋庣不閹炬番浜滈柨鏂跨仢瀹撳棛锟芥鍠楄ぐ鍐煘閹寸媴鎷烽敐搴′簽闁告﹢浜堕弻锝堢疀閺囩偘绮舵繝鈷�鍌滅煓闁糕斂鍨介獮妯肩磼濡厧骞嶉柣搴ｆ嚀鐎氼厽绔熼崱娆戠煋闁绘垶蓱閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞叉鍒掗幘璇茬疇闁绘ɑ妞块弫鍡涙煥閻旂儤娅曢柡渚囧櫍婵＄兘鍩￠崒妤佸闂備礁鎲＄缓鍧楀磿鏉堛劎澧″┑锛勫亼閸婃垿宕濆畝鍕亱闁规崘顕ч弸渚�鏌熼崜褏甯涢柛銈呯Ч閺屾洘绔熼姘拱婵炲牆缍婂缁樻媴閾忕懓绗￠梺鍦拡閸嬪棝骞戦姀鐘斀閻庯綆鍓欑粊锕傛⒑閸涘﹤濮﹀ù婊勭箓閻ｉ攱寰勬繛鍖℃嫹閹烘埈娼╅柣鎾虫捣娴狀參姊虹粙璺ㄐら柡浣筋嚙椤繘鎼归崷顓狅紲濠碘槅鍨甸褏鍠婂鍥╃＝濞达綁娼ф俊濂告煏閸埄鐒鹃柣锝囧厴閹囧醇閵忋垻妲囬梻浣规偠閸庮垶宕濇径鎰闁惧繐婀辩壕钘壝归敐鍛棌闁稿骸绻橀幃妯跨疀閹炬潙娅ｅ銈嗘煥缁绘ɑ淇婇悜鑺ユ櫆閺夌偞澹嗛惄搴ㄦ⒒娴ｇ儤鍤�闁宦板妿閹广垽宕橀鑲╃崶濠碘槅鍨卞鍨枔娴犲鐓熼柟閭﹀灠閻ㄨ櫣绱掗悩宸吋闁哄瞼鍠栭、娆戞喆閸曨剛褰囩紓鍌欐祰妞村摜鏁幒鏇犱航闂佸搫顦遍崑鐐寸珶閸℃あ娑㈩敍閻愮补鎷婚梺绋挎湰閻燂妇绮婇悧鍫㈢濠㈣泛顑嗙粈瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�??
						lockState = 3;
					}
					else
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插暞閸婃劖銇勯姀鈩冾棃妞ゃ垺娲熼弫鍌炴偩鐏炶棄绗氱紓鍌氬�搁崐鐑芥倿閿曚焦鎳岄梻浣瑰▕閺�閬嶅礉濞嗘挸钃熼柡鍥ュ灩閻愬﹦鎲稿澶樻晜妞ゆ帒鍊荤壕濂告煟濡櫣锛嶆繛鎻掔摠椤ㄣ儵鎮欐潏鎹愶拷鍧楁煙閻撳海绉烘い銏℃礋閺佹劖鎯旈埄鍐╂瘔闂傚倸鍊搁崐鎼佸磹閻戣姤鍊块柨鏇嫹妞ゎ亜鍟撮獮鎰償閿濆孩閿ゆ繝鐢靛仜濡瑩宕归悽绋垮瀭婵犻潧娲ㄧ粻楣冩煕閳╁叐鎴犱焊椤撱垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦璇插闁宠鍨垮畷閬嶅煛閸屽偊绠撻弻鐔碱敍濠婂啯鐏堝┑顔硷攻濡炶棄螞閸愩劉妲堥弶鍫涘壉閵堝鈷戠紒瀣閹癸綁鏌涙惔娑橈拷妤呮晸娴犲娑ч柕鍫㈩焾閻ｅ嘲顫滈敓浠嬨�佸▎鎴炲枂闁挎繂妫楅鍦磽閸屾艾锟介绮堟笟锟介、鏍川椤栨瑧鍓ㄩ梺鍛婁緱閸欏酣宕崨瀛樼厪濠㈣埖绋栫粈瀣瑰鍕煉闁哄瞼鍠撻敓鑺ョ♁椤洨绮婚弽顓熺厱闁绘ɑ鍨氶幋锔猴拷鍐Ψ閳哄倸锟界兘鏌ょ喊鍗炲妞ゆ梹甯″铏规嫚閳ヨ櫕鐏�闂佸搫鎳忕换鍫ョ嵁韫囨稒鍋愮紓浣姑▓銈咁渻閵堝棗绗掓い锔藉閳悂姊婚崒姘拷鎼佸磹妞嬪孩顐芥慨姗嗗墻閻掔晫鎲搁弮鍫濈畺鐟滄柨鐣烽崡鐑嗘富闁哄洨鍠愰妵婵嗏攽閳╁啯鍊愰柛鈺冨仩椤﹀弶绻涘顔煎籍闁靛棔绀侀～婵嬫嚋閸偅顏熼梻浣藉Г閿氭い锕佹椤洭寮介鐔哄幈濠电娀娼уΛ妤呭煝閺囥垺鐓ｉ煫鍥ㄥ嚬濞兼劕鈹戦婵嗕汗闁跨喎锟界噥娼愭繛鍙夌墪鐓ら柕濞垮劗閺嬫牠鏌熺粙璺ㄥ嚬缂佽妫濋弻锝夊箛閸忓摜鐩庨梺璺ㄥ枙婵倝鎮ч悩鑼殾鐟滅増甯楅ˉ鍫熺箾濞ｎ剙鐏俊鐐扮矙閵嗕礁顫滈敓鑺ユ叏閿熶粙鏌嶉妷銉ュ笭缂侇啫鍕箚闁绘劦浜滈敓鑺ョ墪鐓ら柍鍝勬噹缁狀垰顪冪�ｎ亜鍤遍柟鐑筋棑閹叉挳宕熼鍌ゆК闂備胶绮悧鏇㈠Χ閹间礁违濞达綀鍊介弮鍫濆窛妞ゆ棁濮ら鐔封攽閻愬樊鍤熷┑顔芥尦椤㈡牠宕ㄩ婊�绗夐梺鍝勮閸庢煡鎮￠弴鐔翠簻闁规澘澧庣粙鑽ょ磼閿熶粙宕橀鐣屽幗闂佽鍎崇壕顓犵不娴煎瓨鐓冮悷娆忓閻忔挳鏌熼瑙勬珚闁瑰磭濞�椤㈡宕掗妶鍛珨婵犵數濮烽。顔炬閺囥垺鎯為幖娣妼缁愭鎱ㄥΟ鍧楀摵妞ゎ偅娲熼弻鐔兼倻濮楀棙鐣烽梺绋款儐閸旀瑩寮诲☉銏犵疀妞ゆ帪鎷风紒鐙欏洦鍋ｉ柛銉㈡櫅娴犺鲸鎱ㄦ繝鍐┿仢鐎规洦鍋婂畷鐔碱敇閻樻彃蝎缂傚倸鍊烽懗鍓佸垝椤栨粍宕查柛宀�鍋為崑鈺冿拷鐟板閸嬪﹤顭囬妸鈺傜叆闁绘柨澧庨惌娆撴煏閸℃洜绐旂�殿噮鍣ｅ畷鐓庘攽閸偅效闂傚倷绶氬褔鈥﹂鐔剁箚闁搞儺鍓氶弲鎼佹煟閿濆懓瀚版い锝堝亹缁辨帞绱掑Ο鑲╃暤濡炪倖娲忛崕闈涱嚕閹间緡鏁冩い顐枟鐎氬綊鏌曢崼婵愭Ц闁告艾缍婇幃妤呮晲鎼粹剝鐏嶉梺鎶芥敱鐢繝寮诲☉銏犲嵆闁靛鍎扮花璇差渻閵堝懏绂嬮柛瀣躬瀵濡搁埡鍌氫簻闂佺粯鍨惰摫闁绘繍浜滈—鍐Χ韫囨洜校闂侀潻缍囩紞渚�鎮伴璺ㄧ杸婵炴垶鐟﹀▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?
						inviterTeamId = xtable.Roleid2teamid.select(inviterRoleId);
						if(inviterTeamId!= null)
						{//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珕闂佽姤锚椤︻喚绱旈弴銏♀拻濞达綀娅ｉ妴濠囨煕閹惧绠為柟钘夊�婚敓鏂ょ秵閸犳牠鎮欐繝鍐︿簻闁瑰搫绉剁拹鐗堜繆椤愩垹鏆欓柍瑙勫灴閹瑥顔忛鍏碱啀婵＄偑鍊栫敮鐔轰焊濞嗘垶顫曢柣鎰嚟閻熷綊鏌ㄩ悢缁橆棄妞ゆ洩缍侀、鏇㈡晝閿熺晫澹曟總鍛婄厽闁归偊鍘界紞鎴︽煟瑜嶇�氼厾鎹㈠┑瀣潊闁挎繂鎳愰崢顐︽⒑閹稿海顣茬紒缁樼洴瀹曠厧鈹戦崟顐″垝闂備礁鎼惌澶屽緤妤ｅ啫绠氶柡鍐ㄧ墛閺咁剟鏌涢弴銊ュ箺婵炲牜鍨跺缁樻媴娓氼垳鍔稿┑顔斤公闂勫嫮绮嬪澶樻晢闁告洦鍋嗛澶愭⒑闂堟稓绠為柛濠冩礈缁骞庨懞銉у幐闂佸憡鍔戦崝宀勬晸閽樺鐓奸柟顔惧仱瀹曟鎳栭埡鍐闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡闂佺粯顨堟繛锟芥鐐插暣閺佹捇鎮╅崘韫盎闂備胶顢婇崑鎰板磻濡壈濮冲┑鐘崇椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻鐔煎川婵犲啫锟芥劖銇勯姀鈩冾棃妤犵偞锕㈤、娆撴偩鐏炶棄绠為梻浣烘嚀閸氬鎮鹃鍫濆瀭閻熸瑥瀚崣蹇涙煕椤愶絽濮撮幖娣妼閻愬﹦鎲稿┑瀣彆妞ゆ帒鍋婇幏椋庢喆閸曨剛鈹涚紓浣稿级閸庢娊顢氶妷鈺佺妞ゆ挶鍔嶇�氬綊鏌ㄥ┑鍡欏嚬闁诡喖绉归弻鐔割槹鎼粹�冲箣濡ょ姷鍋涘ú顓€�佸璺哄耿婵☆垯璀︽导鎾绘⒑閼姐倕鏋戦柣鐔村劤閿熻姤鍑归崢鐐珶閺囥垹绠瑰ù锝呮贡閸橀亶鏌熼懝鐗堝涧缂佹煡绠栧鎶筋敆閸岋附瀚规繛鍫濈仢濞呮﹢鏌涚�ｎ亷宸ラ柣锝囧厴楠炴帒螖娴ｉ潻鎷烽悜鑺ョ厸濠㈣泛顑呴悘锕傛煟閵堝懏鍤囨慨濠勭帛缁楃喖鏁撻挊澶樼劷鐟滄棁妫熸繛鏉戝悑濞兼瑧绮堟径灞惧枑闊洦娲栭崹婵嗏攽閻樺疇澹樼紒鐘差煼閺岀喐锛愭担鍝勫缂傚倸绉寸�涒晝鎹㈠┑瀣仺闂傚牊鍒�閿濆鐓犻柣鐔告緲閳锋梻绱掗鑲╁ⅵ鐎规洘锕㈤崺鐐村緞閸濄儳娉块梻鍌氼煬閸嬪嫬煤閿曞倸绠伴柟闂寸贰閺佸倹銇勮箛鎾跺闁绘挾鍠栭悡顐﹀炊閵婏箑鏆楁繝鈷�宥夋闁逛究鍔嶇换婵嬪礃閳瑰じ铏庨柣搴ゎ潐濞诧箓宕戞繝鍌滄殾闁绘梻鈷堥弫鍡椻攽閻樻彃顏╃紒鎰洴濮婂宕掑▎鎺戝帯闂佺娅曢幑鍥х暦閻㈢鍐�妞ゆ挾鍋熼鍡涙⒑鐠恒劌娅愰柟鍑ゆ嫹
							lockState = 3;//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚泛鈹戦悩娈挎殰缂佺粯绻傞…鍥樁闁诲繑甯炵槐鎾诲磼濞嗘垵濡藉銈庡幖濞层劎鍒掗弮鍌涘磯閻炴稈鍓濋弬锟介梻浣虹帛閸旀洟鎮洪妸褌鐒婃い鎾卞灪閻撴瑩鏌ｉ敐鍛伇濠㈣顨婂濠氬磼濮橆剨鎷烽幖浣哥９闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰铏圭矙閸噮鍔夊銈冨妼閿曨亜顕ｇ拠娴嬫婵﹩鍋呴崟鍐磽閸屾瑩妾烽柛銊ф嚀閳绘挻绺介崨濞炬嫼闂佸湱顭堝ù椋庣不閹炬番浜滈柨鏂跨仢瀹撳棛锟芥鍠楄ぐ鍐煘閹寸媴鎷烽敐搴′簽闁告﹢浜堕弻锝堢疀閺囩偘绮舵繝鈷�鍌滅煓闁糕斂鍨介獮妯肩磼濡厧骞嶉柣搴ｆ嚀鐎氼厽绔熼崱娆戠煋闁绘垶蓱閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鍊燁潐濞叉鍒掗幘璇茬疇闁绘ɑ妞块弫鍡涙煥閻旂儤娅曢柡渚囧櫍婵＄兘鍩￠崒妤佸闂備礁鎲＄缓鍧楀磿鏉堛劎澧″┑锛勫亼閸婃垿宕濆畝鍕亱闁规崘顕ч弸渚�鏌熼崜褏甯涢柛銈呯Ч閺屾洘绔熼姘拱婵炲牆缍婂缁樻媴閾忕懓绗￠梺鍦拡閸嬪棝骞戦姀鐘斀閻庯綆鍓欑粊锕傛⒑閸涘﹤濮﹀ù婊勭箓閻ｉ攱寰勬繛鍖℃嫹閹烘埈娼╅柣鎾虫捣娴狀參姊虹粙璺ㄐら柡浣筋嚙椤繘鎼归崷顓狅紲濠碘槅鍨甸褏鍠婂鍥╃＝濞达綁娼ф俊濂告煏閸埄鐒鹃柣锝囧厴閹囧醇閵忋垻妲囬梻浣规偠閸庮垶宕濇径鎰闁惧繐婀辩壕钘壝归敐鍛棌闁稿骸绻橀幃妯跨疀閹炬潙娅ｅ銈嗘煥缁绘ɑ淇婇悜鑺ユ櫆閺夌偞澹嗛惄搴ㄦ⒒娴ｇ儤鍤�闁宦板妿閹广垽宕橀鑲╃崶濠碘槅鍨卞鍨枔娴犲鐓熼柟閭﹀灠閻ㄨ櫣绱掗悩宸吋闁哄瞼鍠栭、娆戞喆閸曨剛褰囩紓鍌欐祰妞村摜鏁幒鏇犱航闂佸搫顦遍崑鐐寸珶閸℃あ娑㈩敍閻愮补鎷婚梺绋挎湰閻燂妇绮婇悧鍫㈢濠㈣泛顑嗙粈瀣拷瑙勬礃婵炲﹪寮崘顔肩＜婵﹢纭搁崬鐢告⒒娴ｈ姤纭堕柛锝忕畵楠炲繘鏁撻敓锟�??
						}
						else
						{//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠嶇划娆撳箖閸ф鏁嬮柨鐔剁矙瀵鏁愰崨鍌涙閺佹挻绂掔�ｎ偄浜遍棅顐㈡处濞叉粍绋夊鍛傛棃鏁愰崨顓熸闂佺粯鎸堕崕鐢稿蓟閿濆绫嶉柛銉ㄦ硾濞堫參鎮跺顓狀暡缂佺粯鐩弫鎰板川椤旇姤鍊烽梻浣瑰濞测晝绮婚幘鑽ゅ祦闊洦绋掗崑鎰�掑鐓庣仭闁宠鏈换婵堝枈婢跺瞼锛熼梺鎯х箰闁帮絽鐣烽幎鑺ユ櫜濠㈣泛锕﹂悾鍝勨攽鎺抽崐鏇㈠箠韫囨稑纾婚柕濞炬櫆閳锋帡鏌涢銈呮灁闁宠棄顦湁闁绘绉鍫氾拷鏃堝礃椤斿槈褔鏌涢埄鍏狀亞澹曢埡鍌滅瘈闁靛繈鍨洪崵锟介梺缁橆殔缁绘帡宕氶幒鏃�瀚氭繛鏉戭儐椤秹姊洪棃娑氱濠殿喗娼欓悾鐢稿幢濞戞瑢鎷虹紓鍌欑劍椤洭骞婇弴銏＄厵闁绘垼濮ら弫鍗炃庨崶褝韬柟宕囧█椤㈡鏁撴禒瀣偍閻庢稒蓱閸欏繐鈹戦悩鎻掍簽闁绘捁鍋愰敓鍊燁潐濞叉鏁幒妤�鐓濋幖娣妼缁狅絾銇勯幘璺烘櫩婵犲﹤鐗婇埛鎺戙�掑鐐濠电偘鍖犻崗鐘虫そ閺佸啴宕掑Δ瀣闁挎洖鍊搁悙濠勬喐婢舵劕鍑犻幖娣妽閻撳繘鐓崶銊︾妞ゅ骸鏈换娑氫焊閺嶃劍鐝氶梺璇″枦椤濡堕敃鍌氱閹兼惌鍠曢崫妤呮⒒娴ｇ懓顕滅紒瀣浮閹兘鍩￠崨顓℃憰闂佹寧绻傚Λ娆撳磿閻旀悶浜滈柡宥冨妿閻矂寮介敓鐘斥拻濞达絽鎲￠崯鐐烘煙濮濆矈鍤欐い顐ｇ箞婵℃悂鍩￠崒娑欘仧闂備礁鍚嬫禍浠嬪磿閹跺锟藉倿鎳犻濠冨闁谎冩啞鐎氬綊姊鸿ぐ鎺擄紵缂侊拷娓氾拷閹锋垿鎮㈤崗鑲╁弳濠电娀娼уΛ顓炍ｉ幖浣哥倞闁圭虎鍠楅ˉ濠冦亜閹扳晛鐏璺哄閺岋紕浠︾拠鎻掝潎濡炪們鍨哄Λ鍐极閹剧粯鏅搁柨鐕傛嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈浥堥弲婊堟偂閻斿吋鐓ユ繝闈涙閸ｄ粙鏌ｉ幒鎴炲仴闁哄瞼鍠庨悾锟犲级閹稿巩鈺侇渻閵堝骸浜濈紒璇茬墦閵嗕礁顫滈敓浠嬪箖閳哄懎绠甸柟鐑樻煥閹藉姊婚崒姘拷宄懊归崶顒夋晪闁哄稁鍘肩粣妤佺箾閹寸們姘跺几閺嶃劎绠鹃柟鎼幗缁舵稓绱撳鍡欏缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣侯焾椤戝懘宕愰崸妤冨祦闁哄稁鍋撻幏宄扳槈濞嗘鍔风紓浣哄У閹瑰洭寮婚敍鍕舵嫹閿濆簼绨藉褝闄勯幈銊︾節閸曨厼绗￠梺鐟板槻閹冲繒绮悢纰辨晬婵犲﹤鍟瓏闂傚倸鍊烽悞锔撅拷绗涘厾楦跨疀濞戞锛欏┑鐘绘涧椤戝啴鏁撻幋鎺旂獢鐎殿喕绮欓、姗�鎮欓棃娑虫嫹閻愬樊娓婚柕鍫濇闁叉粓鏌熼悜绛嬫缂佽鲸甯￠幃顏堟晸娴犲鍨傞柛顐ｆ礀閽冪喖鏌ㄥ┑鍡樺晵闁绘柨鍚嬮崵鍐煃鏉炴媽鍏屾い鎰偢濮婄粯鎷呮笟顖滃姼濡炪倖鍨堕崝鏍矉瀹ュ鏁傞柛顐ｇ箚閹芥洟姊洪棃娴ュ牓寮插鍫濈；闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍钘夘槹閵囧嫯绠涢妷锕�顏�??
							lockState = 2;
						}
					}
				}
				else
				{//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê鐣烽敐鍡楃窞闁割偅绮庨惄搴ㄦ⒒婵犲骸浜滄繛璇х畵楠炴劙鎮欓浣圭彿闂佸搫娲ㄦ慨椋庡閽樺褰掓晲閸涱厾楠囧┑鐐叉噹閿曨亪寮婚敍鍕勃閻犲洦褰冮‖鍫ユ⒑鐎圭媭娼愰柛銊ョ仢閻ｇ兘宕￠悙宥囧枑缁楃喖顢涘ù鍓佸枛濮婂宕掑▎鎺戝帯濡炪値鍘奸悧鎾汇�侀弽顓炲耿婵炴垶鐟ユ禍鍗炩攽鎺抽崐鏇㈠箠鎼淬埄鏀伴梻鍌欑閹测�趁洪敃鍌氬瀭闁规鍠氭稉宥嗙箾閹存瑥鐏柣鎾存礋閺岀喖骞戦幇顒冩暱闂佺绻愰惌鍌炲蓟閿熺姴骞㈡繛鍡楃箚閺嬪懎鈹戦纭烽練婵炲拑缍侀獮鎴﹀礋椤栨鈺呮煏婢舵稑顩ù婊呭仦缁绘繄鍠婂Ο娲绘綉闂佺顑呯�氼噣鏁撻懞銉х叝闁告濞婃俊瀛樼瑹閿熻棄顕ｆ禒瀣垫晣闁绘劙娼ч敓鐣屽仜椤啴濡堕崱妤呭殝闂佸湱鍏橀ˉ鎾舵閹烘鍋戦柨鐔剁矙瀹曞綊宕奸弴鐐舵憰闂佹寧绻傞幉姗�鎮㈤崗鐓庢異闂佸疇妗ㄩ懗鍫曨敃婵傚憡鈷掑ù锝勮閻掔偓銇勯幋鐐插缂佸倸绉归、鏃堝醇濠靛﹥鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灓闁告妫勯—鍐Χ閸涱垳顔囬梺鐟板槻椤戝顕ｉ幖浣规櫢缂佸樊鏌卨ock
					lockState = 1;
				}
				
				switch (lockState)
				{
				case 1://闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê鐣烽敐鍡楃窞闁割偅绮庨惄搴ㄦ⒒婵犲骸浜滄繛璇х畵楠炴劙鎮欓浣圭彿闂佸搫娲ㄦ慨椋庡閽樺褰掓晲閸涱厾楠囧┑鐐叉噹閿曨亪寮婚敍鍕勃閻犲洦褰冮‖鍫ユ⒑鐎圭媭娼愰柛銊ョ仢閻ｇ兘宕￠悙宥囧枑缁楃喖顢涘ù鍓佸枛濮婂宕掑▎鎺戝帯濡炪値鍘奸悧鎾汇�侀弽顓炲耿婵炴垶鐟ユ禍鍗炩攽鎺抽崐鏇㈠箠鎼淬埄鏀伴梻鍌欑閹测�趁洪敃鍌氬瀭闁规鍠氭稉宥嗙箾閹存瑥鐏柣鎾存礋閺岀喖骞戦幇顒冩暱闂佺绻愰惌鍌炲蓟閿熺姴骞㈡繛鍡楃箚閺嬪懎鈹戦纭烽練婵炲拑缍侀獮鎴﹀礋椤栨鈺呮煏婢舵稑顩ù婊呭仦缁绘繄鍠婂Ο娲绘綉闂佺顑呯�氼噣鏁撻懞銉х叝闁告濞婃俊瀛樼瑹閿熻棄顕ｆ禒瀣垫晣闁绘劙娼ч敓鐣屽仜椤啴濡堕崱妤呭殝闂佸湱鍏橀ˉ鎾舵閹烘鍋戦柨鐔剁矙瀹曞綊宕奸弴鐐舵憰闂佹寧绻傞幉姗�鎮㈤崗鐓庢異闂佸疇妗ㄩ懗鍫曨敃婵傚憡鈷掑ù锝勮閻掔偓銇勯幋鐐插缂佸倸绉归、鏃堝醇濠靛﹥鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灓闁告妫勯—鍐Χ閸涱垳顔囬梺鐟板槻椤戝顕ｉ幖浣规櫢缂佸樊鏌卨ock
					Long[] roleids1 = new Long[1];
					roleids1[0] = invitedRoleId;
					this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK,(Object[])roleids1));
					break;
				case 2://闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠嶇划娆撳箖閸ф鏁嬮柨鐔剁矙瀵鏁愰崨鍌涙閺佹挻绂掔�ｎ偄浜遍棅顐㈡处濞叉粍绋夊鍛傛棃鏁愰崨顓熸闂佺粯鎸堕崕鐢稿蓟閿濆绫嶉柛銉ㄦ硾濞堫參鎮跺顓狀暡缂佺粯鐩弫鎰板川椤旇姤鍊烽梻浣瑰濞测晝绮婚幘鑽ゅ祦闊洦绋掗崑鎰�掑鐓庣仭闁宠鏈换婵堝枈婢跺瞼锛熼梺鎯х箰闁帮絽鐣烽幎鑺ユ櫜濠㈣泛锕﹂悾鍝勨攽鎺抽崐鏇㈠箠韫囨稑纾婚柕濞炬櫆閳锋帡鏌涢銈呮灁闁宠棄顦湁闁绘绉鍫氾拷鏃堝礃椤斿槈褔鏌涢埄鍏狀亞澹曢埡鍌滅瘈闁靛繈鍨洪崵锟介梺缁橆殔缁绘帡宕氶幒鏃�瀚氭繛鏉戭儐椤秹姊洪棃娑氱濠殿喗娼欓悾鐢稿幢濞戞瑢鎷虹紓鍌欑劍椤洭骞婇弴銏＄厵闁绘垼濮ら弫鍗炃庨崶褝韬柟宕囧█椤㈡鏁撴禒瀣偍閻庢稒蓱閸欏繐鈹戦悩鎻掍簽闁绘捁鍋愰敓鍊燁潐濞叉鏁幒妤�鐓濋幖娣妼缁狅絾銇勯幘璺烘櫩婵犲﹤鐗婇埛鎺戙�掑鐐濠电偘鍖犻崗鐘虫そ閺佸啴宕掑Δ瀣闁挎洖鍊搁悙濠勬喐婢舵劕鍑犻幖娣妽閻撳繘鐓崶銊︾妞ゅ骸鏈换娑氫焊閺嶃劍鐝氶梺璇″枦椤濡堕敃鍌氱閹兼惌鍠曢崫妤呮⒒娴ｇ懓顕滅紒瀣浮閹兘鍩￠崨顓℃憰闂佹寧绻傚Λ娆撳磿閻旀悶浜滈柡宥冨妿閻矂寮介敓鐘斥拻濞达絽鎲￠崯鐐烘煙濮濆矈鍤欐い顐ｇ箞婵℃悂鍩￠崒娑欘仧闂備礁鍚嬫禍浠嬪磿閹跺锟藉倿鎳犻濠冨闁谎冩啞鐎氬綊姊鸿ぐ鎺擄紵缂侊拷娓氾拷閹锋垿鎮㈤崗鑲╁弳濠电娀娼уΛ顓炍ｉ幖浣哥倞闁圭虎鍠楅ˉ濠冦亜閹扳晛鐏璺哄閺岋紕浠︾拠鎻掝潎濡炪們鍨哄Λ鍐极閹剧粯鏅搁柨鐕傛嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈浥堥弲婊堟偂閻斿吋鐓ユ繝闈涙閸ｄ粙鏌ｉ幒鎴炲仴闁哄瞼鍠庨悾锟犲级閹稿巩鈺侇渻閵堝骸浜濈紒璇茬墦閵嗕礁顫滈敓浠嬪箖閳哄懎绠甸柟鐑樻煥閹藉姊婚崒姘拷宄懊归崶顒夋晪闁哄稁鍘肩粣妤佺箾閹寸們姘跺几閺嶃劎绠鹃柟鎼幗缁舵稓绱撳鍡欏缂佺粯绻堝Λ鍐ㄢ槈閸楃偛澹夐梻浣侯焾椤戝懘宕愰崸妤冨祦闁哄稁鍋撻幏宄扳槈濞嗘鍔风紓浣哄У閹瑰洭寮婚敍鍕舵嫹閿濆簼绨藉褝闄勯幈銊︾節閸曨厼绗￠梺鐟板槻閹冲繒绮悢纰辨晬婵犲﹤鍟瓏闂傚倸鍊烽悞锔撅拷绗涘厾楦跨疀濞戞锛欏┑鐘绘涧椤戝啴鏁撻幋鎺旂獢鐎殿喕绮欓、姗�鎮欓棃娑虫嫹閻愬樊娓婚柕鍫濇闁叉粓鏌熼悜绛嬫缂佽鲸甯￠幃顏堟晸娴犲鍨傞柛顐ｆ礀閽冪喖鏌ㄥ┑鍡樺晵闁绘柨鍚嬮崵鍐煃鏉炴媽鍏屾い鎰偢濮婄粯鎷呮笟顖滃姼濡炪倖鍨堕崝鏍矉瀹ュ鏁傞柛顐ｇ箚閹芥洟姊洪棃娴ュ牓寮插鍫濈；闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍钘夘槹閵囧嫯绠涢妷锕�顏�??
					Object[] roleids2 = new Object[2];
					if(inviterRoleId < invitedRoleId)
					{
						roleids2[0] = inviterRoleId;
						roleids2[1] = invitedRoleId;
					}
					else
					{
						roleids2[0] = invitedRoleId;
						roleids2[1] = inviterRoleId;
					}
					this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK, roleids2));
					break;

				case 3://闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚泛鈹戦悩娈挎殰缂佺粯绻傞…鍥樁闁诲繑甯炵槐鎾诲磼濞嗘垵濡藉銈庡幖濞层劎鍒掗弮鍌涘磯閻炴稈鍓濋弬锟介梻浣虹帛閸旀洟鎮洪妸褌鐒婃い鎾卞灪閻撴瑩鏌ｉ敐鍛伇濠㈣顨婂濠氬磼濮橆剨鎷烽幖浣哥９闁归棿绀佺壕褰掓煟閹达絽袚闁稿﹤娼￠弻銊╁籍閿熶粙骞忓┑瀣濡炲娴风粻鏃�绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰娲箹閻愯鎷烽弽顓炵闁哄稁鍘兼闂佸憡娲﹂崹浼村礃閿熻棄顪冮妶鍡楀Е婵狀澁鎷风紓渚囧枛婢у海妲愰幘瀛樺闁告繂瀚烽敓钘夌焸閺屾盯濡搁妶鍛ギ濠电媴鎷峰〒姘炬嫹婵﹨娅ｇ划娆戞崉閵娧屽敹闂備礁鎲￠懝楣冾敄閸モ晜顫曢柣鎰惈缁狅綁鏌ｅΟ鍏兼毄闁挎稒绮撳铏圭磼濡吋鍣ч梺鐟板暱缁绘帡鏁撻懞銉у暡闁瑰嚖鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珕闂佽姤锚椤︻喚绱旈弴銏♀拻濞达綀娅ｉ妴濠囨煕閹惧绠為柟钘夊�婚敓鏂ょ秵閸犳牠鎮欐繝鍐︿簻闁圭儤鍩堝Σ褰掓煛閸涱亝娅嗙紒缁樼箞婵拷闁挎繂妫涢妴鎰渻閵堝棙绀冮柣妤冨Т閻ｇ兘宕奸弴鐐嶁晠鏌ㄩ弮鍌滄憘濞寸姍鍥ㄢ拻闁稿本鐟︾粊鐗堢箾婢跺绀嬬�规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�
					xbean.TeamInfo teamInfo = xtable.Team.get(inviterTeamId);
					if(teamInfo == null)
					{
						psend(invitedRoleId, new STeamError(TeamError.InviterTeamNotExist));
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锔诲灦椤㈡岸顢橀悢铏瑰骄闂佸搫娲㈤崹娲吹閹烘鐓忛柛顐ｇ箘缁犳煡鎮楀鎰佹綈妞ゃ劊鍎甸幃娆撴嚑椤戣儻妾搁梻浣告啞濮婂湱鍠婂澶娢﹂柛鏇ㄥ灡閺呮粓鏌涢…鎴濇灈缂佷緡鍣ｉ幃妤冩喆閸曨剛顦ㄥ┑鐐插级閻楃娀銆佸锟藉畷妤呮偂鎼达絿鐛梺璇插嚱缂嶅棝宕滃▎鎾跺祦闁割偁鍎查埛鎺懨归敐鍛暈闁诡垰鐗婄换娑氫沪閸屾氨浼堥悗瑙勬礃缁诲倿鎮惧┑瀣妞ゆ帪鎷烽柨鐔绘閻栧ジ寮婚妸銉㈡婵☆垯璀︽禒楣冩⒑缁嬫鍎愰柣妤侇殘閹广垹鈹戠�ｎ偒妫冨┑鐐村灦閻熴儳绮ｅ☉姘辩＝濞达絽鎼埢鍫㈢磼閻樺磭澧垫鐐插暙铻栭柛娑卞枛娴犲搫鈹戦悙鑼ⅲ婵炲娲熷畷婵嬪箹娴ｅ湱鍘介梺闈涚箚閺呮盯鎮橀悩宸唵鐟滃秴霉瀹勬嫈锝夊箛閺夎法顔婇梺瑙勫劤绾绢厾绮ｉ悙鐑樼厽閹兼惌鍨崇粔鐢告煕鐎ｎ亜顏�规洦鍓氬鍕箛椤撶儑鎷烽悽鍛婂仭婵炲棗绻愰顏嗙磼閿熶粙宕橀鐣屽幗闂佺粯鏌ㄥ璺衡枍婵犲嫸鎷峰▓鍨珮闁稿瀚伴、姗�宕楅悡搴ｇ獮婵犵數濮寸�氬嘲危鐟欏嫪绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掞拷閸ㄦ棃鎮楅棃娑欏暈妞ゎ偅娲熼弻锛勪沪鐠囨彃濮曢梺鎶芥敱鐢帡鍩為幋锔藉亹闁哄被鍎洪敓鑺ヮ殔闇夋繝濠傚閻绱掔紒妯笺�掗柟椋庡Ь椤︽挳鏌ｉ敐鍛粵闁靛洤瀚版慨锟介柍銉ュ暱閹介潧螖閻橀潧浠﹂柨鏇樺灲閵嗕礁鈻庨幘鏉戞異闂佸啿鎼敃銈夊极閽樺鏀介柣妯垮皺濡嫰鏌℃径濠傜殹闁归鏌夐ˇ瑙勵殽閻愯尙绠婚柟顔界矒閹崇偤濡疯楠炴劙姊虹拠鎻掑毐缂傚稄鎷烽梺绯曟櫆閻楁粓鏁撻懞銉у暡闁瑰嚖鎷�?,TeamId: "+inviterTeamId);
						return true;
					}
					team = new Team(inviterTeamId,false);
					Set<Long> roleids = team.getAllMemberIdSet();
					roleids.add(invitedRoleId);
					this.lock(mkdb.Lockeys.get(xtable.Locks.ROLELOCK, roleids));
					break;
				default:
					return true;
				}
				if(agree == 1){
				}
				PropRole prole = new PropRole(invitedRoleId, true);
				String invitedName = prole.getName();
				
				Long invitedTeamId = xtable.Roleid2teamid.get(invitedRoleId);
				if(!checkInviteExist(invitedRoleId))
				{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇划宥囷拷闈涖偢閹晝绱掑Ο鐓庡箞闂備礁鎼ú銏ゅ礉鐏炲墽顩叉繝闈涙川缁犻箖鏌涢銈呮瀾闁靛洦绻冮幈銊︾節閸涱噮浠╅梺鍛婄墬閻楃姴顕ｉ幘顔藉亜闁告縿鍎辩徊楣冩⒒閸屾瑨鍏岀紒顕呭灦閵嗗啴宕奸悢绋垮伎闂佸湱铏庨崰妤呭磻閳哄懏鐓熼柕鍫濋閻忔稑霉濠婂啰绉洪柡宀�鍠栭幃婊兾熼悜姗嗗晭闂備礁鍟块幖顐﹀箠韫囨稒鍋傞柛鎰靛枟閻撴洘绻濋棃娑欘棞妞ゅ繆鏅犻弻銊╂偄閻戞ɑ鐝銈庡幖閻楁捇宕洪姀銈呯鐎规洖娲﹀▓鏇㈡⒑閸涘﹥澶勯柛蹇旓耿楠炲繐煤椤忓應鎷洪梺鍛婄☉閿曪箓鍩ユ径鎰叆闁哄浂浜為悾鐢告煕閳哄妾柟宄版嚇瀹曠兘顢橀悪锟介崯搴ㄦ⒒娴ｄ警鐒剧紒缁橆殜瀹曟垿骞囬弶璺ㄧ枃闂佹悶鍎洪崜姘舵偂濞戞◤褰掓晲閸偅缍堥悗瑙勬礀閻倿寮婚悢铏圭煓闁告牑鍓濋弫楣冩倵閸偅绶查悗姘煎墲閻忔帡姊洪崨濠勭畵閻庢凹鍓熻棢闁规壆澧楅埛鎺楁煕鐏炲墽鎳呮い锔煎缁辨挸顓奸崪鍐惈闁芥鍠栭弻鐔煎箚瑜滈崵鐔虹磼閻樿崵鐣洪柡灞诲姂閹垽宕滄担铏瑰幆闂備礁鎼惉濂稿窗閺嶎厼绠板┑鐘插暙缁剁偤鏌熼柇锕�澧柛娆忥躬閺岋絾鎯旈妶搴㈢秷濠电偛寮堕…鍥极椤曪拷楠炴帒顪冩导娆愬闁挎洖鍊告儫闂佸疇妗ㄧ粈浣虹玻濞戞﹩娓婚柕鍫濇閻撱儵鏌涘顒夊剶闁诡喗锕㈤弫鎾寸鐎ｎ偀鎷婚梺绋挎湰閼归箖鏁撻挊澶婃Щ闂囧鏌涢妷顔煎⒒闁轰礁顑囬幉姝岀疀濞戞瑦娅㈤梺鍏间航閸庢娊鍩㈤幘缁樼厸闁告侗鍠氱粻姗�鏌涢幒鎾崇瑨闁宠閰ｉ獮妯虹暦閸ヨ泛鏁藉┑鐘茬棄閺夊尅鎷烽幘缁樺�块柨鏇嫹闁宠绉瑰顒佹償閹惧瓨鏉搁梻浣虹帛閿氶柣蹇斿哺瀵娊鍩℃担鍙夋杸濡炪倖鐗楃粙鎺斾焊閿旂瓔娈介柣鎰皺缁犲鏌＄仦璇插闁跨喐鏋荤徊濠氬礉鐎ｎ剝濮冲┑鐘崇椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻鐔煎传閵夈儰澹曢梺鍝勬嚀濞夋盯鍩ユ径鎰潊闁挎稑瀚獮鎰版⒒娴ｅ憡鍟炵紒顔肩墢缁牊鎷呯憴鍕彿闂佸湱铏庨崰妤呮偂濞戙垺鍊堕柣鎰絻閳锋梹銇勯锟介崥瀣Φ閸曨垱鏅濆ù锝呮贡瑜把勭箾閿濆懏鎼愰柨鏇ㄤ邯閵嗕礁鈽夊鍡樺兊濡炪倖甯掗崐鍝ユ暜椤ょ帳al闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
					TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇划宥囷拷闈涖偢閹晝绱掑Ο鐓庡箞闂備礁鎼ú銏ゅ礉鐏炲墽顩叉繝闈涙川缁犻箖鏌涢銈呮瀾闁靛洦绻冮幈銊︾節閸涱噮浠╅梺鍛婄墬閻楃姴顕ｉ幘顔藉亜闁告縿鍎辩徊楣冩⒒閸屾瑨鍏岀紒顕呭灦閵嗗啴宕奸悢绋垮伎闂佸湱铏庨崰妤呭磻閳哄懏鐓熼柕鍫濋閻忔稑霉濠婂啰绉洪柡宀�鍠栭幃婊兾熼悜姗嗗晭闂備礁鍟块幖顐﹀箠韫囨稒鍋傞柛鎰靛枟閻撴洘绻濋棃娑欘棞妞ゅ繆鏅犻弻銊╂偄閻戞ɑ鐝銈庡幖閻楁捇宕洪姀銈呯鐎规洖娲﹀▓鏇㈡⒑閸涘﹥澶勯柛蹇旓耿楠炲繐煤椤忓應鎷洪梺鍛婄☉閿曪箓鍩ユ径鎰叆闁哄浂浜為悾鐢告煕閳哄妾柟宄版嚇瀹曠兘顢橀悪锟介崯搴ㄦ⒒娴ｄ警鐒剧紒缁橆殜瀹曟垿骞囬弶璺ㄧ枃闂佹悶鍎洪崜姘舵偂濞戞◤褰掓晲閸偅缍堥悗瑙勬礀閻倿寮婚悢铏圭煓闁告牑鍓濋弫楣冩倵閸偅绶查悗姘煎墲閻忔帡姊洪崨濠勭畵閻庢凹鍓熻棢闁规壆澧楅埛鎺楁煕鐏炲墽鎳呮い锔煎缁辨挸顓奸崪鍐惈闁芥鍠栭弻鐔煎箚瑜滈崵鐔虹磼閻樿崵鐣洪柡灞诲姂閹垽宕滄担铏瑰幆闂備礁鎼惉濂稿窗閺嶎厼绠板┑鐘插暙缁剁偤鏌熼柇锕�澧柛娆忥躬閺岋絾鎯旈妶搴㈢秷濠电偛寮堕…鍥极椤曪拷楠炴帒顪冩导娆愬闁挎洖鍊告儫闂佸疇妗ㄧ粈浣虹玻濞戞﹩娓婚柕鍫濇閻撱儵鏌涘顒夊剶闁诡喗锕㈤弫鎾寸鐎ｎ偀鎷婚梺绋挎湰閼归箖鏁撻挊澶婃Щ闂囧鏌涢妷顔煎⒒闁轰礁顑囬幉姝岀疀濞戞瑦娅㈤梺鍏间航閸庢娊鍩㈤幘缁樼厸闁告侗鍠氱粻姗�鏌涢幒鎾崇瑨闁宠閰ｉ獮妯虹暦閸ヨ泛鏁藉┑鐘茬棄閺夊尅鎷烽幘缁樺�块柨鏇嫹闁宠绉瑰顒佹償閹惧瓨鏉搁梻浣虹帛閿氶柣蹇斿哺瀵娊鍩℃担鍙夋杸濡炪倖鐗楃粙鎺斾焊閿旂瓔娈介柣鎰皺缁犲鏌熼鐣岀煉闁瑰磭鍋ゆ俊鐤槻鐎殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�,RoleId: "+invitedRoleId);
					return true;
				}
				if(agree == 1)
				{
					if (checkPvP(inviterRoleId, invitedRoleId) != 0) {
						return true;
					}

					if(!checkOnline(invitedRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸繃鐎冲┑顔筋殔閻楀﹦锟芥艾缍婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒閿曪妇绮欒箛鏃傜瘈闁靛骏绲剧涵鐐亜閹存繃鍠橀柕鍡楁嚇楠炴捇骞戝Δ锟界紞濠囧箖閳轰緡鍟呮い鏃傚帶婢瑰牏绱撴担鍝勪壕闁稿骸鍟块…鍥灳閹颁礁娈ㄩ梺鍓插亝濞叉牠鏌嬮崶銊ｄ簻闁规澘鐏氱欢姘辩磼閵娿儳鎽犵紒缁樼〒閿熻姤绋掗…鍥儗婵犲嫮纾界�广儱鎷戦煬顒傦拷娈垮枦椤曆囧煡婢舵劕顫呴柍鍝勫�瑰▍鍥⒒娴ｈ櫣甯涢拑杈╂喐閺夊灝鏆為柟渚垮姂瀵挳濮�閳撅拷閹疯櫣绱撻崒娆戝妽闁挎岸姊洪崣澶岀煉闁哄瞼鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鈥﹀畡閭﹀殨濞寸姴顑呮儫闂侀潧鐗嗗ú銊╂偩妤ｅ啯鈷掑〒姘炬嫹婵炰匠鍥ㄥ亱闁糕剝绋戠粻鐘荤叓閸ャ劎鈽夐梻鍌ゅ灣閹叉悂鎮ч崼婵堢懖闂佺粯鎸鹃崰鎰板Φ閸曨垰绠婚悹铏瑰劋閻濃�斥攽閻愯尙澧涚紒顔芥崌瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭濠碉紕鍋戦崐鎴﹀垂閸濆娊娲偄閻撳孩鐎梺鍦濠㈡﹢鎮欐繝鍥ㄧ厓闁告繂瀚弳娆撴偨椤栨稒宕屾慨濠傤煼瀹曟帒鈻庨幇顔哄仒闁诲氦顫夊ú婊堝极鐠囪尙鏆﹀ù鍏兼綑缁犳盯鏌℃径搴㈢《妞ゆ柨娲娲川婵犲啫鐦烽梺鍛婃礀閻忔氨绱炲Δ鍛拻濞达絽鎲＄拹锟犳煕鎼存稑锟芥繈濡撮崘顔煎窛妞ゆ牗绮堢粭澶娾攽椤旂瓔鐒惧瀛樻倐瀹曚即骞囬悧鍫濓拷鐢告煥濠靛棝顎楀ù婊呭仦閵囧嫰鍩￠崘銊ュ箣闂佸搫鐬奸崰鏍箖濠婂吘鐔兼倻閳哄倸顏虹紓鍌欒兌閸嬫捇宕曢幎钘夎Е閻庯綆鍠栨闂佸憡娲﹂崹濂稿极閸ヮ剚鐓熼柡鍐ㄧ墱濡垶銇勯幋婵嗭拷鑽ゆ閹惧瓨濯撮柛娆忣樈濞兼劙姊鸿ぐ鎺濇闁稿繑锚椤繒绱掑Ο璇差�撻梺鍏间航閸庮垶鏁撻挊澶婃殶缂佽鲸甯￠弫鎾绘嚍閵夛箑顎撻梺鎯х箰濠�閬嶆偂鐎ｎ喗鍋℃繝濠傛噹椤ｅジ鎮介娑樼缂侇喖顭峰浠嬵敇閻斿搫甯鹃梻浣稿閸嬪懐鎹㈠鍛傦綁宕妷褎锛忛梺璇″瀻閸愨晛锟筋垳绱撴担铏瑰笡缂佽鍟伴幑銏犫攽鐎ｎ亞锛滃┑鐐村灦閿曗晠鏁撻懞銉р槈闁宠鍨垮閬嶆倶韫囨梻鎳冮柨鏇樺灲瀹曠顬婇幎寤筧l闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸繃鐎冲┑顔筋殔閻楀﹦锟芥艾缍婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊炲銈嗗笒閿曪妇绮欒箛鏃傜瘈闁靛骏绲剧涵鐐亜閹存繃鍠橀柕鍡楁嚇楠炴捇骞戝Δ锟界紞濠囧箖閳轰緡鍟呮い鏃傚帶婢瑰牏绱撴担鍝勪壕闁稿骸鍟块…鍥灳閹颁礁娈ㄩ梺鍓插亝濞叉牠鏌嬮崶銊ｄ簻闁规澘鐏氱欢姘辩磼閵娿儳鎽犵紒缁樼〒閿熻姤绋掗…鍥儗婵犲嫮纾界�广儱鎷戦煬顒傦拷娈垮枦椤曆囧煡婢舵劕顫呴柍鍝勫�瑰▍鍥⒒娴ｈ櫣甯涢拑杈╂喐閺夊灝鏆為柟渚垮姂瀵挳濮�閳撅拷閹疯櫣绱撻崒娆戝妽闁挎岸姊洪崣澶岀煉闁哄瞼鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鈥﹀畡閭﹀殨濞寸姴顑呮儫闂侀潧鐗嗗ú銊╂偩妤ｅ啯鈷掑〒姘炬嫹婵炰匠鍥ㄥ亱闁糕剝绋戠粻鐘荤叓閸ャ劎鈽夐梻鍌ゅ灣閹叉悂鎮ч崼婵堢懖闂佺粯鎸鹃崰鎰板Φ閸曨垰绠婚悹铏瑰劋閻濃�斥攽閻愯尙澧涚紒顔芥崌瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭濠碉紕鍋戦崐鎴﹀垂閸濆娊娲偄閻撳孩鐎梺鍦濠㈡﹢鎮欐繝鍥ㄧ厓闁告繂瀚弳娆撴偨椤栨稒宕屾慨濠傤煼瀹曟帒鈻庨幇顔哄仒闁诲氦顫夊ú婊堝极鐠囪尙鏆﹀ù鍏兼綑缁犳盯鏌℃径搴㈢《妞ゆ柨娲娲川婵犲啫鐦烽梺鍛婃礀閻忔氨绱炲Δ鍛拻濞达絽鎲＄拹锟犳煕鎼存稑锟芥繈濡撮崘顔煎窛妞ゆ牗绮堢粭澶娾攽椤旂瓔鐒惧瀛樻倐瀹曚即骞囬悧鍫濓拷鐢告煥濠靛棝顎楀ù婊呭仦閵囧嫰鍩￠崘銊ュ箣闂佸搫鐬奸崰鏍箖濠婂吘鐔兼倻閳哄倸顏虹紓鍌欒兌閸嬫捇宕曢幎钘夎Е閻庯綆鍠栨闂佸憡娲﹂崹濂稿极閸ヮ剚鐓熼柡鍐ㄧ墱濡垶銇勯幋婵嗭拷鑽ゆ閹惧瓨濯撮柛娆忣樈濞兼劙姊鸿ぐ鎺濇闁稿繑锚椤繒绱掑Ο璇差�撻梺鍏间航閸庮垶鏁撻挊澶婃殶缂佽鲸甯￠悡顒勫箵閹虹偞瀚规繝闈涱儑瀹撲線鐓崶銊р檨闁哄懏鎮傞弻銊╂偆閸屾稑顏�?,RoleId: "+invitedRoleId);
					}
					/*else if(!checkInvitedStatus(invitedRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??
						//psend(invitedRoleId, new STeamError(TeamError.SelfInUnteamState));
						Message.psendMsgNotify(invitedRoleId, TeamManager.ERROR_MSG_SELF_CANT_IN_TEAM, null);
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??,RoleId: "+invitedRoleId);
					}*/
					else if(!checkInvitedTeamFuctionEnable(invitedRoleId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炲箻濡ょ姴娲娲礈閹绘帊绨肩紒鐐緲缁夋挳鍩㈠澶婄倞闁冲搫鍟敍蹇涙⒑绾拋娼愰柛鏃�鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！缂備椒璁查弲鐘诲蓟閿濆绠抽柡鍌氥仒婢规洟姊洪棃娑欐悙閻庢凹鍨崇划璇测槈閵忊剝娅滈梺鍛婁緱閸橀箖顢欓幋婵冩斀闁绘垵娲ㄩ崚鐗堢箾鐏炲倸锟芥繈寮崘顔芥櫇闁稿本姘ㄩ鍡涙⒑缂佹◤鑲╂媰閿曪拷鍗卞Δ锝呭暞閳锋垵霉閸忚偐鎳呴柟顔笺偢閺屸剝鎷呯憴鍕拷鎰版煛娴ｈ宕岀�规洘鍔欓幃銈嗘媴閸︻厾啸濠电姷鏁搁崑娑橆嚕閸洍锟斤箓宕堕锟界粻鏌ユ煏韫囧锟芥洟鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈夋煟閿濆棙銇濇慨濠冩そ濡啫鈽夊杈╂澖闂備焦鎮堕崝蹇撯枍閿濆鏅搁柤鎭掑劤椤ｈ尙锟界櫢鎷烽柟闂寸閽冪喖鏌ｉ弮鍥仩缁炬儳鍚嬫穱濠囶敍濠靛浂浠╅梺鑽ゅ枂閸斿海妲愰幘瀛樺闁告繂瀚烽敓鑺ユ尵缁辨帡骞撻幒鎴旀寖闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�缂備礁顑嗛崝妤呭礆閹烘鍤嬮柣銏㈡暩閻﹀牓姊洪棃娑㈢崪缂佹彃澧藉☉鐢告倷椤掑倻顔曢悗鐟板閸犳牠鐛弽顓熺厽闁挎繂鎳庡Σ缁樸亜椤撴粌濮傜�规洘锕㈤弫鎰板幢濡粯绶梻鍌氬�烽懗鍓佹兜鐠轰綍锝夊川閺夋垹鐓戦梺璺ㄥ枍缁瑩寮婚妸鈺傚亜缂備焦锕╁Λ鍕⒑鐠囪尙绠茬紒璇茬墛娣囧﹪骞橀鑲╊唺闂佽鎯岄崢浠嬪磽閻㈠憡鈷戠紓浣姑慨锕傛煕閹惧鎳囨い銏℃閹虫粓宕楅崫銉х暰闂備線娼ч悧鍡椕洪妶鍛瘎闂傚倷鑳堕…鍫ヮ敄閸℃瑧鐭欓柟鎹愭硾閸ㄦ繈鏌￠崘銊﹀偍濞存粌缍婇弻鐔兼倻濡崵鍙嗙紓浣风筏缁犳垿鍩為幋锕�鐓￠柛鈩冾殘娴犳潙鈹戦悙鍙夊珔缂傚秳绀侀锝夊箮閼恒儲娅囬梺绋挎湰缁嬫捇宕㈤柆宥嗏拺闂傚牊渚楀Σ鍫曟煕閵娿儲鎯堥柍璇茬Ч瀵噣宕掑鍜冪床闂備浇顫夎ぐ鍐敄閸℃瑱鎷峰鐐
						psend(invitedRoleId, new STeamError(TeamError.SelfTeamFunctionClose));
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炲箻濡ょ姴娲娲礈閹绘帊绨肩紒鐐緲缁夋挳鍩㈠澶婄倞闁冲搫鍟敍蹇涙⒑绾拋娼愰柛鏃�鐗犺棢濠㈣埖鍔栭ˉ鍡楊熆閼搁潧濮堥柣鎾卞劜缁绘繈妫冨☉娆樻！缂備椒璁查弲鐘诲蓟閿濆绠抽柡鍌氥仒婢规洟姊洪棃娑欐悙閻庢凹鍨崇划璇测槈閵忊剝娅滈梺鍛婁緱閸橀箖顢欓幋婵冩斀闁绘垵娲ㄩ崚鐗堢箾鐏炲倸锟芥繈寮崘顔芥櫇闁稿本姘ㄩ鍡涙⒑缂佹◤鑲╂媰閿曪拷鍗卞Δ锝呭暞閳锋垵霉閸忚偐鎳呴柟顔笺偢閺屸剝鎷呯憴鍕拷鎰版煛娴ｈ宕岀�规洘鍔欓幃銈嗘媴閸︻厾啸濠电姷鏁搁崑娑橆嚕閸洍锟斤箓宕堕锟界粻鏌ユ煏韫囧锟芥洟鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈夋煟閿濆棙銇濇慨濠冩そ濡啫鈽夊杈╂澖闂備焦鎮堕崝蹇撯枍閿濆鏅搁柤鎭掑劤椤ｈ尙锟界櫢鎷烽柟闂寸閽冪喖鏌ｉ弮鍥仩缁炬儳鍚嬫穱濠囶敍濠靛浂浠╅梺鑽ゅ枂閸斿海妲愰幘瀛樺闁告繂瀚烽敓鑺ユ尵缁辨帡骞撻幒鎴旀寖闂佺懓绠嶉崹褰掑煘閹寸媴鎷烽敐搴′簻濞寸姵妞藉濠氬磼濮樺崬顤�缂備礁顑嗛崝妤呭礆閹烘鍤嬮柣銏㈡暩閻﹀牓姊洪棃娑㈢崪缂佹彃澧藉☉鐢告倷椤掑倻顔曢悗鐟板閸犳牠鐛弽顓熺厽闁挎繂鎳庡Σ缁樸亜椤撴粌濮傜�规洘锕㈤弫鎰板幢濡粯绶梻鍌氬�烽懗鍓佹兜鐠轰綍锝夊川閺夋垹鐓戦梺璺ㄥ枍缁瑩寮婚妸鈺傚亜缂備焦锕╁Λ鍕⒑鐠囪尙绠茬紒璇茬墛娣囧﹪骞橀鑲╊唺闂佽鎯岄崢浠嬪磽閻㈠憡鈷戠紓浣姑慨锕傛煕閹惧鎳囨い銏℃閹虫粓宕楅崫銉х暰闂備線娼ч悧鍡椕洪妶鍛瘎闂傚倷鑳堕…鍫ヮ敄閸℃瑧鐭欓柟鎹愭硾閸ㄦ繈鏌￠崘銊﹀偍濞存粌缍婇弻鐔兼倻濡崵鍙嗙紓浣风筏缁犳垿鍩為幋锕�鐓￠柛鈩冾殘娴犳潙鈹戦悙鍙夊珔缂傚秳绀侀锝夊箮閼恒儲娅囬梺绋挎湰缁嬫捇宕㈤柆宥嗏拺闂傚牊渚楀Σ鍫曟煕閵娿儲鎯堥柍璇茬Ч瀵噣宕掑鍜冪床闂備浇顫夎ぐ鍐敄閸℃瑱鎷峰鐐,RoleId: "+invitedRoleId);
					}
					else if(!checkInvitedInNoTeam(invitedTeamId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垿鏌熼幆鏉啃撻柡渚�浜堕幃浠嬵敍閵堝洨鐦堥悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佽鲸甯楀鍕節閸屻倖娈烘繝纰橈拷鍐茬骇闁告梹鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧顦﹂柣銈呮搐椤╁ジ濡搁妷顔藉瘜闂佸湱鍎ら崹鐔煎蓟閿斿浜滈煫鍥ㄦ尰椤ョ姷鐥幑鎰棄闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑欐償閿涘嫮顔夐梺闈涙搐鐎氫即寮崒鐐村�锋い鎺嶇劍閻︽捇姊绘笟锟藉褍螞閺冨倻鐭嗗〒姘炬嫹闁挎繄鍋涢…銊╁醇閻斿憡顏熼梻浣稿悑娴滀粙宕曢幍顔藉床闁糕剝蓱閸欏繑绻濋棃娑欘棤闁绘帞鍋撴穱濠囧矗婢跺﹤濮㈠銈庝簻閸熷瓨淇婇幆鎵杸婵鍘ч幃鍫㈢磽閸屾瑨鍏屽┑顔惧厴瀹曞綊骞侀弶鍒l闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
						TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲瀹ュ棛顩峰Δ锝呭暞閳锋垿鏌熼幆鏉啃撻柡渚�浜堕幃浠嬵敍閵堝洨鐦堥悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佽鲸甯楀鍕節閸屻倖娈烘繝纰橈拷鍐茬骇闁告梹鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧顦﹂柣銈呮搐椤╁ジ濡搁妷顔藉瘜闂佸湱鍎ら崹鐔煎蓟閿斿浜滈煫鍥ㄦ尰椤ョ姷鐥幑鎰棄闂囧鏌ㄥ┑鍡樺櫣妞ゃ儱绻橀弻娑欐償閵忋垻鐓夐梺鍝勭灱閸犳牕鐣峰▎鎾澄ч柛鈩冾殢娴硷拷?,RoleId: "+invitedTeamId);
					}
//					else if (fire.pb.buff.Module.existState(inviterRoleId, BuffConstant.StateType.STATE_INSTANCE_ZONE)) {
//						MessageMgr.sendMsgNotify(invitedRoleId, 160202, null);
//						TeamManager.logger.debug("CRespondInvite:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + inviterRoleId+")invite濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮崼婵嗙獩濡炪倖鎸炬刊顓炍ｇ憴鍕箚闁绘劦浜滈敓鑺ョ墵瀹曟繈骞嬮敃锟界壕褰掓煏閸繃鍟掗柨婵嗩槹閸ゅ鏌涜箛鎾存喐缂佺姵宀稿铏圭磼濡搫袝婵炲瓨绮嶇划鎾诲极閹剧粯鍤嶉柕澹啠鎷伴梻浣筋嚃閸燁偊宕楅悙顒侇棃鐎规洘锕㈤、鏃堝幢濞嗗繐绠氶梻鍌氬�风粈浣革耿闁秴纾块柕鍫濐槶閿熻棄鍟村畷銊╊敍濠婏拷缁楀顪冮妶鍡欏⒈闁稿鍋ら幃锟犲即閻斿墎绠氶梺闈涚墕閹冲酣寮冲▎寰濈懓顭ㄩ崱鈺傜秷婵烇絽娲ら敃顏堢嵁閹捐绠抽柡鍌氱氨閸欐椽姊绘担鍛婃儓閻炴凹鍋婂畷婵嬪箣閿曪拷缁犳牠鏌曢崼婵愭Ц缁炬儳鍚嬬换娑㈠箣閻戝洣绶垫繛瀵搞�嬮幏锟�?,濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倸螞椤撶倣娑㈠礋椤撶姷锛濇繛鎾磋壘閿曘儳锟芥艾缍婂铏圭矙閹稿孩鎷辩紓浣割儐閸旀骞戦姀銈呭耿婵☆垶鏅茬花濠氭⒑閸濆嫮袪闁告柨娴风划濠氬箻鐡掍胶鎳撻…銊╁礃閳哄嫮顢呴梻浣圭湽閸庣儤绂嶉鍫㈠祦闁糕剝鍑瑰Σ褰掓⒑缁嬫鍎嶉柛銊ょ矙瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂佽瀛╅鏍窗濡ゅ懎绠伴柧蹇ｅ亗缁诲棝鏌熼梻瀵割槮閸烆垶鎮峰鍐劯闁诡喛濮ょ换婵嗩潩椤撶姴骞楅梻浣虹帛閸旀洟顢氶銏犵柈闁哄被鍎查悡娆撴煕閹存瑥锟芥牜锟芥熬鎷�");
//					}
					else if(inviting.getTeamid() > -1)
					{
						TeamManager.logger.debug("INFO:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插鐢盯鏌￠崨鐗堢【闁宠棄顦垫慨锟介柨娑樺鐢姊婚崒娆戭槮闁诲繑绻堥、鏍幢濡ゅ啯娈鹃悗鐧告嫹闁告洦鍓涢崢鎼佹倵閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮�ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灠閹碱偆鐥椤法鎹勯崫鍕典純闂佸搫鐭夌紞渚�鐛Ο鍏煎磯闁绘垶顭囨禍顏堟⒒娴ｅ憡鎯堥柡鍫墮鐓ゆ俊顖氬悑瀹曞弶绻涢幋娆忕仼闁搞劌鍊归妵鍕籍閸屾艾浠樺銈庡亝閹哥粯绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮撮悘鑽ゆ嚀椤繄鎹勯搹鍦幀闂備礁鎲￠崝锕傚窗閺嶎厽瀚呴柣鏂挎憸缁犻箖鏌熺�电浠ч柟鍐叉噽缁辨帡鍩ラ崨顔碱伓闂傚倸鍊烽懗鍫曗�﹂崼銏″仏妞ゆ劧绠戠壕褰掓煛閸ャ儱鐏╃紒锟介崼銉︾厵闁诡垱婢樿闂佹娊鏀遍崹鍧楀蓟閿濆鍋勯柛娑橈功閸戔�斥攽閻愯尙澧愰柡鍛█瀵鎮㈤悡搴ｎ槱闂侀潧鐗嗗Λ妤咁敂閿燂拷?,TeamId: "+inviterTeamId);
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插鐢盯鏌￠崨鐗堢【闁宠棄顦垫慨锟介柨娑樺鐢姊婚崒娆戭槮闁诲繑绻堥、鏍幢濡ゅ啯娈鹃悗鐧告嫹闁告洦鍓涢崢鎼佹倵閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮�ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灠閹碱偆鐥椤法鎹勯崫鍕典純闂佸搫鐭夌紞渚�鐛Ο鍏煎磯闁绘垶顭囨禍顏堟⒒娴ｅ憡鎯堥柡鍫墮鐓ゆ俊顖氬悑瀹曞弶绻涢幋娆忕仼闁搞劌鍊归妵鍕籍閸屾艾浠樺銈庡亝閹哥粯绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮撮悘鑽ゆ嚀椤繄鎹勯搹鍦幀闂備礁鎲￠崝锕傚窗閺嶎厽瀚呴柣鏂挎憸缁犻箖鏌熺�电浠ч柟鍐叉噽缁辨帡鍩ラ崨顔碱伓闂傚倸鍊烽懗鍫曗�﹂崼銏″仏妞ゆ劧绠戠壕褰掓煛閸ャ儱鐏╃紒锟介崼銉︾厵闁诡垱婢樿闂佹娊鏀遍崹鍧楀蓟閿濆鍋勯柛娑橈功閸戔�斥攽閻愯尙澧愰柡鍛█瀵鎮㈤悡搴ｎ槱闂侀潧鐗嗗Λ妤咁敂閿燂拷?
						xbean.TeamInfo teamInfo = xtable.Team.get(inviterTeamId);
						if(!checkInviterTeamExist(teamInfo))
						{
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锔诲灦椤㈡岸顢橀悢铏瑰骄闂佸搫娲㈤崹娲吹閹烘鐓忛柛顐ｇ箘缁犳煡鎮楀鎰佹綈妞ゃ劊鍎甸幃娆撴嚑椤戣儻妾搁梻浣告啞濮婂湱鍠婂澶娢﹂柛鏇ㄥ灡閺呮粓鏌涢…鎴濇灈缂佷緡鍣ｉ幃妤冩喆閸曨剛顦ㄥ┑鐐插级閻楃娀銆佸锟藉畷妤呮偂鎼达絿鐛梺璇插嚱缂嶅棝宕滃▎鎾跺祦闁割偁鍎查埛鎺懨归敐鍛暈闁诡垰鐗婄换娑氫沪閸屾氨浼堥悗瑙勬礃缁诲倿鎮惧┑瀣妞ゆ帪鎷烽柨鐔绘閻栧ジ寮婚妸銉㈡婵☆垯璀︽禒楣冩⒑缁嬫鍎愰柣妤侇殘閹广垹鈹戠�ｎ偒妫冨┑鐐村灦閻熴儳绮ｅ☉姘辩＝濞达絽鎼埢鍫㈢磼閻樺磭澧垫鐐插暙铻栭柛娑卞枛娴犲搫鈹戦悙鑼ⅲ婵炲娲熷畷婵嬪箹娴ｅ湱鍘介梺闈涚箚閺呮盯鎮橀悩宸唵鐟滃秴霉瀹勬嫈锝夊箛閺夎法顔婇梺瑙勫劤绾绢厾绮ｉ悙鐑樼厽閹兼惌鍨崇粔鐢告煕鐎ｎ亜顏�规洦鍓氬鍕箛椤撶儑鎷烽悽鍛婂仭婵炲棗绻愰顏嗙磼閿熶粙宕橀鐣屽幗闂佺粯鏌ㄥ璺衡枍婵犲嫸鎷峰▓鍨珮闁稿瀚伴、姗�宕楅悡搴ｇ獮婵犵數濮寸�氬嘲危鐟欏嫪绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掞拷閸ㄦ棃鎮楅棃娑欏暈妞ゎ偅娲熼弻锛勪沪鐠囨彃濮曢梺鎶芥敱鐢帡鍩為幋锔藉亹闁哄被鍎洪敓鑺ヮ殔闇夋繝濠傚閻绱掔紒妯笺�掗柟椋庡Ь椤︽挳鏌ｉ敐鍛粵闁靛洤瀚版慨锟介柍銉ュ暱閹介潧螖閻橀潧浠﹂柨鏇樺灲閵嗕礁鈻庨幘鏉戞異闂佸啿鎼敃銈夊极閽樺鏀介柣妯垮皺濡嫰鏌℃径濠傜殹闁归鏌夐ˇ瑙勵殽閻愯尙绠婚柟顔界矒閹崇偤濡疯楠炴劙姊虹拠鎻掑毐缂傚稄鎷烽梺绯曟櫆閻楁粓鏁撻懞銉у暡闁瑰嚖鎷�?
							psend(invitedRoleId, new STeamError(TeamError.InviterTeamNotExist));
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊冪埣瀵偊宕堕浣哄帾闂婎偄娲﹀ú鏍ф毄闂備礁鎲＄换鍐�冩繝鍌ゆ綎缂備焦顭囬悷褰掓煕閵夋垵鍠氬鑽ょ磽閸屾瑧顦︽い锔诲灦椤㈡岸顢橀悢铏瑰骄闂佸搫娲㈤崹娲吹閹烘鐓忛柛顐ｇ箘缁犳煡鎮楀鎰佹綈妞ゃ劊鍎甸幃娆撴嚑椤戣儻妾搁梻浣告啞濮婂湱鍠婂澶娢﹂柛鏇ㄥ灡閺呮粓鏌涢…鎴濇灈缂佷緡鍣ｉ幃妤冩喆閸曨剛顦ㄥ┑鐐插级閻楃娀銆佸锟藉畷妤呮偂鎼达絿鐛梺璇插嚱缂嶅棝宕滃▎鎾跺祦闁割偁鍎查埛鎺懨归敐鍛暈闁诡垰鐗婄换娑氫沪閸屾氨浼堥悗瑙勬礃缁诲倿鎮惧┑瀣妞ゆ帪鎷烽柨鐔绘閻栧ジ寮婚妸銉㈡婵☆垯璀︽禒楣冩⒑缁嬫鍎愰柣妤侇殘閹广垹鈹戠�ｎ偒妫冨┑鐐村灦閻熴儳绮ｅ☉姘辩＝濞达絽鎼埢鍫㈢磼閻樺磭澧垫鐐插暙铻栭柛娑卞枛娴犲搫鈹戦悙鑼ⅲ婵炲娲熷畷婵嬪箹娴ｅ湱鍘介梺闈涚箚閺呮盯鎮橀悩宸唵鐟滃秴霉瀹勬嫈锝夊箛閺夎法顔婇梺瑙勫劤绾绢厾绮ｉ悙鐑樼厽閹兼惌鍨崇粔鐢告煕鐎ｎ亜顏�规洦鍓氬鍕箛椤撶儑鎷烽悽鍛婂仭婵炲棗绻愰顏嗙磼閿熶粙宕橀鐣屽幗闂佺粯鏌ㄥ璺衡枍婵犲嫸鎷峰▓鍨珮闁稿瀚伴、姗�宕楅悡搴ｇ獮婵犵數濮寸�氬嘲危鐟欏嫪绻嗛柣鎰典簻閿熻姤鐗犻獮鎰版倷椤掞拷閸ㄦ棃鎮楅棃娑欏暈妞ゎ偅娲熼弻锛勪沪鐠囨彃濮曢梺鎶芥敱鐢帡鍩為幋锔藉亹闁哄被鍎洪敓鑺ヮ殔闇夋繝濠傚閻绱掔紒妯笺�掗柟椋庡Ь椤︽挳鏌ｉ敐鍛粵闁靛洤瀚版慨锟介柍銉ュ暱閹介潧螖閻橀潧浠﹂柨鏇樺灲閵嗕礁鈻庨幘鏉戞異闂佸啿鎼敃銈夊极閽樺鏀介柣妯垮皺濡嫰鏌℃径濠傜殹闁归鏌夐ˇ瑙勵殽閻愯尙绠婚柟顔界矒閹崇偤濡疯楠炴劙姊虹拠鎻掑毐缂傚稄鎷烽梺绯曟櫆閻楁粓鏁撻懞銉у暡闁瑰嚖鎷�?,TeamId: "+inviterTeamId);
						}
						else if(!checkTeamInvitingValid(teamInfo, invitedRoleId))
						{
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閻绱炴笟锟介悰顕�骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇划宥囷拷闈涖偢閹晝绱掑Ο鐓庡箞闂備礁鎼ú銏ゅ礉鐏炲墽顩叉繝闈涙川缁犻箖鏌涢锝囩畺闁诡垰鐗婇妵鍕敂閸曨偅娈绘繝纰橈拷宕囧煟鐎规洖宕灒闂佸灝顑呴鎼佹⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯囬敓钘夊暣瀹曘劑顢橀悙鐐瑰亽闂傚倸鍊风粈浣虹礊婵犲洤纾诲┑鐘叉搐缁�鍫ユ煥閺囩偛锟藉綊宕愰悽鍛婄厱妞ゆ劧绲剧粈鍐煕婵犲嫭鏆柡灞剧洴閺佸倻鎷犻幓鎺旑啈闂佽绻愮换鎺戔枍濠曨摟l闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閻绱炴笟锟介悰顕�骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇换鍫濈暦閹达箑鍐�妞ゆ挾鍠庨敓钘夌仛缁绘盯骞嬮悜鍡曠棯濡炪倕绻愰悧婊堝极閸岀偞鐓ラ柣鏇炲�圭�氾拷?,TeamId: "+inviterTeamId);
						}
						
						else if(!checkTeamNotFull(teamInfo)){
							MessageMgr.psendMsgNotify(invitedRoleId, 145740, null);
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆戝幘闂佸綊妫块悞锕�鈽夎閳规垿顢欓崗鐓庢灎闂佸搫鐭夌粻鎾崇暦濮楋拷椤㈡棃宕熼鍌欓偗闂傚倷绀侀幖顐︽儗婢跺瞼绀婂ù锝呭閸ゆ洘銇勯幒鎴濐仼闁搞劌鍊归妵鍕籍閸ヮ煈妫勯梺璺ㄥ枔閻℃棃宕圭捄渚綎婵炲樊浜滅粻顕�鏌ら幁鎺戝姕闁哄棛濞�濮婃椽宕烽鐔锋畬濠电偛妯婇崢濂割敋閿濆棛绡�婵﹩鍘藉▍婊勭節閵忥絾纭鹃柨鏇樺劦钘熸繝闈涱儐閳锋垿鏌涢幘鐟扮毢闁告ɑ鐩弻娑㈡晲鎼粹剝鐝濋悗娈垮枟婵炲﹥鎱ㄩ敓浠嬫煏韫囧鐏柨娑欑箖缁绘盯骞樼壕瀣棟闂佹寧娲忛崕鎶芥晸閼恒儰浜㈡い顐㈩槺閹广垹鈹戠�ｎ偄浠洪梻鍌氱墛閸掞拷闁靛繒濡磋ぐ鎺撳亗閹兼番鍨瑰▓妤呮⒑鐠団�虫灓闁稿繑锕㈠濠氬炊椤掍焦娅嗛梺璇″瀻閸愨晞绶㈤梻鍌氬�搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ㄥ磼閵娾晜鐓曢煫鍥ㄧ♁閿涚喓绱掔拠鍙夘棡缂佺粯绋戦蹇涱敊閼姐倕鍤梻浣瑰▕閺�閬嶅垂閸ф钃熸繛鎴炃氶弨浠嬫煕閳╁喚娈㈠ù鐘冲劤椤啴濡堕崘銊ュБ婵犵數鍎戦幏鐑芥⒑閸濆嫭婀伴柣鈺婂灦楠炲啴鍩￠崨顓℃憰闂侀潧顦崕閬嶅矗婵犲啩绻嗛柣鎰典簻閿熻姤鍨垮畷鐟懊洪鍛画闂侀潧臎閸涱剛鐟濇繝鐢靛仦閸ㄦ儼褰滃┑鈩冨絻閻楀﹥绌辨繝鍥舵晬婵犻潧妫斿Ч妤呮⒑閸涘渚涢柛鎾寸懇閸╃偤骞嬮敂钘変汗濡炪倖妫侀崑鎰閸パ�鏀介柣鎰▕濡插綊鏌ｉ埡濠傜仸鐎殿噮鍋婂畷姗�顢欓崲澹洦鐓曟い鎰剁秬婢规鎲哥敮顔藉
							psend(invitedRoleId, new STeamError(TeamError.TeamFull));
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞妞ゆ帒顦伴弲顏堟偡濠婂啰绠婚柟宕囧仱閺屽棗顓奸崱妤佺暟闂備礁鐤囧銊╂嚄閸撲胶椹抽煫鍥ㄦ⒒缁★拷闂佹眹鍨藉褎鐗庨梻浣虹帛濡繘宕滃☉姘潟闁绘劕鎼崘锟介悷婊勭矒閹垽宕卞☉娆戝幘闂佸綊妫块悞锕�鈽夎閳规垿顢欓崗鐓庢灎闂佸搫鐭夌粻鎾崇暦濮楋拷椤㈡棃宕熼鍌欓偗闂傚倷绀侀幖顐︽儗婢跺瞼绀婂ù锝呭閸ゆ洘銇勯幒鎴濐仼闁搞劌鍊归妵鍕籍閸ヮ煈妫勯梺璺ㄥ枔閻℃棃宕圭捄渚綎婵炲樊浜滅粻顕�鏌ら幁鎺戝姕闁哄棛濞�濮婃椽宕烽鐔锋畬濠电偛妯婇崢濂割敋閿濆棛绡�婵﹩鍘藉▍婊勭節閵忥絾纭鹃柨鏇樺劦钘熸繝闈涱儐閳锋垿鏌涢幘鐟扮毢闁告ɑ鐩弻娑㈡晲鎼粹剝鐝濋悗娈垮枟婵炲﹥鎱ㄩ敓浠嬫煏韫囧鐏柨娑欑箖缁绘盯骞樼壕瀣棟闂佹寧娲忛崕鎶芥晸閼恒儰浜㈡い顐㈩槺閹广垹鈹戠�ｎ偄浠洪梻鍌氱墛閸掞拷闁靛繒濡磋ぐ鎺撳亗閹兼番鍨瑰▓妤呮⒑鐠団�虫灓闁稿繑锕㈠濠氬炊椤掍焦娅嗛梺璇″瀻閸愨晞绶㈤梻鍌氬�搁崐椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ㄥ磼閵娾晜鐓曢煫鍥ㄧ♁閿涚喓绱掔拠鍙夘棡缂佺粯绋戦蹇涱敊閼姐倕鍤梻浣瑰▕閺�閬嶅垂閸ф钃熸繛鎴炃氶弨浠嬫煕閳╁喚娈㈠ù鐘冲劤椤啴濡堕崘銊ュБ婵犵數鍎戦幏鐑芥⒑閸濆嫭婀伴柣鈺婂灦楠炲啴鍩￠崨顓℃憰闂侀潧顦崕閬嶅矗婵犲啩绻嗛柣鎰典簻閿熻姤鍨垮畷鐟懊洪鍛画闂侀潧臎閸涱剛鐟濇繝鐢靛仦閸ㄦ儼褰滃┑鈩冨絻閻楀﹥绌辨繝鍥舵晬婵犻潧妫斿Ч妤呮⒑閸涘渚涢柛鎾寸懇閸╃偤骞嬮敂钘変汗濡炪倖妫侀崑鎰閸パ�鏀介柣鎰▕濡插綊鏌ｉ埡濠傜仸鐎殿噮鍋婂畷姗�顢欓崲澹洦鐓曟い鎰剁秬婢规鎲哥敮顔藉,TeamId: "+inviterTeamId);
						}
						else if(isLeaderInDuel(teamInfo.getTeamleaderid()))
						{
							// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�? by changhao
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?,TeamId: "+inviterTeamId);
						}else if(checkMap(teamInfo.getTeamleaderid(), invitedRoleId)){
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅鐢告⒑閸濆嫮鐒跨紓宥勭窔閵嗕礁顫滈敓浠嬪箖閵堝棙濯撮柛锔诲幗濞堥箖姊婚崒娆戠獢婵炰匠鍏犳椽濡堕崶閿嬪婵﹩鍘界欢鍙夈亜閺囶亞绋荤紒鍌涘笧閿熸枻缍嗛敓绛嬪幐閺呮繈骞夐崨濠冨劅闁靛鍎靛Λ鐑芥⒑闂堟冻绱￠柛娑卞灲缁卞啿鈹戦悙鑸靛涧缂傚秳绀侀…鍥槼濞ｅ洤锕ょ叅妞ゅ繐鎳愰崢鍗炩攽鎺抽崐鎾剁矆娓氾拷閸┿垽寮撮悪鍛婵炲牆鐏濋弸锔姐亜閺囧棗娲ら悡鈥愁熆閼搁潧濮囨い顐㈡嚇閺岋絽螣閸忓吋姣勫┑鐐靛帶椤﹂潧顫忕紒妯诲濞撴凹鍨抽崝鎼佹⒑閸濆嫮澧遍柛鎾跺枛閵嗕礁顫濈捄铏诡啋濡炪倖姊婚埛鍫濐焽婵犲洦鈷戦梻鍫熺〒婢ф洘淇婇锝囨创鐎规洏鍨藉畷锟犳倷閳哄倹鏉搁梻浣虹帛閸旀洖顕ｉ崼鏇�澶婎煥閸涱垳锛滅紓鍌欑劍閿氶柣蹇旀尦閹稿﹪鎮㈤崗鑲╁幗闂佸綊鍋婇崜锕傚吹閻旇櫣纾奸柣妯垮吹閻ｆ椽鏌＄仦璇诧拷娑㈠Φ閹版澘绠抽柟瀛樼矊閺嬪牓姊绘担瑙勫仩闁稿﹥鐗犻幃鐑藉煛閸涱叀鎽曢悗骞垮劚濞诧妇锟芥碍宀搁弻鐔虹磼濡桨鍒婇梺鍛婃煥椤﹂潧顫忛搹瑙勫珰闁炽儱纾禒顓炩攽閳藉棗浜滈柛鐕佸灡缁岃鲸绻濋崶褏顔愭繛杈剧秬閸婁粙濡搁埡鍌滃弳闂佸搫鍟崐鍛婄閻愵剛绡�闁靛繆鍓濆畷灞炬叏婵犲偆鐓肩�规洘甯掗～婵嬵敆婵犲啫顏舵俊鐐差儏濞寸兘鎯岄崱妞硷拷鎺戭潩閻愵剙顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠撻弲顐ｇ珶閺囥垹鎹舵い鎾跺Х閿涙繃绻涙潏鍓хК闁稿鍊块獮瀣攽閸愨晝锟芥椽姊虹紒妯忣亪宕㈤弽顐ｅ床闁糕剝绋掗悡蹇涙煕椤愶絿绠栭柛锝嗘そ閺屾盯鏁愰崨顖溞ㄩ梺鍝勬湰閻╊垱淇婇幖浣肝ㄩ柕澶樺灡鐎氬湱鎲搁悧鍫濈瑨缂佺姷鍋ら弻鏇熺箾閸喖澹旈梺缁樻⒒閸樠呯不娴兼潙绠归弶鍫濆⒔缁佺兘鏌ㄩ悢璇残撻柛鏃�鐟╅獮鍐ㄎ旈崟鈺�姹楅梺鍦劋閹稿嘲顫濋敃鍌涒拺闁荤喐婢樺▓鈺呮煙閸戙倖瀚�?
							Team team = new Team(inviterTeamId,false);
							TeamManager.logger.debugWhileCommit("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅鐢告⒑閸濆嫮鐒跨紓宥勭窔閵嗕礁顫滈敓浠嬪箖閵堝棙濯撮柛锔诲幗濞堥箖姊婚崒娆戠獢婵炰匠鍏犳椽濡堕崶閿嬪婵﹩鍘界欢鍙夈亜閺囶亞绋荤紒鍌涘笧閿熸枻缍嗛敓绛嬪幐閺呮繈骞夐崨濠冨劅闁靛鍎靛Λ鐑芥⒑闂堟冻绱￠柛娑卞灲缁卞啿鈹戦悙鑸靛涧缂傚秳绀侀…鍥槼濞ｅ洤锕ょ叅妞ゅ繐鎳愰崢鍗炩攽鎺抽崐鎾剁矆娓氾拷閸┿垽寮撮悪鍛婵炲牆鐏濋弸锔姐亜閺囧棗娲ら悡鈥愁熆閼搁潧濮囨い顐㈡嚇閺岋絽螣閸忓吋姣勫┑鐐靛帶椤﹂潧顫忕紒妯诲濞撴凹鍨抽崝鎼佹⒑閸濆嫮澧遍柛鎾跺枛閵嗕礁顫濈捄铏诡啋濡炪倖姊婚埛鍫濐焽婵犲洦鈷戦梻鍫熺〒婢ф洘淇婇锝囨创鐎规洏鍨藉畷锟犳倷閳哄倹鏉搁梻浣虹帛閸旀洖顕ｉ崼鏇�澶婎煥閸涱垳锛滅紓鍌欑劍閿氶柣蹇旀尦閹稿﹪鎮㈤崗鑲╁幗闂佸綊鍋婇崜锕傚吹閻旇櫣纾奸柣妯垮吹閻ｆ椽鏌＄仦璇诧拷娑㈠Φ閹版澘绠抽柟瀛樼矊閺嬪牓姊绘担瑙勫仩闁稿﹥鐗犻幃鐑藉煛閸涱叀鎽曢悗骞垮劚濞诧妇锟芥碍宀搁弻鐔虹磼濡桨鍒婇梺鍛婃煥椤﹂潧顫忛搹瑙勫珰闁炽儱纾禒顓炩攽閳藉棗浜滈柛鐕佸灡缁岃鲸绻濋崶褏顔愭繛杈剧秬閸婁粙濡搁埡鍌滃弳闂佸搫鍟崐鍛婄閻愵剛绡�闁靛繆鍓濆畷灞炬叏婵犲偆鐓肩�规洘甯掗～婵嬵敆婵犲啫顏舵俊鐐差儏濞寸兘鎯岄崱妞硷拷鎺戭潩閻愵剙顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠撻弲顐ｇ珶閺囥垹鎹舵い鎾跺Х閿涙繃绻涙潏鍓хК闁稿鍊块獮瀣攽閸愨晝锟芥椽姊虹紒妯忣亪宕㈤弽顐ｅ床闁糕剝绋掗悡蹇涙煕椤愶絿绠栭柛锝嗘そ閺屾盯鏁愰崨顖溞ㄩ梺鍝勬湰閻╊垱淇婇幖浣肝ㄩ柕澶樺灡鐎氬湱鎲搁悧鍫濈瑨缂佺姷鍋ら弻鏇熺箾閸喖澹旈梺缁樻⒒閸樠呯不娴兼潙绠归弶鍫濆⒔缁佺兘鏌ㄩ悢璇残撻柛鏃�鐟╅獮鍐ㄎ旈崟鈺�姹楅梺鍦劋閹稿嘲顫濋敃鍌涒拺闁荤喐婢樺▓鈺呮煙閸戙倖瀚�?(闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劖銇勯幇闈涘閻庢艾缍婇弻銊╁即閻愯鎷烽幖浣瑰�峰┑鐘插暔娴滄粓鏌熼搹鐟颁沪閻庢艾婀辩槐鎾存媴閻熸澘顫嶅銈冨妼閿曨亜顕ｆ繝姘亜闁稿繗鍋愰崝鐑芥⒑閹稿孩绌块柟宄板槻椤儻顦叉い顓犲厴瀵鏁愭径濠勵唺閻庡箍鍎卞ú銊╂偂閹剧粯鈷戦柛婵嗗閻掕法绱撳鍕妽闁逛究鍔戦弫鎾寸鐎ｎ偆鍘藉┑鈽嗗灠閹碱偊寮抽柆宥嗙厸闁糕剝顨堟晶锔芥叏婵犲懏顏犵紒顔界懇瀹曠螖婵犲繑瀚规俊銈呭暟绾剧厧顭跨捄鐚村姛缂佸娅ｉ敓鑺ヮ問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佺粯蓱瑜板啰绮婇锟藉缁樼瑹閿熻棄顭囪閳ワ箓宕奸妷銉э紵闂佹儳娴氶崑鍡涖�呴柨瀣ㄤ簻闁规儳宕悘顏堟煕鐎ｎ剙校闁逛究鍔岄～婊堝幢濡わ拷缁犺崵绱撴担鍝勑ｉ柣妤佺矌濡叉劙骞掗弮鍌滐紲濠碘槅鍨伴惃宄邦瀶閵娿儮鏀介柣鎰版涧鐢墎绱掔紒姗堣�挎鐐插暙閳诲酣骞欓崘鈺傛珜闂備浇娉曢崰宥囧垝濞嗘挶锟戒線寮崼鐔告闂佽法鍣﹂幏锟�?),TeamId: "+inviterTeamId);
							boolean ok = team.addNewMemberWithSP(invitedRoleId);
							//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戙垹绠婚悗闈涙啞閸掓稑顪冮妶鍐ㄧ仾闁挎岸鎮￠妶鍡愪簻闊洦鎸婚崳鎶芥煙闁垮銇濋柟顔煎槻椤劑宕ㄩ褎姣夐梺姹囧焺閸ㄨ京鏁Δ鍐焿鐎广儱妫楅閬嶆倵濞戞瑯鐒介柛姗�浜跺铏规喆閸曨偄濮㈠銈嗘处閸欏啴鐛繝鍥х倞妞ゆ帊鑳堕崣鍡椻攽閻樼粯娑ч柣妤�妫欑粋鎺楁焼瀹ュ棛鍘靛銈嗘椤鈻嶉崶鈺冪＜閺夊牄鍔岀粭鎺楁懚閿濆鐓熼柟鐐▕椤庢绱掗悩闈涗槐婵﹤顭峰畷鎺戭潩閼测晛褰嗛梻浣侯焾椤戝懐锟芥凹鍓涢崣鍛存⒑闂堟稓澧曟い锔跨矙瀵偊宕熼娑氬幈濠电偞鍨堕悷锔剧礊閹寸姷纾奸柨鐔诲Г瀵板嫰骞囬鐘插汲闂備礁鎼崰娑㈠箯閻戣姤鐓曢柕濠忓缁犳﹢鏌熼獮鍨伈鐎规洖宕埥澶娾枎韫囧骸瀵查梻鍌欑劍閹爼宕曢崡鐏绘椽濡舵径濠勭枃闂佸湱澧楀妯盒ч弻銉︾厪闁割偅绻嶅Σ褰掓煕婵犲倻浠涚紒缁樼洴瀹曠厧鈹戦崼婊嗘闂備礁鎼鍡欑矙閹烘桅闁告洦鍨奸弫鍥煏韫囧﹤澧查柡鍡欏У缁绘盯鏁愰崨顔芥倷闂佹寧娲︽禍顏堢嵁閸愵喖閿ゆ俊銈咃攻閺咁剟姊洪幐搴ｇ畵闁哄苯锕、鏃堝幢濞嗘埊绱抽梻浣侯焾閺堫剟鎮烽妸鈺佺閻忕偠袙閺�鑺ャ亜閺冨倸浜鹃柡鍡╁墴閺岀喖顢欓幆褍骞嬮梺绯曟櫔缁绘繂鐣烽妸鈺婃晣闁斥晛鍟崯娲⒒閸屾瑦绁版繛澶嬫礋瀹曚即骞樼�涙ê寮块柣搴ㄦ涧閹芥粓鎯岄崱娑欏�甸柨婵嗛閺嬬喖鏌嶉柨瀣诞闁哄本鐩、鏇㈠Χ閸涱喚浜栭梻渚�娼уΛ娆戞暜閹烘绠掗梻浣虹帛閿曗晠宕戦崨顓涙瀺濠电姴鍟崣蹇撯攽閻樺弶鍣烘い蹇曞█閺岀喐顦版惔鈾�鏋呴梺鎼炲妽閸庢娊鎮鹃悜钘夌倞闁挎棁妫勯悡鏇犵磽閸屾艾锟芥悂宕愬畡鎳婂綊宕堕锟介弰銉╂煛瀹ュ骸骞楅柛銈呯焸閺岀喓鎲撮崟顐㈩潕婵炲瓨绮撴禍璺侯潖缂佹ɑ濯撮柤鎭掑劤閵嗗﹪姊洪棃鈺冪Ф缂佺姵鎹囬悰顔跨疀濞戞瑦娅㈤梺璺ㄥ櫐閹凤拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙宕濋幒鎾剁鐎瑰壊鍠曠花鑽ょ磼閻欏懐绉柡灞诲姂瀵噣宕堕…鎴烆棄闂備浇娉曢崰鏇炍涢崟顐劷闁跨喓濮撮拑鐔兼煏婵炵偓娅呯紒顐㈢Ч閺屾盯濡烽鎯у弗濠碘槅鍋勭�氭澘顫忓ú顏勭闁绘劖褰冮‖澶娾攽閳藉棗浜滈柛鐔告綑椤曪絾绻濆顓熸珳婵犮垼娉涢敃锕傤敇濞差亝鈷戠紓浣姑悘銉︿繆椤愶絿娲寸�规洘绻傞悾锟犳焽閿旇棄鐦滈梻渚�娼ч悧鍡涘磹閻熸壋鏋嶉柛銉墯閻撴洟鐓崶銊︻棖闁兼媽娉曢敓鑺ヮ問閸犳牠鈥﹂悜钘夊瀭闁诡垎鍛闂佹悶鍎崝宥夘敊閹剧繝绻嗛柣鎰典簻閿熻姤鐗曢～蹇旂節濮橆剙鍋嶉悷婊勬煥椤曪綁骞庨懞銉ヤ簻闂佺绻楅崑鎰板储閸楃偐鏀介柍钘夋閻忋儲銇勯弴鍡楀幘瑜版帩鏁婇柤鎭掑劚瀵寧绻濋悽闈浶㈤柛瀣閹繝鎳栭埡瀣閻熸瑥瀚粈鍐偨椤栨稑娴柨婵堝仜閳规垹锟斤絽鐏氶弲銏＄箾鏉堝墽绉い鏇熺墵瀹曨垶鏁撴禒瀣拻闁稿本鑹鹃敓浠嬵棑缁牊绗熼敓浠嬬嵁濡わ拷椤劑宕熼锟藉鍧楁⒑濮瑰洤鐏╅柟璇х節瀹曟垹锟斤綆鍠楅悡鐔镐繆椤栨粌鍔嬮柍缁樻礋閺屾盯濡堕崱妯碱槹闂佸搫鐬奸崰鏍嵁閸℃稑绾ч柛鐔峰暞閹瑰洭寮婚敐澶婄闁哄洨鍋樺Ч妤呮⒑鐠恒劌鏋欐俊顐㈠缁顓兼径濠勶紵闂備緡鍓欑粔瀵哥不閻樼粯鐓欓柟娈垮枛椤ｅジ鏌涙惔銏″磳闁哄本鐩鎾Ω閵夈儺娼剧紓鍌欒兌婵烇拷缂佺姵鐗曢锝夊醇閺囩偤鍞跺┑鐘绘涧濡矂骞愰崘顔解拺閻犲洠锟借櫕鐏堥梺闈涚墛閹倸顕ｆ繝姘櫢闁绘ê寮堕妵婵囩箾鏉堝墽绉柡鍛叀瀹曠増绻濋崶銊㈡嫼闁荤姴娲犻敓鍊熸珪閻忔捇姊烘潪鎵槮妞ゎ厼鍢查锝夘敃閿曪拷缁犺崵绱撴担鑲℃垵鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚� by changhao
							if (ok)
							{
								boolean iscruise = checkCruiseWhenInvited(invitedRoleId);
								if(iscruise){
									//闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊蹇涙偂閵夆晜鐓熼柡鍐ㄥ�搁崝瀣箾閸涱喗绀堢紒杈ㄥ笚濞煎繘濡搁妷锕佺檨婵°倗濮烽崑娑樏洪鈧拷浣肝熷▎鐐梻浣风串缂嶄線藟閹捐埖顫曢柟鎯х摠婵挳鏌ц箛鏇熷殌缂佹绻濆娲倻閳哄倹鐝﹂梺鎼炲妼閻栧ジ骞冩导鎼晩缁炬媽椴稿娲⒑鐠恒劌鏋嶇紒顔界懇閻涱噣寮介鍙ユ睏闂佸湱鍎ょ换鍐疾濠靛鈷戦柟绋挎捣缁犳捇鏌熼崘鑼闁诡喗顨婇幃娆擃敆閸屾粎妲囬梻浣圭湽閸ㄨ棄顭囪閻楀孩淇婇悙顏勶拷鏍ь潖瑜版帗鍋嬮柣妯垮皺閺嗭箓鏌℃径搴殾闁哄啫鐗嗗婵囥亜閹捐泛啸闁哄棭鍋婂缁樻媴娓氼垳鍔搁梺娲诲墮閵堢鐣烽幋锔藉亜濡炲瀛╁▓鍏肩箾閹惧鍟查柟椋庡厴閺岋紕浠︾拠鎻掝潎闂佽鍠撻崐婵嗙暦閹烘垟妲堟慨妤�妫旂槐锟�?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁嬫妫岄梺绋款儎缁舵艾鐣烽弴鐔哥秶闁宠桨绶″Λ婊堟⒑缁夊棗瀚峰▓鏇㈡煃闁垮娴柡灞剧洴椤㈡洟濡堕崨顔撅拷濠氭⒑閸涘鐒介柛蹇旓耿瀵濡搁妷銏℃杸闂佺硶妾ч弲婊勬櫏闂傚倷绀侀幖顐﹀箠韫囨洘宕查柛顐犲劚閽冪喐绻涢幋鐐电叝婵炲矈浜弻娑樷枎瀹ュ懎濮嶉柣搴㈢▓閺呯娀骞冪捄渚僵妞ゆ挾濮烽悿鍕攽椤旂》榫氭繛鍜冪到閳藉鎮界粙鍨獩濡炪倖鎸嗛崟鍨棈闂傚倸鍊峰ù鍥綖婢跺娓婚柟绋挎捣椤╂煡鏌ｉ幇顒佲枙闁搞倖顨呴埞鎴︽偐閸欏顦╅梺鎼炲�曠�氼參濡甸崟顖氬唨妞ゎ厼顑囬崢褎鏅ュ┑掳鍊曢幊蹇涘磹閻㈠憡鐓熺憸宥夊箟閿涘嫸鎷峰顒傜Ш婵﹥妞藉畷銊︾節閸愵煈妲遍梻浣告啞閹稿鎯勯姘辨殾闁靛繈鍊曠涵锟介梺缁樺姀閺呮粓寮敓浠嬫⒑閸︻厼鍔嬪┑鐐诧工閻ｇ兘骞囬弶鍨祮闂佺粯鐟ラ幊蹇曪拷姘愁潐閹便劌螣閻撳骸浠橀悗娈垮櫘閸ｏ綁寮婚悢纰辨晩闁绘劦鍓氬В鍫濐渻閵堝啫鐏俊顐㈠暙閻ｇ兘濡搁埡濠冩櫖濠电姴锕ゆ鎼佸疾椤撱垺鈷掗柛灞剧懅椤︼箑顭块悷甯含鐎规洘鍨垮畷銊╊敍濞戞ê绨ラ梻浣告啞濞诧箓宕㈤悙顒傗枖鐎广儱娴勯幏椋庢喆閸曨剛顦ュ┑鐐茬湴閸斿孩绔熼弴銏犵缂佹妗ㄧ花濠氭⒑閸濆嫬鏆欓柛濠勬暬楠炲繘鏁撻悩宕囧幈闁瑰吋鐣崹瑙勬叏瀹ュ鐓欐い鏃傜摂濞堟粓鏌熼鑽ょ煓婵☆偄鍟埥澶娢熼崷顓炵闂傚倸鍊风粈渚�鎮块崶顒夋晪鐟滄棃寮绘繝鍥ㄦ櫜濠㈣泛鑻粊锕傛煟鎼搭垳绉甸柛鐘愁殜瀹曟垿骞嬮敂鐣屽幈濠电偞鍨靛畷顒勬倶閻樼數纾兼い顓熷笚鐎氾拷
									new PAbsentReturnTeam(invitedRoleId, 1).call();
								} else {
									int ret = TeamManager.getInstance().execGotoLeader(invitedRoleId, team, true, 2);
									if (ret == 0)
									{
										xbean.Properties invitedprop = xtable.Properties.get(invitedRoleId);
										
										List<String> params = new ArrayList<String>();
										params.add(invitedprop.getRolename());
										fire.pb.talk.MessageMgr.sendMsgNotify(teamInfo.getTeamleaderid(), 160196 ,params);	
									}
								}
							}
							
							fire.pb.event.Poster.getPoster().dispatchEvent(new ArriveTeamSpecialQuestEvent(team.getTeamLeaderId(), invitedRoleId));
							
							return ok;
						}
					}
					else //闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋為悧鐘汇�侀弴姘辩Т闂佹悶鍎洪崜锕傚极閸愵喗鐓ラ柡鍥朵簼鐎氬綊姊哄Ч鍥э拷妤呭磻閹捐埖宕叉繝闈涙川缁★拷闂佺鏈划宀劼烽敓浠嬫⒒娴ｄ警鐒炬い鎴炲灩閹广垹鈹戠�ｎ亣鎽曢悗骞垮劚椤︻垱瀵奸悩缁樼厱闁哄洢鍔屾晶顔界箾閸滃啰绉慨濠傤煼瀹曟帒顫濋璺ㄦ晼闂備焦鎮堕崝宀勬偉閻撳寒鍤曞┑鐘崇閺呮彃顭跨捄鐚村姛妞ゆ挻妞藉娲箰鎼达絿鐣靛┑鈽嗗亽閸樿壈鐏嬮梺鍛婃处閸ㄩ亶鍩涢幋锔界厱婵炴垶锕崝鐔兼煙閸愭彃鏆ｉ柡灞诲姂瀵潙螣閸濆嫬袝濠电姷顣槐鏇㈠极鐠囪尙鏆﹂柣鏃傗拡閺佸秵鎱ㄥ鍡楀闁轰降鍊濆缁樼瑹閿熻棄顭囪閸ｅ綊姊洪崨濠冨闁稿鎳橀幃鐢割敋閿熻棄顫忔繝姘＜婵炲棙鍔楅妶浼存倵鐟欏嫭绀堥柡浣筋嚙閻ｉ攱瀵奸弶鎴犵杸濡炪倖妫佸Λ鍕償婵犲洦鈷戦柛鎾村絻娴滄牠鏌涙惔鈥虫毐闁伙絽鐏氱粭鐔兼晸娴犲钃熼柍銉﹀墯閸氬骞栫划鐧告嫹閹绘帩妫滈梻鍌欒兌閹虫捇宕查弻銉ュ簥闁哄被鍎遍悡鈥愁熆鐠哄彿鍫ュ几瀹ュ鐓ｉ煫鍥风到娴滄粓鏌ｈ箛鏃�灏﹂柟绋匡躬閹垽宕楅懖鈺佸箞闂備焦鏋奸弲娑㈠矗閸パ岀叆闁告洦鍙庡ú绋库攽閻樿宸ラ柣妤�锕幃鈥斥槈閵忥紕鍘遍梺闈涱槶閸ㄥ搫鈻嶉崨瀛樼厸閻庯綆鍋呴埛鎰版煏閸パ冾伃闁轰焦鍔欏畷銊╊敇閻樿崵宕滅紓鍌氬�烽懗鍓佸垝椤栫偞鍎庢い鏍仜缁犵姵绻濋棃娑卞剱闁绘帊绮欓弻銊╁即椤忓懎顏舵繝鐢靛仜閻楁粓宕ｉ崘顭戞綎闁惧繒娅㈤幏鐑藉捶椤撶倫锝嗐亜閵夈儺妲归柕鍥у閺佸倻鎷犻懠顑挎闂備胶纭堕弬鍌炲垂濞差亜绠氶柡鍐ㄧ墕鎯熼梺闈涳紡閸涱喗绶梻鍌氬�烽懗鍓佸垝椤栫偑锟藉啴宕ㄧ�涙ê浜卞┑鐘诧工閻楀﹪寮查幖浣圭厾闁诡厽甯掗崝銈咁熆瑜嶉悘姘跺箞閵婏妇绡�闁告洦鍘肩粭锟犳⒑閻熸澘妲婚柟铏悾鐑芥倻缁涘鏅ｉ梺缁樻椤曆囧础閹惰姤鈷掗柛灞剧懅椤︼箓鏌熺拠褏绡�鐎殿喖顭锋俊鎼佸煛閸屾艾澹庡┑鐘绘涧閸婃悂骞夐敓鐘茬柧闁归棿鐒﹂悡鐘绘煙椤撶喎绗掗柛鏂诲劚椤法鎲撮崟鎯帮拷鍧楁煛瀹�锟介崰鏍箠閻愬搫唯鐟滃繘鎮￠敓浠嬫⒑閸涘娈滃ù婊冪埣瀵鎮㈤崗鑲╁姺闂佹寧娲╅幏鐑芥煕濡粯灏﹂柡宀嬬節閺佹捇鎳為妷褜娴勯柣搴秵閸嬪棝宕㈤柆宥嗏拺闁绘劘妫勯崝姘辩棯缂併垹骞樼紒顔碱煼瀵濡烽敂鎯у箺闂備浇顫夐崕鍐茬暦椤掑嫭鍊堕柛娆忣槹閸欏繐鈹戦悩鎻掓殲闁靛洦绻勯敓鑺ヮ問閸ｎ噣宕滈悢闀愮箚闁绘垼濮ら弲婊堟煟閿濆懓瀚扮紒韫矙濮婂宕掑▎鎴М闂佺濮ょ划鎾崇暦閹惰棄唯闁宠桨绀侀悗顓㈡倵鐟欏嫭绀�婵炲眰鍊濆畷鐟扳攽閸″繑鏂�闂佺粯锚閻ゅ洦绔熷Ο鑲╃＜闁绘鍎ら悵顏勄庨崶褝韬┑鈥崇埣瀹曠喖顢氶崨顓熸毉闂傚倷鑳堕幊鎾诲床閺屻儮锟斤箑鐣￠柇锔界稁濠电偛妯婃禍婊冾啅濠靛棌鏀介柣妯诲絻閿熻姤鐡曢·鍌涚節閻㈤潧浠滈柣掳鍔庨崚鎺戭吋閸パ冪亰闂佸湱鍋撻崜姘跺吹閺囩姷纾奸悗锝庡亽閸庛儵鏌涘顒夊剶闁哄本鐩俊鐑藉閳╁啰褰囬梻浣瑰缁嬫帞鍒掗幘璇茶摕闁斥晛鍟欢鐐测攽閻樻彃顏╂い锝囨暬濮婃椽宕崟顒�娅ょ紓浣割儐鐢偟鍒掔�ｎ喖绠虫俊銈勭劍濞呭棝姊洪崨濠冨瘷闁告粌鍟版惔濠囨⒒娴ｇ瓔鍤欓柛鎴犳櫕缁辩偤宕卞Ο纰辨锤闁荤姾妗ㄧ紞宥夋晲婢跺﹤绐涙繝鐢靛仜閵囨鑺辨繝姘拺闁荤喐婢橀埛鏃堟煕鐎ｃ劌濮傜�规洘鍨挎慨锟芥い顐枟鐎氬綊鎮峰▎蹇擃仾缂侊拷閸儲鐓曟俊顖滃Т濞层倝鎮″锟介弻鐔告綇閸撗呮殸濡ょ姷鍋戦崹鐑樼┍婵犲洤围闁告侗鍘介悘鎾绘⒑閸涘﹨澹橀柟铏～蹇旂節濮橆剛锛滃┑顔斤供閸撱劑骞忛悜钘夌濞达絽鎽滈敍娆愪繆閻愬樊鍎忛悗娑掓櫊椤㈡洘绂掔�ｎ偆鍘梺鍓插亝缁诲秴危閸濄儳纾奸柣娆欐嫹闁搞劌鐖煎濠氬Ω閳哄倸浜為梺绋挎湰缁嬫垿顢旈敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹? by changhao
					{
						TeamManager.logger.debug("INFO:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插暞閸婃劖銇勯姀鈩冾棃妞ゃ垺娲熼弫鍌炴偩鐏炶棄绗氱紓鍌氬�搁崐鐑芥倿閿曚焦鎳岄梻浣瑰▕閺�閬嶅礉濞嗘挸钃熼柡鍥ュ灩閻愬﹦鎲稿澶樻晜妞ゆ帒鍊荤壕濂告煟濡櫣锛嶆繛鎻掔摠椤ㄣ儵鎮欐潏鎹愶拷鍧楁煙閻撳海绉烘い銏℃礋閺佹劖鎯旈埄鍐╂瘔闂傚倸鍊搁崐鎼佸磹閻戣姤鍊块柨鏇嫹妞ゎ亜鍟撮獮鎰償閿濆孩閿ゆ繝鐢靛仜濡瑩宕归悽绋垮瀭婵犻潧娲ㄧ粻楣冩煕閳╁叐鎴犱焊椤撱垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦璇插闁宠鍨垮畷閬嶅煛閸屽偊绠撻弻鐔碱敍濠婂啯鐏堝┑顔硷攻濡炶棄螞閸愩劉妲堥弶鍫涘壉閵堝鈷戠紒瀣閹癸綁鏌涙惔娑橈拷妤呮晸娴犲娑ч柕鍫㈩焾閻ｅ嘲顫滈敓浠嬨�佸▎鎴炲枂闁挎繂妫楅鍦磽閸屾艾锟介绮堟笟锟介、鏍川椤栨瑧鍓ㄩ梺鍛婁緱閸欏酣宕崨瀛樼厪濠㈣埖绋栫粈瀣瑰鍕煉闁哄瞼鍠撻敓鑺ョ♁椤洨绮婚弽顓熺厱闁绘ɑ鍨氶幋锔猴拷鍐Ψ閳哄倸锟界兘鏌ょ喊鍗炲妞ゆ梹甯″鐑樻姜閹殿喖濡介梺鍦嚀濞差厼顕ｉ锕�绠荤紓浣股戝▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?,inviterRoleId: "+inviterRoleId);
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插暞閸婃劖銇勯姀鈩冾棃妞ゃ垺娲熼弫鍌炴偩鐏炶棄绗氱紓鍌氬�搁崐鐑芥倿閿曚焦鎳岄梻浣瑰▕閺�閬嶅礉濞嗘挸钃熼柡鍥ュ灩閻愬﹦鎲稿澶樻晜妞ゆ帒鍊荤壕濂告煟濡櫣锛嶆繛鎻掔摠椤ㄣ儵鎮欐潏鎹愶拷鍧楁煙閻撳海绉烘い銏℃礋閺佹劖鎯旈埄鍐╂瘔闂傚倸鍊搁崐鎼佸磹閻戣姤鍊块柨鏇嫹妞ゎ亜鍟撮獮鎰償閿濆孩閿ゆ繝鐢靛仜濡瑩宕归悽绋垮瀭婵犻潧娲ㄧ粻楣冩煕閳╁叐鎴犱焊椤撱垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦璇插闁宠鍨垮畷閬嶅煛閸屽偊绠撻弻鐔碱敍濠婂啯鐏堝┑顔硷攻濡炶棄螞閸愩劉妲堥弶鍫涘壉閵堝鈷戠紒瀣閹癸綁鏌涙惔娑橈拷妤呮晸娴犲娑ч柕鍫㈩焾閻ｅ嘲顫滈敓浠嬨�佸▎鎴炲枂闁挎繂妫楅鍦磽閸屾艾锟介绮堟笟锟介、鏍川椤栨瑧鍓ㄩ梺鍛婁緱閸欏酣宕崨瀛樼厪濠㈣埖绋栫粈瀣瑰鍕煉闁哄瞼鍠撻敓鑺ョ♁椤洨绮婚弽顓熺厱闁绘ɑ鍨氶幋锔猴拷鍐Ψ閳哄倸锟界兘鏌ょ喊鍗炲妞ゆ梹甯″鐑樻姜閹殿喖濡介梺鍦嚀濞差厼顕ｉ锕�绠荤紓浣股戝▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹?
						if(!checkOnline(inviterRoleId))
						{
							// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸繃鐎冲┑顔筋殔閻楀﹦锟芥艾缍婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷
							psend(invitedRoleId, new STeamError(TeamError.ObjectOffline));
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸繃鐎冲┑顔筋殔閻楀﹦锟芥艾缍婇弻褑绠涢敐鍛盎婵炲濮甸幐鍐差潖濞差亜浼犻柛鏇ㄥ墯閹烽亶姊洪悜鈺傛珦闁搞劏椴哥粚杈ㄧ節閸パ呯暰闂佽顔栭崰姘跺级閹间焦鈷戦柛婵嗗閿熻棄缍婇、鏍р枎閹邦剦鍤ら梺璺ㄥ櫐閹凤拷,inviterRoleId: "+inviterRoleId);
						}
						/*else if(!checkInviterStatus(inviterRoleId))
						{
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??
							//psend(invitedRoleId, new STeamError(TeamError.ObjectInUnteamState));
							Message.psendMsgNotify(inviterRoleId, TeamManager.ERROR_MSG_SELF_CANT_IN_TEAM, null);
							TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥娲滈幑銏ゅ箛椤曞棙瀚规慨妯煎帶婢ь喚鎮▎鎾寸厱妞ゆ劗濮撮悘顔剧棯閸欍儳鐭欓柡灞剧〒娴狅箓宕滆閸ｎ噣姊洪崨濠冪叆缂佸鏁绘俊鐢稿礋椤栨鈺呮煏婢舵稓鐣辨繛鍫燁殜閺岋箑螣閼姐倗鐤勯梺鍝勭焿缂嶄焦鎱ㄩ敓浠嬫煏韫囧﹥娅囬柛鏂挎憸缁辨挻鎷呴崫鍕戙儱鈹戦鑲╀粵缂佸矁椴哥换婵嬪炊椤儸鍥ㄧ厱婵炴垵宕弸娑欑箾閸涱偄锟芥繂顫忛搹鍦煓婵炲棙鍎抽崜顒勬⒑閸濆嫭鍣虹紒璇茬墦瀵偊骞樼紒妯轰患闁诲繒鍋熼搹搴㈢瑜斿楦裤亹閹烘繃顥栭梺绋跨箲閿曘垹顕ｆ繝姘╅柍鍝勫�告禍婊堟⒑閸涘﹥灏柤鍐茬埣閹繝骞樼紒妯锋嫼闁荤姴娲犻敓钘夌－娴犫晠姊哄ú璇插闁靛牊鎮傚顐﹀箻鐠囧弶顥濋梺闈涚墕濞层劍鐗庨梻鍌欑閹芥粍鎱ㄩ悽鎼烇拷鍐╃節閸パ勬К濠电偞鍨崹鍦不閾忣偂绻嗛柕鍫濆閸忓矂鏌涘锟芥禍璺侯潖閾忚鍠嗛柛鏇ㄥ墰閸戯繝姊洪崨濠勫暡闁圭兘顥撶槐鎾存媴闂堟稑顬堝銈庡幘閸忔ê顕ｆ繝姘櫖闁告洝鍩栫�氬綊鏌ㄥ┑鍡涱�楀ù婊勭箞閺屽秹鏌ㄧ�ｎ亜顫庣紓浣介哺鐢偟妲愰幒鎳崇喖宕楅悡搴＄仭闂佽姘﹂～澶娒洪弽顓炍ч柟闂寸缁犳牠鏌曡箛濠冾潑婵℃彃缍婇獮鏍拷娑欘焽缁犳绱掗敓鑺ュ緞閹邦厸鎷婚梺绋挎湰閻燂妇绮婇悧鍫涗簻闁哄洨鍠撴晶鐢碉拷瑙勬磻閸楁娊鐛幒鎳虫棃鏁撴禒瀣仾濡わ絽鍟悡鐔镐繆椤栨侗鍎ラ柛銈嗙懅缁辨帡鎮╅棃娴讹絿绱掔紒妯肩畺缂佺粯绻堝畷鎺戭煥閸愮偓婢戦梻鍌欑閹碱偊骞婅箛娑樼畺闁稿瞼鍋涢拑鐔兼煏婵炵偓娅嗛柛瀣閺屾稓浠﹂崜褉妲堝銈呴獜閹凤拷??,inviterRoleId: "+inviterRoleId);
						}*/else
						{
							//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏堕柣搴ゎ潐濞插繘宕曢幎鑺ユ櫢闁哄倶鍊楃粔鐢告煕閻樺磭澧卞瑙勬礋瀹曠螖娴ｅ搫骞嶉梻浣筋嚃閸ㄨ櫕鏅跺Δ鍚藉寰勯幇顒傤啇闂佸搫顦伴崺濠囩叕椤掑嫭鐓涢悘鐐额嚙閿熻姤绻堥獮濠傗攽鐎ｎ亞顓煎銈嗘閸嬫劖鏅堕姘ｆ斀闁绘劘灏欓幗鐘电磼椤旇偐鐏辩紒杈╁仦缁绘繈宕惰閹芥洖鈹戦悙鏉戠仧闁搞劎鎳撻弫顔戒繆閻愵亜锟芥牕顫忔繝姘偍鐟滄棃鏁愰悙渚晜闁割偆鍟块幏铏圭磽閸屾瑧鍔嶉柨姘舵⒑閸欏鐭掗柡宀�鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎰闁割偅绻勬禒銏ゆ煛鐎ｃ劌锟芥洟鍩ユ径鎰鐎规洖娉﹂敐鍥╃＜缂備焦顭囧ú瀛橆殽閻愬樊鍎忛柍璇叉唉缁犳盯寮村杈紡闂傚倸鍊烽懗鍓佸垝椤栫偛绠伴悹鍥梿濞差亝鍋勯柣鎾虫唉閹芥洟姊洪棃娴ュ牓寮插☉妯滄稑顫滈敓浠嬪蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸繃鐎冲┑鈽嗗灠閹碱偊鍩涙径鎰厽閹艰揪绲块幊妤呮煕濞戝崬鏋涢幖鏉戯工閳规垿鎮欓弶鎴犱户闂佹悶鍔岀紞濠囧蓟鐎ｎ喖鐐婃い鎺嶈兌閸樹粙姊洪崫鍕殭闁绘绮岃灋闁瑰瓨绶疯ぐ鎺撳亗閹兼番鍊曢顓㈡⒑鐎圭媭娼愰柛銊ユ健閵嗕礁鈻庨幋鐐插幑閻庣懓瀚伴。锔炬閿濆鈷掑〒姘炬嫹婵炰匠鍥ㄥ亱濠电姴娲ょ粻鏍煕瀹�锟介崑鐔风暤娓氾拷閺屾盯骞囬棃娑欑亪濡炪値鍋勯幊姗�寮婚弴銏犻唶婵犻潧娲ゅ▍褍顪冮妶蹇撶槣闁告鏅幑銏犫槈濞嗘劗绉堕梺鍛婃寙閸愭儳娈奸梻浣藉吹婵挳骞忛悜鑺ョ叆闁哄浂浜濈�氬綊鏌涘Δ鍕惈缂佽鲸甯￠獮鍥敊閻ｅ苯锟斤拷
							inviterTeamId = xtable.Roleid2teamid.get(inviterRoleId);
							if(checkInviterInTeam(inviterTeamId))
							{
								mkdb.Trace.log(mkdb.Trace.DEBUG, "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担鍛婅础闁稿簺鍊濆畷娲醇閵夛箑锟藉潡鏌ら幁鎺戝姢缂佺娀绠栭弻娑㈠焺閸忊晜鍨规禍鍛婂鐎涙鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸鐎癸拷鐎ｎ剛鏆犻柧浼欑到閵嗘帒顫濋悡搴ｄ画闂佸磭绮幑鍥ь潖閾忓湱鐭欓柛顭戝櫘閸斿姊洪幖鐐插婵炲皷锟芥剚鍤曞┑鐘崇閸嬪嫰鏌涢幘鍐茬骇閺佸牓姊虹涵鍛汗閻炴稏鍎遍‖濠咁樄鐎殿喗鎮傚畷銊э拷娑櫱氶幏娲⒑閸涘﹦绠撻悗姘煎灦閿濈偤鏁冮崒娑氬幈闂佸搫鍊稿锟犲矗閸曨垱鐓涘ù锝堫潐瀹曞瞼锟芥鍣崜鐔镐繆閸洖鐐婇柍璇″墾缂嶄礁顫忛搹鍦煓婵炲棙鍎抽崜閬嶆煟閵忊晛鐏￠悽顖涘笒閻ｇ敻宕熼顐ｅ瘜闂侀潧鐗嗗Λ娑欐櫠椤掑嫭鐓曢柍杞扮閺嗭絿锟芥鍠撻崝宥囩矉閹烘棑鎷烽敐搴′簽闁告ü绮欏楦裤亹閹烘垳鍠婇梺鍛婎焾閸嬫劕顕ユ繝鍕＜婵☆垶鏅茬花濠氭⒑閹稿孩顥嗘い鏇嗗嫭娅犻柟缁㈠枟閻撴盯鎮橀悙鎻掆挃婵炴彃鐡ㄩ〃銉╂倷閹碱厾鍔烽梺璺ㄥ枍缁瑥顭囪楠炴顭ㄩ崼鐔蜂患闂佹眹鍨归幉锟犲煕閹达附鐓欑紒瀣仢椤掋垻鐥悙顒佸�愰柡灞剧洴婵℃悂濡搁敂璁冲摋缂傚倷绶￠崳顕�宕ｉ崘顔肩畺闁靛繈鍊曠粈鍌炴煕韫囨挸鎮戞い蹇曞枛濮婄粯鎷呴挊澹捇鏌ㄥ顓滀簻闁挎洑鐒﹂ˉ澶嬨亜椤撶偞鍠樼�殿喖锟界噥妲烽梺鐚存嫹濞寸姴顑嗛悡鏇㈡倶閻愭彃鈷旀い锝嗙叀閺屾盯鎮㈤崫鍕闂佸搫鏈粙鎾绘晸閺傘倗绉靛ù婊勭矒椤㈡棃顢橀姀锛勫幐闁诲繒鍋涙晶钘壝虹�涙﹩娈介柣鎰彧閼板潡鏌熷畷鍥ラ柟鐟板瀹曨偊宕熼銉ュ缚濠电姷顣槐鏇㈠磻閹达箑纾圭憸蹇涙晸娴犲娑ч柣顓炲�搁悾鐑藉捶椤撶喎纾繛鎾村嚬閸ㄨ京绱炴惔鈾�鏀介柣鎰级閳绘洖霉濠婂嫮鐭岀紒顔剧帛鐎靛ジ寮堕幋鐙�鍟囬梺鍝勵槸閻楀棙鏅堕挊澶屾殕婵炴垶鐟ょ换鍡涙煙缂佹ê绗у褎绋撶槐鎺旂磼濡偐鐤勫┑鈽嗗亜閸燁偊鍩ユ径濠庢建闁割偆鍠庨鍫曟⒑閼姐倕鏋涢柛瀣工椤洭寮介鐔蜂化闂佹悶鍎滈崟銊︾亞闂備焦鎮堕崐鏍�冮崨鏉戠厴闁硅揪闄勯崑鎰版煙缂佹ê绗氭繛鍫佸洦鈷戠紒瀣儥閸庡繘鏌熼搹顐�跨�殿喛顕ч埥澶愬閻樼數鏉搁梻浣哥枃濡椼劎绮堟笟锟介垾鏍醇閵夛箑锟藉灚绻涢崼婵堜虎闁哄鐩弻娑㈠閿涘嫬寮ㄩ梺鐐藉劜濡啫鐣峰锟介、娆撳床婢诡垰娲﹂悡鏇㈡煃閳轰礁鏆熼柟鍐插暞閵囧嫰顢曟惔鈩冨櫧缁炬儳銈搁弻锝夊箛闂堟稑顫紓浣瑰劶鐏忔瑧妲愰幒鎾崇窞濠电姴鍋嗛弳銏ゆ⒑閸涘﹤绗氶悽顖楋拷宕囨殾濠靛倻顭堝敮闂佹寧妫佹慨銈夘敂閻斿吋鈷掑ù锝囶焾閹垵霉濠婏拷缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ瀺缂侇喗鐟ラ～蹇撁洪鍜佹濠电偞鍨崹璇茬暦椤忓棛纾藉ù锝囨嚀缁茶顭胯濡嫰鍩ユ径鎰仺缂佸娉曢ˇ顓㈡偡濠婂啰绠冲瑙勬礋閹剝鎯旈鎯ф暩闂備礁鍚嬮幃鍌氼焽瑜庨幈銊╁醇閻旇櫣顔曢梺鐟板暱閸㈣尙锟芥哎鍔嶇粋宥咁煥閸曗晙绨婚棅顐㈡处閹告悂顢旈埡鍛厸闁糕槅鍘鹃幃濂告煥閻斿嚖鎷烽悤浣圭秷濠电偛寮堕…鍥极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝鐢靛█濞佳囶敄閸℃稑纾婚柛宀�鍋涚粻瑙勭箾閿濆骸澧柣蹇ｄ邯閺岋絽鈹戦崶褍鎽靛┑顔硷工椤嘲鐣烽幒鎴旀瀻闁归偊鍠撻崑姗�姊绘担渚劸妞ゆ垵妫濆畷婵嗏枎閹捐櫕妲┑鐐村灟閸ㄥ綊鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈嗐亜閿旇骞栭柍瑙勫灴閹瑩寮堕幋鐘辨埛闂備焦鎮堕崝宥咁渻閽樺鏆﹂柡鍥╁枎缁剁偤鏌熼柇锕�骞橀柛妯哄船閳规垿鎮欓弶鎴犱桓濡炪値鍘煎ú顓㈢嵁濡ゅ懏鍋愮紓浣诡焽閸樹粙姊虹憴鍕姢妞ゆ洦鍘肩叅闁圭虎鍠楅悡娑㈡倶閻愭彃鈷旀繛鎻掔摠閵囧嫰濮�閳╁啰顦伴梺杞扮劍閸旀瑥鐣烽崼鏇炵厸濠电姴鍊归崐顖涚節閻㈤潧啸妞わ綀妫勫嵄闁告稒娼欓崹鍌毭归悩宸剰缂佺媭鍨跺娲垂椤曞懎鍓崇紓浣叉閹风兘鏌ｆ惔锝嗘毄濠⒀勵殜閹ê顫濈捄铏癸紮闂侀潧鐗嗛ˇ顖炲触瑜版帗鍊甸柨婵嗛閺嬬喖鏌嶉柨瀣诞闁哄本鐩鎾Ω閵夈倗鐩庢俊鐐�曞ù姘跺磻婵犲洤钃熼柕濞炬櫆閸嬪嫰鏌ｉ幋鐐嗘垿鎮甸鍕垫富闁靛牆绻掔粔鐢告煕閿濆繒绉柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷?,TeamId: "+inviterTeamId);
								//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担鍛婅础闁稿簺鍊濆畷娲醇閵夛箑锟藉潡鏌ら幁鎺戝姢缂佺娀绠栭弻娑㈠焺閸忊晜鍨规禍鍛婂鐎涙鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸鐎癸拷鐎ｎ剛鏆犻柧浼欑到閵嗘帒顫濋悡搴ｄ画闂佸磭绮幑鍥ь潖閾忓湱鐭欓柛顭戝櫘閸斿姊洪幖鐐插婵炲皷锟芥剚鍤曞┑鐘崇閸嬪嫰鏌涢幘鍐茬骇閺佸牓姊虹涵鍛汗閻炴稏鍎遍‖濠咁樄鐎殿喗鎮傚畷銊э拷娑櫱氶幏娲⒑閸涘﹦绠撻悗姘煎灦閿濈偤鏁冮崒娑氬幈闂佸搫鍊稿锟犲矗閸曨垱鐓涘ù锝堫潐瀹曞瞼锟芥鍣崜鐔镐繆閸洖鐐婇柍璇″墾缂嶄礁顫忛搹鍦煓婵炲棙鍎抽崜閬嶆煟閵忊晛鐏￠悽顖涘笒閻ｇ敻宕熼顐ｅ瘜闂侀潧鐗嗗Λ娑欐櫠椤掑嫭鐓曢柍杞扮閺嗭絿锟芥鍠撻崝宥囩矉閹烘棑鎷烽敐搴′簽闁告ü绮欏楦裤亹閹烘垳鍠婇梺鍛婎焾閸嬫劕顕ユ繝鍕＜婵☆垶鏅茬花濠氭⒑閹稿孩顥嗘い鏇嗗嫭娅犻柟缁㈠枟閻撴盯鎮橀悙鎻掆挃婵炴彃鐡ㄩ〃銉╂倷閹碱厾鍔烽梺璺ㄥ枍缁瑥顭囪楠炴顭ㄩ崼鐔蜂患闂佹眹鍨归幉锟犲煕閹达附鐓欑紒瀣仢椤掋垻鐥悙顒佸�愰柡灞剧洴婵℃悂濡搁敂璁冲摋缂傚倷绶￠崳顕�宕ｉ崘顔肩畺闁靛繈鍊曠粈鍌炴煕韫囨挸鎮戞い蹇曞枛濮婄粯鎷呴挊澹捇鏌ㄥ顓滀簻闁挎洑鐒﹂ˉ澶嬨亜椤撶偞鍠樼�殿喖锟界噥妲烽梺鐚存嫹濞寸姴顑嗛悡鏇㈡倶閻愭彃鈷旀い锝嗙叀閺屾盯鎮㈤崫鍕闂佸搫鏈粙鎾绘晸閺傘倗绉靛ù婊勭矒椤㈡棃顢橀姀锛勫幐闁诲繒鍋涙晶钘壝虹�涙﹩娈介柣鎰彧閼板潡鏌熷畷鍥ラ柟鐟板瀹曨偊宕熼銉ュ缚濠电姷顣槐鏇㈠磻閹达箑纾圭憸蹇涙晸娴犲娑ч柣顓炲�搁悾鐑藉捶椤撶喎纾繛鎾村嚬閸ㄨ京绱炴惔鈾�鏀介柣鎰级閳绘洖霉濠婂嫮鐭岀紒顔剧帛鐎靛ジ寮堕幋鐙�鍟囬梺鍝勵槸閻楀棙鏅堕挊澶屾殕婵炴垶鐟ょ换鍡涙煙缂佹ê绗у褎绋撶槐鎺旂磼濡偐鐤勫┑鈽嗗亜閸燁偊鍩ユ径濠庢建闁割偆鍠庨鍫曟⒑閼姐倕鏋涢柛瀣工椤洭寮介鐔蜂化闂佹悶鍎滈崟銊︾亞闂備焦鎮堕崐鏍�冮崨鏉戠厴闁硅揪闄勯崑鎰版煙缂佹ê绗氭繛鍫佸洦鈷戠紒瀣儥閸庡繘鏌熼搹顐�跨�殿喛顕ч埥澶愬閻樼數鏉搁梻浣哥枃濡椼劎绮堟笟锟介垾鏍醇閵夛箑锟藉灚绻涢崼婵堜虎闁哄鐩弻娑㈠閿涘嫬寮ㄩ梺鐐藉劜濡啫鐣峰锟介、娆撳床婢诡垰娲﹂悡鏇㈡煃閳轰礁鏆熼柟鍐插暞閵囧嫰顢曟惔鈩冨櫧缁炬儳銈搁弻锝夊箛闂堟稑顫紓浣瑰劶鐏忔瑧妲愰幒鎾崇窞濠电姴鍋嗛弳銏ゆ⒑閸涘﹤绗氶悽顖楋拷宕囨殾濠靛倻顭堝敮闂佹寧妫佹慨銈夘敂閻斿吋鈷掑ù锝囶焾閹垵霉濠婏拷缁瑥鐣烽弴鐐垫殾闁搞儜鍐冩岸姊虹捄銊ユ瀺缂侇喗鐟ラ～蹇撁洪鍜佹濠电偞鍨崹璇茬暦椤忓棛纾藉ù锝囨嚀缁茶顭胯濡嫰鍩ユ径鎰仺缂佸娉曢ˇ顓㈡偡濠婂啰绠冲瑙勬礋閹剝鎯旈鎯ф暩闂備礁鍚嬮幃鍌氼焽瑜庨幈銊╁醇閻旇櫣顔曢梺鐟板暱閸㈣尙锟芥哎鍔嶇粋宥咁煥閸曗晙绨婚棅顐㈡处閹告悂顢旈埡鍛厸闁糕槅鍘鹃幃濂告煥閻斿嚖鎷烽悤浣圭秷濠电偛寮堕…鍥极椤曪拷楠炴帒螖鐎ｎ剛鈼ゆ繝鐢靛█濞佳囶敄閸℃稑纾婚柛宀�鍋涚粻瑙勭箾閿濆骸澧柣蹇ｄ邯閺岋絽鈹戦崶褍鎽靛┑顔硷工椤嘲鐣烽幒鎴旀瀻闁归偊鍠撻崑姗�姊绘担渚劸妞ゆ垵妫濆畷婵嗏枎閹捐櫕妲┑鐐村灟閸ㄥ綊鏌嬮崶顒佺厪濠㈣泛鐗嗛崝銈嗐亜閿旇骞栭柍瑙勫灴閹瑩寮堕幋鐘辨埛闂備焦鎮堕崝宥咁渻閽樺鏆﹂柡鍥╁枎缁剁偤鏌熼柇锕�骞橀柛妯哄船閳规垿鎮欓弶鎴犱桓濡炪値鍘煎ú顓㈢嵁濡ゅ懏鍋愮紓浣诡焽閸樹粙姊虹憴鍕姢妞ゆ洦鍘肩叅闁圭虎鍠楅悡娑㈡倶閻愭彃鈷旀繛鎻掔摠閵囧嫰濮�閳╁啰顦伴梺杞扮劍閸旀瑥鐣烽崼鏇炵厸濠电姴鍊归崐顖涚節閻㈤潧啸妞わ綀妫勫嵄闁告稒娼欓崹鍌毭归悩宸剰缂佺媭鍨跺娲垂椤曞懎鍓崇紓浣叉閹风兘鏌ｆ惔锝嗘毄濠⒀勵殜閹ê顫濈捄铏癸紮闂侀潧鐗嗛ˇ顖炲触瑜版帗鍊甸柨婵嗛閺嬬喖鏌嶉柨瀣诞闁哄本鐩鎾Ω閵夈倗鐩庢俊鐐�曞ù姘跺磻婵犲洤钃熼柕濞炬櫆閸嬪嫰鏌ｉ幋鐐嗘垿鎮甸鍫熲拺閺夌偞澹嗛崝宥夋煙椤旂厧锟芥悂鎮鹃悜钘夘潊闁挎繂瀛╅埢灞句繆閻愵亜锟芥垿宕瑰ú顏呮櫇闁靛繈鍊曠粻鐘崇節闂堟侗鍎忕紒鐘劜閵囧嫰寮崒姘濠电姰鍨洪崹鍨潖缂佹ɑ濯撮柛娑橈攻閸庢挸鈹戦悙鑼勾闁告柨绉瑰畷姘節閸ヨ埖鏅ｉ梺缁樺姇缁嬪嫮绱炴笟锟介獮鍐煥閸喎娈熼梺闈涱槶閸ㄨ櫣锟芥俺妫勯埞鎴︽倷閼搁潧娑х紓浣藉紦缁瑩鐛径鎰櫢闁绘灏欓弻鍫ユ⒑缂佹ê濮夐柛搴涘�濋幃锟犳偄閸忚偐鍘介梺鍝勬处濮樸劑藝閿曞倹鐓熼煫鍥ュ劚椤╊剟鏌ㄩ悢鍑ゆ嫹閻曚焦缍堝┑鐐插级閻楁粎妲愰悙瀵哥瘈闁搞儜鍛毇闂備椒绱徊浠嬫儔婵傚憡鍎楁繛鍡樻尰閸嬶絽銆掑鐓庣仯闁告ɑ绋掓穱濠傤啅椤旇偐浠紓浣虹帛缁诲倿鍩㈤幘璇插瀭妞ゆ梻鏅禍鑸典繆閻愵亜锟芥垿宕濆澶婄婵炲棙鎸惧畵渚�鐓崶銊︻棓婵℃彃缍婇獮鏍箹椤撶偟浠柣搴亢椤鎹㈠☉銏犻唶婵犻潧鐗呴搹搴ㄦ⒑閸濆嫷鍎愰柣鐔叉櫊瀵鈽夊Ο婊勬⒐閹峰懐鍖栭弴鐔轰簽闂傚倷绶氬褍螞閺冨倻鐭嗗〒姘炬嫹闁糕斂鍎插鍕節鎼淬垹缂撻梻浣虹《閸撴繈鏁嬮梺绋跨箰閿曘儲绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮介锝嗘闂佸湱鍎ら〃鍛瑜版帗鐓熼柟杈剧稻椤ュ霉閼测晛校濞ｅ洤锕俊鍫曞川椤斿吋顏￠梻浣虹帛閹搁箖宕伴弽顓犲祦闁哄秲鍔嶇紞鍥煕閹炬鍟悡鍌氣攽閻愬樊鍤熷┑顖ｅ弮瀹曞綊宕奸弴鐐舵憰濠电偞鍨堕悷褏寮ч敓浠嬫⒑閸涘﹤濮﹀ù婊勭墪鍗遍柛顐犲劜閳锋垿鎮楅崷顓烆�岄柛銈嗙懅缁辨帗寰勬繝鍕ㄩ悗娈垮櫘閸嬪﹪鐛崶顒夋晣闁绘劗鏁搁悰顕�姊虹拠鎻掑毐缂傚秴妫欑粋宥呪枎閹惧磭顓洪梻浣哥仢椤戝洨寮ч敓浠嬫⒑濮瑰洤鐏叉繛浣冲嫮顩烽柨鏇炲�归悡鏇熴亜椤撶喎鐏ラ柣蹇ュ閿熷�燁潐濞叉粓骞婇幘璺哄疾婵＄偑鍊曠换鎰拷姘煎櫍閺佸秹鎮㈤崗鐓庯拷鍨殽閻愯尙浠㈤柛鏃�纰嶉妵鍕晜閸喖绁梺璇″櫙缁绘繂顕ｉ幘顔碱潊闁挎稑瀚獮鎰版⒒娴ｈ鍋犻柛搴櫍瀵彃鈽夊▎鎴祫濠电姴锕ょ�氥劍绂嶅鍫熺叆婵犻潧妫欓崳浠嬫煥濞戞肖缂佽鲸甯楀蹇涘Ω閵夛箒鐧侀梻浣芥〃閻掞箓骞戦崶顒�绠犻柣鎰惈鍞梺闈涳紡閸涱垰绁﹂梻鍌氬�风粈浣虹礊婵犲洤纾诲┑鐘叉搐缁�鍫熺箾閹寸偟鎳愭繛鍫滅矙閺屾盯濡烽鐓庮潽闂佹娊鏀遍崹鍧楀蓟濞戙垹绠涙い鎺炴嫹缂佺嫏鍥ㄧ厵妞ゆ牗姘ㄦ晶锕傛煛鐏炲墽鈾佺紒缁樼箞瀹曟帡濡堕崶褎鍊┑掳鍊楁慨鐑藉磻濞戙垺鏅濇い蹇撳閺嗭箓鏌ｉ弮鍌楁嫛闁轰礁瀚伴幃褰掑箒閹烘垵顬嬮梺浼欑秮缁犳牕顫忕紒妯诲闁惧繒鎳撶粭锟犳⒑閸涘﹥鈷愰柣妤冨仱婵＄敻骞囬弶璺槰濡炪倖妫佹慨銈呪枍閵忋倖鈷戦柤鎭掑剭椤忓煻鍥箥椤旇棄顏搁梺鎸庣☉鐎氼喚澹曢崗绗轰簻闁哄啫鍊瑰▍鏇㈡煙閸愭彃顏紒杈ㄥ笧缁辨帒螣閼测晝鏉介柣搴ゎ潐濞叉牠鎮ラ崗闂寸箚闁归棿绀佸敮闂侀潧鐗嗗ú銊モ枖閸ф鈷掑ù锝囩摂閸ゆ瑦绻涚�电鍘存鐐诧躬楠炴鎷嬬憴鍕伓濠殿喗顭囬崢褔鐛Δ鍛厱闁圭儤鍩婇弨鑽ょ磼閸屾稑绗ч柨鐔告灮缁蹭粙鎮樺璺虹柧闁冲搫鍊荤弧锟介梺闈涢獜缁插墽娑甸悙顑句簻闁瑰瓨绻冨婵堢磼椤斿墽甯涢柕鍫秮瀹曟﹢鍩℃笟濠冨闁汇垹鎲￠悡鐔兼煏韫囧﹥顫婇柛鐔风箻閺岋綁骞掗幋婵冩寖闂佽鍣崳锝嗕繆閹间礁鐓涢柛灞绢殕鐎氳偐绱撻崒娆戭槮妞ゆ垵妫涢敓鐣岀懗閸パ嗗煘婵犮垼娉涢…顒�銆掓繝姘�垫繛鎴烆伆閹达箑纾归柟閭﹀弾濞堜粙鏌ｉ幇顖氱毢濠⒀嶇畱閳规垿鍩勯崘鈺侊拷鎰版煕閳哄绡�鐎规洘甯掗～婵嬫倷椤掞拷椤忓爼姊虹紒妯虹伇濠殿喓鍊濋幃锟犲即閻旇櫣鐦堥梻鍌氱墛缁嬫帡藟濠婂嫨浜滈煫鍥风到娴滄繈鏌曢崶褍顏柡浣稿�垮畷妤呮偂鎼搭喕绱�?
								xbean.TeamInfo teamInfo = xtable.Team.get(inviterTeamId); 
								if(!checkInviterIsLeader(inviterRoleId, teamInfo))
								{
									//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙缁嬫鐓奸柟顖氬椤㈡盯鎮欓懠鑸垫啺婵犵數鍋為崹顖炲垂瑜版帒纭�闁规儼濮ら悡蹇涚叓閸パ嶅伐濠⒀勭叀濮婂搫鈻庨幆褍绫嶅┑顔硷龚濞咃綁骞忛悩璇茶摕闁靛／鍐┿仢闂傚倸鍊搁崐鍝ワ拷姘煎墰閿熻姤鍑归崢鍓у垝濮橆厽缍囬柕濞у懐妲囬梻浣告啞濞诧箓宕滃▎鎾村仧濞寸厧鐡ㄩ崑鈩冪節婵犲倸鏆熺紒鐘差煼閺岀喖顢氶敓鐣岀不閺嵮呮殾鐟滅増甯╅弫鍐煥濠靛棙鍣瑰ù鐓庨閳规垿鎮╅崹顐ｆ瘎婵犳鍠栭顓㈠箲閵忋倕绠ｉ柣娆忔噺鐎氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?
									//psend(invitedRoleId, new STeamError(TeamError.ObjectNotLeader));
									MessageMgr.psendMsgNotify(invitedRoleId, 141861, null);
									TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙缁嬫鐓奸柟顖氬椤㈡盯鎮欓懠鑸垫啺婵犵數鍋為崹顖炲垂瑜版帒纭�闁规儼濮ら悡蹇涚叓閸パ嶅伐濠⒀勭叀濮婂搫鈻庨幆褍绫嶅┑顔硷龚濞咃綁骞忛悩璇茶摕闁靛／鍐┿仢闂傚倸鍊搁崐鍝ワ拷姘煎墰閿熻姤鍑归崢鍓у垝濮橆厽缍囬柕濞у懐妲囬梻浣告啞濞诧箓宕滃▎鎾村仧濞寸厧鐡ㄩ崑鈩冪節婵犲倸鏆熺紒鐘差煼閺岀喖顢氶敓鐣岀不閺嵮呮殾鐟滅増甯╅弫鍐煥濠靛棙鍣瑰ù鐓庨閳规垿鎮╅崹顐ｆ瘎婵犳鍠栭顓㈠箲閵忋倕绠ｉ柣娆忔噺鐎氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?,TeamId: "+inviterTeamId);
								}
								else if(isLeaderInDuel(inviterRoleId))
								{
									// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?
									TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?,TeamId: "+inviterTeamId);
								}
								else if(!checkTeamInvitingValid(teamInfo, invitedRoleId))
								{
									//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇划宥囷拷闈涖偢閹晝绱掑Ο鐓庡箞闂備礁鎼ú銏ゅ礉鐏炲墽顩叉繝闈涙川缁犻箖鏌涢锝囩畺闁诡垰鐗婇妵鍕敂閸曨偅娈绘繝纰橈拷宕囧煟鐎规洖宕灒闂佸灝顑呴鎼佹⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯囬敓钘夊暣瀹曘劑顢橀悙鐐瑰亽闂傚倸鍊风粈浣虹礊婵犲洤纾诲┑鐘叉搐缁�鍫ユ煥閺囩偛锟藉綊宕愰悽鍛婄厱妞ゆ劧绲剧粈鍐煕婵犲嫭鏆柡灞剧洴閺佸倻鎷犻幓鎺旑啈闂佽绻愮换鎺戔枍濠曨摟l闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
									TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇换鍫濈暦閹达箑鍐�妞ゆ挾鍠庨敓钘夌仛缁绘盯骞嬮悜鍡曠棯濡炪倕绻愰悧婊堝极閸岀偞鐓ラ柣鏇炲�圭�氾拷?,TeamId: "+inviterTeamId);
								}
								else if(checkTeamNotFull(teamInfo) && checkMap(teamInfo.getTeamleaderid(), invitedRoleId))
								{
									Team team = new Team(inviterTeamId,false);
									//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戙垹绠婚悗闈涙啞閸ｄ即姊虹拠鈥虫珝婵炰匠鍡欎航闂備胶鍘ч～鏇㈠磹濡ゅ懏鍎婇柛顐犲劜閳锋垿姊婚崼鐔烘创闁绘稒绮庣槐鎺楀箵閹烘垟鎸冨┑鐐村灥閻忔岸濡堕敐澶婄闁冲搫鍟獮妤佷繆閻愵亜锟芥牜鏁幒妤�纾归柛婵勫劜閺嗘粓鏌涢锝嗙闁绘挸鍟扮槐鎾存媴閼测剝鍨胯棢闁割偅绺鹃弨鑺ャ亜閺囩偞顥為悗姘秺濮婄粯鎷呴搹鐟扮闂佹寧娲嶉弲鐘茬暦閹达箑宸濋柡澶嬪灦椤ユ繈姊虹捄銊ユ瀺缂侇喗鐟ラ～蹇曠磼濡顎撻梺鎯х箳閹虫挾绮敓鐘斥拺闁圭瀛╅惃鎴︽煟閵夘喕绨界紒杈ㄥ浮婵拷闁绘灏欓惈鍕⒒娴ｇ瓔鍤冮柛锝庡灣閹广垹鈹戠�ｎ煉鎷锋担绯曟闁靛繆锟界鎷烽悜鑺ュ�甸柣銏☆問閻掔偓顨ラ悙鑼ｅǎ鍥э躬婵″爼宕堕‖顔哄劦閺屾稓锟斤綆鍋嗗ú鎾煙椤旂煫顏堝煘閹寸媴鎷烽敐搴′簻闁跨喕妫勯悥濂稿蓟閵堝洤鏋堥柛妤冨仜閳锋洟姊洪崷顓炲幋妞ゃ儲鎹囬獮澶愬箻椤旇偐顦板銈嗗笒閸嬪棗危閹殿喚纾介柛灞剧懄缁佺増銇勯弴鍡楁处閸嬪鏌熼幆褏锛嶉柡鍡檮缁绘稑顔忛鑽ょ泿缂備緤鎷烽悗锝庡亖娴滄粓鏌″鍐ㄥ闁汇劍鍨堕妵鍕晜閸濆嫬顫囧┑顔硷龚濞咃綁鏁撻挊澶嬭础濠殿垼鍙冨畷鐢稿礃椤旂晫鍘遍梺瑙勫劤瀹曨剚淇婄捄銊х＜妞ゆ梻鈷堥悡鍏碱殽閻愬樊鍎旈柡浣稿暣閺佹挻绂掔�ｎ偄浜楅梺鐐藉劜閸撴岸鎮㈤崱娑欑厾闁归棿鐒﹀☉褍鈹戦鍏煎窛缂佽鲸甯￠幃鈺呭传閸曨偅鍎梻浣芥硶閸犲酣鏁撻悾灞芥珡婵炲吋鍔栫换娑㈠矗婢跺苯鈪归梺宕囩帛濡啴寮崘顔肩＜婵ê鍚嬬紞鍌炴⒒娓氾拷濞佳囨偋閸℃あ娑樷槈閵忕姴鍋嶉梺鍛婎殘閸嬫劙寮ㄦ禒瀣厓闁芥ê顦伴ˉ婊堟煟韫囧鍔滈柕鍥у瀵挳宕卞Δ浣割槱闂佺锕ら悥濂稿蓟瀹ュ浼犻柛鏇ㄥ墮濞呫倝姊虹紒妯诲鞍闁荤啙鍥ㄦ櫢闁伙絽鏈崵锟介柣搴㈢煯閸楀啿鐣烽幋鐐电瘈闁搞儜鍜冪吹闂備胶鎳撻顓熸叏妞嬪骸顥氶柛蹇曨儠娴滄粓鏌￠崘銊ワ拷鐟扳枍閺囥垺鐓欓柛鎰级婢跺嫭銇勯妸锝呭姦闁诡喗鐟╁鍫曞箣濠垫劖缍岄梻鍌欐祰椤曟牠宕归崡鐐嶆盯宕橀鍏兼К闂侀潧顦弲娑㈢嵁閵忋倖鐓涢柛銉㈡櫅鍟稿銈忚礋閸庨潧顫忔繝姘＜婵﹩鍓ㄩ幏鐑藉箹娴ｅ摜锛欓梺缁樺灱婵倝宕甸崟顖涚厱妞ゆ劧绲剧壕鐢告煥閻斿憡鐏紒鐘虫尭閻ｉ攱绺界粙娆炬綂闂佺偨鍎遍崯璺ㄨ姳閵夆晜鈷掑ù锝囧劋閸わ拷闂佸鏉垮闁瑰箍鍨介獮鍥偋閸繃鐣梻浣侯潒閸曞灚鐣烽梺缁樻尰濞茬喖寮婚妸鈺佺睄闁搞儴娉涘▓顓炍旈悩闈涗沪闁绘濞�瀵鈽夐姀鐘栤晠鏌ㄩ弬鍨挃闁伙絾妞藉娲濞戞瑦鎮欓柣搴㈢煯閸楁娊鎮伴锟介獮鎺楀箣椤撶偞鍊梻浣稿閸嬪懐鎹㈤崒婊勬殰妞ゆ牗绋愮换鍡涙煟閹板吀绨婚柨鐔诲Г閸旀瑥顕ｉ幓鎺濈叆闁割偆鍠庢禍妤呮⒑鐠恒劌鏋斿┑顔芥尦閹锋垿鎮㈤悜妯烘瀾闂佺懓顕慨閿嬬▔瀹ュ棛绠鹃柟瀛樼懃閻忊晝绱掗悩鍝勫惞闁汇儺浜獮鍡氼檨闁稿孩鍨堕妵鍕閻樺啿娈楀┑顔硷功缁垶骞忛崨顖涘枂闁告洍鏅欓幋鐑芥⒒娴ｅ憡鍟為柨姘舵煏閸喐鍊愰柕鍡曠窔瀵粙濡搁妷褏鐛┑鐘垫暩婵锟芥稈鏅濈槐鐐存償閵忋垻鐦堥梺姹囧灲濞佳勭墡闂備浇鍋愰幊鎾存櫠閻ｅ苯鍨濋柛顐犲劚缁�鍐煃閻熻埇浠掔紒銊ヮ煼濡懘顢曢姀鈥愁槱闂佺懓鎲￠幃鍌炪�侀弮鍫晜闁割偆鍠撻崢浠嬫椤愩垺鎼愭繛瀵稿厴钘濋柨鏇炲�归悡鍐偡濞嗗繐顏╅柣蹇旀尦閺岀喖顢欓悾灞惧櫚闂佺懓纾繛锟芥い銏☆殜閺佹挻绂掔�ｎ亞鍘辨繝鐢靛Т濞诧箓鍩涢幋锔界厽闁绘柨鎲＄欢鍙夌箾閸碍娅婇柡宀�鍠栧畷娆撳Χ閸℃浼�
//									if(!MarryTaskStepManager.checkMarryTaskState(team.getAllMemberIds(), invitedRoleId)){
//										//TODO
//										
//									}else{
										TeamManager.logger.debugWhileCommit("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅杈╃磽娴ｄ粙鍝洪悽顖ょ節瀵偊骞樼紒妯烘疅闂侀潧顦崕宕囩玻閻愮儤鈷戠憸鐗堝笒娴滀即鏌涘锟界粻鏍х暦閵忋倖瀵犲璺烘閺傦拷闂備礁鐤囧Λ鍕涘Δ鍛�堕柕澶涜礋娴滄粓鏌￠崶褎顥滈柟鍐叉捣濞嗐垽濡舵径瀣幘婵犳鍠楅崝鏇㈡晸缁愭牕娲ょ粻顖滐拷鐟板婢瑰寮搁弮鍫熺厱妞ゎ厽鍨甸弸鐔兼煟韫囨挾校缂佺粯绻堥幃浠嬫濞戞鎹曢梻浣瑰濞插繘宕愬┑瀣拷浣割潩閼稿灚娅滄繝銏ｆ硾閿曨亪宕崼鏇熲拺闁告繂瀚婵嬫煕鐎ｎ剙鏋涚�规洏鍨介獮鏍ㄦ媴閸忓瀚肩紓鍌欑椤戝棛锟界瑳鍐胯�块柟娈垮枤绾惧吋銇勯弮鍥т汗閺佸牓鎮楃憴鍕濠电偛锕ユ穱濠囨倻閽樺鍘搁梺绋挎湰椤ㄥ棛锟芥俺妫勯埞鎴︽倷閼搁潧娑х紓浣瑰絻濞硷繝鍨鹃敃鍌氶唶闁靛繈鍨洪敍蹇涙偡濠婂啰绠虫俊鍙夊姍楠炴帒螖婵犲啯娅撻梻浣稿悑娴滀粙宕曟潏鈺佹瀳鐎广儱鎷嬪〒濠氭煏閸繃顥炵紒宀冩硶缁辨挸顓奸崟顓犵崲闂侀潧妫旂粈浣界亙闂佸憡渚楅崢楣兯囬弶娆炬富闁靛牆妫楅柌婊堟煙瀹勬澘妲婚棁澶嬬節婵犲倻澧旈柟鑼亾閹便劍绻濋崘鈹夸虎閻庤娲樼划鎾荤嵁閹捐绠崇�广儱娲ら崵顒傜磽閸屾艾锟藉嘲霉閸ヮ剦鏁嬬憸蹇涙晸閼恒儱鍤柛妯哄⒔閸掓帞锟斤綆浜堕崥瀣熆鐠轰警鍎愭繛鍛矋缁绘繈濮�閿濆棛銆愬銈嗗灥閸婂潡鐛箛鎾佹椽顢旈崨顏呭闂備胶顭堥張顒�顫濋妸锔芥珷闁规壆澧楅悡娑㈡煕濞戝崬鏋ら柣顓炵焸閺屻劑鎮㈢拠娈嬫捇鏌ｉ弮鎴濆⒋妤犵偛绻橀弫鎾绘晸閿燂拷?(闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顒�绾ч柣銈呭濮婄粯鎷呴崨濠傛殘闂佸湱顭堝Λ妤咁敇婵傜骞㈡俊銈咃梗缁憋箑鈹戦悩鍨毄闁稿鍋ゅ畷褰掑礈娴ｈ娈板┑掳鍊ч幏鐑芥煃鐠囪尙效鐎规洏鍔戦、娆愭姜閹殿喚娉垮┑锛勫亼閸婃牠骞愭ィ鍐ㄧ；闁绘劕鎼粣妤佹叏濡ゅ瀚归梺鍝勭灱閸犳牠銆佸▎鎾村殥闁靛牆娲ㄩ崢顖炴煟鎼淬値娼愭繛鎻掔箻瀹曟繂顓奸崶銊ュ簥濠电娀娼ч鍛閸忓吋鍙忔慨妤�妫楁晶缁樹繆椤愩垹顏慨濠傤煼瀹曟帒顫濋濠冨濡炲娴烽惌鍡椼�掑鐐濡ょ姷鍋涢ˇ鐢稿垂閸撗勬儱濞达綀顫夐妵婵嬫煛娴ｇ鏆ｇ�规洘甯掗～婵嬵敆閸岋附瀚规い鎾卞灪閻撴稑顭跨捄鐚村姛濠⒀囦憾閺屾稓锟斤綆鍋勫ù顔撅拷娈垮枛閻栧ジ骞冨鍏剧喖鎳栭埡鍐╊潓闂傚倷鐒﹂惇褰掑垂閽樺鐒界憸搴ｇ矉閹烘鐓涢柛娑卞枤閸橀潧鈹戦悙璺鸿敿妞ゆ柨锕弻鍥敍濞戣鲸顔旈梺缁樺姌鐏忔瑧绮绘繝姘厸濞达綀顫夊畷宀勬煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?),TeamId: "+inviterTeamId);
										return team.addNewMemberWithSP(invitedRoleId);
									//}
								}
							}
							else
							{
								//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担鍛婅础闁稿簺鍊濆畷娲醇閵夛箑锟藉潡鏌ら幁鎺戝姢缂佺娀绠栭弻娑㈠焺閸忊晜鍨规禍鍛婂鐎涙鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸鐎癸拷鐎ｎ剛鏆犻柧浼欑到閵嗘帒顫濋悡搴ｄ画闂佸磭绮幑鍥ь潖閾忓湱鐭欓柛顭戝櫘閸斿姊洪幖鐐插婵炲皷锟芥剚鍤曞┑鐘崇閸嬪嫰鏌涢幘鍐茬骇閺佸牓姊虹涵鍛汗閻炴稏鍎遍‖濠咁樄鐎殿喗鎮傚畷銊э拷娑櫱氶幏娲⒑閸涘﹦绠撻悗姘煎灦閿濈偤鏁冮崒娑氬幈闂佸搫鍊稿锟犲矗閸曨垱鐓涘ù锝堫潐瀹曞瞼锟芥鍣崜鐔镐繆閸洖鐐婇柍璇″墾缂嶄礁顫忛搹鍦煓婵炲棙鍎抽崜閬嶆煟閵忊晛鐏￠悽顖涘笒閻ｇ敻宕熼顐ｅ瘜闂侀潧鐗嗗Λ娑欐櫠椤掑嫭鐓曢柍杞扮閺嗭絿锟芥鍠撻崝宥囩矉閹烘棑鎷烽敐搴′簽闁告ü绮欏楦裤亹閹烘垳鍠婇梺鍛婎焾閸嬫劕顕ユ繝鍕＜婵☆垶鏅茬花濠氭⒑閹稿孩顥嗘い鏇嗗嫭娅犻柟缁㈠枟閻撴盯鎮橀悙鎻掆挃婵炴彃鐡ㄩ〃銉╂倷閹碱厾鍔烽梺璺ㄥ枍缁瑥顭囪楠炴顭ㄩ崼鐔蜂患闂佹眹鍨归幉锟犲煕閹达附鐓欑紒瀣仢椤掋垻鐥悙顒佸�愰柡灞剧洴婵℃悂濡搁敂璁冲摋缂傚倷绶￠崳顕�宕ｉ崘顔肩畺闁靛繈鍊曠粈鍌炴煕韫囨挸鎮戞い蹇曞枛濮婄粯鎷呴挊澹捇鏌ㄥ顓滀簻闁挎洑鐒﹂ˉ澶嬨亜椤撶偞鍠樼�殿喖锟界噥妲烽梺鐚存嫹濞寸姴顑嗛悡鏇㈡倶閻愭彃鈷旀い锝嗙叀閺屾盯鎮㈤崫鍕闂佸搫鏈粙鎾绘晸閺傘倗绉靛ù婊勭矒椤㈡棃顢橀姀锛勫幐闁诲繒鍋涙晶钘壝虹�涙﹩娈介柣鎰彧閼板潡鏌熷畷鍥ラ柟鐟板瀹曨偊宕熼銉ュ缚濠电姷顣槐鏇㈠磻閹达箑纾圭憸蹇涙晸娴犲娑ч柣顓炲�搁悾鐑藉捶椤撶喎纾繛鎾村嚬閸ㄨ京绱炴惔鈾�鏀介柣鎰级閳绘洖霉濠婂嫮鐭岀紒顔剧帛鐎靛ジ寮堕幋鐙�鍟囬梺鍝勵槸閻楀棙鏅堕挊澶屾殕婵炴垶鐟ょ换鍡涙煙缂佹ê绗у褝闄勯幈銊︾節閸屾稒鍎撻柣鎾卞�濋幃褰掑炊閵娿儳绁峰銈庡亐閺呯姴顫忓ú顏咁棃婵炴垶鑹鹃·锟介梻浣筋嚃閸犳牠宕愰崸妤冨祦闁告劏鏅涢閬嶆煙绾板崬骞楅柡鍜佷邯濮婅櫣鎹勯妸銉︾亞濠碘槅鍋勭�氫即骞冩ィ鍐╁�婚柦妯侯樀閸炲爼姊洪崫鍕偍闁告柨绉瑰鏌ュ閵堝棌鎷洪柣鐘充航閸斿矂寮稿鍥╃＜妞ゆ梻鏅幊鍥煟濞戝崬娅嶆鐐差儔閺佸啴鏁撴禒瀣厑闁搞儺鍓氶悡娑㈡煕閵夈垺娅呴柡瀣閺屾稑顫滈崱鏇犲嚬缂備胶绮换鍫ュ箖娴犲顥堟繛鎴烆殘閹规洟姊绘担绛嬪殭缂佺粯鍨归幑銏ゅ醇閵夈儲鐎梺鐟板⒔缁垶宕靛澶嬬厪濠㈣埖锚閺嬬喖鏌ｉ妶鍕獢婵﹨娅ｉ幏鐘诲灳瀹曞洣鍝楅梻浣稿悑濡炲潡宕归崼鏇炴槬闁绘劕鎼粻锝夋煟濞嗗繑鍣洪悗姘秺閺屻劌鈹戦崱娑憋拷妤�霉濠婂懎浠遍柡灞剧☉铻ｉ柛锔诲幘閻撴挸鈹戦纭锋敾婵＄偠妫勯悾鐑芥倻缁涘鏅ｉ梺缁樺姈瑜板啴鈥栭崱妯肩瘈闁汇垽娼ф禒婊咃拷娈垮枛閻栧ジ骞冭閹晝鎷犻懠顒傛毇闂備浇娉曢崰鎾存叏鐎靛摜涓嶆繛鎴欏灪閻撶喐淇婇妶蹇斿闂佺粯顨呯换妯虹暦閵忥紕顩烽悗锝庡亐閹锋椽姊婚崒姘卞濞撴碍顨呭嵄闁割偅娲橀悡鏇㈠箹濞ｎ剙鐏柛娆欐嫹闁诲氦顫夊ú婊堝极鐠囪尙鏆﹂柛顐ｆ礀閻撴盯鎮楅敐搴′簻妞ゅ繗娉涢埞鎴︽倷閼碱剙顣洪梺璇茬箲缁诲牆顕ｇ粙搴撴闁靛骏绱曢崢浠嬫椤愩垺澶勬俊顐＄劍缁旂喎螣濮瑰洣绨婚梺鍝勬处閿氶柛鏃撳閿熷�燁潐濞叉粓宕伴弽顓滐拷渚�寮撮姀鈥充簻闂佸憡鎸稿鍓佺礊鐏炶В鏀介柣妯诲墯閸熷繘鏌涢悩鎰佹疁闁轰礁鍟存慨锟介柕蹇婏拷鍐插箲缂傚倷绀侀鍫ヮ敋閹惰姤鏅插璺侯儏閿熻棄顭烽弻銈夊箒閹烘垵濮夐梺鐟板槻椤嘲顫忛搹鍦煓闁圭瀛╅幏閬嶆⒑閻撳孩璐￠柛瀣尵缁顓奸崱妤婂殼闁诲孩绋掗…鍥储閻㈠憡鈷戦柛娑橈工閻忕喖鏌涙繝鍐⒈闁跨喕濮ら悢顒勫箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙宕濋幒鎾剁鐎瑰壊鍠曠花鑽ょ磼閻欏懐绉柡宀嬬到铻ｉ柛蹇撳悑濮ｅ嫰姊虹紒妯虹瑨闁告艾顑囬幑銏犫槈濞嗘劗绉堕梺鍛婃寙閸涘懏鑹鹃埞鎴︽倷閸欏鐝旂紓浣稿级鐎笛呯博閻旂厧鍗抽柣鏂捐濞村嫰鏌ｆ惔顖滅У闁稿妫濆畷銏ゆ偨閸涘ň鎷洪柣鐘叉礌閿熻棄纾敓钘夘煼閺屾盯骞囬闂村濠电偛鐗婂钘夘潖缂佹ɑ濯撮柛娑橈工閺嗗牆顪冮妶鍐ㄥ婵☆偅顨婇幃鎯р攽鐎ｎ亞顔愭繛杈剧到閹芥粓鎮鹃崫鍕ㄦ斀閹烘娊宕愰弴銏犵疇闊洦绋戦悿楣冩煛鐏炶鍔氱紒鐘叉贡缁辨帡顢欓悙顒変户闂佸綊顥撻崗姗�骞婇悩娲绘晢闁跨喍绮欏畷鐢割敆閸曨兘鎷婚梺绋挎湰閻熴劑宕楀畝锟界槐鎺楊敋閸涱厾浠稿Δ鐘靛仦閻楃娀銆侀弴銏℃櫇闁跨喓鏅划濠氼敍閻愬鍘介梺纭呮彧缁插�燁暱闂備焦濞婇弨杈╂暜閹烘绠掗梻浣瑰缁诲倿骞婅箛鏇熷闁斥晛鍟扮弧锟介梺璺ㄥ枙婵倗绮嬮幒鏃撴嫹閿濆骸浜為柛姗�浜跺娲传閸曨偓鎷烽挊澶嗘灃闁哄洢鍨洪崐鍫曟⒑椤掞拷缁夌敻鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿京纾奸柣鎰靛墯缁惰尙绱掓径瀣唉闁炽儻绠撳畷褰掝敊閵壯冩灈鐎规洦鍋婂畷鐔碱敇濠婂啩鑸梻鍌氬�搁崐鎼佸磹閻戣姤鍊块柨鏃�鎷濋幏椋庣箔濞戞ê鎮╂繛鎴炵懄婵挳鏌ら崣澶岀畺闁烩晩鍨伴悾鐑芥偄绾拌鲸鏅梺鎸庣箓濡瑥鈻嶉弮鍫熲拺闁告繂瀚峰Σ鎼佹煟濡わ拷閸熸潙顕ｉ弻銉晜闁割偅绻勯鍡涙⒑缂佹ê鐏╅柡鍜佸亜閻ｅ灚绗熼敓浠嬪蓟濞戔懇锟斤箓骞嬪┑鍥╀邯濠电姵顔栭崰鏍规搴㈩潟闁规儳鐡ㄦ刊鎾煣韫囨洘鍤�缂佹绻濋弻锝夊閳轰胶浠梺绋款儑閸犳牕鐣峰璺虹婵°倧鎷烽梺鍗炴喘閺岋綁寮崼顐ｎ棖缂備焦鍔楅崑銈咁潖妤﹁￥浜归柟鐑樺灣閸犲﹪姊洪崨濠忚�跨紒鐘崇墪閻ｇ兘濮�閵堝棛鍔堕悗骞垮劚濡矂骞忓ú顏呭仭婵犲﹤鎳庨。濂告偨椤栨稑绗氱紒鍌氱У鐎佃偐锟芥稒顭囬崢閬嶆⒑鐟欏嫬鍔ゆい鏇ㄥ弮閸┿儲寰勯幇顓犲幗闂佸疇妫勫Λ妤呯嵁閺嶎厽鐓冮悷娆忓閻忔挳鏌熼瑙勬珚妤犵偛娲﹂幏鍛村川婵犲啰褰甸梻鍌氬�风粈渚�骞楀鍕弿闂傚牊绋撻弳鍡欑磼鐎ｎ厽纭堕柡鍡畵閺岀喐娼忛崜褏鏆犻柛銉︽尦濮婃椽宕ㄦ繝浣虹箒闂佹悶鍔屽畷顒勫煝閹炬番鍋呴柛鎰ㄦ杹閹锋椽鏌ｉ悩鍏呰埅闁告柨鑻埢宥夊箛閻楀牏鍘甸梺鍛婂灟閸婃牜锟芥熬鎷�?
								TeamManager.logger.debug("INFO:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极瀹ュ绀嬫い鎾跺Х閸橆垶姊绘担鍛婅础闁稿簺鍊濆畷娲醇閵夛箑锟藉潡鏌ら幁鎺戝姢缂佺娀绠栭弻娑㈠焺閸忊晜鍨规禍鍛婂鐎涙鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸鐎癸拷鐎ｎ剛鏆犻柧浼欑到閵嗘帒顫濋悡搴ｄ画闂佸磭绮幑鍥ь潖閾忓湱鐭欓柛顭戝櫘閸斿姊洪幖鐐插婵炲皷锟芥剚鍤曞┑鐘崇閸嬪嫰鏌涢幘鍐茬骇閺佸牓姊虹涵鍛汗閻炴稏鍎遍‖濠咁樄鐎殿喗鎮傚畷銊э拷娑櫱氶幏娲⒑閸涘﹦绠撻悗姘煎灦閿濈偤鏁冮崒娑氬幈闂佸搫鍊稿锟犲矗閸曨垱鐓涘ù锝堫潐瀹曞瞼锟芥鍣崜鐔镐繆閸洖鐐婇柍璇″墾缂嶄礁顫忛搹鍦煓婵炲棙鍎抽崜閬嶆煟閵忊晛鐏￠悽顖涘笒閻ｇ敻宕熼顐ｅ瘜闂侀潧鐗嗗Λ娑欐櫠椤掑嫭鐓曢柍杞扮閺嗭絿锟芥鍠撻崝宥囩矉閹烘棑鎷烽敐搴′簽闁告ü绮欏楦裤亹閹烘垳鍠婇梺鍛婎焾閸嬫劕顕ユ繝鍕＜婵☆垶鏅茬花濠氭⒑閹稿孩顥嗘い鏇嗗嫭娅犻柟缁㈠枟閻撴盯鎮橀悙鎻掆挃婵炴彃鐡ㄩ〃銉╂倷閹碱厾鍔烽梺璺ㄥ枍缁瑥顭囪楠炴顭ㄩ崼鐔蜂患闂佹眹鍨归幉锟犲煕閹达附鐓欑紒瀣仢椤掋垻鐥悙顒佸�愰柡灞剧洴婵℃悂濡搁敂璁冲摋缂傚倷绶￠崳顕�宕ｉ崘顔肩畺闁靛繈鍊曠粈鍌炴煕韫囨挸鎮戞い蹇曞枛濮婄粯鎷呴挊澹捇鏌ㄥ顓滀簻闁挎洑鐒﹂ˉ澶嬨亜椤撶偞鍠樼�殿喖锟界噥妲烽梺鐚存嫹濞寸姴顑嗛悡鏇㈡倶閻愭彃鈷旀い锝嗙叀閺屾盯鎮㈤崫鍕闂佸搫鏈粙鎾绘晸閺傘倗绉靛ù婊勭矒椤㈡棃顢橀姀锛勫幐闁诲繒鍋涙晶钘壝虹�涙﹩娈介柣鎰彧閼板潡鏌熷畷鍥ラ柟鐟板瀹曨偊宕熼銉ュ缚濠电姷顣槐鏇㈠磻閹达箑纾圭憸蹇涙晸娴犲娑ч柣顓炲�搁悾鐑藉捶椤撶喎纾繛鎾村嚬閸ㄨ京绱炴惔鈾�鏀介柣鎰级閳绘洖霉濠婂嫮鐭岀紒顔剧帛鐎靛ジ寮堕幋鐙�鍟囬梺鍝勵槸閻楀棙鏅堕挊澶屾殕婵炴垶鐟ょ换鍡涙煙缂佹ê绗у褝闄勯幈銊︾節閸屾稒鍎撻柣鎾卞�濋幃褰掑炊閵娿儳绁峰銈庡亐閺呯姴顫忓ú顏咁棃婵炴垶鑹鹃·锟介梻浣筋嚃閸犳牠宕愰崸妤冨祦闁告劏鏅涢閬嶆煙绾板崬骞楅柡鍜佷邯濮婅櫣鎹勯妸銉︾亞濠碘槅鍋勭�氫即骞冩ィ鍐╁�婚柦妯侯樀閸炲爼姊洪崫鍕偍闁告柨绉瑰鏌ュ閵堝棌鎷洪柣鐘充航閸斿矂寮稿鍥╃＜妞ゆ梻鏅幊鍥煟濞戝崬娅嶆鐐差儔閺佸啴鏁撴禒瀣厑闁搞儺鍓氶悡娑㈡煕閵夈垺娅呴柡瀣閺屾稑顫滈崱鏇犲嚬缂備胶绮换鍫ュ箖娴犲顥堟繛鎴烆殘閹规洟姊绘担绛嬪殭缂佺粯鍨归幑銏ゅ醇閵夈儲鐎梺鐟板⒔缁垶宕靛澶嬬厪濠㈣埖锚閺嬬喖鏌ｉ妶鍕獢婵﹨娅ｉ幏鐘诲灳瀹曞洣鍝楅梻浣稿悑濡炲潡宕归崼鏇炴槬闁绘劕鎼粻锝夋煟濞嗗繑鍣洪悗姘秺閺屻劌鈹戦崱娑憋拷妤�霉濠婂懎浠遍柡灞剧☉铻ｉ柛锔诲幘閻撴挸鈹戦纭锋敾婵＄偠妫勯悾鐑芥倻缁涘鏅ｉ梺缁樺姈瑜板啴鈥栭崱妯肩瘈闁汇垽娼ф禒婊咃拷娈垮枛閻栧ジ骞冭閹晝鎷犻懠顒傛毇闂備浇娉曢崰鎾存叏鐎靛摜涓嶆繛鎴欏灪閻撶喐淇婇妶蹇斿闂佺粯顨呯换妯虹暦閵忥紕顩烽悗锝庡亐閹锋椽姊婚崒姘卞濞撴碍顨呭嵄闁割偅娲橀悡鏇㈠箹濞ｎ剙鐏柛娆欐嫹闁诲氦顫夊ú婊堝极鐠囪尙鏆﹂柛顐ｆ礀閻撴盯鎮楅敐搴′簻妞ゅ繗娉涢埞鎴︽倷閼碱剙顣洪梺璇茬箲缁诲倿鍩㈠鍛瀻闁规儳顕崢鐢告⒑閸涘﹤鐏熼柛濠冪墱閿熻姤鐔幏锟�?,inviterRoleId: "+inviterRoleId);
								if(!checkSingleInvitingExist(inviterRoleId, invitedRoleId))
								{
									//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇划宥囷拷闈涖偢閹晝绱掑Ο鐓庡箞闂備礁鎼ú銏ゅ礉鐏炲墽顩叉繝闈涙川缁犻箖鏌涢锝囩畺闁诡垰鐗婇妵鍕敂閸曨偅娈绘繝纰橈拷宕囧煟鐎规洖宕灒闂佸灝顑呴鎼佹⒒閸屾瑧顦﹂柟娴嬶拷鎰佹綎鐟滅増甯囬敓钘夊暣瀹曘劑顢橀悙鐐瑰亽闂傚倸鍊风粈浣虹礊婵犲洤纾诲┑鐘叉搐缁�鍫ユ煥閺囩偛锟藉綊宕愰悽鍛婄厱妞ゆ劧绲剧粈鍐煕婵犲嫭鏆柡灞剧洴閺佸倻鎷犻幓鎺旑啈闂佽绻愮换鎺戔枍椤＄挦l闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴闇夐柨婵嗙墛閵嗗啴鏌ｉ幒鎴含闁哄本绋戦埥澶娾枎閹邦喚鈻忕紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
									TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Χ閸曨偅鍎撶紓鍌欑贰閸犳牠鎮ч幘宕囨殾闁绘梻鈷堥弫宥嗙箾閹寸偠澹樼�殿喛娅曠换婵嬫偨闂堟稐娌梺鎼炲妼閻栧ジ寮�ｎ亶娓婚柕鍫濇噺缁傚鏌涚�ｎ亝顥㈤柟顖ゆ嫹濡炪倕绻愰悧鍡欑不濮樿鲸鍠愰悗锝庡枛绾惧鏌曡箛瀣拷鏍偂閻斿吋鐓欓柛顭戝枛閺嗘瑥霉濠婂嫬顥嬮柨鐔凤拷鐕佹綈婵炲弶鐗犻幃銉╁礂闂傚绠氶梺褰掓？閻掞箓寮插鍫熺厽闁逛即娼ф晶濠氭煕濮橆剚鍠樻慨濠呮閹风娀骞撻幒婵嗗Ψ缂傚倷绀侀鍡欐暜閻愬搫绠查柕蹇嬪�曢柋鍥ㄧ節閸偄濮堢紓宥呴閳规垿鎮欓崣澶嗘灆婵炲瓨绮嶇换鍫濈暦閹达箑鍐�妞ゆ挾鍠庨敓钘夌仛缁绘盯骞嬮悜鍡曠棯濡炪倕绻愰悧婊堝极閸岀偞鐓ラ柣鏇炲�圭�氾拷?,inviterRoleId: "+inviterRoleId);
								}
								else if(isLeaderInDuel(inviterRoleId))
								{
									// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?
									TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉濡ょ姷鍋為敃銏ゃ�佸▎鎾村殐闁冲搫锕ら弫濂告⒒閸屾瑧顦﹀鐟帮躬瀹曟垿宕ㄩ鐓庢惈椤粓鏁撴禒瀣畺闂勫洨绮诲☉銏犵妞ゆ牗绋掗弶鎼佹⒒娴ｈ櫣甯涢柛鏃�顭囨禍绋库枎閹邦噮娴勯梺闈涚箞閸婃牠鎮￠弴銏＄厸闁告劖瀵х�氬綊鎮楅惂鍛婂闂佸綊妫跨粈渚�鎷戦悢鍏肩叆婵炴垶锚椤忕敻鏌熸搴″幋闁轰焦鍔欏畷鐓庘攽閸繂缂氶梻浣筋嚙鐎涒晠鎳濋崜褏绀婂┑鐘插亞濞兼牕鈹戦悩瀹犲缁炬儳鍚嬬换娑㈠幢濡櫣鐟ㄩ梺鍛婏公缁绘繈寮婚敐鍫㈢杸闁规儳澧庨悿鍕⒑閸涘﹥鈷愰柛銊ユ健閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?,TeamId: "+inviterTeamId);
								}
								else if(checkMap(inviterRoleId, invitedRoleId))
								{
									//闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪Ч濠�渚�姊虹紒妯虹伇婵☆偄瀚竟鏇熺節濮橆厾鍙嗗┑鐘绘涧濡厼危閸濄儳妫柟瑙勫姦濞兼劗绱掔紒妯兼创妤犵偛顑夐幃娆撳礃閳轰礁鎽甸悗娈垮枤椤牓顢橀崗鐓庣窞閻庯綆鍓欏铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍�閵囨劙骞掗幘璺哄箞闂佽鍑界紞鍡涘礈濞嗘挸鍑犻柟瀵稿Х绾捐偐绱撴担璇＄劷婵炴彃鐡ㄩ〃銉╂倷瀹割喖鍓伴梺瀹狀嚙濮橈妇绮诲☉銏犲嵆婵﹩鍘兼禍婵囩節閻㈤潧啸妞わ綀妫勫嵄闁告稒娼欑壕濠氭煕濞戞鎽犻柡鍛箞閺屾洝绠涚�ｎ亷鎷烽弴銏″珔闁绘柨鍚嬮悡鐔兼煛閸屾繃纭舵繛鍫ヤ憾閺岋紕锟斤綆鍋呴ˉ鍫ユ煛鐏炲墽娲撮柍銉畵楠炲鈹戦崶鈺�鎲鹃梻鍌欐祰椤曆呮崲閹邦喚鐭撻柣鐔煎亰濞兼牠鏌ｉ幋鐏活亪顢氭潏銊х闁糕剝锚閻忊晝鎮敃锟介埞鎴︽倷閼碱剚鎲肩紓渚囧枛缁绘劙鍩㈤弬搴撴妞ゎ偒鍠氱粙蹇涙椤愩垺澶勬慨濠呭吹瀵囨晸閽樺鏀芥い鏃�鏋绘笟娑㈡煕閹惧娲撮挊婵嬫煏婵炲灝鍔存繛鎾愁煼閺屾洟宕煎┑鍥ф缂備胶濮抽崡鎶藉箖濡わ拷椤繈鎮℃惔锛勭潉闂備浇顕栭崰妤呫�冩繝鍥х鐟滅増甯掗幑鑸点亜閹捐泛顎撶紒鍗炲暱閳规垿鎮欓懜闈涙锭缂備焦鐓＄粻鏍х暦閻熸壋鏀介悗锝庝海琚濇俊鐐�栭崝褔姊介崟顖涘亗闁哄洢鍨洪崐鐢告煥濠靛棗鏆欏┑鈥炽偢閺屻劑鎮㈢拠娈嬫挾绱掔拠鎻掞拷鍧椼�佸鑸垫櫜濠㈣埖蓱閺呮繈姊洪棃娑氱畾闁哄懏鐩獮鍐箣閿旇В鎷洪梺鍛婄☉閿曪絿娆㈤柆宥嗙厱闁靛鍎遍懜褰掓煃缂佹ɑ宕岀�殿喗鎸虫慨锟介柍鎾呮嫹闁归攱妞藉娲川婵犲嫧妲堥梺鎸庢磸閸庢彃顕ラ崟顖氱妞ゆ牗绋撻崢閬嶆煟鎼搭垳绉甸柛瀣噹閻ｉ浠︾紒銏☆啍闂佺粯鍔樼亸娆戠不閸欏浜滈柨鏃�鍎抽。濂告煙椤栨稒顥堟い銏＄☉閳藉顫滈崱鏇犲闂傚倸鍊烽悞锔撅拷绗涘懏宕查柛灞句緱濞堜粙鏌涘☉姗堟敾婵炲懐濮甸妵鍕冀椤愵澀娌梺绋匡工閻忔岸骞堥妸銉建闁糕剝顨呯粻褰掓⒑閸涘﹦绠栨俊鐐扮矙瀵鍨惧畷鍥ㄦ畷闁诲函缍嗛崜娑溾叺婵犵數濮烽。浠嬪礈濠靛纾块柤娴嬫櫇娑撳秵绻涢幋娆忕仼婵☆偅蓱缁绘盯宕卞Δ锟界紞鏍磼閹插瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾寮ч敓浠嬫⒒閸屾氨澧涚紒瀣尰閺呭爼濮�閵堝棛鍘藉銈嗘尵閸嬬偤藟閵忋倖鐓欐い鏃傜摂濞堟粓鏌℃担鐟板闁诡垱妫冮崺鍕礃椤忓啯鍠氶梻鍌氬�烽悞锔界箾婵犲洤缁╅弶鍫氭櫆閺嗘粓鏌ㄩ悢鍝勑㈤柦鍐枑缁绘盯骞嬪▎蹇曚患缂備胶濮甸惄顖炲蓟濞戞粎鐤�闁规儳鐡ㄩ崰鎰版⒑閻戔晜娅呴梺甯到椤繐煤椤忓嫪绱堕梺鍛婃礋濞佳囧礈闁秵鈷戦柣鎴旀櫆濞呮捇鏌涢妸銊︾【妞ゆ洩绲剧换婵嗩潩椤撶喐顏熼梻浣虹帛钃辩憸鏉垮暣閹虫捇宕归瑙勬杸闂佺粯鍔栧娆撴倶閿斿浜滈柕濞垮劜椤ャ垻锟借娲樺姗�锝炲┑瀣殝缁剧増蓱鐎氬ジ姊洪崫鍕垫Ш闁稿鍋炵粩鐔煎幢濞存澘娲弫鍌炲礈瑜忛敍婊勭節閵忥絾纭炬い鎴濇娴滄悂鏁冮崒娑氬幍濡炪倖妫佸Λ鍕礉閵堝鐓冮悷娆忓閻忊晠鏌ㄩ悢鍛婄伄缂傚秴妫欑粋宥夋倷閺嶇娲璺衡枎閻愵剙鐦滈梻渚�娼ч悧鍡椢涘Δ浣瑰弿闁挎洖鍊归悡鏇㈡煙閹呮憼闁汇劍鍨块弻銊╂偄鐠囨畫鎾绘煠閻熸澘鈷旂紒杈╁仦缁绘繈宕惰閻ｅ搫鈹戞幊閸婃洟骞婅箛娑樼柧闁哄被鍎辩粻鍦磼椤旂偓顏熼柟椋庡厴楠炲洦鎷呯憴鍕偘闂傚倸鍊峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鍩涢幋鐐簻闁硅櫣鍋炵�氬湱绱撴担鍓叉Ш闁轰浇顕ч悾鐑藉箣閿曪拷閻撴盯鏌涘☉鍗炴灀闁瑰嘲鎼—鍐Χ閸℃鍤嬮梺鍦厴椤ユ挾妲愰幒鎾崇窞閻忕偟鍋撳В鍫ユ⒑缁洘娅嗛柣鈺婂灦閻涱喚锟斤綆鍠楅弲婊堟煟閿濆懓瀚扮�殿喗濞婂缁樻媴閾忕懓绗″┑鐐插级閻楃姴鐣烽幇鏉挎嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝Ω閵堝棗鏋ら梻浣筋嚃閸ㄤ即鎳熼婵堜簷闂備礁鎲℃笟妤呭垂閹峰被浜归柛鏇ㄥ灡閳锋垿鏌熼懖鈺佷粶闁告梹锕㈤弻娑㈠棘鐠恒剱銈囩磼椤旇偐澧︾�规洖銈告俊鐑芥晜閹冪濠碉紕鍋戦崐鏍箰妤ｅ啫绐楅柟閭﹀墰閺嗭妇锟界櫢鎷烽柛鏇ㄥ墰閸橀潧顪冮妶鍡橆梿闁稿鍔楃划鏃堟惞閻у憡瀚归悷娆忓缁�锟介梺缁樼墪閸氬绌辨繝鍥х濞达綀鍊介妸褎鍠愰煫鍥ㄧ☉鍥撮梺缁樺灱婵倝鍩涢幒鎳ㄥ綊鏁愰崼鐕佷哗闁汇埄鍨遍惄顖炲蓟閻旂厧宸濆┑鐘插暙閿熻姤鍔楅敓鍊燁潐濞叉﹢宕濆▎蹇曟殾鐟滅増甯╅弫瀣煕濞戝崬鏋ょ紒瀣╃閳规垿鎮╅崹顐ｆ瘎婵犳鍠氶弫濠氬箠濠靛绀堢憸蹇涙儗閸℃稒鐓曢柟鑸妽閺夊搫霉濠婂嫮鐭掗柣鎿冨亰瀹曞爼濡搁敃锟界喊宥咁渻閵堝懏绂嬪ù婊庝邯瀵鏁愰崱妯哄妳闂侀潧鐗嗗Λ顓熺閳哄啰纾藉ù锝勭矙閸濇椽鏌熺粙娆剧吋妤犵偛绻樺畷銊╁级閹寸媭鍚呴梻浣告贡閸庛倝宕归崼鏇炵？闁瑰墽绮埛鎺懨归敐鍕劅闁绘帞鍋撻妵鍕箣濠靛洤鏋犻悗瑙勬礃閸ㄥ潡骞冮姀銈呬紶闁告洦鍋嗘禍鐗堢節閻㈤潧浠滄俊顐ｇ懇楠炴劖绻濆顒傛煣闂佸綊妫块悞锕傛偂閵夆晜鐓熼柡鍥╁仜閿熻棄婀遍敓鑺ョ啲閹凤拷?
									Team team = TeamManager.getInstance().createNewTeam(inviterRoleId);
									if(team == null)
									{
										//fire.pb.talk.Message.sendMsgNotify(inviterRoleId, TeamManager.ERROR_MSG_SELF_CANT_IN_TEAM, null);
										fire.pb.talk.MessageMgr.sendMsgNotify(invitedRoleId, TeamManager.ERROR_MSG_OBJECT_CANT_IN_TEAM, null);
										TeamManager.logger.debug("FAIL:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎处缁绘繂顕ラ柨瀣凡闁跨喕濮ゅú鐔风暦椤栨稑顕遍悗娑櫭崜鐟扳攽閻愬弶顥為柟绋款煼閹�斥枎閹炬潙锟界敻鏌ｉ姀鈽嗗晱闁绘帡绠栧畷顖炲传閵壯咃紲闂佽鍨庨崘顏嗏棨缂傚倷绶￠崰妤呮偡閳轰緡鍤曞┑鐘崇閸嬪嫰鏌ｉ幘铏崳妞わ富鍙冮幃宄邦煥閸愵亞顔婇梺杞扮贰閸犳牠鍩ユ径鎰潊闁挎稑瀚敮妤呮⒒閸屾瑧顦﹂柣蹇旂箞椤㈡牠宕卞Δ鍐╂閻庣櫢鎷烽柛鏇ㄥ墰閸樻悂鎮楅惂鍛婂闁诲函缍嗛崜娑溾叺闂佽瀛╅鏍闯椤曪拷瀹曟粓鎮㈡搴㈡閻熸粎澧楃敮鈺呭极鐎ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灥椤曆呭緤鐠囪鐟邦煥閸涱厺妲愰梺鍝勭焿缂嶄礁顕ｉ鍕閹兼惌鍠楅敍鍡涙⒒娴ｅ憡鎯堥柣顒�銈稿畷浼村冀椤撴粣鎷锋担绯曟婵☆垶鏀遍～宥呪攽椤旂瓔娈旀俊顐ｇ懇钘熼悗锝庡墰绾句粙鏌涚仦鍓ф噰婵″墽鍏橀弻娑㈠棘閼愁垰顏銈庡幖濞差參寮幘缁樺亹闁肩⒈鍓涢弳顐︽煟鎼达絾鍤�閻庢凹鍘界粩鐔猴拷锝庡枛閸戠娀骞栧ǎ顒�鐏紒鐘荤畺閺屾盯鍩勯崗鐙�浜幃姗�鍩￠崨顔惧幐闂佺硶鍓濋崝鏇㈡晸閼恒儳绠撴い顐㈢箻閹粌螣鐠囧樊娼梻浣筋潐椤旀牠宕抽鍢夛綁顢欓崜褏锛濇繛杈剧到婢瑰﹤危濞差亝鐓欓柧蹇ｅ亝瀹曞矂鏌熼锟界粻鏍箖濠婂牊鍤嶉柕澶堝劙缁ㄧ敻姊洪崷顓炲付闁宦板姀閹筋偊姊洪崫鍕喊闁归鍏樺濠氬磼濞嗘帒鍘＄紒缁㈠幖閻栫厧鐣峰鍐ｆ斀閻庯綆浜為ˇ鈺呮偡濠婂懎顣奸悽顖涘浮閹虫粓宕烽鐔锋瀾闂佺粯顨呴悧鍡欑箔濮樿埖鐓冮梺鍨儏缁楁帡妫佹径鎰叆婵犻潧妫欓崳娲煙椤栨氨澧﹂柟顔荤矙椤㈡稑顫濋澶嬫闂備焦鐪归崕鐑樼閻愬灚顫曢柟鐑橆殔椤懘鏌ｅΟ鍨毢闁活偄瀚伴弻锝嗘償閵忊晛鏅遍梺鍝ュУ椤ㄥ﹪骞冮敓鐘虫櫢闁绘﹩鍣幏閿嬬瑹閿熻棄顕ｉ幘顔碱潊闁斥晛鍟悵鏍⒒娴ｈ姤纭堕柛鐘茬Ф閸掓帒鈻庤箛锝呮闂佸憡绋戦敃锕傛偡瑜版帗鐓ラ柣鏃傜帛椤ュ銇勯弴顏嗙М鐎规洖銈稿鎾倷閸濆嫭鏆┑鐘垫暩閸嬬偤宕归崼鏇熸櫔婵＄偑鍊ら崜娆擃敄閸涚补锟芥棃宕橀鍢壯囨煕鐏炲墽鈾侀柣婵囨礋濮婅櫣绱掑Ο缁樺創缂備胶绮换鍫ュ箖娴兼惌鏁嬮柨鐔绘椤曪絾绂掔�ｎ�晠鏌ㄩ弬鍨挃閼叉牠姊婚崒娆戭槮闁硅绻濋獮鎰板幢濞戞顦ㄩ梺闈浤涢崘銊х懇缂傚倸鍊搁崐鎼佸磹閻戣姤鍊块柨鏇炲�堕敓钘夊暣瀹曞崬鈽夊Ο铏癸拷顓㈡⒑閸撹尙鍘涢柛锝庡枛椤洭寮介鐔哄弰闂婎偄娲﹂崙鐟邦焽閹扮増鍊垫慨姗嗗幖閸濇椽鏌＄仦鐣屝у┑锛勫厴婵＄兘濡烽敂鐣屾И濠德板�楁慨鐑藉磻閻愬搫绀夋俊銈呭暞椤洟鏌熼幆褜鍤熼柣鐔烘嚀閳规垿鎮╅幓鎺撴濡炪倕绻楀▔娑㈠煘閹达附鍊烽悗娑櫭棄宥夋⒑缂佹ɑ顥旈柛鎾跺枛閻涱喛绠涢弮鎴炐ч柟鍏兼儗閸ㄨ京锟芥艾缍婇幃宄扳枎韫囨搩浠炬繝銏ｆ硾鐎氫即寮诲☉銏犖╅柨鏇嫹闁崇粯娲橀〃銉╂倷閺夋垹浼岄悗瑙勬礈閸犳牠銆佸☉妯炴帞浜搁弽銊︾彇闂佺懓寮堕悺鏇犵不濞戞ǚ妲堟慨姗嗗墰閵堬箓姊绘担绛嬫綈闁稿孩濞婇、姘额敇閻樺吀绗夋俊銈忕到閸燁垶鎮″▎鎾寸厱闁圭偓顨呴張顒勊夐幘瀵哥瘈闁靛骏缍嗗鎰版煥閺囨ê鐏茬�殿喖顭锋俊鎼佸煛娴ｇ绁俊鐐�曠换鎰拷姘槻鐓ゆい鎾跺Х绾捐棄銆掑顒佹悙闁哄鐩弻锝呂旀担鐟扮闂佷紮绲块崗妯虹暦閿熺姵鍊烽柍鍝勫亞濞兼梹绻濋悽闈涗粶婵☆偅鐟╁畷褰掓偨閸偅娈版俊銈忕到閸燁垶鍩涢幒鎳ㄥ綊鏁愰崼婢挾鐥鐐靛煟闁哄本鐩弫鎰疀閺囩姵娈兼俊銈囧Х閸嬫稓鎹㈠锟藉顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷?");
										return true;
									}
									//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊洪懡銈呅㈡繛娴嬫櫇娴滅鈻庨幋鐘靛箵闂佺粯鍔楅崕銈夊煕閹寸姵鍠愰柣妤�鐗嗙粭鎺懨瑰锟介崡鎶藉蓟濞戙垹绠婚悗闈涙啞閸ｄ即姊虹拠鈥虫珝婵炰匠鍡欎航闂備胶鍘ч～鏇㈠磹濡ゅ懏鍎婇柛顐犲劜閳锋垿姊婚崼鐔烘创闁绘稒绮庣槐鎺楀箵閹烘垟鎸冨┑鐐村灥閻忔岸濡堕敐澶婄闁冲搫鍟獮妤佷繆閻愵亜锟芥牜鏁幒妤�纾归柛婵勫劜閺嗘粓鏌涢锝嗙闁绘挸鍟扮槐鎾存媴閼测剝鍨胯棢闁割偅绺鹃弨鑺ャ亜閺囩偞顥為悗姘秺濮婄粯鎷呴搹鐟扮闂佹寧娲嶉弲鐘茬暦閹达箑宸濋柡澶嬪灦椤ユ繈姊虹捄銊ユ瀺缂侇喗鐟ラ～蹇曠磼濡顎撻梺鎯х箳閹虫挾绮敓鐘斥拺闁圭瀛╅惃鎴︽煟閵夘喕绨界紒杈ㄥ浮婵拷闁绘灏欓惈鍕⒒娴ｇ瓔鍤冮柛锝庡灣閹广垹鈹戠�ｎ煉鎷锋担绯曟闁靛繆锟界鎷烽悜鑺ュ�甸柣銏☆問閻掔偓顨ラ悙鑼ｅǎ鍥э躬婵″爼宕堕‖顔哄劦閺屾稓锟斤綆鍋嗗ú鎾煙椤旂煫顏堝煘閹寸媴鎷烽敐搴′簻闁跨喕妫勯悥濂稿蓟閵堝洤鏋堥柛妤冨仜閳锋洟姊洪崷顓炲幋妞ゃ儲鎹囬獮澶愬箻椤旇偐顦板銈嗗笒閸嬪棗危閹殿喚纾介柛灞剧懄缁佺増銇勯弴鍡楁处閸嬪鏌熼幆褏锛嶉柡鍡檮缁绘稑顔忛鑽ょ泿缂備緤鎷烽悗锝庡亖娴滄粓鏌″鍐ㄥ闁汇劍鍨堕妵鍕晜閸濆嫬顫囧┑顔硷龚濞咃綁鏁撻挊澶嬭础濠殿垼鍙冨畷鐢稿礃椤旂晫鍘遍梺瑙勫劤瀹曨剚淇婄捄銊х＜妞ゆ梻鈷堥悡鍏碱殽閻愬樊鍎旈柡浣稿暣閺佹挻绂掔�ｎ偄浜楅梺鐐藉劜閸撴岸鎮㈤崱娑欑厾闁归棿鐒﹀☉褍鈹戦鍏煎窛缂佽鲸甯￠幃鈺呭传閸曨偅鍎梻浣芥硶閸犲酣鏁撻悾灞芥珡婵炲吋鍔栫换娑㈠矗婢跺苯鈪归梺宕囩帛濡啴寮崘顔肩＜婵ê鍚嬬紞鍌炴⒒娓氾拷濞佳囨偋閸℃あ娑樷槈閵忕姴鍋嶉梺鍛婎殘閸嬫劙寮ㄦ禒瀣厓闁芥ê顦伴ˉ婊堟煟韫囧鍔滈柕鍥у瀵挳宕卞Δ浣割槱闂佺锕ら悥濂稿蓟瀹ュ浼犻柛鏇ㄥ墮濞呫倝姊虹紒妯诲鞍闁荤啙鍥ㄦ櫢闁伙絽鏈崵锟介柣搴㈢煯閸楀啿鐣烽幋鐐电瘈闁搞儜鍜冪吹闂備胶鎳撻顓熸叏妞嬪骸顥氶柛蹇曨儠娴滄粓鏌￠崘銊ワ拷鐟扳枍閺囥垺鐓欓柛鎰级婢跺嫭銇勯妸锝呭姦闁诡喗鐟╁鍫曞箣濠垫劖缍岄梻鍌欐祰椤曟牠宕归崡鐐嶆盯宕橀鍏兼К闂侀潧顦弲娑㈢嵁閵忋倖鐓涢柛銉㈡櫅鍟稿銈忚礋閸庨潧顫忔繝姘＜婵﹩鍓ㄩ幏鐑藉箹娴ｅ摜锛欓梺缁樺灱婵倝宕甸崟顖涚厱妞ゆ劧绲剧壕鐢告煥閻斿憡鐏紒鐘虫尭閻ｉ攱绺界粙娆炬綂闂佺偨鍎遍崯璺ㄨ姳閵夆晜鈷掑ù锝囧劋閸わ拷闂佸鏉垮闁瑰箍鍨介獮鍥偋閸繃鐣梻浣侯潒閸曞灚鐣烽梺缁樻尰濞茬喖寮婚妸鈺佺睄闁搞儴娉涘▓顓炍旈悩闈涗沪闁绘濞�瀵鈽夐姀鐘栤晠鏌ㄩ弬鍨挃闁伙絾妞藉娲濞戞瑦鎮欓柣搴㈢煯閸楁娊鎮伴锟介獮鎺楀箣椤撶偞鍊梻浣稿閸嬪懐鎹㈤崒婊勬殰妞ゆ牗绋愮换鍡涙煟閹板吀绨婚柨鐔诲Г閸旀瑥顕ｉ幓鎺濈叆闁割偆鍠庢禍妤呮⒑鐠恒劌鏋斿┑顔芥尦閹锋垿鎮㈤悜妯烘瀾闂佺懓顕慨閿嬬▔瀹ュ棛绠鹃柟瀛樼懃閻忊晝绱掗悩鍝勫惞闁汇儺浜獮鍡氼檨闁稿孩鍨堕妵鍕閻樺啿娈楀┑顔硷功缁垶骞忛崨顖涘枂闁告洍鏅欓幋鐑芥⒒娴ｅ憡鍟為柨姘舵煏閸喐鍊愰柕鍡曠窔瀵粙濡搁妷褏鐛┑鐘垫暩婵锟芥稈鏅濈槐鐐存償閵忋垻鐦堥梺姹囧灲濞佳勭墡闂備浇鍋愰幊鎾存櫠閻ｅ苯鍨濋柛顐犲劚缁�鍐煃閻熻埇浠掔紒銊ヮ煼濡懘顢曢姀鈥愁槱闂佺懓鎲￠幃鍌炪�侀弮鍫晜闁割偆鍠撻崢浠嬫椤愩垺鎼愭繛瀵稿厴钘濋柨鏇炲�归悡鍐偡濞嗗繐顏╅柣蹇旀尦閺岀喖顢欓悾灞惧櫚闂佺懓纾繛锟芥い銏☆殜閺佹挻绂掔�ｎ亞鍘辨繝鐢靛Т濞诧箓鍩涢幋锔界厽闁绘柨鎲＄欢鍙夌箾閸碍娅婇柡宀�鍠栧畷娆撳Χ閸℃浼�
//									if(!MarryTaskStepManager.checkMarryTaskState(team.getAllMemberIds(), invitedRoleId)){
//										//TODO
//										return true;
//									}
									//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤濞硷繝寮婚悢鐚存嫹閻㈡鐒鹃崯鍝ョ磽娓氬﹥瀚规繝鐢靛Т濞诧箓鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿埖鈷戦梻鍫熺♁閹兼劙鎮楀顓熺凡妞ゆ洩缍侀獮姗�顢欓悡搴わ拷鍨攽鎺抽崐褔骞忛柨瀣ㄤ簻闊浄绲奸柇顖炴煛鐏炲墽鈽夐柍璇叉唉缁犳盯寮撮悪锟介崯瀣⒒娴ｅ憡鎯堥柣顓烆槺缁辩偞绗熼敓浠嬫偘椤曪拷瀹曞爼顢楁径瀣珜濠电偠鎻徊鍧楀箠閹捐绀堥柛顭戝亞缁★拷缂佸墽澧楄摫妞ゎ偄锕弻娑氾拷锝庝簼閸ゅ洭鏌℃担绋挎殻濠殿噯鎷烽梺闈涚墕閹虫捇骞楅弴銏♀拺闁圭娴风粻鎾绘煙閸欏鑰跨�殿噮鍣ｅ畷濂告偄閸涘浠ф繝鐢靛仜椤曨厽鎱ㄩ幘顕呮晞闁糕剝绋戠壕濠氭倵閿濆骸鏋熼柣鎾存礋閺屽秹鍩℃担鍛婃闂佸啿褰炵欢姘跺蓟濞戞瑧绡�闁稿本绮岄悡鐔兼⒑閸濆嫭婀伴柣鈺婂灡娣囧﹪鎮滅粵瀣櫓闂佺粯鎸哥�垫帒顭囨禒瀣拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彆闂佺顑呭Λ婵嬪蓟濞戞矮娌柛鎾楋拷濡插牆顪冮妶鍛寸崪闁瑰嚖鎷�?
									TeamManager.logger.debugWhileCommit("SUCC:闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｅ崬顭胯閸ㄥ爼寮婚悢纰辨晬婵ê宕埅杈╃磽娴ｄ粙鍝洪悽顖ょ節瀵偊骞樼紒妯烘疅闂侀潧顦崕宕囩玻閻愮儤鈷戠憸鐗堝笒娴滀即鏌涘锟界粻鏍х暦閵忋倖瀵犲璺烘閺傦拷闂備礁鐤囧Λ鍕涘Δ鍛�堕柕澶涜礋娴滄粓鏌￠崶褎顥滈柟鍐叉捣濞嗐垽濡舵径瀣幘婵犳鍠楅崝鏇㈡晸缁愭牕娲ょ粻顖滐拷鐟板婢瑰寮搁弮鍫熺厱妞ゎ厽鍨甸弸鐔兼煟韫囨挾校缂佺粯绻堥幃浠嬫濞戞鎹曢梻浣瑰濞插繘宕愬┑瀣拷浣割潩閼稿灚娅滄繝銏ｆ硾閿曨亪宕崼鏇熲拺闁告繂瀚婵嬫煕鐎ｎ剙鏋涚�规洏鍨介獮鏍ㄦ媴閸忓瀚肩紓鍌欑椤戝棛锟界瑳鍐胯�块柟娈垮枤绾惧吋銇勯弮鍥т汗閺佸牓鎮楃憴鍕濠电偛锕ユ穱濠囨倻閽樺鍘搁梺绋挎湰椤ㄥ棛锟芥俺妫勯埞鎴︽倷閼搁潧娑х紓浣瑰絻濞硷繝鍨鹃敃鍌氶唶闁靛繈鍨洪敍蹇涙偡濠婂啰绠虫俊鍙夊姍楠炴帒螖婵犲啯娅撻梻浣稿悑娴滀粙宕曟潏鈺佹瀳鐎广儱鎷嬪〒濠氭煏閸繃顥炵紒宀冩硶缁辨挸顓奸崟顓犵崲闂侀潧妫旂粈浣界亙闂佸憡渚楅崢楣兯囬弶娆炬富闁靛牆妫楅柌婊堟煙瀹勬澘妲婚棁澶嬬節婵犲倻澧旈柟鑼亾閹便劍绻濋崘鈹夸虎閻庤娲樼划鎾荤嵁閹捐绠崇�广儱娲ら崵顒傜磽閸屾艾锟藉嘲霉閸ヮ剦鏁嬬憸蹇涙晸閼恒儱鍤柛妯哄⒔閸掓帞锟斤綆浜堕崥瀣熆鐠轰警鍎愭繛鍛矋缁绘繈濮�閿濆棛銆愬銈嗗灥閸婂潡鐛箛鎾佹椽顢旈崨顏呭闂備胶顭堥張顒�顫濋妸锔芥珷闁规壆澧楅悡娑㈡煕濞戝崬鏋ら柣顓炵焸閺屻劑鎮㈢拠娈嬫捇鏌ｉ弮鎴濆⒋妤犵偛绻橀弫鎾绘晸閿燂拷?(闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鈩冩珖闂佽法鍠撻弲顐ｇ珶閺嚶颁汗闁圭儤鎸鹃崢浠嬫⒑缂佹ɑ鈷掗柛妯犲嫮顩插ù鐓庣摠閻撶喖鏌￠崒娑橆嚋妞ゃ儳鍋涜彁闁搞儜宥堝惈濡炪們鍨虹粙鎴﹀煘閹达箑骞㈤柡鍥╁枔濞兼牜绱撻崒娆戝妽闁稿骸鐤囬妵鎰版倷闂堟稑鐏婂┑鐐叉閹告悂鎷戦悢鍏肩厽闁哄啫鍊哥敮鍓佺磼閿熶粙宕奸姀鈥虫瀾闂婎偄娲﹀ú姗�寮冲鍕闁瑰瓨鐟ラ悘顏堟煟閹惧瓨绀嬫鐐寸墬濞煎繘宕滆閿涚喖鏌℃担鍝ュⅵ婵﹥妞藉畷顐﹀礋椤掍焦瀚抽梻浣哄劦閺呪晠宕规导鎼晪闁挎繂顦粻缁樸亜閺傛寧顫嶉柍鍝勬噺閻撳繐顭跨拠鈥崇仩闁稿﹤顭峰顐ｃ偅閸愨斁鎷洪梺鐓庮潟閸婃洘绂掗敂鍓ф／闁哄娉曡倴闂佺懓绠嶉崹钘夌暦濮楋拷椤㈡棃宕ㄩ鐐靛搸濠电姷鏁搁崑鐐哄垂閸洘鍋勬い鎺戝缁狀垶鏌ｉ幋锝呅撻柛瀣ㄥ妽缁绘盯宕奸敐鍡欍�婇梺鍛婃⒐閹倿寮婚敐澶婎潊闁宠桨鑳舵禒鈺傜節閳凤拷閸愨晜宕冲┑鈥冲级閸旀瑩鐛幒妤�绫嶉柟鐐綑椤忓爼姊洪幐搴ｇ畵缂併劏鍋愰懞杈╃磼濡晲绨婚棅顐㈡祫缁茶姤绂嶅┑鍠﹀酣宕惰闊剛锟借娲╃徊鎯ь嚗閸曨剛绡�闁稿被鍊栫紞瀣⒒閸屾瑧顦﹂柣銈呮喘閿濈偞寰勯幇顒�鐎悷婊呭鐢寮查幖浣圭厸闁稿本锚閿熻姤顨堢划鏃堟偨閸涘﹦鍘遍柣搴秵娴滄繈藟閵忣澁鎷风憴鍕缂佽鐗撳顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾寮ч敓浠嬫⒒閸屾氨澧涚紒瀣尰閺呭爼濮�閵堝棛鍘藉銈嗘尵閸嬬偤藟閵忋倖鐓欐い鏃傜摂濞堟粓鏌℃担鐟板闁诡垱妫冮崺鍕礃椤忓啯鍠氶梻鍌氬�烽悞锔界箾婵犲洤缁╅弶鍫氭櫆閺嗘粓鏌ㄩ悢鍝勑㈤柦鍐枑缁绘盯骞嬪▎蹇曚患缂備胶濮甸惄顖炲蓟濞戞粎鐤�闁规儳鐡ㄩ崰鎰版⒑閻戔晜娅呴梺甯到椤繐煤椤忓嫪绱堕梺鍛婃礋濞佳囧礈闁秵鈷戦柣鎴旀櫆濞呮捇鏌涢妸銊︾【妞ゆ洩绲剧换婵嗩潩椤撶喐顏熼梻浣虹帛钃辩憸鏉垮暣閹虫捇宕归鍛瘜闂侀潧鐗嗗Λ娆戜焊閻㈠憡鐓曢柣妯荤叀閸欏嫭銇勯姀鈩冾棃闁轰焦鎹囬弫鎾绘晸閿燂拷),TeamId: "+inviterTeamId);
									return team.addNewMemberWithSP(invitedRoleId);
								}
							}
						}
					}
				}
				else
				{
					java.util.List<String> name = new java.util.ArrayList<String>();
					name.add(invitedName);
					if(checkInviteFromTeam(inviterTeamId))
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫ょ紓渚婃嫹濠电姴娲﹂悡銉╂煟閺冨浂鍤欑悮姘辩磽娴ｈ櫣甯涢柣鈺婂灠閻ｇ兘顢旈崼婵堫槰濡炪倕绻愰弻濠傤煥閸啿鎷虹紒缁㈠幖閹冲繘鎮甸鍡欑＜妞ゆ棁濮ょ亸顓㈡煟閿濆鏁辩紒铏规櫕缁瑩宕归鑲┿偖闂傚倷鑳剁划顖炲蓟閵娿儺鍤曢柛鎾茬筏閹峰嘲顫濋銈囩厯濠殿喖锕︾划顖炲箯閸涙潙宸濆┑鐘插�瑰▓姗�姊绘担鍛婂暈婵☆偅鍨垮浠嬪礋椤撶姷鐒块悗骞垮劚閹峰鎮￠妷鈺傜厱妞ゆ劧绲跨粻鎾绘煕閵堝棗鐏ラ柍瑙勫灴閹瑩寮堕幋鐘辨埛闂備焦鎮堕崝宥咁渻娴犲绠栭柍銉︽灱濡插牓鏌曡箛銉х？闁告﹢浜跺铏癸拷鍦У椤ュ淇婇锝庢疁闁绘侗鍠栬灃闁告侗鍠栭敓钘夌仛閹便劌螣閻撳簼澹曢柣搴㈢啲閹凤拷
						Long leaderId = xtable.Team.selectTeamleaderid(inviterTeamId);
						if(leaderId!=null)
						{
							fire.pb.talk.MessageMgr.psendMsgNotify(leaderId, 140851, name);
							psendWhileCommit(leaderId, new SRespondInvite(invitedRoleId,(byte)0));
						}
					}
					else
					{
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬭法鐏遍柛瀣仱閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫ょ紓渚婃嫹濠电姴娲﹂悡銉╂煟閺冨浂鍤欑悮姘辩磽娴ｈ櫣甯涢柣鈺婂灠閻ｇ兘顢旈崼婵堫槰濡炪倕绻愰弻濠傤煥閸啿鎷虹紒缁㈠幖閹冲繘鎮甸鍡欑＜妞ゆ棁濮ょ亸顓㈡煟閿濆鏁辩紒铏规櫕缁瑩宕归鑲┿偖闂傚倷鑳剁划顖炲蓟閵娿儺鍤曢柛鎾茬筏閹峰嘲顫濋鎯т划濠殿喖锕︾划顖炲箯閸涘瓨鍤嶉柕澹緤鎷锋繝鍥ㄢ拺闂傚牃鏅濈粔鍓佺磼閻樿櫕宕岄柣娑卞枦缁犳稑鈽夊▎鎰仧闂備浇娉曢崳锕傚箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷??
						fire.pb.talk.MessageMgr.psendMsgNotify(inviterRoleId, 140851, name);
						psendWhileCommit(inviterRoleId, new SRespondInvite(invitedRoleId,(byte)0));
					}
					TeamManager.logger.debug("FAIL闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮敓浠嬪箯濠靛绠瀣捣缁犳梹绻涢幋鐐嗘垿宕虫禒瀣厽妞ゆ挾鍠撻幊鍥煛瀹�锟介崰鎾绘晸閻ｅ本鏆╂い顓炵墛缁傛帟顦规慨濠傤煼瀹曠喖顢曢姀鈺�绱旈梻浣告惈閻鎹㈠┑鍡欐殾婵鎷峰┑鈩冩倐婵＄兘顢涘☉姗嗕紦闂備胶鍘ч～鏇㈠磹濡や胶鈻旂�广儱顦伴悡娑㈡煕鐏炲彞绶遍柛搴涘劦閺岋綁寮幐搴＆闂佸搫琚崐婵嬬嵁閺嶃劍濯撮悷娆忓閺侇亜鈹戦悩鎰佸晱闁哥姵鐗曠叅闁靛ě鍕垫綗闂佸湱鍎ら〃鍡涘磻閹扮増鐓曢柟閭﹀幘閵堟挳鏌＄�ｎ偆鎳囨慨濠冩そ瀹曨偊宕熼浣瑰婵犵數鍋涘鍫曟晪濡炪倖娲忛崕闈涚暦閻旂⒈鏁嶆慨妯挎硾閺佽绻濋悽闈涒枅婵炰匠鍏炬稑螖閸滃啰绋忛梺瑙勫劤婢у海澹曟禒瀣厱閻忕偞宕樻竟姗�鏌ㄩ悢缁橆棄闁硅姤绮庨崚鎺戔枎閹惧磭顦板銈嗙墬濮樸劑顢欓崱妯圭箚闁绘劕妯婇崕蹇旂箾閹绢噮妫戝瑙勬礃缁傛帞锟斤綆鍋嗛崢閬嶆煟韫囨洖浠︾�规洘蓱缁旂喎顫滈敓浠嬪蓟閵娾晜鍋勯柛鎾茶兌閻撴挸顪冮妶鍐ㄥ姕闁规悂绠栧畷姘跺箳濡わ拷闁卞洭鏌ｉ弮鍌ょ劸妞ゅ孩鎹囧铏圭磼濡灝顥濋梺瀹︽澘濡块柨鐔诲Г娣囨椽锝炴径鎰疄闁靛鍎哄銊╂煕閳╁喚娈旂紒鐘烘缁辨挻鎷呴挊澶屽帿闂佺粯鎸撮敓钘夌－閺嗭箓鏌ㄩ悢鍝勑ｉ柣鎺曞亹閿熻棄绠嶉崕鍗炍涘☉銏犵煑闁糕剝绋掗埛鎴︽煕濠靛棗顏�瑰憡绻堥弻娑氾拷锝庡亞濞叉挳鏌℃担瑙勫磳闁圭锕ュ鍕暆閿熻姤顨欓梻鍌欐祰椤曟牠宕板璺虹；闁靛牆顦弸渚�鏌熼崜褏甯涢柡鍛倐閺屻劑鎮ら崒娑橆伓?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?,invitedRoleId: "+invitedRoleId);
				}
				//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲孩缍傞梻浣虹帛閿氶柛姘炬嫹缂備緡鍠氶弫璇差潖濞差亜浼犻柛鏇ㄥ墻濡紕绱撴笟鍥ф灍闁圭懓娲ら锝嗙節濮橆厼浜滈梺鎯х箰濠�閬嶆晬濠婂牊鈷戦梻鍫熺〒缁犲啿鈹戦鐐毈闁诡喗锕㈠畷濂稿Ψ閿旇瀚兼繝鐢靛仩鐏忣亪顢氳閻涱喖螖娴ｅ吀绨婚梺闈涱焾閸庢煡藟閻愮數纾肩�癸拷閸愵喖鎽电紓浣虹帛缁诲牆鐣烽崼鏇楋拷鏍敄椤掞拷濞诧箓鎮￠弴鐔虹闁瑰瓨绻傞懜褰掓煛鐎ｎ偆鈾佺紒缁樼洴瀹曨亪宕橀鍠版粌鈹戦纭烽練婵炲拑缍侀獮鎴﹀礋椤栨鈺呮煏婢舵稑顩ù婊呭仦缁绘繄鍠婂Ο娲绘綉闂佺顑呯�氼噣鏁撻懞銉х叝闁告濞婃俊瀛樼瑹閿熻棄顕ｆ禒瀣垫晣闁绘劙娼ч敓鐣屽仜椤啴濡堕崱妤呭殝闂佸湱鍏橀ˉ鎾舵閹烘鍋戦柨鐔剁矙瀹曞綊宕奸弴鐐舵憰闂佹寧绻傞幉姗�鎮㈤崗鐓庢異闂佸疇妗ㄩ懗鍫曨敃婵傚憡鈷掑ù锝堟鐢盯鏌熺粙璺ㄥ煟鐎规洘娲熼幃鐣岀矙鐠恒劎鏆繝寰锋澘锟芥洟骞婅箛娑樼柧闁哄被鍎辩粻褰掓倵濞戞瑯鐒界紒鐘筹耿閺屸剝鎷呴崷顓烆潷缂備胶绮粙鎾绘晸閻ｅ本鏆╂い顓炵墛閻楀酣姊绘担鍛婂暈婵﹤缍婇幃鐑藉Ψ閳哄绋忛棅顐㈡处閹峰煤椤忓秵鏅滈梺鍛婃处閸欏骸危椤栫偞鈷掑ù锝勮閻掑墽绱掔紒姗嗘疁鐎规洘鍨块獮鍥级鐠侯煈妲遍梻浣芥硶閸犳挻鎱ㄩ悽绋跨厱闁硅揪闄勯悡鐔兼煟閺傛寧鍟炵紒鑸电叀閺岋繝宕卞顐㈡儓缂備浇椴哥敮鐐垫閹烘嚦鐔兼倻濡法妾ㄩ梺璇插椤旀牠宕抽锟藉畷鎴炵節閸ャ儻鎷锋担鍓叉僵闁肩鐏氬▍銏＄箾鐎电孝妞ゆ垵娲ら悾鍨媴鐟欏嫬寮垮┑掳鍊曢鍡欙拷姘辨嚀椤啴濡堕崘銊т痪闂佽崵鍟块弲鐘荤嵁婵犲洤鍐�妞ゆ挾鍋熼崢鎼佹⒑閸涘﹤濮傞柛鏂跨灱缁骞嬮悙鐢电槇闂佹眹鍨藉褍鐡梻浣圭湽閸庨亶藝闂堟侗鍤曢柛顐ｆ礀缁�宀勬煃閳轰礁鏆欐い蹇撶埣濮婃椽宕崟顒�鍋嶉梺鎼炲妼濠�杈╁垝婵犳碍鍋愰悹鍥皺椤旀劕鈹戦悜鍥╃У闁告挻鐟︽穱濠冪鐎ｎ偆鍘搁梺鍛婁緱閸犳宕愰幇鐗堢厸鐎癸拷鐎ｎ剛鏆犻柧浼欑到閵嗘帒顫濋悡搴ｄ画闂佸磭绮幑鍥ь潖閾忓湱鐭欓柛顭戝櫘閸斿姊洪幖鐐插婵炲皷锟芥剚鍤曞┑鐘崇閸嬪嫰鏌涢幘鍐茬骇閺佸牓姊虹涵鍛汗閻炴稏鍎抽敓鑺ヮ問閸撶喖寮幇鏉垮耿闁归偊浜為惄搴ㄦ⒒娴ｇ懓顕滄慨濠傜秺瀹曟洟骞庢慨鎰舵嫹閸屾稓闄勯柛娑橈功閸橀潧顪冮妶鍡欏缂佸甯¤棢闁割偅绺鹃弨鑺ャ亜閺囩偞顥為悗姘秺濮婄粯绗熼敓钘夘焽瑜忛幑銏ゅ幢濞戞顦┑鐘绘涧椤戞劙寮繝鍥╁彄闁搞儯鍔庨埦渚�鏌嶉柨瀣诞闁哄本绋撴禒锕傚礈瑜庨崳顔碱渻閵堝繗顓虹紒鐘虫崌瀵鎮㈤崫鍕�抽梺鍛婎殘閸嬫﹢宕版繝鍥ㄧ參婵☆垵宕电粻鏍煏閸パ冾伃妤犵偛娲畷濂稿即閻曚緤鎷峰澶嬧拺闁告繂瀚崳娲煙椤旂厧锟藉灝顕ｆ繝姘櫇闁跨喎锟界喓浜藉┑鐐存尰閸戝綊宕规潏鈺冩噮缂傚倸鍊搁崐鐑芥嚄閸撲緤鎷峰顒傜鐎规洜鍠栭崺锟犳晸閻ｅ矁濮冲┑鐘崇閳锋垹鎲搁悧鍫濈瑨濞存粍婢橀湁婵犲﹤鎳庢禒閬嶆煙椤栨俺瀚伴柍璇查叄楠炴锟界數顭堥獮鎰版煟鎼达絾顏熼柟椋庡厴閹鏁愭惔鈥愁潾闂佷紮绠戦悧鎾诲箖濡ゅ啯鍠嗛柛鏇ㄥ墰椤︺儵姊洪棃娑氬闁诡喖鍊挎俊瀛樼瑹閿熻棄顕ｉ幘顔碱潊闁斥晛鍟悵顐︽⒒娴ｅ憡鍟炴繛璇х畵瀹曟垿宕熼宥嗗浮瀹曞ジ濡烽敂瑙勫闂佽崵濮村ú锕併亹閸愵噮鏁嗛柕寰涢绨婚梺鍝勫枦閹风兘鏌ｅΔ鍐ㄐ㈤柣锝囧厴椤㈡盯鎮滈崱妯绘珖闂備焦瀵уú鈺呭箯妞嬪函鎷烽悷鐗堝暈缂佽鍟存俊鐢稿礋椤栨氨鐫勯梺鎼炲労閻撳牆螞閸曨垱鈷戦柛娑橈攻閳锋劖鎱ㄥΟ绋垮婵″弶鍔欓獮妯兼嫚閼碱剨绱叉繝鐢靛仜濡瑩宕归崹顐＄箚闁伙絽鐬肩壕钘壝归敐鍛棌闁稿孩鍔欓弻娑㈠Ω瑜庨弳顒勬煛娴ｇ鏆ｅ┑顕嗘嫹闂佹枼鏅涢崯鎵矓閸洘鈷戦柛鎰级閹牓鏌涢悢璺哄祮闁诡喚鍋ゅ畷妤呮嚃閳哄啰妲囬梻渚�娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡闂佺粯顨堟繛锟界�规洖鎼埥澶愬閻樻鍚呴梻浣虹帛閸旓附绂嶅▎鎴ｅС濠电姵纰嶉埛鎴︽煕濠靛棗顏╅柡鍡樼懇閺屾稒绻濋崒婊冪厽闂佽桨鐒﹂幑鍥箰婵犲啫绶炴俊顖氭惈婢瑰孩淇婇妶鍥ラ柛瀣〒閹广垹顫滈敓浠嬬嵁閸愵煈鐓ラ柛顐ゅ枎濞堢喖姊洪棃娑辨Ф闁稿孩澹嗛懞閬嶆寠婢跺棙鏂�闂佺粯鍔橀崺鏍亹瑜忕槐鎺楁嚑閼告妫勯梺鎸庢磸閸ㄤ粙寮婚崱妤婂悑闁糕剝銇炵花鐢告⒒娴ｄ警鏀伴柟娲讳邯濮婁粙宕熼姘卞幈闂佸湱鍎ら崵姘炽亹閹烘挻娅滈梺鍛婁緱閸犳牠寮抽崼銉︹拺闁告縿鍎遍弸鏃堟煕鐎ｃ劌锟芥繈鐛崘鈺冾浄閻庯絽鐏氶弲顒�鈹戦悩璇у伐闁哥啿鏅涢埢浠嬵敂閸℃瑧锛濇繛杈剧秬濞咃絿鏁☉銏＄厽闁冲搫锕ら悘锔撅拷娈垮櫘閸嬪﹪鐛Ο鑲╃＜婵☆垳鍎ら悿鍛存⒒娓氾拷濞佳囨晬韫囨稑妞藉ù锝呮啞濞呮姊婚崒姘拷椋庣矆娓氾拷楠炲鍩勯崘顏嗘嚌濠德板�曢幊搴ㄦ儗濡ゅ懏鐓曢柟浼存涧閺嬫盯鏌ｉ鐕佹疁闁哄本鐩鎾Ω閵壯傜敾闂備胶绮幐鑽ょ矙閹剧粯鏅搁柣锝呮湰椤忕喖鏌熸搴″幋闁诡喗顨婇弫鎰償閳ヨ尙鐩庢俊鐐�曟蹇涘箯閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
				}
				finally{
					deleteInvite(invitedRoleId);
				}
				return true;
			}
			
		};
		resInviteP.submit();		
	}
	
	private boolean checkMap(long leaderRoleId, long applierRoleId){
		boolean inWaiting1 = false;
		boolean inWaiting = false;
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垹顭峰缁樻媴閻熼偊鍤嬪┑鐐插级閻楃姴鐣烽幇鏉跨濞达絿顭堥悗顓㈡⒑缁嬫寧婀伴柛鈺佸暣瀵劍绂掔�ｎ偆鍘遍柣蹇曞仜婢т粙鎯岄妶澶嬬厽闁圭儤鍨甸埛鏃傜磼鏉堛劌娴柟顔规櫅閻ｇ兘宕惰缂佲晠姊绘担鍛婃儓閻炴凹鍋婂畷婵嗙暆閸曨偆鍘撮梺纭呮彧缁犳垿鐛姀鈩冨弿婵°倧鎷锋俊顐ｇ懇閺佹捇濡烽敂璺ㄧ畾闂佺粯鍔︽禍婊堟晸閼恒儱濮嶇�殿喗鐓￠、鏃堝醇濠靛牜鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?
		final fire.pb.map.Role  invitMaprole = fire.pb.map.RoleManager.getInstance().getRoleByID(leaderRoleId);
		final fire.pb.map.Role  desMaprole = fire.pb.map.RoleManager.getInstance().getRoleByID(applierRoleId);
		if(invitMaprole == null || desMaprole == null){
			return true;
		}
		int srcMapId = invitMaprole.getMapId();
		MapConfig cfg = ConfigManager.getInstance().getConf(MapConfig.class).get(srcMapId);
		
		int desMapId = desMaprole.getMapId();
		MapConfig descfg = ConfigManager.getInstance().getConf(MapConfig.class).get(desMapId);
		
		if(inWaiting || inWaiting1){
			return false;
		}
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亜顒㈡い鎰Г閹便劌顫滈崱妤�鈷掗梺缁樺笂缁瑩寮婚妶鍡樺弿闁归偊鍓ㄩ幏鐑藉冀椤愵剚瀚规慨姗嗗墻閻撳ジ鏌″畝瀣М鐎殿噮鍣ｅ畷鎺戭潩椤戣法甯涚紓鍌氬�风欢銈夊箯瀹勯偊鐔嗛悹楦挎閻掑潡鏌熸搴″幋闁诡垰鍊垮畷銊︾節閸屻倓绱﹂梻鍌氬�风粈渚�骞夐垾瓒佹椽鏁冮崒姘鳖槶濠电偛妫欓崝妤呫�呭畡鎵虫斀闁稿本纰嶉崯鐐烘煃闁垮鐏存慨濠傤煼瀹曞ジ鎮㈠畡鎵槹闂備礁澹婇崑渚�宕曢柆宥嗗仾闁绘劦鍓涚粻楣冩煙鐎电浠﹂柣銊﹀灴閺岋綁顢橀悙鎼＆闂佸搫鏈粙鎴︽偩濠靛鏅稿ù鐘差儏绾惧鏌ｉ幇顔煎妺闁稿鍊块悡顐﹀炊閵婏箑鐨戦梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑鐏犻柣銊ユ惈闇夐柣姗嗗枛閻忔煡鏌＄仦鍓ф创鐎殿噮鍣ｉ弫鎾绘偩鐏炶棄鐏婇梺瑙勫礃椤曆囨嫅閻斿摜绠鹃柟瀛樼懃閻忊晠鏌涘Δ浣糕枙闁哄本娲濈粻娑氾拷锝庝簽娴煎嫰姊洪崫鍕紞闁稿锕ら～蹇撁洪鍕炊闂佸憡娲﹂崜姘跺箯闁秵鈷戦柣鎴旀櫆濞呮捇鏌涢妸銊︾【妞ゆ洩缍侀、鏇㈡晝閿熺晫绮婚懡銈囩＝濞达綀鍋傞幋婵冩瀺闁靛繈鍊栭埛鎴︽偣閹帒濡兼繛鍛姍閺岀喖宕欓妶鍡楊伓? 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫小闁告濞婂璇测槈濡攱鏂�闂佸憡娲﹂崑鍕叏閵忋倖鈷戞繛鑼额嚙楠炴鏌熼悷鐗堝枠鐎殿喖顭烽弫鎰緞婵犲孩缍傞梻浣虹帛閿氶柛鐔锋健瀵娊宕奸妷锔规嫼缂備礁顑嗛娆撳磿韫囨柣浜滈柟瀛樼箥濡拷闂佺粯渚楅崳锝咁嚕娴犲锟芥牠濡烽妷鈺佸及濡炪們鍨洪〃濠囧极閹惧顩烽悗锝庡亜閿熻棄娼￠弻锝夊箣閻戝棛鍔风紓浣哄█缁犳牠寮诲☉銏╂晝闁绘灏欐禒鎯р攽閻愬弶鍣烘繛鑼枛瀵濡搁埡鍌氫簻闂佺粯鍨惰摫闁绘繍浜滈埞鎴︽倷閸欏娅￠梺鎼炲妺缁瑩鎮伴璺ㄧ杸婵炴垶鐟ラ敓钘夘煼閺屻倝骞侀幒鎴濆Б闂佸憡鐟ュΛ婵嗩潖閾忓湱纾兼俊顖滃劦閹峰姊虹粙璺ㄦ槀闁稿﹥娲熼崺銏狀吋婢跺﹤宓嗛梺闈涢獜缁辨洟宕㈤柆宥嗏拺闁革富鍘奸崝瀣煙缁嬫寧鎲哥紒顕呭弮楠炴帡骞橀崣妯肩泿闂備浇顫夐崕鎶藉疮閸ф绠栭柟瀵稿閹风兘宕归锝囧嚒闁诲孩鍑归崳锝夊极閹捐妫橀柕鍫濇４閹风兘濡烽埡浣侯槹濡炪倖鍔戦崐鏍叾?
		if(cfg == null || descfg == null){
			return true;
		}
		if(cfg.getSafemap() == descfg.getSafemap() && cfg.getSafemap() == 1){
			return true;
		}
		
		return true;
	}

	// 婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋婵愭綗闁跨喕妫勯崐鍧楀箰婵犲啰鐝堕柍鍝勵儑缁夘喚锟借娲滈崰鏍�佸☉姗嗘僵濡插本鐗曢弫鎼佹⒒閸屾瑦绁版繛澶嬫礋瀹曟娊鏁冮崒姘鳖唵闂佽法鍣﹂幏锟�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊璁查弸娆撴⒑缂佹ê绗╁┑顔哄�楅幑銏犫槈閵忕姴鑰垮┑鈽嗗灥椤曆呭枈瀹ュ鈷戠紓浣股戠亸浼存煥閺囨ê鐏茬�殿喖顭烽幃銏ゆ倻濡櫣锛忔俊鐐�ら崢浠嬪垂閸洦鏁侀柨鐕傛嫹
	private static int checkPvP(long inviterRoleId, long invitedRoleId) {
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛濠傛健閺屻劑寮撮悙璇ф嫹閸濄儳涓嶉柡宥庡幗閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熺晫绱掗悙顒�鍔ゆ繛纭风節瀵鎮㈤悡搴ｇ暰闂佺粯顨呴悧婊兾涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撴椽姊虹紒妯哄妞わ綇濡囬敓鑺ョ▓閺呮粎鎹㈠┑鍡忔灁闁割煈鍠楅悘宥嗙節閻㈤潧浠滈柨鏇ㄤ簻椤曪絾绻濆顓熸珫闂佸憡娲︽禍婵嬪礋閸愵喗鐓熼柣妯哄级婢跺嫮鎲搁弶鍨殲闁逛究鍔戝鎾閳撅拷閹疯櫣绱撻崒娆戝妽闁挎岸姊洪崣澶岀煉闁哄瞼鍠栧畷娆撳Χ閸℃浼�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
		return fire.pb.battle.pvp.PvPTeamHandle.onRespondInvite(inviterRoleId, invitedRoleId);
	}

	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝閵忕姴缁╅柣搴ゎ潐濞叉﹢宕归幐搴濈箚闁兼悂娼х欢鐐烘倵閿濆骸澧悽顖涘劤閳规垿鎮╅崹顐ｆ瘎闂佺顑囬崰鏍х暦閹达箑绠婚柡鍌樺劜閻庢椽姊洪崨濠勨槈闁宦板姂閹�斥枎閹惧鍘介梺缁樻⒒椤牓藟鐎ｎ喗鐓曢柍鍝勵儑缁夘噣鏌″畝瀣？濞寸媴绠撻幃娆擃敆閸屻倖袨缂傚倸鍊烽懗鍓佸垝椤栨粍宕查柛鈩冪懅娑撳秵绻涢幋娆忕仼婵☆偅蓱缁绘盯宕卞Δ锟界紞鏍磼閹插瀚�?闂傚倸鍊搁崐鎼佸磹瀹勬噴褰掑炊椤掑鏅悷婊冪箻楠炴垿濮�閵堝懐顔婂┑掳鍊ч幏椋庣棯閹岀吋闁哄矉绲借灒婵炲棙鍎冲▓顓犵磼閻愵剙鍔ゆい顓犲厴瀵鎮㈤悡搴ｎ吋濡炪倖姊婚埛鍫ュ汲椤撱垺鈷戠紒瀣儥閸庡矂鏌涢幘瀵哥疄濠碉紕鏁诲畷鐔碱敍濮橀硸鍞洪柣搴＄畭閸庨亶鎮ч崱娑樺偍闁挎稑瀚壕钘壝归敐鍛儓闁宠鐗忕槐鎺楁偐瀹曞洤鈷屽Δ鐘靛仜閸燁偊锝炲鍫熸櫢濞寸姴顑呯粻鏍ㄧ箾閸℃ɑ灏紒鐘垫暬閺岀喖鎮滃Ο鑲╃暠濠电儑缍嗛崳锝咁潖缂佹ɑ濯村〒姘煎灣閸旀悂姊洪幐搴㈢８闁稿海鏁绘俊鎾礃椤旂厧绐涢柣搴㈢♁閿氬ù鐘插船椤啴濡堕崱妯鸿敿闂佹悶鍔嶅浠嬪春濞戙垹绠抽柟鐐藉妼缂嶅﹪寮幇鏉垮窛妞ゆ柨鍚嬪▓姗�姊绘担绛嬪殐闁搞劋鍗抽幃褔骞樼拠鑼舵憰濠电偞鍨崹娲磻閸曨厾纾奸悗锝庝簽濮樸劑鏌＄�ｎ偆鎳冩い顏勫暣婵″爼宕橀妸褌鐥梻浣藉吹閸熷潡寮查悩缁樺仒妞ゆ洩鎷风�规洖鐖奸、妤佸緞鐎ｎ偅鐝︾紓鍌氬�烽悞锔剧矙閹达富鏁勯柛鈩冪懅缁�濠冧繆閵堝懏鍣洪柍閿嬪笒闇夐柨婵嗘噺鐠愨剝绻濋敓鑺ョ鐎ｎ偆鍘遍梺闈涱焾閸庢椽鎮℃總鍛婄厓闁靛鍨抽悾鐢碉拷瑙勬礀閵堝憡淇婇悜鑺ユ櫇闁跨喍绮欏畷婊堟偡閹佃櫕鏂�闁圭儤濞婂畷鎰板箻缂佹ǚ鎸冮悗骞垮劚濡盯銆呴崣澶岀瘈濠电姴鍊绘晶銏ゆ煕濞嗘劖宕岄柡灞剧洴婵＄兘鏁愰崨顓х�撮梺璇茬箰缁诲宕￠幎钘夎摕闁绘梻鍘х粈鍌炴煟閹炬娊顎楁い顐ｅ浮濮婃椽宕崟顒佹嫳缂備礁顑嗛崹濂告倶閹烘梻纾介柛灞剧懅閸斿秹鏌ㄥ鑸电厱闁绘劕妯婂Ο锟藉┑顔硷攻濡炶棄鐣烽锕�绀嬫い鎺嶇劍鐎氭娊姊绘担鍝勫姦闁哄應鏅犲畷鍦崉娓氼垰娈ㄥ銈嗗姧缁犳垹澹曟總鍛婄厽闁归偊鍘界紞鎴澝归悪锟介崣鍐潖妤﹁￥浜归柟鐑樻尰闁款參姊洪崫銉ユ灆闁稿骸顭锋俊鐢稿箛椤斿灝小婵犻潧顦遍…銆哾ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviteExist(long invitedRoleId)
	{
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯顢曢敐鍡欙紩闂佽法鍠愰弸鑽ょ不閹惧磭鏆﹀┑鍌滎焾椤懘鏌嶉妷銉ユ毐缂併劊鍎靛缁樻媴缁涘缍堟繝銏㈡嚀濡瑩寮茬捄浣曟棃宕ㄩ鐙呯幢闂佽鍑界紞鍡涘窗濡ゅ懏鍋傞柡鍥╁枔缁犻箖鏌熺�涙绠撻柤绋跨秺閺岋綀绠涢弴鐐╂瀰闂佸搫鏈惄顖涗繆閹间焦鏅滈柛鎾楀懏婢栭梻鍌欑閹碱偊鎯屾径灞界筏闁稿﹦鍠撴禍浠嬫⒒娴ｇ鎮戠紒浣规尦瀵彃鈽夊杈╃暥闂佽法鍠撴慨鐢稿煕閹寸姷纾藉ù锝咁潠椤忓牊鐓傛繝濠傜墛閻撴瑩鏌涢幋娆忥拷鏍拷姘炬嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡濠电偛寮剁换鍕箲閵忕媭娼╅柤鍝ヮ暯閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘遍梺鍝勫�藉▔鏇犵不閼姐倧鎷峰▓鍨灍鐟滄澘鍟撮崺鐐哄箣閻欏懏瀚归柨婵嗙凹缁ㄤ粙鏌涘Ο缁樸仢婵﹥妞藉畷顐﹀礋椤愶絿浠岄梻浣哥秺椤ユ捇宕楀锟藉濠氬即閵忕姷鍊為悷婊冪Ч椤㈡棃顢橀悤浣诡啍闂佺粯鍔栭幆宀勬倿娴犲鐓欓柣鐔告緲椤忣參鏌熼鐣岀煀閾伙綁姊婚崒姘煎殶闁圭顦靛濠氬磼濮橆剨鎷锋搴ｇ焼濞撴熬鎷锋鐐差樀閺佹捇鎮╅崘韫敾闂傚倷绶￠崜娆戠矓鐎靛摜涓嶆い鏍仦閻撶喖鏌熸潏鍓у埌鐞氭岸姊洪幎鑺ユ暠閻㈩垱甯″﹢渚�姊洪幐搴ｇ畵婵炲眰鍊濆畷婵堬拷锝庡枟閻撴洟鏌曢崼婵堢閻庢艾缍婂濠氬磼濞嗘劗銈板銈嗘肠閸涱喖搴婇梺纭呮彧闂勫嫰宕电仦杞挎棃鏁愰崨顓熸闂佺顑傞弲婵嬫晸閻ｅ本鍤�閻庢矮鍗冲畷鎴炵節閸屻倗鍔烽梺闈浥堥弲婊堟偂閵夆晜鐓熼柡鍌氱仢椤ｆ娊鏌ｉ鐔烘噰闁哄本娲熷畷閬嶅即閻欙拷濡差喖顪冮妶搴′簼缂佽鐗撻妴浣肝旀担鍝ョ獮闁诲函缍嗘禍婊堝储閻愭祴鏀介柨娑樺娴滃ジ鏌涙繝鍐⒌妤犵偞鍔欓幃娆擃敆閿熶粙宕归弮锟介妵鍕箻閺堢數闂┑鐐叉▕娴滄粎绮婚悷鎳婂綊鏁愰崨顓炶緟闂佸湱鏌夊▍锝囨閹捐纾兼繛鍡樺灥婵′粙姊洪幐搴″摵闁哄矉缍�缁犳盯濡疯閺嗐倝姊鸿ぐ鎺撴暠闁搞劏娉涢…鍥疀濞戞鍘搁梺鍛婂姦娴滅偤寮抽妷鈺傗拻濞达絼璀﹂弨浼存煙濞茶閭慨濠佺矙瀹曠喖顢涘鍗炲箞闂備胶顢婇幓顏堟⒔閸曨垱鍋傞柡鍥╁枔缁犻箖鏌熺�电鍓抽柛蹇ｅ墴閺屾盯寮崒姘亪闂佸搫鏈惄顖炲箖閵忋垺瀚氶柤纰卞墯椤曟绱撻崒娆愮グ濡炴潙鎽滈弫顕�鏁撻悩鑼暫闂佸啿鎼幊搴ｇ矆閸愵喗鐓曟繛鍡楁禋濡插ジ鏌ｈ缁舵艾顫忕紒妯诲闁荤喖鍋婇崵瀣磽娴ｇ瓔鍤欓悗姘緲閻ｇ兘骞嬮敃锟藉洿婵犮垼娉涢敃銉╂倵椤掑嫭鈷戦柛娑橈工婵箓鏌涢悩宕囧⒈濠㈣娲熷畷妤呮嚃閳哄喚鍟庨梻浣烘嚀椤曨參宕戦悩宕囩彾婵☆垵銆�閺�鑺ャ亜閺囩偞顥為悗姘炬嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
		xbean.InviteInfo invite = xtable.Teaminvite.get(invitedRoleId);
		if(invite == null)
			return false;
		else if(!invite.getBeinginvited())
			return false;
		else if((now - invite.getInviting().getInvitetime()) > TeamManager.MAX_INVITE_TIMEOUT)
		{   //闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤閸撗勫厹濡わ絽鍟悡鐔搞亜閹虹偞瀚归梺闈涚墛閹倿鐛崱妤冩殕闁告洦鍋嗛鎺旂磽閸屾瑧鍔嶆い顓炴喘瀹曘垽鎮介悽鐢碉紳闂佺鏈悷鈺侇瀶閻戣姤鐓曢柕濞垮劤缁夎櫣锟芥鍠氶…鍫ュ煡婢跺娼╅弶鍫氭櫔缁卞弶淇婇悙顏勶拷鏍礉閿曞倸绀堟慨妯诲敾閹峰嘲顫濋悙顒�顏�?
			invite.setBeinginvited(false);
			cleanTimeoutInvites(invite.getInvited());
			return false;
		}
		else
			return true;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儳锛滈梺闈涱焾閸庡秷銇愰幒鎾充汗閻庣懓澹婇崰鏍礈閹惰姤鈷戦柛娑橈功閹冲嫭绻涢崣澶涜�垮┑锛勬暬瀹曠喖顢涘槌栧敽闂備胶鎳撻悺銊ф崲閹版澘绠柣鎴ｅГ閸ゆ帡鏌曢崼婵囧婵☆偅绮嶇换婵嬫濞戞﹫鎷烽幖浣哥疅闁跨喓濮甸崑鍌炴煏婢跺棙娅嗛柣鎾跺枛閺岋繝宕堕埡浣风捕闂佽法鍠曞Λ鍕耿闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗??闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkOnline(long roleId)
	{
		if(StateCommon.isOnline(roleId))
			return true;
		else
			return false;
	}	
	
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵娿儱鐎梺绋跨灱閸嬬偤鎮″▎鎾寸厵妞ゆ牗绋掔欢鑼偖濮樿埖鈷戠紒瀣仢椤掋垺銇勯妸銉含妤犵偛鍟灃闁告侗鍠楀▍婊堟煙閼测晞藟闁告挻绻堥幃妯侯吋婢跺鎷洪梺瑙勫劶婵倝寮柆宥嗗仺妞ゆ牓鍊楃弧锟介悗娈垮枦椤曆囧煡婢舵劕顫呴柣妯兼暩閺夋悂姊绘担渚劸缂佺粯鍔欓獮妤�顭ㄩ崼鐔峰壆闁瑰吋鐣崝宥夊煕閹达附鐓曟繝闈涙椤忔挳鏌涙惔锛勭缂佺粯鐩獮姗�顢氶崨顕呮婵犵锟藉啿绾ч柛鏃�鐟╅悰顕�骞掑Δ锟界粻濠氭倵闂堟稒鎲搁懖鏍⒒閸屾瑧绐旀繛浣冲洠锟斤箓宕奸妷銉э紵闂佹儳娴氶崑鍕敋鏉堚晪鎷烽惂鍛婂闂佸憡娲﹂崜娆撴晸閻ｅ本鏆柟顔煎槻閳诲氦绠涢幙鍐х棯缂傚倷绶ら幏鐑芥煕閹般劍鏉哄ù婊勭矒閺屾洘绻涢崹顔煎Х閻庤鎮堕崕鐢稿蓟閿濆鏅查柛娑卞幗浜涙俊鐐�ら崑鍛垝閹捐鏋侀柟鎯ь嚟椤╃兘鎮楅敐搴″缂佷緤绠撳铏规喆閸曨偆顦ㄥ銈嗘肠閸涱垯绗夐梺瑙勫劶婵倝鎮″▎鎾村�甸柣銏☆問閻掗箖鏌涢幘璁虫喚闁哄本绋戦～婵嬵敆婢跺﹤澹庢繝娈垮枛閿曘倝鈥﹀畡鎵殾闁圭儤鍨熼弸搴ㄦ煙閻戞ê鐏ラ悽顖ｅ灦濮婄粯鎷呮笟顖涙暞濠电偛鎳忓ú鐔肩嵁閹达箑鐐婃い鎺炴嫹缂佺姵鐗楁穱濠囶敍濞嗘帩鍔呭┑鐐茬毞閺呯娀骞冪憴鍕╁亰闁圭瀵掓禒鈺侇渻閵堝棙鐓ユ繛宸幖椤繐煤椤忓嫬绐涙繝鐢靛Т鐎氼喚妲愭导瀛樷拺缂佸鐏濋銏ゆ煟閹垮嫮绡�闁轰焦鍔欓幃娆撳传閸曨偄绁梻渚�娼ф蹇曟閺囥垹鐭楅柛鈩冪♁閳锋垹绱撴担鑲℃垹绮堥敓浠嬫⒑缁嬪尅宸ユ繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInvitedTeamFuctionEnable(long invitedRoleId)
	{
		return true;
	}
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敆娴ｇ懓鍓电紓鍌欑筏閹风兘鏌涢弴銊ュ箺闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樻⒒濡垶鏌熺憴鍕Е闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呯姴鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠哥壕顓犳閻愬绡�闁搞儜鍛毇婵犲痉鏉匡拷鏇㈠箠韫囨稑鐤鹃柡灞诲劚缁犲湱绱掗鐐仧闁归鍏橀獮鍥ㄦ媴鐟欏嫮銈伴梻鍌氬�峰ù鍥敋瑜忛敓鑺ョ▓閺呮繈宕版繝鍌ゅ悑闁告侗鍨卞▓鏇㈡⒑瑜版帗锛熺紒锟芥笟锟介幏鎴︽偄閸忚偐鍙嗗┑鐘绘涧濡厼危閹间礁鐐婇柟缁㈠枟椤ュ﹥銇勯幇鈺佺仾濠㈣泛瀚伴弻锛勪沪鐠囨彃顫囧銈冨灪濡啴寮幘缁樻櫢闁跨噦鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾绮绘ィ鍐╃厵閻庢稒顭囬幊鍐煟韫囷絼閭柡灞剧〒閿熸枻鎬ラ崘銊㈡嫟缂傚倷鑳剁划顖滄崲閸惊娑㈠礃閵娿垺顫嶉梺鍛婎殘閸嬫稒绔熸径鎰拻濞达綀娅ｇ敮娑㈡煙濮濆矈鍤欓悡銈夋煟閺冨倸甯堕柦鍐枛閺屾洘绻涢悙顒佺彅濠碘槅鍋呴敃銏ゅ蓟閻旇櫣鐭欓柛顭戝櫘閸斿姊虹粙鍨劉闁规瓕宕甸幑銏犫攽閸″繑鐏侀梺鍓茬厛閸犳鎮橀崼銉︹拺缂佸灏呮Λ姘亜椤愩埄妲虹紒顔界濞煎繘濡歌閻﹀牓姊洪崨濠冨闁告挻鐟╅幃鍨鐎涙ê浠┑鐘诧工鐎氼參鎮￠妷锔轰簻妞ゆ帪鎷烽柨鏇ㄤ邯閵嗕礁顫濋懜鍨婵炲濮撮鍛不閺嶃劋绻嗛柕鍫濇噺閸ｆ椽鏌涚�ｃ劌濮傛慨濠傤煼瀹曞ジ鎮㈢悰鈩冾潔濠电偛顕慨鐢告晪濡炪値浜滈崯瀛樹繆閸洖骞㈡俊顖濇椤ｆ煡姊绘笟锟藉褔鎮ц箛娑掞拷锕傚醇閵夛箑浠奸梺缁樺灱婵倝宕戦崟顓犳／闁瑰嘲鐭傞崫娲煛閸涱亝娅婃慨濠呮缁辨帒螣鐠囪尙顣叉繝鐢靛仜椤曨參宕楀锟介獮鍐┿偅閸愨晝鍔堕悗骞垮劚濡矂骞忔繝姘拺缂佸瀵у﹢浼存煟閻旀繂娲ょ粈澶岋拷骞垮劚椤︿即宕愰悽鐢电＜婵°倓鑳堕埥澶愭煙閾忣偄濮嶉柟顖氳嫰閳诲酣骞樼�电骞嶉梻浣侯攰椤宕濋敃鍌氬惞婵炲棙鍨圭壕濂告煙闁箑寮炬繛鍫熺矋椤ㄣ儵鎮欑�电鈪归柤鎸庡姈閵囧嫰骞掗悙鏉戭伓闂備浇娉曢崰鏇熸叏閵堝鍨傞柛鎾茶兌閻锟藉箍鍎遍ˇ顖炲箲閼哥偣浜滈柟鎹愭硾閺嬪酣鏌＄�ｎ偄鐏存慨濠冩そ瀹曨偊宕熼锝嗩唲闂備胶绮〃鍛涘☉姘灊濠电姵纰嶉崑鎰版煕韫囨挻鍣界紒鐘冲哺濮婃椽妫冨☉姘暫闂佺懓鍟跨换妯虹暦閸愯娲敂閸涱叏鎷烽悽鍛婄厽闁靛繈鍊栧☉褏锟芥稒绻傞—鍐Χ鎼粹�崇哗濠电偛顦板ú鐔肩嵁閹达箑绀嬫い鎺戝�婚幊婵嗩渻閵堝棛澧柤鍦亾缁旂喎顓兼径瀣ф嫽婵炶揪绲介幉锟犲疮閻愬瓨鍙忔俊顖滎焾婵″吋銇勯弬璺ㄧ缂侇喒鏅犻妴鍌炲及閻氱嚳ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInvitedInNoTeam(Long invitedTeamId)
	{
		if(invitedTeamId == null)
			return true;
		else
			return false;
	}
	
	private boolean checkCruiseWhenInvited(long invitedRoleId){
		PropRole prole = new PropRole(invitedRoleId, true);
		if(prole.getProperties().getCruise() > 0) {
			return true;
		}
		return false;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁搞儺鍓氶悡蹇涚叓閸ャ劍绀�閸熸悂姊洪幐搴ｃ�掗柛鐘崇墪椤繐煤椤忓嫭宓嶅銈嗘尨閸撴繈顢撳Δ鍛拺闁告縿鍎辨牎闂佺粯顨堟慨鎾偩閻戣棄唯鐟滃酣宕伴崱娑欑厱闁哄洢鍔岄獮姗�鏌ｉ敃锟介悧濠勬崲濠靛鍋ㄩ梻鍫熷垁閵忋倖鐓曞┑鐘插鐢盯鏌￠崨鐗堢【闁宠棄顦垫慨锟介柨娑樺鐢姊婚崒娆戭槮闁诲繑绻堥、鏍幢濡ゅ啯娈鹃悗鐧告嫹闁告洦鍓涢崢鎼佹倵閻у憡瀚归柣搴秵閸撴稖鈪甸梺璇插椤旀牠宕抽锟藉畷婊堟偄妞嬪孩娈鹃悷婊呭鐢晠寮�ｎ喗鐓曟繛鎴濆船閺嬬喐銇勯弮锟介崹鍦閹捐纾兼慨姗嗗墾閹烽攱顦版惔銏╁仺闂侀潧鐗嗛ˇ顖滅不椤栨粣鎷烽悷鏉款仾濠㈢懓顑夊銊︾鐎ｎ偆鍘藉┑鈽嗗灠閹碱偆鐥椤法鎹勯崫鍕典純闂佸搫鐭夌紞渚�鐛Ο鍏煎磯闁绘垶顭囨禍顏堟⒒娴ｅ憡鎯堥柡鍫墮鐓ゆ俊顖氬悑瀹曞弶绻涢幋娆忕仼闁搞劌鍊归妵鍕籍閸屾艾浠樺銈庡亝閹哥粯绌辨繝鍥ㄥ�锋い蹇撳閹风兘寮撮悘鑽ゆ嚀椤繄鎹勯搹鍦幀闂備礁鎲￠崝锕傚窗閺嶎厽瀚呴柣鏂挎憸缁犻箖鏌熺�电浠ч柟鍐叉噽缁辨帡鍩ラ崨顔碱伓闂傚倸鍊烽懗鍫曗�﹂崼銏″仏妞ゆ劧绠戠壕褰掓煛閸ャ儱鐏╃紒锟介崼銉︾厵闁诡垱婢樿闂佹娊鏀遍崹褰掑箟閹间焦鍋嬮柛顐ｇ箑閸掑﹤鈹戦埥鍡椾簼闁搞劎鏁婚崺鐐哄箣閿旇棄锟藉鏌涢妷锝呭妞ゅ繐鐖煎铏规嫚閸欏鏀銈庡亜椤︻垳鍙呭┑顔筋殣閹风兘鏌熼鎯у幋闁糕晪绻濆畷鎺戔枎閹寸姷鏆伴梻鍌欑婢瑰﹪宕戦崨顒兼椽寮介鐔凤拷宄扳攽閻樻彃顏柛鐘冲姍楠炴牕菐椤掞拷婵¤偐鐥悙顒�顕滈柕鍥у缁犳盯骞樼捄渚澑闂備焦濞婇弨杈╂暜閹烘绠掗梻浣瑰缁诲倸煤閿曞倸鍚归柨鐔绘椤啴濡堕崱妯碱槰缂備緡鍠栧ù宄拔ｉ幇鏉跨闁哄啯鎸荤�氬綊鏌ㄥ┑鍡涱�楀ù婊勭矒閺岋綀绠涚�ｎ亜濮曢梺闈涙搐鐎氫即銆佸锟介幃娆戯拷娑櫳戦崐閿嬩繆閻愵亜锟姐倝宕戞笟锟藉畷纭呫亹閹烘垹鍘洪梺浼欑到閼活垶藟濮橆厽鍙忓┑鐘插暞缁�瀣叏婵犲偆鐓肩�规洘甯掗～婵嬵敆婵犲啫顏舵俊鐐差儏濞寸兘鎯岄崱妞硷拷鎺戭潩閻愵剙顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鐘栄囩叓閸ャ劍鐓ユい蹇氭硾閳规垿顢欓惌顐簻閻ｇ兘顢楅崟顐㈠亶闁诲海鏁诲濠氬箯妞嬪孩鍠嗛柛鏇ㄥ墰椤︺儳绱撻崒姘毙㈤柨鏇樺�濋幃楣冩倻閼恒儲娅㈤梺缁樏崯鍧楁晸閽樺鐓奸柡灞剧洴閸╁嫰宕橀鍛珣濠电姵顔栭崰妤�顪冮挊澶樻綎缂備焦蓱婵挳鏌涢敂璇插箺闁煎灝娲娲箹閻愭彃顬堢紓鍌氱Т閿曨亪鎮伴钘夌窞闁归偊鍘藉▍銏ゆ⒑缂佹〞鎴ｃ亹閸愵喖绠氶柣鎰嚟缁★拷闂佹眹鍨藉褍鐡梻浣告憸閸犲棝宕濆鍥╃焿鐎广儱鎷嬮悡銉╂煕椤愮姴鐏╃憸鏉垮濮婃椽骞栭悙鎻掑闂佸憡鏌ㄧ粔鑸电閹间緡鏁囬柕蹇ョ磿閸樻悂姊虹化鏇燁潑闁告ê澧界划鏃堫敋閿熶粙寮婚敍鍕勃闁告挆鍕灡濠电姷顣介敓钘夌－閸╋絿锟借娲︽禍婵嬪箯閸涱垳鐭欓柛顭戝櫘濡牓姊婚崒姘拷鎼佸磹缁嬫５娲Χ婢癸箑娲獮宥夘敊閽樺绨ユ繝鐢靛█濞佳兠洪妸褍濮柨鐔剁矙濮婅櫣绮欓幐搴㈡嫳缂備礁顑嗛崹鐢稿煝瀹ュ鏅插璺侯儌閹峰搫鈹戦鐐殌婵炲眰鍊栨穱濠冪鐎ｎ偆鍘遍梺闈涱焾閸庤尙鎷归埄鍐х箚闁告瑥顦慨宥嗩殽閻愭潙娴鐐搭焽閿熶粙娼ч幗婊嗗�撮梻鍌氬�风欢姘焽瑜旈垾锕傚醇閵夈儳锛熼梻渚囧墮缁夊绮诲ú顏呯厽闁靛繒濮甸崯鐐烘煕婵犲嫭鏆柟顔煎槻閳诲氦绠涢幙鍐х棯缂傚倷绀侀惌浣糕枖閺囩姵顫曢柟鐐墯閸氬鏌涢弴銊ュ箻闁绘稏鍨藉娲濞戞瑯妫涚紓浣藉煐閼归箖顢氶敐澶樻晪闁跨喕妫勯悾鐑芥偂鎼存ɑ鏂�闂佸壊鍋呯换鎰板箯閻戣姤鍊烽柣鎴灻禒顓炩攽閻樿宸ラ柛鐔哄閺呫儵姊绘担铏瑰笡濞撴碍顨婂畷鏉款潩閼稿灚娅㈤梺鍝勫�堕崐妤冪矓閻㈠憡鐓曢柣妯诲墯濞堟粓鏌涢埡鍌滄创妤犵偛顑夐弫鍌滄喆閿濆棗顏洪梻鍌欑婢瑰﹪宕戦崨顖氭瀳鐎广儱鎳夐弸宥夋煕椤愮姴鍔滈柣鎾存礃閹便劌顫滈崱妤�顫╅梺璺ㄥ枙婵倝骞冮崒鐐茬伋闁挎洖鍊归崵鍕亜閺嶇數绋绘い搴℃处缁绘繈鎮介棃娑楃捕闂佺懓鍢查澶婎嚕閼碱剛灏垫い顏嗗脯ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviteFromTeam(Long inviterTeamId)
	{
		if(inviterTeamId != null)
			return true;
		else
			return false;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔戦幊妤呭醇閺囷拷閸ヮ亶妲婚梺瀹狀潐閸ㄥ潡宕洪妷鈺佸耿婵°倕鍟╅幋椋庣磽閸屾艾锟藉摜绮旂�靛摜鐭撶憸鐗堝笒閺嬩線鏌熼柇锕�骞栫紒鍓佸仱閹鏁愭惔鈥茬凹闂佺粯绻冨ú鐔奉潖缂佹ɑ濯撮柦妯猴紞閹剧粯鐓ユ慨姗嗗幑娴滄粓鏌ㄩ弮鍥ㄧ《闁活厽鐟ч敓鍊燁潐濞叉粓寮紒妯圭箚闁兼悂娼х欢鐐烘倵閿濆簼鎮嶉柟椋庡厴瀹曞綊顢曢锝庡晬闂備胶绮崝妯间焊濞嗘劗顩烽柕蹇嬪�栭悡鏇㈡煛閸愭寧瀚归悗鐧告嫹闁归棿绀侀拑鐔兼煥濠靛棙鍟掗柡鍐ㄧ墛閺呮悂鏌ｉ敐鍛拱鐎规洘鐓￠弻鐔兼倻濡崵鍙嗛梺鎼炲妽缁诲倿鍩為幋锔藉亹鐎规洖娴傞弳锟犳⒑缁嬪尅宸ユい顓犲厴瀵濡舵径濠勭暢闂佸湱鍎ら崹鍨叏鎼淬劍鈷戦悹鎭掑妼閺嬫瑦淇婇銏狀伃闁诡喗锚椤繃娼忛妸銉ョ哎婵犵數鍋為崹顖炲垂閸︻厾涓嶉柨婵嗩槹閻撶喖鏌熺�涙绠栨い銉︾懇閺岋綁濡烽鑽ょ泿濡炪値浜滈崯瀛樹繆閸洖宸濇い鏍ㄧ矤閸炲爼姊虹拠鎻掝劉缁炬澘绉归獮鍐磼閻愯尙鐤囬梺瑙勫礃椤曆呯不娴兼潙绠归悗娑欘焽閳笺儳绱掗妸銉吋婵☆偄鎳橀、鏇㈠閳ユ剚妲遍梻浣烘嚀閹芥粓宕戦幘璇茬柧閻犻缚銆�濡插牓鏌曡箛銉х？闁告ɑ鎮傚娲川婵犲嫮鐒肩紓渚婃嫹濞达綀顫夊▍鐘绘煙缂併垹鏋熼柣鎾寸〒閿熺晫娅㈤幏鐑芥倵閿濆骸澧扮悮锕傛煟鎼淬埄鍟忛柛锝庡櫍瀹曟粓鎮㈡搴㈡閻熸粎澧楃敮鈺呭极婵犲洦鐓曟繛鍡樏禍鎰版煛閸涱喚娲撮柛鈺冨仱楠炲鏁傞挊澶涙嫹閻戣姤鐓涘璺侯儏閻忥箓鏌ｉ敂钘夌伌婵﹥妞介獮鏍倷閹绘帒顫戦梻浣告啞閺屻劑鏌婇敐鍛殾闁靛緵鏉夸簼闂佸憡鍔忛弲婵嬪储娴犲鐓欓柤娴嬫櫈钘熼梺鍛婃尰缁诲嫰骞忚ぐ鎺戠伋闁哄倶鍎查弬锟芥俊鐐�栧濠氬磻閹捐姹叉い鎺戝鐎电娀鏌ｉ弬娆炬疇闁绘柨妫濋幃瑙勬姜閹峰矈鍔呴梺绋垮閸ㄥ湱妲愰幒妤�鐓￠柛娑卞枛椤忓爼姊婚崒姘拷宄懊归崶褉鏋栭柡鍥ュ灩缁愭锟藉箍鍎卞ú銈夊垂濠靛洨绠鹃柛鈩兩戠亸顓犵磼閻樺磭澧柕鍥у缁犳盯骞橀幖顓燂骏缂傚倷鐒﹂崬鑽ょ不閹捐钃熼柨婵嗩槹閸嬫劖绻涢崼锝嗙《闁告瑦浜癲ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviterTeamExist(xbean.TeamInfo teamInfo)
	{
		if(teamInfo != null)
			return true;
		else
			return false;
	}
	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閺堫剛绮欓幒妤�绠氶柡鍐ㄧ墛閺咁剟鏌涢弴鐔锋瘑闁搞儯鍔庨崢鎼佹煟韫囨洖浠滃褑妫勭叅閻庣敻娼婚幏宄扳枔閸喗鐏嶉梺瑙勭摃濞呮洘绌辨繝鍥х濞达綀鍊介妸褎鍠愮�癸拷閸曨偂绱跺┑掳鍊曢幊蹇涘煕閹烘嚚褰掓晲閸粳鎾剁棯椤撶偟鍩ｉ柡灞剧洴閹晠鎼归銈庢К闂佹崘宕甸崑銈夊蓟濞戙垹鍗抽柕濞垮劤娴煎洭姊烘潪鎵槮閻庢矮鍗冲璇测槈閵忕姈銊︺亜閺冨倸甯舵い顐熸櫇缁辨挻鎷呴崫鍕碉拷宀勬煕閵娿儳鍩ｇ�殿喖顭烽弫鎰板川閸屾粌鏋涢柟铏墵閸┾剝鎷呮笟顖氫还闂傚倸鍊烽懗鍫曞箠閹剧粯鍎戝ù鍏兼綑绾惧潡鏌ｉ姀銏╃劸闁藉啰鍠愮换娑㈠箣閻愮數鍙濆┑鐐茬焾娴滎亪寮诲☉銏犵婵°倧鎷烽柟铏姍瀵娊濡堕崱鏇犵畾闂侀潧鐗嗗ú銈呮毄闂備胶顭堢�涒晠宕归崸妤冨祦闊洦绋掗崐濠氭煠閹帒鍔楅柟椋庣帛缁绘稒娼忛崜褎鍋ч梺鐑╁墲濡啫鐣烽棃娑掓瀻闁圭偓娼欓敓钘夌仛缁绘盯骞嬮悙鑼懖濠电偛鎳庡ú銊ф閹烘鏁婇柣锝呮湰閸ｆ澘螖閻橀潧浠﹂悽顖涘笩閻忓啯绻涙潏鍓хК妞ゎ偄顦甸幃鐢稿Ω閿斿墽鐦堥梺姹囧灲濞佳冩毄闂備浇妗ㄧ粈渚�骞夐敓鐘茬濠电姴娲ょ粻缁樸亜閺冨洤浜规い鏂挎濮婄粯鎷呴崫銉よ檸濡炪倖鍨甸崯顖滅矉瀹ュ拋鐓ラ柛顐犲灩瑜板嫰姊洪幖鐐插姌闁告柨绉舵禍鍛婂鐎涙鍘遍梺鎸庣箓閹冲繘骞嗛崼銉︻梿濠㈣泛顑囩弧锟介悷婊冪Ч閹ê鈹戠�ｎ偅娅㈤梺鍏间航閸庤櫕鏅堕柆宥嗙厵妤犵偛鐏濋悘鈺呮煃閽樺妯�濠殿噯鎷烽梺缁橆焾鐏忣亪鏁撻挊澶屼虎闁宠鍨堕獮濠囨煕婵犲啯绀嬫鐐诧攻閹棃鍩ラ崱妤侇吙濠电偛顕崢褔鎮洪妸鈺佺厱闁硅揪闄勯悡娆撴煠濞村娅呭ù鐘崇矒閺屻劑鎮㈢拠娈嬫挻绻涢懠顒�鏋涢柕鍡曠窔瀵粙濡搁妷褏鐛┑鐘垫暩婵锟芥稈鏅濈槐鐐存償閳撅拷閺�浠嬫煟閹邦剙绾ч柍缁樻礀闇夋繝濠傚缁犵偟锟芥鍠楅悡锟犵嵁閺嶃劍濯撮柛锔诲幖瀵娊姊绘担铏瑰笡婵炲弶鐗犲畷鎰板捶椤撱劍瀚规慨妯煎亾鐎氾拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ婢跺﹦鐣鹃梺缁樺姉閸庛倝鍩涢幋锔界厱婵犻潧妫楅顐︽煃鐠囧樊妯�闁哄本绋撻敓鏂ょ秵娴滄繈宕甸崶顒佺叆婵犻潧鐗嗘禒杈╋拷娈垮枟閹告娊骞冮姀銈嗘優闁革富鍘介～宀勬⒒閸屾艾锟芥悂宕愰幖浣瑰亱濠电姴鍟伴悷瑙勪繆閵堝懏鍣圭痪鎯ф健閺岀喖骞嶉纰辨毉闂佺粯鎸诲ú鐔煎蓟閺囥垹閱囨繝闈涚墢椤斿鏌ｆ惔銏ｅ缂傚秴锕ら～蹇曠磼濡顎撶紓浣圭☉椤戝懎鈻撻鐘电＝濞达綀娅ｇ敮娑㈡偨椤栨鎷峰畷鍥ㄦ闂佺鎻梽鍕磻閹扮増鍋ｉ柛銉簻閻ㄦ椽鏌ㄥ☉娆戞创婵﹨娅ｉ幉鎾礋椤愵偅顥嬪┑鐘媰閸曞灚鐤侀悗瑙勬礃閸ㄥ潡宕洪崟顖氱闁挎棁娉曢惄搴ㄦ⒒娴ｅ憡璐￠柛搴涘�濆畷褰掓偨閸撳弶鏅滈梺鍐叉惈閸熸壆澹曟總鍛婄厽婵炲棙鍔楅幊鍐╃箾鐠囇呯暤闁诡噯绻濆畷姗�顢欓悾灞藉箞婵犵數濞�濞佳兾涘Δ鍜佹晜鐟滃繒妲愰幒鎾剁懝闁割煈鍠栨慨锕傛⒑閸濆嫮鐏遍柛鐘虫崌閺佹捇鎳為妷褉妾ㄥ銈庡幖濞层劎鍒掔紒妯侯嚤閻庢稒顭囬崢楣冩⒑缂佹﹩娈旈柣妤�妫濋、姘煥閸喓鍘梺鎼炲劀閸愬彞绱旀俊銈囧Х閸嬬偤鈥﹂崶顒�绠查柛鏇ㄥ灡閸庡酣鏌熼搹鐟颁户缂佸鍣ｉ弻鈥崇暆閿熶粙宕伴弽顓滐拷浣糕槈濡粎鍠栧畷顐﹀礋椤愬秵娲熷缁樻媴閸涘﹥鍎撻梺鍝勭墱閸撴稓鍒掑▎鎾崇闁挎洩鎷烽柣鎾拷鎰佺唵闁兼悂娼ф慨鍥╃棯椤撱劍瀚归梻鍌欒兌缁垶宕濋弴銏╂晪妞ゆ挾鍠撻々鏌ユ煠缁嬪灝鎮佺紒璇叉閺岋綁骞囬崗鍝ヨ兒缂備浇椴搁悧鏇㈡箒闂佹寧绻傞幊蹇涘疮閻愬樊鐔嗛悹鍝勬惈椤忣參鏌″畝瀣М妤犵偞锕㈠畷锟犳倷閹绘帩娼ョ紓鍌氬�烽懗鍓佸垝椤栫偞鍎庢い鏍仧瀹撲線鎮楅敐搴℃灍闁稿﹦鍏橀幃瑙勬姜閹峰矈鍔呭┑鈽嗗亞閸犳牕顫忕紒妯诲闁告稑锕ラ崕鎾愁渻閵堝棗鐏ラ柟鍐查叄濠�渚�姊虹紒妯虹伇婵☆偄瀚划濠氭偄閸忚偐鍘甸梻鍌氬�搁顓⑺囬敂鍓х＜闁绘瑱鎷烽柛鐘崇墵閸╃偤骞嬮敂钘変汗闂佸湱绮敮顏堝箯妞嬪孩鍠嗛柛鏇ㄥ亞缁愮偤姊洪崨濠冨闁搞劑浜堕幃锟犲即閵忥紕鍘梺鍓插亝缁诲啴宕崇憴鍕╀簻闊浄绲藉顕�鏌＄仦闈╂嫹瀹曞洦娈曢柣搴秵閸撴盯寮抽悩缁樼叄濞村吋鐟ч崚浼存煏閸℃ê绗掓い顐ｇ箞閹剝鎯旈敐鍕暰闂備浇妗ㄧ粈渚�鎮ч幘鎰佹綎濠电姵鑹剧壕鍏兼叏濡灝浜归柛娆愭礋濮婃椽宕ㄦ繝鍐ㄩ瀺闂佺儵鏅╅崹鍫曟偘椤曪拷瀹曟﹢顢欓懖鈺傜叄濠电儑绲藉ú銊╊敆椤ｅ獛ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkTeamInvitingValid(xbean.TeamInfo teamInfo, long invitedRoleId)
	{
		java.util.Map<Long,Long> invitings = teamInfo.getInvitingids();
	    cleanTimoutInvitings(invitings);
	    if(invitings.get(invitedRoleId) != null)
	    	return true;
	    else
	    	return false;
	}
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫燂耿閺屻劑鎮㈢紒姗嗘缂備胶濮寸粔鐟扮暦閺囥垹纭�闁诲繒绮浠嬪极閸愵喖纾奸柨鏂垮⒔閳笺倝姊绘担鍛婃儓婵炲眰鍨藉畷鐟懊洪鍛簵闂佺粯鏌ㄩ崥瀣偂濞嗘挻鈷戞い鎾卞妿閻ｉ亶鏌＄�ｎ偆娲撮柡灞剧洴瀵剙鈻庨幆褍澹庨梻浣告惈閺堫剛绮欓幒妤�绠氶柡鍐ㄧ墛閺咁剟鏌涢弴鐔锋瘑闁搞儯鍔庨崢鎼佹煟韫囨洖浠滃褑妫勭叅閻庣敻娼婚幏宄扳枔閸喗鐏嶉梺瑙勭摃濞呮洘绌辨繝鍥х濞达綀鍊借閺屾盯濡烽幋婵嗘殲闁伙附鎹囧濠氬磼濮橆剨鎷烽悜鑺ュ�块柨鏇嫹妞ゎ亜鍟撮獮鎰償閿濆孩閿ゆ繝鐢靛仜濡瑩宕归悽绋垮瀭婵犻潧娲ㄧ粻楣冩煕閳╁叐鎴犱焊椤撱垺鐓㈤柛鎰典簻閺嬫盯鏌＄仦鐣屝ч柛鈹惧墲閹峰懘宕ㄦ繝鍐惧敼婵犵數濮甸鏍垂闁秴绠伴柟鎯版閽冪喐绻涢幋鐐冩岸寮ㄦ禒瀣厱闁斥晛鍠氬▓銏犆归悡搴ｇ劯婵﹥妞藉畷顐﹀礋椤掑﹦绀婇梻浣告啞閿氶柕鍫熸倐瀹曟椽鎮欓崫鍕吅闂佹寧妫佸Λ鍕婵傚憡鈷戦柛娑橈梗缁堕亶鏌涢悩宕囧⒌妞ゃ垺妫冮幊婊堝礂閸濄儳鐣鹃梻浣虹帛閸旓附绂嶅鍫熸櫢闁兼亽鍎虫晶鍨殽閻愭潙濮堥柕鍫秮瀹曟﹢濡歌瀹曞爼姊绘担鍝ョШ闁稿锕畷鏉款潩鏉堚晝鐒兼繝鐢靛Т濞诧箓鎮￠弴銏＄厪濠㈣埖锚閺嬫稑顭胯閸ㄥ爼寮婚敐澶婄閻庨潧鎲￠崳顓㈡⒑闂堟稒鎼愰悗姘緲椤曪綁宕愰悤浣剐俊鐐�戦崕鑼垝閹捐钃熸繛鎴欏灪閸嬪嫰鎮归崫鍕儓缂佷緡鍣ｉ幃妤冩喆閸曨剛锛橀梺鎼炲妺缁瑥顕ｉ锕�绠荤紓浣股戝▍銏ゆ⒑鐠恒劌娅愰柟鍑ゆ嫹5濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁惧墽绮换娑㈠箣濞嗗繒浠鹃梺绋款儍閸婃繈寮婚弴鐔虹鐟滃秹宕锔藉�跺┑鐘叉处閻撴瑩鏌ら崷顓烆暭鐟滄妸鍛＜闁圭粯甯囬崑銏ゆ煙椤旀儳浠︾紒缁樼箞瀹曞爼濡歌鐢儳鈹戦悩鍨毄闁稿鍨跺畷姗�鈥﹂幋婊呯濠电姷鏁搁崑鐘诲磻閹版澘绐楅柡宓本缍庨梺鍛婄箓鐎氬懓顦圭�规洘鍎奸ˇ鏉懨归悡搴☆仼妞ゎ亜鍟存俊鑸垫償閳ュ磭顔愰梻浣虹帛椤ㄥ棝骞戦崶顒傚祦闁糕剝鐟ゅ▽顏堝级閻愭潙顕滄慨濠傜秺楠炲繘宕ㄩ弶鎴狀槯闂佸憡绺块崕鍐测枖閸ф鈷掗柛灞惧嚬閻擃剟鏌涚�ｎ亜顏╅悡銈夋煥閺囩偛锟藉摜绮婚弶搴撴斀闁绘ê鐤囨竟妯肩磼閻樿尙绉洪柡宀�鍠栭獮宥夘敊绾拌鲸姣夐梻浣虹帛閹歌煤濡崵鈹嶅┑鐘叉祩閺佸秵绻濇繝鍌涘櫣缂佹绻濋弻锝堢疀閹捐崵宕紓浣哄У閹瑰洤顕ｆ繝姘櫖闁告洦浜濋崟鍐⒑閸涘﹥瀵欓柛鏇ㄥ亜閻忥繝姊婚崒娆愮グ婵℃ぜ鍔庣划鍫熺瑹閿熻棄鐣烽幇鏉块敜婵°倧鎷风紒鐘崇墵閺岋綁骞嬮敐鍡╂缂備胶濮伴崕鐢稿蓟濞戙垹绠涙い鎾跺仧缁佺兘姊洪悡搴ｏ紞妞ゎ偅绗漜edure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkTeamNotFull(xbean.TeamInfo teamInfo)
	{
		if (teamInfo.getMembers().size() < 4)
			return true;
		else
			return false;
	}
	
/*	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥鐗曠叅闁哄稁鍘肩粻顖炴煙鏉堝墽鐣辩紒鐙�鍨抽敓鐣屾嚀鐎氼厾锟芥艾鐗撳顕�宕煎┑鍫О闂備礁鐤囧銊╂倿閿曞倹鍊靛Δ锝呭暞閳锋帒霉閿濆懏鍟為柟顖氱墛閵囧嫰鏁傜拠鑼桓闂佽鍠楅敋闁宠鍨垮畷濂稿閳藉懐纭�闂佽崵鍠愮划宀�鎹㈤幒鎳筹綁骞囬弶璺唺濠德板�ч幏椋庣棯閹冩倯缂佺粯鐩獮瀣倷閸℃ê鐏╅柟椋庡█閹瑧锟介潧鎽滈惁鍫㈢磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幐闁诲繒鍋熼悺鏂课熼敓浠嬫煢濡崵绠為柡宀�鍠撶槐鎺楀閻樺磭浜堕梻浣虹帛閹搁箖宕伴幇鏉课﹂柛鏇ㄥ灠缁犲鎮归崫鍕儓濠㈢懓顦靛铏圭矙閸噮鍔夊┑顔硷工缂嶅﹪鐛崼銉ノ╅柨鏂垮⒔閻﹀牓姊虹粙鑳潶闁稿﹥顨婂畷銉э拷锝庡枟閸婄敻鎮峰▎蹇擃仾缂侊拷閸愵喗鐓ラ柡鍥悘鏌ユ煏閸℃洜绐旂�殿噮鍣ｅ畷鐓庘攽閸偅效濠碉紕鍋戦崐鏍暜閹烘纾瑰瀣唉婵娊鏌℃径瀣亶闁猴拷娴犲鐓熸俊顖濇娴犳盯鏌￠崱蹇旀珚闁哄本绋撻敓鏂ょ秵閸嬪棗煤閹绢喗鐓欐い鏂诲妼鐎氼喚寮ч敓浠嬫⒑閹肩偛鍔�闁告劦浜烽幏鐑筋敇閵忊檧鎷虹紓浣割槸濡锟芥艾鍢查埢鎾诲籍閸屾粎锛滈梺缁樏壕顓熸櫠閻㈠憡鐓涢悘鐐垫櫕鏁堥悗瑙勬处閸嬪﹤鐣烽悢纰辨晢闁跨喕妫勯埢宥夊Χ婢跺鎷洪梺纭呭亹閸嬫盯鏁撻懞銉︾妞ゃ垺鐗楀鍕箛椤掑啯鎲伴梻渚�娼ц墝闁哄懏绮撳畷鎴﹀幢濞戞瑧鍘遍柣蹇曞仜婢т粙鍩ユ径瀣ㄤ簻闊洢鍎茬�氾拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｉ幇顒佹儓缂佺姵婢橀埞鎴︽偐瀹曞浂鏆￠梺鎼炲�曢懟顖濈亙闂佹寧绻傞幊搴ㄥ汲閻愮儤鐓涢柛娑卞枤缁犵偤鏌＄仦璇插鐎殿喗鎸抽幃娆戞嫚瑜庣�氬綊鏌涘┑鍕姕闁哥姴妫濋弻銊╁籍閸屾矮澹曢梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃�鎱ㄥΟ鍨厫闁绘挾鍠栭弻鐔煎箚瑜嶉懜褰掓煕閺冿拷缁海妲愰幒鏃傜＜婵☆垰鍚嬮崚娑樜旈悩闈涗粶妞ゆ垵顦甸獮鍐煥閸繂鑰垮┑鐐叉缁绘劖顨欐繝鐢靛Х閺佸憡鎱ㄩ銏犵闁告劦鐓堥崥瀣熆鐠轰警鍎涢柨鐔绘缁夊墎妲愰幘瀛樺闁惧繒鎳撶粭锛勭磽娴ｅ壊鍎愰柟鐟版搐閻ｇ兘鎮ч崼銏㈢槇闂佹悶鍎滈崨顖氬箑濠电姷顣藉Σ鍛村垂娴兼潙瑙﹂悗锝庡枛閻ゆ儳鈹戦崒姘暈闁抽攱甯掗湁闁挎繂鎳忛崯鐐烘偣閹板墎绡�闁哄瞼鍠栭幖褰掝敃閿濆懏娈梻浣芥硶閸犳洘鎱ㄩ妶澶嬪剹妞ゆ洩鎷风�规洩绻濋獮搴ㄦ嚍閵夈儰绮ф俊鐐�栧褰掑箯濠靛绠柣鎴ｅГ閺呮煡骞栫�涙绠橀柟绋款樀濮婃椽鎮�涙ê顏跺┑鐐差嚟婵挳顢栭崱娑欏亗闁哄洢鍨洪悡蹇擃熆閼哥數銆掗柛鎺撴緲閳规垿妾辨繛澶嬫礋楠炲骞栨担鍝ラ獓闁荤姵浜介崜杈槼闁逛究鍔嶇换婵嬪礋椤撶偟顐肩紓鍌欑劍椤ㄥ牓宕伴弽顓炴瀬闁瑰墽绮�电姴顭块懜娈跨劷闁告梻鍏橀幃宄邦煥閸愵�儵鏌ｈ箛鎿冨剶婵﹥妞藉畷顐﹀礋椤愶絾顔勯梻浣侯焾閿曘倗绱炴繝鍥ワ拷渚�寮撮姀鈥虫疅闂侀潧顧�缁犳垵顕ｉ崹顔规斀闁宠棄妫楅悘锝夋煃瀹勬壆澧涢悗闈涖偢瀹曟帒顫濋懖鈺佹暩闂備礁鍚嬮幃鍌氼焽瑜庨幈銊╁醇閵夛妇鍘搁梺鍛婁緱閸犳岸宕ｉ敓浠嬫⒑閸濆嫭婀伴柣鈺婂灡娣囧﹪鎮滈懞銉︽珳闂佸憡渚楅崣搴ㄦ倵閸愭祴鏀介柣鎰▕閸ょ喎鈹戦鐐毄闁轰緡鍣ｉ弫鎾绘偐閼艰埖鎲伴梻浣瑰缁诲倿鎮ц箛娑欏仾闁跨喍绮欏娲传閸曨剙绐涢梺绋款儐缁嬫帞绮╅悢鐚存嫹閿濆骸鏋熼柍閿嬪灴閺岋綁鎮㈤崨濠勫嚒濠电偛鐗冮弲鐘诲蓟閻旂厧绀勯柕鍫濇椤忥拷?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柟闂寸绾惧鏌ｅΟ娆惧殭缂佺姴鐏氶妵鍕疀閹炬惌妫炵紓浣界堪閸婃繈寮诲☉婊庢Ъ闂侀潧娲﹂惄顖炲极閹捐妫橀柕鍫濇川閺嗐倝鎮楃憴鍕闁靛牆鎲￠幈銊╂晸娴犲鐓忛煫鍥ь儏閻忣噣鏌涢弬璺ㄥ煟婵﹨娅ｉ幏鐘诲箵閹烘垶鐦ｇ紓鍌氬�哥粔鏉懳涘┑瀣瀬闁规儳鐡ㄩ崣蹇涙煙闁箑澧板ù鐓庡濮婅櫣娑甸崨顔惧涧闂佸湱鎳撳ú顓㈠垂妤ｅ啯鏅濋柛灞绢嚤閳哄懏鐓冮弶鐐村椤︼箓鏌ら弶璺ㄤ虎闁宠鍨块崺銉╁幢濡ゅ啩妗撴繝鐢靛仧閸樠団�﹂悜鐣屽祦闊洦绋掗崐濠氭煢濡警妲烘い锔哄妼椤啴濡堕崱妯锋嫽闂佸搫鎷嬮崑濠傜暦閵忋倖顥堟繛纾嬫珪濡啴骞冮埡鍛棃婵炴垶顨堥幑鏇㈡⒒娴ｇ瓔鍤欑紒缁樺灩閹广垽宕奸妷銉х暫濠殿喗顨愰幏鐑芥煙瀹曞洤鈻堟い銏☆殕缁绘繈宕橀…鎴滅处闂備浇宕甸崰鎰版偡閵壯嶆嫹濮樼厧骞樼紒顔肩墦瀹曟﹢顢旈崱娆欑床闂佽崵濮村ú鈺冧焊濞嗘劖娅犻柨鏃�鎷濋幏宄扳枔閸喗鐝梺绋款儏鐎氫即銆佸锟藉畷妤呮偂鎼达絿鐛┑鐘垫暩婵锟芥艾鍢插嵄閻熸瑥瀚换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃娀鐛幇顓滃亝闁告劑鍔庨悰銉╂⒑閸︻厼顣兼繝銏☆焽婢规洟骞愭惔娑楃盎闂佸搫绋侀崑鍕閿曞倹鐓冮梺鍨儏缁楁帡妫佹径鎰叆婵犻潧妫欑粊鈺呮煟閹烘鐣洪柡宀嬬秮閳ワ箓骞掗弮鍌滄闂備礁鎼惉濂稿窗閺嵮呮殾婵炲棙鎸稿洿闂佺硶鍓濋〃蹇斿閿燂拷?
	private boolean checkInviterStatus(long inviterRoleId)
	{
		BuffAgent buffagent = new BuffRoleImpl(inviterRoleId,true);
		if(!buffagent.canAddBuff(StateType.STATE_TEAM))
		{
			TeamManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌ｉ幋锝呅撻柛銈呭閺屾盯骞橀懠顒夋М闂佹悶鍔嶇换鍐Φ閸曨垰鍐�闁靛ě渚婃嫹閹烘鐓熸繝闈涙閸╋綁鏌″畝瀣瘈鐎规洖鐖兼俊鐑藉Ψ瑜岄幃锝夋⒒娴ｅ湱婀介柛濠冾殜瀹曟垿骞橀懜闈涘簥濠电偞鍨崹鍦不閿濆棛绠鹃柛鈩冾殘缁犳娊鏌涢弮锟介幐鍐差潖閻戞ɑ濮滈柟娈垮櫘濡差噣姊洪幐搴㈠濞存粠浜滈锝嗙節濮橆儵鈺呮煃閸濆嫬锟藉憡绂嶉悙鐑樷拺缂佸瀵у﹢鎵磼鐎ｎ偄鐏存い銏℃閺佹捇鏁撻敓锟�(roleId=" + inviterRoleId+")濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻愰湁闁稿繐鍚嬬紞鎴︽煕閵娿儱锟藉潡寮婚敐澶婄鐎规洖娲ら崫娲⒑閸濆嫷鍎愰柣妤侇殘閹广垹鈽夐姀鐘殿吅闂佺粯鍔欏褔寮抽敓鐘斥拺闁荤喐婢樺Σ濠氭煕閵忥紕鍙�闁挎繄鍋涢埞鎴狅拷锝庡亐閹峰鏌ｆ惔銊︽锭闁硅绻濆鍙夌附閸涘ň鎷绘繛杈剧悼椤牓骞冮幋鐐扮箚闁绘劘娉涜缂備礁鍊哥粔鐟扮暦婵傜鍗虫慨妤�鐗婄�氱懓霉閿濆牆锟戒粙寮敓浠嬪箯閸涘瓨鍋￠梺顓ㄨ閹风兘骞樼紒妯煎幗闂佺粯鍔曢顓㈠煝閹剧粯鐓曢柟鎯ь嚟缁犵偤鏌熼鏂よ�跨�规洘锕㈤、娆撴偩鐏炶棄绠洪梻浣侯攰婢瑰牓骞撻鍡橆潟闁哄洢鍨洪崑鈺傘亜閹惧崬鐏柣鎾存礋楠炴牕菐椤掞拷婵℃椽鏌熼弻銉х暫闁哄瞼鍠栭、娆撳Ω閵夛附鎮欏Δ鐘靛亼閸ㄨ櫣鎹㈠☉銏犵闁诲繑妞挎禍顏勭暦閹存繍鍚嬪璺侯儑閸樹粙鏌熼崗鑲╂殬闁告柨绉撮埥澶庮樄闁哄瞼鍠栭幊鐐哄Ψ瑜忛悡鍌涚節閵忥綆娼愭繛鑼枛楠炴劖绻濋崘顏嗗骄濠电娀娼уΛ娑氱矓濞差亝鐓涘ù锝囨嚀婵秶锟借娲栭悥鐓庣暦濠婂嫭濯寸紒瀣櫇椤忓嫧鏀介柨娑樺娴滃ジ鏌涙繝鍐╃闂囧鎱ㄥΟ鎸庣【闁稿被鍔戦弻銈夊箒閹烘垵濮㈤梺宕囨嚀缁夋挳鍩為幋锔藉亹闁圭粯甯╂禒楣冩煟鎼淬垻顣叉慨妯稿姂楠炲顫㈠畝锟介悿锟藉┑鐐村灦閻熴儲绂掓總鍛娾拺婵懓娲ら悘鈺呮煙鐠囇呯瘈闁诡喒锟芥枼鏋庨柟鎵虫櫃缁ㄥ姊洪崫鍕犻柛鏂跨箲缁旂喎顫滈敓浠嬪蓟閿熺姴骞㈡い鎾跺У閸嬔囨⒑鐠恒劌鏋庨柨鐔烘櫕閸ｃ儱顭囬幇顓犵闁告瑥顦遍惌鎺旓拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣婵犲﹥鍔栫�氱懓霉閿濆懎顥忔繛绗哄姂閺屻劑鎮㈤崜浣虹厯濡ょ姷鍋涢崯顐﹀煝鎼淬劌绠荤�规洖娲ㄩ弶鎼佹⒒娴ｅ憡鍟為柟鍝ュ厴閹虫宕奸弴鐐磋緢闂侀潧鐗嗛ˇ浼村煕閹达附鐓曟繝闈涙椤忣偊鏌ｈ箛娑楁喚闁哄本鐩幃鈺佺暦閸パ�鎷伴柣搴㈩問閸ｎ噣宕戞繝鍥╁祦婵☆垵鍋愮壕鍏间繆椤栨粎甯涙い蹇曞枛濮婄粯鎷呴懞銉с�婇梺闈╃秶缁犳捇鐛箛娑欐櫢闁跨噦鎷�?");
			return true;
		}
		return true;
	}
*/	
	//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閵婏箑鍓瑰┑掳鍊曢幊搴ｇ不閸︻厾纾兼い鏃傚亾閸わ拷闂佽绻戞繛濠囧蓟閵娿儮鏀介柛鈾�鏅滅瑧缂備胶铏庨崣蹇涘箯閻戣姤鈷掑ù锝囩摂閸ゆ瑧绱掔紒姗嗘當闁伙絿鍏橀幃鐣岀矙鐠恒劎鏋冮梻浣烘嚀婢т粙宕曢悽鍛婃櫢闁哄倶鍊楅悾闈涒攽閳╁啯鍊愰柛鈹惧墲閹峰懏绗熼娴剁偛鈹戦敍鍕杭闁稿﹥鐗曢～蹇旂節濮橆剙鍋嶉悷婊勬煥閻ｇ兘鏁愰崱娆戠槇闂佸憡鍔︽禍鐐烘儊閸儲鍊甸柣銏ゆ涧椤ｅジ鏌ｈ箛鏂垮摵鐎规洘鍔欐俊鑸靛緞婵犲倹鍎梺璇插嚱缂嶅棝宕板Δ鍛厱闁圭儤顨嗛悡鏇㈡煛閸ャ儱濡煎ù婊勭矋閵囧嫯绠涢敐鍛枈闂佸搫琚崝鎴﹀箖閵忋倖鍊绘俊顖濆吹瑜把囨⒒娴ｈ姤銆冮柣鎺炵畵楠炲啴宕掑杈ㄦ闂侀潧楠忕紞鍡椢熼崟顐富闁靛牆鍟悘顏堟嫅鏉堚晝纾奸柧蹇氼潐濞呮洜绱掗鐣屾噮闁圭懓瀚伴垾锕傚箣閻愭剬鍐ｆ斀闁挎稑瀚禍濂告煕婵犲啰澧い顐㈢箲缁绘繂顫濋锟介崑宥夋偡濠婂啰绠抽柛鎺撳笚缁绘繂顫濋鍌ゅ悈闂備焦瀵уΛ浣筋暰闂佸綊顥撶划顖滄崲濞戞瑦缍囬柛鎾楀嫬浠归梻浣侯攰濞呮洟骞戦崶顑撅拷浣割潩椤掑鍙嗛梺鍛婁緱閸ㄦ娊鏁嶅鍫熺厽閹兼惌鍨崇粔鐢告煕鐎ｎ亝鍣归柣锝呭槻閻ｆ繈鏁撴禒瀣櫢闁稿﹦鍣ュ鎰箾閸欏鐭嬮柡鍛版硾铻栭柛娑卞幘閻ｉ箖姊洪崫鍕殭闁绘妫楀ú鍧楁⒒娴ｅ憡鍟為柛鎿冨墴瀹曠喖顢橀悢铏光枆闂傚倸鍊峰ù鍥х暦閻㈢绐楅柟閭﹀枛閸ㄦ繄锟藉箍鍎遍幉妯衡槈閵忕姷顦ㄥ銈嗘⒐閸庡磭绮婇敂鐣岀瘈闁汇垽娼у瓭婵炲銆嬬紞浣割嚕椤曪拷瀹曠厧鈹戦崱娆戝春濠碉紕鍋戦崐鏍涙笟锟藉畷鎴﹀箛椤掑锟借埖銇勯弬璺ㄦ癁闁猴拷娴犲鐓熸慨妤�妫楅弸娑㈡煟韫囨岸鍝虹紒缁樼♁瀵板嫮锟斤綆鍓氶崚娑橆渻閵堝啫鐏柣妤冨Т閻ｉ攱绺界粙璇俱劑鏌曟径鍫濆闁哄洢鍨洪埛鎴犵磽娴ｈ鐒介柣顓烇躬閺屾稖绠涢弬鍓ф崟cedure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviterInTeam(Long inviterTeamId)
	{
		if(inviterTeamId != null)
			return true;
		else
			return false;
	}
	
	// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顏嗙煓闁哄本娲熷畷鐓庘攽閹邦厜锔剧磽娴ｅ搫顎岄柛銊ョ埣瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸ャ儱鐏柍閿嬪灴閹綊骞侀幒鎴濐瀳濠电偛鎳忛崝娆撳蓟閻旂厧绀勯柕鍫濇椤忥拷?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨骞撳┑掳鍊撳鎺旀崲閸℃稒鐓忛柛顐ｇ箖閸ｅ綊鏌￠崱娆忔灈闁哄瞼鍠栧畷姗�宕ｆ径濠冪暬婵犳鍠栭敃銈夆�﹀畡鎵殾闁圭儤鍩堝鈺傘亜閹烘埊鏀婚悗姘秺閺岀喖姊荤�靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿Х绾惧ジ鏌熼柇锕�寮炬繛鍫熺矒閺岋紕浠﹂棃鈺傚闁归绀侀幃鎴︽煙閼测晞藟闁跨喕妫勭壕顓㈩敊閹邦厾绡�婵炲牆鐏濋弸锔姐亜椤愩埄妯�闁诡噯绻濋崹楣冨箛娴ｅ湱绋佹繝鐢靛仜濡﹥绂嶉崼鏇炴瀬闁糕剝绋掗悡銉╂煟閺冨倸鍔嬫繛鍛礈缁辨帡顢欓懞銉闂佽鍠氶弲顐ゅ垝濞嗘垶宕夐柕濠忓閸欏嫬鈹戦敍鍕杭闁稿﹥鐗滈弫顕�骞掗弮鎾村婵鍘у顕�鏌熼鍡欑瘈闁诡喓鍨藉畷妤呮嚃閳轰礁绠伴梻鍌欒兌椤牓寮甸锟介～婵嬪Ω閿旂虎娴勯梺闈涚箚閿熷�熷皺缁犳岸姊洪懖鈹炬嫛闁告挻绋撻弫顔尖槈濮樿京锛滅紓鍌欑劍椤洤煤鐎涙﹩娈介柣鎰嚋瀹搞儵鏌ｉ敐蹇曠瘈闁诡啫鍥ч唶婵犲灚鍔栬ⅸ闂傚倸鍊烽懗鍓佸垝椤栫偛绠伴柣鎰靛墰缁犻箖鏌ㄩ悢鍓佺煓闁哄瞼鍠栭、娆戠驳鐎ｎ偆鏉归柣搴ゎ潐濞叉粓宕楀锟介妴浣割潨閿熶粙骞冨▎鎾崇疀闁告挷鑳惰摫闂備線娼уú銈囷拷姘卞娣囧﹪鎮滈挊澹┿劍銇勯弬鍨缓鐟滃繒妲愰幘瀛樺闁惧繒鎳撶粭锛勭磽娴ｇ瓔鍤欓柣妤佹尭椤曪綁顢曢敃锟界粻濠氭倵闂堟稑顥忔繛鏉戝閺岋絾鎯旈婊呅ｉ梺绋款儏鐎氼厾绮嬪澶嬪殐闁冲搫鍟伴敍婵囩箾鏉堝墽绉┑顔哄�濋、鏃堟偐缂佹鍘甸梺鍛婄缚閸庢娊顢栨穱顧猽re濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private boolean checkInviterIsLeader(long inviterRoleId , xbean.TeamInfo teamInfo)
	{
		if(teamInfo.getTeamleaderid() == inviterRoleId)
			return true;
		else
			return false;
	}
	
	//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸嬫捇骞忛柨瀣瘈婵ǜ鍎婚幏鐑藉川閺夋垹鐓戞繝銏ｆ硾閻ジ顢欓弴銏♀拺缂侇垱娲栨晶鍙夈亜閵娿儺妯�妞ゃ垺顨婇幃銏ゆ倻濡儤鐎鹃梺纭呭亹鐞涖儱危閸涙潙鍚规俊銈呮噺閻撴洟鏌￠崶銉ュ闁诲繒濮风槐鎺楁偐瀹曞洠妾ㄩ梺闈涙搐鐎氫即鐛Ο鍏煎磯闁烩晜甯囬崹褰掑煘閹达富鏁嬮柛鈩兠锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡濠电偛寮剁换鍕箲閵忕媭娼╅柤鍝ヮ暯閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘遍梺鍝勫�藉▔鏇犵不閼姐倧鎷峰▓鍨灍鐟滄澘鍟撮崺鐐哄箣閻欏懏瀚归柨婵嗙凹缁ㄤ粙鏌涘Ο缁樸仢婵﹥妞藉畷顐﹀礋椤愶絿浠岄梻浣哥秺椤ユ捇宕楀锟藉濠氬即閵忕姷鍊為悷婊冪Ч椤㈡棃顢橀悤浣诡啍闂佺粯鍔栭幆宀勬倿娴犲鐓欓柣鐔告緲椤忣參鏌熼姘伃妤犵偞甯￠幃娆撴偨閺佸本绮撳娲传閸曨厾鍔圭紓鍌氱С缁舵艾顕ｉ锕�绠涙い鎾跺仧缁愮偞绻濋姀锝嗙【妞ゆ垵鎳樺鎼佸Χ閸℃瑧鐦堝┑鐐茬墕閻忔繈寮稿☉銏＄叆闁哄洦锚閸旀碍銇勯鍕殲缂佸倹甯為敓鏂ょ秵娴滄繈鎮楅鍕拺闁荤喐婢橀埛鏃傜磼椤曞懎鐏︾�殿喗鐓￠獮鏍ㄦ媴閸︻厼寮抽梻浣虹帛濞叉牠宕愰崷顓ㄦ嫹濮樼偓瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矊濞插灝鈹戦悩顔肩伇婵炲鐩弫鍐Χ閸ヮ亜小闂侀潧顦弲婊堝煕閹达附鐓曟繝闈涙椤忣剚銇勯顒傜暤闁哄本绋掗幆鏃堝閵忕姴缁╅柣搴ゎ潐濞叉﹢宕归幐搴濈箚闁兼悂娼х欢鐐烘倵閿濆骸澧悽顖涘劤閳规垿鎮╅崹顐ｆ瘎闂佺顑囬崰鏍х暦閹达箑绠婚柡鍌樺劜閻庢椽姊洪崨濠勨槈闁宦板姂閹�斥枎閹寸姵锛忓銈嗘尵閸嬬偤宕宠ぐ鎺撶厽闁圭偓娼欐慨宥夋煛鐏炵偓绀嬬�规洘鍎奸ˇ鍙夈亜韫囷絽骞楅柕鍥у婵拷闁宠棄鎳撻敓钘夋健閺岀喖顢欓崫鍕痪濡炪倧濡囨晶妤呭箚閺冨牜鏁婇柣鎾抽椤ュ牓姊婚崒姘拷鎼佸磹妞嬪海鐭嗗〒姘炬嫹妤犵偛顦甸弫鎾绘偐閸愬弶鐤勯梻浣告啞閹稿棝宕ㄩ锝喰︽繝鐢靛Х閺佸憡鎱ㄩ弶鎳ㄦ椽濡舵径瀣彅闂佺粯鏌ㄩ幗婊呯不妤ｅ啯鐓欓悗鐢殿焾閿熻姤鍨甸～婵堟崉閸濆嫬娈ら梺鐟板悑閹苯顭块敓鐣岀磼鐠囧弶顥為柕鍥у瀵粙濡歌椤撶厧鈹戦悙鎻掓倯闁告梹鐟╁濠氭偄閸忕厧鍓梺鍛婄缚閸庡疇鈪靛┑鐘愁問閸犳牠鏁冮妸銉㈡瀺闁挎繂娲ら崹婵囩箾閸℃ê鐏︾�规洖顦甸弻鏇熺箾瑜嶉懟顖炲极婵傚憡鈷掗柛灞剧懅閸斿秹鎮楃粭娑樺幘妤﹁法鐤�婵炴垶锚閻庮參鎮峰鍛暭閻㈩垱顨婂畷鎴﹀煛閸涱喚鍘介梺纭呮彧缁插�燁暱闂備胶顭堥敃銈夆�﹂悜钘夎摕闁挎洩鎷烽摶锝呫�掑鐓庣仭濡ゆ棃姊绘担鍛婂暈闁哄被鍔庣槐鐐寸節閸屻倖缍庡┑鐐叉▕娴滄繈宕戦敓鐘崇厸濠㈣泛顑愰崕銉╂煛閸℃劕鐏叉慨濠冩そ瀹曨偊宕熼锟藉▍銈囩磽娴ｈ鈷掓い顓犲脯ure濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梻浣告啞閹哥兘鎳楅崼鏇熷亗闁瑰墽绮埛鎴︽煕濠靛棗顏柣鎺曟硶缁辨挸顓奸崟顓炲婵烇絽娲ら敃銈夛綖閵忕姷鏆嗗┑鐘插敪閳哄懏鈷掑ù锝呮啞閹牊銇勯幋婵囶棦闁诡垰瀚伴、娑㈡倷閼艰埖鎲伴梻浣虹帛濮婂鍩涢崼銉ユ瀬閻庯綆鍠楅悡鏇㈡煃閳轰礁骞樻い蹇撶墱閺佸倿鏌ㄩ悤鍌涘?
	private boolean checkSingleInvitingExist(long inviterRoleId, long invitedRoleId)
	{
		xbean.SingleInvitings singleInvitings = xtable.Singleinviting.get(inviterRoleId);
		if(singleInvitings == null)
			return false;
		else
		{
			cleanTimoutInvitings(singleInvitings.getInvitingids());
			if(singleInvitings.getInvitingids().get(invitedRoleId) == null)
				return false;
		    else
		    	return true;
		}
	}
	
	
	//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝呂熷▎鎯ф缂備胶濮撮悘姘跺Φ閸曨喚鐤�闁圭偓鎯屽Λ銈囩磽娓氬﹥瀚规繝鐢靛Т濞诧箓鎮￠妷鈺傜厽闁哄啫娴傞崵娆戞偖濮樿京纾藉ù锝堟鐢稓绱掔�ｎ偄绗掓い鏇樺劦瀹曠喖顢橀妸锕�顏堕梺鎸庣箓妤犲憡绂嶉悙娣簻闁挎棁顕у顔芥叏婵犲嫬鍔嬫繛纰变邯楠炲秹顢欑捄銊у炊闂傚倷绶氬鑽ょ礊閸モ晝绀婂〒姘炬嫹闁绘侗鍣ｅ浠嬵敄閸欍儲鐫忛梻浣告贡閸庛倝骞愰幖浣哥妞ゆ帒瀚埛鎴︽煕濞戞﹫鍔熼柍钘夘樀閺屻劑寮村Ο鐚存嫹濠靛锟戒線寮崼婵堫槶婵炶揪缍�濞咃綁鏁嶅鍛＝闁稿本鐟╁鐑芥煕閵娿儳绉洪柣娑卞櫍瀵粙顢橀悢鍝勫箥闂備礁鎲￠崝妯间焊濞嗘垹涓嶉柧蹇ｅ亞缁犻箖鏌熺�电校闁哄棭鍓熼弻鐔碱敊閻ｅ本鍣板銈冨灪椤ㄥ﹤鐣烽幒鎴叆閹肩补鍓濆▍妤呮⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樺啿浠梺闈涱槴閺侊繝宕堕妸锔剧Ф闂侀潧顭梽鍕偟閻戣姤鈷戞慨鐟版搐閻忣喗銇勯敐搴℃珝妤犵偛绻戦ˇ鐗堟償閵忕姵鐎梻浣告啞濞诧箓宕滃☉鈶哄洭濡搁埡鍌氾拷鐢告煟瑜嶉幉锛勶拷姘秺濮婇缚銇愰幒鎿勭吹缂備緤鎷峰ù锝堟娑撳秹鏌″搴′簼闁哥姵鍔欓弻锟犲磼濠靛洨銆婇梺鍝勬４缁犳垿鍩為幋锕�纾兼慨姗嗗幖閺嗗牓姊虹粙娆惧剰閻庢凹鍓熼垾鏃堝礃椤忓孩瀚归柨婵嗙凹闁垱銇勬惔銏╂畷闁靛洤瀚伴弫鍌滄喆閸曨剛褰嬫繝娈垮枛閿曪妇鍒掗鐐茬闁告稑鐡ㄧ�电姴顭跨捄鐚存敾闁稿寒浜缁樻媴娓氼垳鍔稿銈嗗灥濞差厼鐣烽幋锕�围闁告侗鍨卞▓鎯р攽閻愬弶顥為悽顖氭处缁傚秷銇愰幒鎾跺幍闂佺粯鍨堕敋闁诲繆鏅犻弻銊モ槈濞嗘垟妾ㄧ紓浣虹帛缁诲牓骞冩禒瀣棃婵炵缈伴崹铏规崲濞戞矮娌柛灞剧啲閹峰嘲螖娴ｈ櫣褰鹃梺鍝勬瘽妫颁焦鐫忛梻浣告贡閸庛倝骞愰幖浣规櫢闁伙絽鏈弳顒勬煛鐏炶濡奸柍瑙勫灴瀹曞崬鈽夐幉瀣婵°倧鎷锋い顓″劵椤т線鏌涢妸銉у煟妤犵偛鍟灃闁跨喍绮欓敐鐐测攽鐎ｅ灚鏅ｉ梺鐐藉劜閸撴艾螞閻旈晲绻嗛柣鎰典簻閿熷鍊栫粋宥咁煥閸繄鏌堟繛瀵稿帶閻°劑寮查幖浣圭厸闁稿本锚閿熻姤顨堢划鏃堟濞淬垻鎳撻…銊︽償濠靛浠愭俊鐐�戦崹娲箰濮濆瞼浜欓梻浣告啞閸旓附绂嶉悙鐑樺仼闁割偅娲橀埛鎴犵棯椤撶偞鍣虹憸鎶婂洦鈷掗柛鏇ㄥ亜椤忣參鏌涢埡鍌滄创妤犵偛顑夐弫鍌炴偩鐏炶棄绠洪梺鑽ゅ枑缁瞼绮旇ぐ鎺斿祦濠㈣埖鍔栭弲顒勬煕閺団�崇厫閻庢俺顫夐幈銊ノ熼悡搴濆闁诲孩鐔幏锟�?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顒�绾ч柣銈呭閳规垶骞婇柛濞у懎绶ゅù鐘差儏閻ゎ喗銇勯幇鈺侊拷褔骞忓畡閭︽僵妞ゆ帒顦版晥闂備線娼уú銈囷拷姘嵆閻涱噣骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù鍏兼尭閳规垿鏁嶉崟顐℃澀闂佺顭堥崐鏍矉瀹ュ拋鐓ラ柛顐ｇ箘閺屽牓姊洪崫鍕垫Ч闁搞劌缍婂鎶芥晝閸屾稓鍘甸梺缁樺灦閿曗晛鈻撻弴銏＄厱濠电姴瀚崢鎾煛鐏炶锟芥宕版繝鍥х闁绘劖绁撮幏缁樼節绾版﹫鎷烽崘鑼獓闂佸湱顭堥崯鍧楋綖韫囨洜纾兼俊顖濐嚙椤庢捇姊洪幆褏绠抽柟铏尵缁參鍨鹃幇浣瑰瘜闂侀潧鐗嗘鎼佺嵁閺嶃劎绠鹃悘鐐插�告慨鍌滐拷瑙勬礃瀹�鎼佺嵁閹烘嚦鏃�绻濋崘鈺傜彨闂傚倷鑳剁划顖炲礉閺嵮岀劷婵炲棙鍔楅々椋庢喐閺傛娼栭柧蹇撴贡绾惧吋淇婇婊冨姦闁瑰嘲顭峰娲川婵犲海鍔堕梺鍛婁緱閸ㄩ亶鏁嶈箛娑欏仭婵犲﹤瀚ˉ鍫拷娈垮枦椤曆囶敇婵傜骞㈡俊顖欒濞碱垶姊绘担绛嬫綈妞ゆ梹鐗犲畷浼村冀閵娿倗绠氶梺鍏间航閸庡磭寮ч敓浠嬫⒑闂堟盯鐛滅紒鎻掑⒔濞戝灚銈ｉ崘鈺侊拷鍨叏濡厧甯舵鐐达耿閺岀喖鐛崹顔句患闂佸疇顫夐崹褰掓晸閺傘倗绉甸柛瀣噹閳诲秹濮�閿涘嫮顔曢柣搴ｆ暩椤牆鐡俊鐐�栭崹闈浳涘┑鍡╁殨闁哄被鍎辩粻鐟懊归敐鍛础闁告妫勯埞鎴﹀煡閸℃浠村┑鐐叉嫅缂嶄線寮鍜佸悑濠㈣泛顑囬崢閬嶆⒑閸濆嫬鏆為柟姝屽吹閿熻姤鐔幏锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?
	private void deleteInvite(final long invitedRoleId)
	{
		xbean.InviteInfo inviteInfo = xtable.Teaminvite.select(invitedRoleId);
		if(inviteInfo == null)
			return;
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋佺�广儱顦粈瀣亜閹哄秶鍔嶆い鏂挎喘濮婄粯鎷呴搹鐟扮闂佸憡姊瑰ú鐔笺�佸棰濇晣闁绘ê鍚�缁楀淇婇妶蹇曞埌闁哥噥鍨堕幃锟犲Ψ閳哄倻鍘介梺鍝勫暙濞村倿宕靛▎鎴炲仏婵浜壕钘壝归敐鍫燁仩閻㈩垱鐩弻锝夊煛婵犲倻浠╅梺浼欑悼閸忔ɑ淇婇幖浣哥厸濠电姴鍟▍宥夋⒒娴ｈ櫣甯涢柨鏇樺灩椤洩顦抽悗闈涖偢閹儵鏁撶徊姒ら梻鍌氬�搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敊閼恒儲鐦庨梻浣规た閸樹粙鎮烽埡鍛亗妞ゆ劧绠戦悙濠囨煏婵炑嶆嫹婵℃彃鐗忕槐鎾寸瑹婵犲啫顏跺┑鐘灱閸╂牠宕濋弽顓炵９闁汇垹鎲￠悡銉︾節闂堟稒顥㈡い搴㈩殜閺岋紕锟斤綆鍓欓弸娑㈡煛鐏炲墽娲村┑鈥崇埣瀹曘劑顢涘锝呭緧闂傚倷绀侀幖顐︽儔婵傜绐楅柟閭﹀墻閻掍粙鐓崶銊︾厽闁稿鎳橀弻娑㈠箛閵婏附鐝﹂梺璺ㄥ枙濡嫮绮旈悷閭︽綎闁惧繐婀遍惌娆撴煕瑜庨〃蹇涙晸閼恒儺娈樼紒杈ㄥ笚瀵板嫭绻濋崟顓夈劑鎮楀▓鍨灕妞ゆ泦鍥х叀濠㈣埖鍔曢～鍛存煟濡椿鍟忛柛鐐存そ濮婄粯鎷呴崨濠冨創闂佸摜濮甸惄顖炵嵁韫囨稒鍊婚柤鎭掑劤閸橀亶鏌熼懝鐗堝涧缂佸弶鍎抽埢宥夊级婵摨ng濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀹曟垿骞囬悧鍫濅化闂佹悶鍎烘禍婊堟儍閻戞ǜ浜滈柨鏃囶嚙楠炴牠鏌嶇憴鍕伌闁诡喒鏅濈槐鎺懳熸繝姘殬濠电姷鏁搁崑娑㈡儑娴兼潙纾规繝闈涱儍閿熸垝绀侀～婵嬫嚋閻㈤潧濮搁柣搴＄畭閸庡崬螞濞戙垹鍌ㄩ柛妤冨亹閺�浠嬫煟閹邦厽缍戦柣蹇ョ畵閺岋綁鎮ら崒姘兼喘缂備浇浜崑銈夌嵁鐎ｎ喗鍋愰柣銏㈩暜缁辨煡姊绘担铏瑰笡闁荤喆鍎甸獮濠囧箛椤斿墽鐓嬪銈嗘穿閹风兘鏌″畝瀣？濞寸媴绠撳Λ鍐煛閸屾凹浼撻梻浣哥秺椤ｏ妇绮堟笟锟介獮鍐箣閿旂瓔妫呭銈嗗姂閸ㄧ儤寰勯崟顖涚厸閻忕偠顕ф慨鍌涖亜閵忊剝顥堥柡浣规崌閺佹捇鏁撻敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿极閹剧粯鍋愰柛鎰紦缂冩洘绻濋悽闈浶㈤柨鏇樺�濆畷顖炴偐鐠囨彃鍤戦悗骞垮劚濡孩绂嶅鍫熺叆婵炴垶锚椤忓瓨淇婇銏犵厙eInvitings濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺缂佸鍎婚～锕傛煕閺冿拷閸ㄥ灝顕ｆ繝姘亜缁炬媽椴搁弲顒勬⒑缁洘顫婇柛妯兼櫕閿熻姤鑹剧紞濠傤潖濞差亜浼犻柛鏇㈡涧閸撳崬鈹戦埥鍡椾簻闁哥喐娼欓锝嗙節濮橆厼浜滈梺鍛婄☉閿曪妇绮旈崼鏇熲拺閻庡湱濮甸妴鍐磼閿熻姤鎷呴搹鍦劶婵犳鍨奸弻濉糹ng濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳娼￠弻鐔猴拷鐢殿焾瀛濈紓浣界堪閸婃繈寮婚敃锟借灒濞撴凹鍨遍敍鍡椻攽閻愬弶鈻曞ù婊勭箞瀹曟垿骞囬悧鍫濅化闂佹悶鍎烘禍婊堟儍閻戞ǜ浜滈柨鏃囶嚙楠炴牠鏌嶇憴鍕伌闁诡喒鏅濈槐鎺懳熸繝姘殬濠电姷鏁搁崑娑㈡儑娴兼潙纾规繝闈涱儍閿熸垝绀侀～婵嬫嚋閻㈤潧濮搁柣搴＄畭閸庡崬螞濞戙垹鐭楅柛鈩冪♁閳锋垹绱撴担鑲℃垹绮堥敓浠嬫⒑缁嬪尅宸ユ繝锟介柆宥嗘櫢闁兼亽鍎抽崯鏌ユ煙閸戙倖瀚�
		if(inviteInfo.getInviting().getTeamid() > -1)
		{
			xbean.TeamInfo team = xtable.Team.get(inviteInfo.getInviting().getTeamid());
			inviteInfo = xtable.Teaminvite.get(invitedRoleId);
			if(inviteInfo == null)
				return;
			if(team != null)
				team.getInvitingids().remove(invitedRoleId);
		}
		else
		{
			/*Set<Long> rids = new HashSet<Long>();
			rids.add(invitedRoleId);
			rids.add(inviteInfo.getInviting().getRoleid());
			Lockeys.lock(xtable.Locks.ROLELOCK, rids);*/
			inviteInfo = xtable.Teaminvite.get(invitedRoleId);
			if(inviteInfo == null)
				return;
			final long invitingroleid = inviteInfo.getInviting().getRoleid();
			mkdb.Procedure.pexecuteWhileCommit(new mkdb.Procedure(){
				@Override
				protected boolean process() throws Exception
				{
					xbean.SingleInvitings singleInvitings = xtable.Singleinviting.get(invitingroleid);
					if(singleInvitings != null)
					{
						singleInvitings.getInvitingids().remove(invitedRoleId);
						if(singleInvitings.getInvitingids().size() == 0)
							xtable.Singleinviting.remove(invitingroleid);
					}
					return true;
				}
			});
		}
		
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮撮姀鐘靛幈濠殿喗锕╅崢浠嬪Φ濠靛棌鏀介梽鍥春閺嵮屽殫闁告洦鍙忛幏鐑芥晲鎼存繄鑳哄┑鈥冲级閸旀瑥顫忕紒妯肩懝闁跨喕妫勯…鍥樁濠⒀勭箞濮婃椽宕崟顒�娅ら梺鐑╂櫓閸ㄥ爼鐛箛娑樼闁挎棁妫勬禍婊堟煟韫囨挾绠ｉ柣鎺炵畵瀵剟鏁撴禒瀣拻濞达絼璀﹂悞楣冩煛閸偄澧伴柛鎺撳浮瀹曞ジ濡烽妷褜妲村┑鐘殿暯閸撴繈顢楅。姝焥闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х棯閹岀吋闁哄矉缍侀獮鍥敊閼恒儲鐦庨梻浣规た閸樹粙鎮烽埡鍛亗妞ゆ劧绠戦悙濠囨煏婵炑嶆嫹婵℃彃鐗忕槐鎾寸瑹婵犲啫顏跺┑鐘灱閸╂牠宕濋弽顓炵９闁汇垹鎲￠悡銉︾節闂堟稒顥㈡い搴㈩殜閺岋紕锟斤綆鍓欓弸娑㈡煛鐏炲墽娲村┑鈥崇埣瀹曘劑顢涘锝呭緧闂傚倷绀侀幖顐︽儔婵傜绐楅柟閭﹀墻閻掍粙鐓崶銊︾厽闁稿鎳橀弻娑㈠箛閵婏附鐝﹂梺璺ㄥ枙濡嫮绮旈悷閭︽綎闁惧繐婀遍惌娆撴煕瑜庨〃蹇涙晸閼恒儺娈樼紒杈ㄥ笚瀵板嫭绻濋崟顓夈劑鎮楀▓鍨灕妞ゆ泦鍥х叀濠㈣埖鍔曢～鍛存煟濡绲荤紒渚囧櫍濮婄粯绗熼敓钘夘焽瑜旈垾锕傚醇閵夈儳锛欏┑掳鍊曢幊蹇涘吹閸曨垱鐓ｉ煫鍥ㄦ尰鐠愶紕鐥幑鎰棄闂囧鏌ㄥ┑鍡樺窛闁硅棄鍊块弻娑㈠Χ閸℃瑦鍣繛锝呮搐閿曨亪銆侀弴銏℃櫜闁搞儮鏅濋弶浠嬫煟鎼淬埄鍟忛柛鐘崇墵閳ワ箓鎮滈挊澶岀暫闂侀潧绻堥崐鏇犵矆閸岀偞鐓曢煫鍥ㄦ尭閹垶銇勮箛鏇炴灈婵﹦绮幏鍛存嚍閵壯侊拷濠囨⒑闂堚晝绉剁紒鐘虫崌閻涱喛绠涘☉娆愭闂佽法鍣﹂幏锟�?
		inviteInfo.setBeinginvited(false);
		cleanTimeoutInvites(inviteInfo.getInvited());
		//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崷顓犵焿闁圭儤妫戦幏鐑芥晲鎼粹�茬凹濠电偛鎳岄崹钘夘潖濞差亝鍤嶉柕澶婂枤娴滎亣妫熷銈嗙墱閸嬫稑效閺屻儲鈷戞い鎺炴嫹缂佸鏁婚幃锟犲Ψ閳哄倻鍘介梺鍝勫暙閸婅崵鏁☉娆嶄簻闁靛鍎哄Σ铏圭磼鏉堛劍灏い鎾炽偢瀹曨亪宕橀鐐村創濠德板�楁慨鐑藉磻濞戙垹鐤い鎰╁劤娴滀粙姊绘担鍝勫付妞ゎ偅娲熷畷鎰旈崨顔间患婵炲濮撮鍡涘煕閹寸偟绠鹃柤濂割杺閸炶櫣绱掗妸銉ｅ仮闁哄瞼鍠栭、姘跺川椤曪拷閹哥憙ed濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺缂佸鍎婚～锕傛煕閺冿拷閸ㄥ灝顕ｉ弰蹇ｆ▉缂備胶濮甸惄顖氼嚕閹绢喗鍋勯梺鍨儑閺嗘碍绻濋悽闈浶ｆい鏃�鐗犲畷鎶筋敋閿熻棄鐣峰鍫熷亜闁绘挸姘﹂幗鏇炩攽閻愭潙鐏熼柛銊ユ贡缁鈽夐姀锛勫帗闁哄鍋炴竟鍡浰囬敃鍌氳埞妞ゆ牜鍋為埛鎺懨归敐鍛暈闁诡垰鐗撻弻锝夘敇閻戝棙楔缂備緡鍠栭…鐑界嵁濡吋瀚氶柤鑹板煐閹蹭即鏌ｆ惔锛勭暛闁稿酣浜惰棟妞ゆ牜鍋為崑鍌涚箾閹寸偐妫ㄧ憸鐗堝笚閺呮煡鏌涘☉鍗炴灈闁哄棗鐗嗛埞鎴︽倷閼碱剙鈪查柣蹇撶箲閻熝兾ｉ幇鏉跨閻庢稒锚椤庢捇姊洪崨濠勭畵閻庢艾鎳橀弫鎰緞鐎ｎ亙缂撴俊鐐�栭悧妤冪矙閹存緷褰掝敊閻ｅ瞼鐦堥梺璺ㄥ枙婵倗绮悢鍏兼櫢闁芥ê顦藉鏍煣韫囨挻璐＄痪鎯у悑娣囧﹪顢涘杈╊啈闂佺顑嗛崝娆撶嵁韫囨稑绀冩い鏃囧Г濞呭洭姊虹粙鎸庢拱濞ｅ洦妞藉畷娲倷閻戞ǚ鎷洪梺璇″瀻閸涱垼鍞舵繝鐢靛閹风兘寮堕崼姘珔妞ゃ儲宀搁弻锝夋晲閸涱垳鍔归梺褰掝棑閸忔﹢鎮伴锟藉畷褰掝敊閻撳寒娼涢梻鍌欒兌椤㈠﹤鈻嶉弴銏犵闁哄稁鍘介崑瀣箹鏉堝墽鎮肩痪鍙ョ矙閺屾稓浠﹂崜褎鍣銈忚缁犳捇寮婚敐澶樻晣闁绘劘顕滈幏鐑藉捶椤撶姷鐒块悗骞垮劚椤︻垶鏌嬮崶顒佺厸闁搞儮鏅涙禒锔戒繆瀹割喖澧存慨濠冩そ瀹曘劍绻濋崘顭戞П闂備焦鎮堕崝宥嗙珶閸℃瑥鍨濋柛顐犲劚缁�鍐┿亜韫囨挻鍣归柡瀣灴濡懘顢曢姀鈥愁槱濠电偛寮剁划鎾诲箚瀹�鍕耿婵炴垶鐟ч崣鍡涙⒑缂佹ɑ鐓ュ褍閰ｉ幆灞解枎閹邦厼寮挎繝鐢靛Т鐎氼喚鏁☉銏＄厵鐎瑰嫮澧楅崵鍥煙椤旀儳鍘撮柡灞芥喘閺佸啴鏁撻挊澶嗘灁婵犻潧鐗忕壕浠嬫煕鐏炲墽鎳呮い锔奸檮閵囧嫰骞嬪┑鍥舵＆閻庤娲栫紞濠傜暦缁嬭鏃堟晸閻ｅ瞼涓嶉柣妯肩帛閻撶喖鏌￠崘銊ワ拷鐢稿箯閿熺姵鐓涘ù锝呮憸鏁堥梺鍝勭焿缂嶄線鐛崶顒夋晣闁绘劗鏁搁妶鐑芥⒒娴ｇ瓔鍤欓悗鍨浮瀹曘垺绺界化鏇嫹閺冨牆绀冩い鏂挎瑜旈弻娑㈠焺閸愵亝鍣у銈庡�ら崶銊㈡嫼闂佸憡绋戦敃銈夋倶閳哄懏鐓欓柧蹇ｅ亝瀹曞矂鏌嶉妷顖滅暤鐎规洖鐖兼俊鎼佸Ψ椤斿吋顔撻梻浣筋嚙鐎涒晝绮欓幒妞伙拷锕傚炊椤掞拷閸屻劍銇勮箛鎾跺闁抽攱鍨块弻娑㈠箻閺夋垹绁锋繛瀛樼矋缁诲嫮妲愰幒鏃�瀚氶柟缁樺笚濞堝鏌﹀Ο鐓庢灈闁哄矉缍侀獮鍥敊閻撳骸顬嗛梻浣虹帛閹稿爼宕规禒瀣摕婵炴垶鐭▽顏堟煙椤栧棗鎳庢慨鏌ユ⒒娴ｅ搫鐨戦柟椋庡厴閺岋綁鎮╁▓鎸庤拫iteInfo婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鎯у⒔缁垳鎹㈠☉銏犵闁绘劕鐏氶崳褏绱撴担绋款暢闁稿鍊濆璇测槈閵忕姈銊︺亜閺冨倸甯舵い顐熸櫇缁辨挻绗熸繝鍐伓闂備礁澹婇崑鍡涘窗閹捐泛濮柨鐔剁矙濮婂宕掑鍗烆杸缂備礁顑嗙敮锟犲极瀹ュ绫嶉柛顐ゅ枔閸橀箖姊洪崫鍕垫Ъ婵炲娲樼粋鎺楀閵堝棭姊挎繝銏ｅ煐閸旀牠鎮￠妷锔剧瘈闂傚牊绋掗ˉ鐐烘煙閸忕厧濮嶉柡宀嬬秮婵℃悂鏁冮敓浠嬫倶閹绢喗鐓涚�癸拷閿熶粙宕版惔銊﹀仼闁跨喓濮寸痪褔鏌熺粙鍨彁闁冲搫鎳忛埛鎴︽倵閸︻厼校妞ゃ儱顦伴妵鍕晜鐠囪尙浠搁梺绯曟杺閸ㄥ綊顢橀崗鐓庣窞婵☆垳绮▍宥夋煟閻斿摜鐭婇柣顒�銈搁幊鐐存綇閵娧呯槇濠殿喗锕╅崢楣冨矗閸℃稒鈷戦柛婵嗗婢跺嫰鏌ㄥ鑸电厽闊洦鎸哥痪褔鏌曢崶褍顏┑顕嗘嫹闂佹枼鏅涢崰姘涢崘顔藉�甸悷娆忓缁�锟介梺闈涚墛閹倿鐛崘顔碱潊闁绘ê鐏氬▓婵嬫⒑閸濆嫷妲规い鎴炵懃铻為柛鏇ㄥ灡閳锋帡鏌涚仦鎹愬闁跨喍绮欓ˉ鎾跺垝閸喓鐟归柨鐔剁矙閻涱喗寰勯幇顒備紜闁烩剝甯婇悞锕�顪冩禒瀣瀬闁告劦鍠栫壕鍏兼叏濡鏁剧紒閬嶄憾濮婄粯鎷呴搹骞匡拷濠囨煕閹惧绠為柟顔炬焿椤﹀磭绱掔�ｎ亶妲告い鎾冲悑瀵板嫮锟斤綆鍓欓獮宥夋⒑閸濆嫷妲搁柣妤佹尵缁寮借閻庤埖銇勯弴顏呭闂佸搫鏈粙鎾绘晸閺傘倗鍒板褍娴峰褔鏁撴禒瀣拺闁告繂瀚悞璺ㄧ磼缂佹绠撻柣锝囧厴瀹曞ジ寮撮悙宥佹櫊閺屻劑寮崒姘濡炪倖鎹佸畷鐢垫閹捐纾兼繛鍡樺灥婵＄晫绱撴担鍓插剱闁搞劌缍婇獮鎴﹀閵堝懐顔婇梺鍝勫枦閹烽攱銇勯锝嗙闁哄瞼鍠栭幃婊兾熺拠鏌ョ�虹紓鍌氬�哥粔鏉懨洪銏犺摕闁哄洨鍠撶粻鍓ф喐瀹ュ绠犻柟鐗堟緲缁狙兠归悩宸剱闁绘挾鍠栭獮鏍庨锟介敓濮愬�曢…鍥箛椤撶姷顔曞┑鐐存綑椤戝棗鈻嶉崶鈺冪＜閺夊牃鏅涙禒锔剧磼濡ゅ啫鏋涢柡浣规尰缁傛帞锟斤綆锟筋厹鍎遍湁闁挎繂娲ㄩ妴濠冧繆閹绘帞澧涘ǎ鍥э躬椤㈡盯鎮欑�涙ɑ娈搁梻浣筋嚙妤犳悂鈥﹂悜钘夎摕闁绘柨鍚嬮崵宀勬煟濡わ拷閻楀棗鈽夎缁辨捇宕掑姣欙紕绱掗懜闈涘摵妤犵偛鍟灃闁跨喓鏅崣鍛渻閵堝懐绠伴柟鍐差樀楠炲繒绱掑Ο鑲╊啎闁哄鐗嗘晶浠嬪礆娴煎瓨鐓欓悹鍥囧懐鐦堥悗瑙勬处閸ㄥ爼骞冨▎鎾村�绘俊顖濇〃缂傛挻淇婇悙顏勶拷鏍偋濡ゅ啫鍨濋悘鐐插⒔椤╃兘鏌ㄩ弬鍨挃缁炬崘鍋愮槐鎾存媴鐠囷紕鍔峰┑鐐插级閹告娊寮婚埄鍐╁閻熸瑥瀚壕鎶芥⒑閻熸壆锛嶉柛瀣ㄥ�栨穱濠囨偪椤栵絾鞋婵＄偑鍊栧鐟懊洪悢濂夋綎婵炲樊浜滃婵嗏攽閻樻彃顏柣鎿勬嫹闂傚倷绀侀幗婊堝闯閵夆晛鍨傞柟鎯板Г閺呮悂鏌ら幁鎺戝姢闁哥喐鐓￠弻鐔煎礄閵堝棗顏�
		if(inviteInfo.getInvited().size() == 0)
			xtable.Teaminvite.remove(invitedRoleId);
		
		
	}
	
	
	//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾剁磽娴ｅ搫小闁告濞婂濠氭偄閸忓皷鎷婚柣搴ㄦ涧婢瑰﹤危椤斿墽纾藉ù锝呮惈鍟告繝娈垮枛閻忔氨绮氭潏銊х瘈闁搞儴鍩栭弲顒�鈹戦悩缁樻锭閻庢碍鎮傞獮蹇涙倻閼恒儲娅㈡繛瀵稿Т椤戝棝鎮″☉銏″�甸柨婵嗙凹缁ㄤ粙寮崼婢棃鎮╅棃娑楁勃闂佺粯顨嗗ú婵娿亹娴ｅ壊娓婚柕鍫濇闁叉粓鏌熷畡鏉挎Щ闁宠鍨块崹楣冩嚑椤掑倻鍘梻浣告惈閻绱炴笟锟介悰顕�骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婵嬫煕濞嗗繒绠婚柡灞稿墲瀵板嫮锟斤綆浜濋鍛攽閻愬弶鈻曞ù婊勭矋閸庮偊姊绘担鍝ユ瀮婵℃ぜ鍔岄湁闁搞儺鍓欑粻娲煛閸モ晛鏋旂紒鈽呮嫹闂備線娼ф蹇曞緤娴犲鍋傞柟鎵閻撴洟鏌￠崘鎸庡濠电偛寮剁换鍕箲閵忕媭娼╅柤鍝ヮ暯閹风粯绻涙潏鍓у埌闁硅绻濆畷顖炴倷閻戞鍘遍梺鍝勫�藉▔鏇犵不閼姐倧鎷峰▓鍨灍鐟滄澘鍟撮崺鐐哄箣閻欏懏瀚归柨婵嗙凹缁ㄤ粙鏌涘Ο缁樸仢婵﹥妞藉畷顐﹀礋椤愶絿浠岄梻浣哥秺椤ユ捇宕楀锟藉濠氬即閵忕姷鍊為悷婊冪Ч椤㈡棃顢橀悤浣诡啍闂佺粯鍔栭幆宀勬倿娴犲鐓欓柣鐔告緲椤忣參鏌熼姘伃妤犵偞甯￠幃娆撴偨閺佸本绮撳娲传閸曨厾鍔圭紓鍌氱С缁舵艾顕ｉ锕�绠涙い鎾跺仧缁愮偞绻濋姀锝嗙【妞ゆ垵鎳樺鎼佸Χ婢跺鍘介柟鍏肩暘閸╁嫰宕箛娑欑厱闁绘ê纾晶鐢告煙椤斿搫鍔滅紒铏规櫕缁瑩骞愭惔鈶挎岸姊绘担瑙勭伇闁哄懏鐩畷顖烆敍濞戞ê鐏侀梺鍦檸閸犳鎮￠悢鍏肩厽闁哄啫鍊哥敮璺好瑰鍛暭濞ｅ洤锕幊鐘诲醇閺囩偞鎳欑紓鍌欒兌缁垳鎹㈤崼銉ョ畺濞寸姴顑嗛ˉ鍫熺箾閹寸偛鏁鹃柟椋庡厴楠炴绱掑Ο鐓庡箥濠碉紕鍋涢鍛殽閹间礁鍌ㄩ柟缁㈠枟閻撴盯鎮橀悙棰濆殭濠殿喖鍊块弻鐔碱敊閸濆嫮浼堥悗瑙勬处閸嬪﹤鐣烽悢鐓庣妞ゆ牗绮庤ⅵ闂備礁鎼惌澶岀礊娓氾拷閻涱噣骞掑Δ浣革拷鐑芥煛婢跺鐒惧ù纭锋嫹?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厱妞ゎ厽鍨垫禍婊堟煕閵婏附顥堥柡宀�鍠撶槐鎺楀閻樺磭浜紓鍌欒兌婵參宕归崼鏇炶摕闁靛ň鏅滈崑鍡涙煕鐏炲墽鈽夋い蹇ユ嫹?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬫盯藝閻㈢鏋侀柟鍓х帛閸嬫劙鏌涢幇顖氱处闁汇垻绮穱濠囨倷椤忓嫸鎷烽弽顓熷亱婵°倕鍟伴惌娆撴煙閻愵剛婀介柨鐔绘閹虫ê顕ｆ繝姘ㄩ柨鏃�鍎冲铏節閻㈤潧鈻堟繛浣冲吘娑㈩敇閻愬稄缍佸畷顐﹀Ψ瑜忛敍婊堟⒑鐠恒劌鏋嶇紒顔界懃閻ｇ兘骞掗幋鏃�顫嶅┑鐐叉缁绘劖瀵兼惔銏㈢瘈鐎典即鏀卞姗�鏁撻懞銉︾妞ゃ垺鐗犲畷鍗炩枎濞嗘劕顏跺┑顔斤供閸撴稓绮斿ú顏呯厵妞ゆ梻鐡斿▓姗�鏌熼崣澶嬪唉鐎规洜鍠栭、妤呭磼閵堝柊銈夋⒒閸屾瑨鍏屾い顓炵墢閹广垽骞嬮敂鑺ユ珖闂侀潧绻掓慨鐑藉汲閿曞倹鐓熼柟瀵镐紳椤忓棙顐介柣鎰劋閻撴瑩姊洪銊х暠濠⒀呭閵囧嫰寮幐搴℃畻濠殿喖锕﹂崕銈囷拷鐢靛帶閳诲酣骞嬪┑鎰缂傚倸鍊烽悞锕�螞韫囨稑钃熼柛妤�鎵痳e濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌熼梻瀵割槮缁炬儳顭烽弻锝夊箛椤掍焦鍎撻梺鎼炲妼閸婂潡寮诲☉銏╂晝闁挎繂妫涢ˇ銉х磽娴ｅ搫孝缂傚秴锕璇差吋婢跺﹣绱堕梺鍛婃处閸撴瑥鈻嶉敐澶嬧拺婵炶尪顕ч獮妤併亜閵娿儻韬�殿喖顭锋俊鎼佸煛閸屾矮绨婚梺鑽ゅТ濞诧箓鎮鹃锕�绠荤紓浣诡焽閸橆亪姊洪幖鐐插妧闁告劕褰炵槐鏃�淇婇悙顏勶拷鎴﹀垂閸濆娊娲偄缁楃尨鎷锋担鑲濇棃宕ㄩ鑺ヮ仧濠电偛顕慨鎾敄閸愵喗鏅搁柦妯侯槹閸ゅ洦銇勯姀鈽嗘疁鐎规洜鍠栭、妤呭磼濮橆剛顓煎┑鐘垫暩婵烇拷婵炰匠鍥х９闁归棿绲搁崶顒夋晬婵炴垶鍑瑰ú鎼佹⒑鐟欏嫷鍟忛柛锝庡灦楠炲繑顦版惔銏犳瀭闂佸憡娲﹂崜娑⑺囬妸鈺傗拺闁圭瀛╃壕鎼佹煕閵娿倗鐭欏┑鈥崇摠缁楃喖鏁撻挊澶樺殨妞ゆ洩鎷风�规洜鍘ч埞鎴﹀幢濞嗘垵鏄ユ繝纰夌磿閸嬫垿宕愰弽褜娼栧┑鐘崇閸嬨倝鏌￠崘銊у閻熸瑱绠撻弻銊╂偆閸屾稑顏�
	private void cleanTimeoutInvites(java.util.List<xbean.TeamInvite> invites)
	{
		java.util.List<xbean.TeamInvite> timeoutList = new java.util.ArrayList<xbean.TeamInvite>();
		for (xbean.TeamInvite invite : invites)
		{
			if ((now - invite.getInvitetime()) > TeamManager.MAX_INVITE_TIMEOUT)
				timeoutList.add(invite);
		}
		invites.removeAll(timeoutList);
	}
	
	//婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾剁磽娴ｅ搫小闁告濞婂濠氭偄閸忓皷鎷婚柣搴ㄦ涧婢瑰﹤危椤斿墽纾藉ù锝呮惈鍟告繝娈垮枛閻忔氨绮氭潏銊х瘈闁搞儴鍩栭弲顒�鈹戦悩缁樻锭閻庢碍鎮傞獮蹇涙倻閼恒儲娅㈡繛瀵稿Т椤戝棝鎮″☉銏″�甸柨婵嗙凹缁ㄤ粙寮崼婢棃鎮╅棃娑楁勃闂佺粯顨嗗ú婵娿亹娴ｅ壊娓婚柕鍫濇闁叉粓鏌熷畡鏉挎Щ闁宠鍨块崹楣冩嚑椤掑倻鍘梻浣告惈閼活垳绮旇ぐ鎺戣摕闁靛ě宥嗗闁挎繂楠告禍婊呯棯閻愵剙鈻曟慨濠冩そ瀹曨偊宕熼鐘插Ы缂傚倸鍊哥粔宕囩矆娓氾拷椤㈡岸鏁愭径妯绘櫌闂佸憡娲﹂崑鍕倵椤撶儐娓婚柕鍫濇缁�锟介梺鐟板暱缁绘劙鍩㈤幘缁樻優闁革富鍘鹃敍婵嬫⒑缁嬫寧婀伴柣鐔濆懐椹抽煫鍥ㄧ♁閻撴瑧锟界懓瀚妯何ｆ繝姘厓閻熸瑥瀚悘鎾煙椤旇娅婄�规洩绲惧鍕節鎼粹懣鐔兼⒒閸屾瑨鍏岀紒顕呭灦楠炴劗鎷犵憗浣告惈铻ｉ柛蹇曞帶鎼村﹤鈹戦悩缁樻锭婵炲眰鍔庡褔鏁撴禒瀣拺缂佸瀵у﹢鎵棯閺夎法孝闁崇粯鎹囬、姗�鎮滈崱妯虹槣闂備線娼ч悧鍡涘疮椤愶絼绻嗗ù鐘差儐閻撶喖鏌ｉ弬鍨骇婵炲懎鎳忛妵鍕敃閵忋垻顔囬柣鎾卞�栭妵鍕疀閹炬剚浼�闂佺粯鎸婚崹鍓佹崲濠靛顫呴柨婵嗘閵嗘劙姊哄ú璇插闁靛牊鎮傞獮鍐焺閸愨晛顎撻梺鎯х箰濠�閬嶆晬濠靛洨绠鹃弶鍫濆⒔閹吋銇勯鐐靛ⅵ闁轰焦鎹囬幐濠冨緞鐎ｎ偄鏋戠紓鍌欑贰閸犳顫忔繝姘櫢闁伙絽鏈弳鈺傘亜椤撶偟澧曟い鏇秮瀹曪絾寰勬径宀�鐣鹃梻浣虹帛閸旓附绂嶅鍫熸櫢闁兼亽鍎茬粈鍫ユ煙楠炲灝鐏叉鐐叉喘椤㈡岸宕卞Ο渚紦婵犳鍠楅敃鈺呭储娴犲纾归柟閭﹀弾濞堜粙鏌ｉ幇顖氱毢缂佺姴寮堕妵鍕晜閹屾毉闂佽鍨卞Λ鍐�佸☉妯锋婵妫旂槐锕傛⒒閸屾瑧鍔嶉悗绗涘懏宕查柛灞句緱濞堜粙鏌涘☉姗堟敾婵炲懐濮甸妵鍕冀椤愵澀娌梺绋匡工閻忔岸骞堥妸銉建闁糕剝顨呯粻褰掓⒑閸涘﹦绠栨俊鐐扮矙瀵鍨惧畷鍥ㄦ畷闁诲函缍嗛崜娑溾叺婵犵數濮烽。浠嬪礈濠靛纾块柤娴嬫櫇娑撳秵绻涢幋娆忕仼婵☆偅蓱缁绘盯宕卞Δ锟界紞鏍磼閹插瀚�?闂傚倸鍊搁崐鎼佸磹閹间礁纾瑰瀣捣閻棗銆掑鐐濡ょ姷鍋涢ˇ鐢稿春閸曨垰绀冩い蹇撴閸ゅ本绻濆閿嬫緲閿熻姤娲熼獮濠冩償閿濆洨鐒奸梺鍓插亞閸犳挾寮ч敓浠嬫⒒閸屾氨澧涘〒姘殜瀹曟洝绠涘☉娆戝幈闁诲繒鍋犻褎淇婃禒瀣厪闁搞儜鍐句純濡ょ姷鍋炵敮锟犵嵁鐎ｎ亖鏀介柟閭︿簽濡垶姊婚崒娆掑厡缂侇噮鍨堕獮鎰偅閸愩劎鐛ラ梺鍝勭▉閸樺ジ鎷戦悢鍏肩厸闁搞儮鏅涢弸鏃傜磼閻樿崵鐣洪柡灞剧洴閳ワ箓骞嬪┑鍥╀邯濠电姵顔栭崰鏍殽閹间讲锟芥棃宕橀鍢壯囨煕濞戝崬鏋ゆい鈺�鍗冲娲川婵犲啫闉嶇紓浣割儐閹哥宓勯梺鍦濠㈡绮婚幎鑺ョ厸闁告劖瀵х�氬綊鏌ｆ惔銏㈩暡鐎癸拷閹间礁钃熼柣鏃囨绾惧吋淇婇婵囶仩闁荤喐褰冮埞鎴︽倷閼碱剙顣哄銈庡幘閸忔﹢鐛崘銊庢棃鏁撴禒瀣厺闁规崘顕ч崹鍌涖亜閺冨倹娅曞ù婊堢畺濮婄粯鎷呴懞銉ｏ拷鍐磼閿熻姤绗熼敓浠嬪灳閿曞倹鍊婚柣锝呰嫰缁侊箓姊洪崨濠傚Е闁哥姵鐗犻敐鐐哄川鐎涙鍘梺鍓插亝缁诲啴藟濠婂厾鐟邦煥閸曞灚鐤侀梺鍝勭灱閸犳牕鐣峰Δ鍛闁绘挸楠告竟鎺楁⒒娴ｈ鍋犻柛鏂跨箲缁傚秹顢楅崟顒佹闂佸吋浜介崕瀛樼珶濡偐纾界�广儱鎷戦煬顒侇殽閻愭彃鏆欓摶鏍煕濞戝崬鏋熸繛鍛矒閺岀喖鎳栭埡鍕婂鏌ㄩ悢璇残撻柛鎾磋壘椤洦绂掔�ｎ偀鎷洪柣鐘叉处瑜板啴顢楅姀銈嗙厽闁哄啯鍨垫晶瀛橆殽閻愯尙绠婚柡浣规崌閺佹捇鏁撻敓锟�?
	private void cleanTimoutInvitings(java.util.Map<Long,Long> invitings)
	{
		Object[] keys = invitings.keySet().toArray();
		for(int i = 0; i <keys.length;i++)
		{
			if ((now - invitings.get(keys[i])) > TeamManager.MAX_INVITE_TIMEOUT)
			invitings.remove(keys[i]);
		}
	}
	
	public boolean isLeaderInDuel(long leaderRoleId)
	{
		BuffAgent agent = new BuffRoleImpl(leaderRoleId, true);
		if (agent.existBuff(PlayPKManage.BuffDuelID))
		{
			MessageMgr.sendMsgNotify(leaderRoleId, 141867,  null);
			return true;
		}
		else
			return false;
	}
	
	
	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 794448;

	public int getType() {
		return 794448;
	}

	public byte agree; // agree为1接受邀请，为0拒绝邀请

	public CRespondInvite() {
	}

	public CRespondInvite(byte _agree_) {
		this.agree = _agree_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(agree);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		agree = _os_.unmarshal_byte();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CRespondInvite) {
			CRespondInvite _o_ = (CRespondInvite)_o1_;
			if (agree != _o_.agree) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)agree;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(agree).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CRespondInvite _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = agree - _o_.agree;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

