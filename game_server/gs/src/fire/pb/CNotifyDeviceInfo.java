
package fire.pb;

import java.util.HashMap;
import java.util.Map;

import xbean.BattleInfo;
import fire.log.LogManager;
import fire.pb.battle.PEnterBattleAfterEnterWorld;
import fire.pb.battle.SSendBattleStart;
import fire.pb.util.InetAddressUtil;
import gnet.link.Dispatch;
import gnet.link.Kick;
import gnet.link.Onlines;





// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CNotifyDeviceInfo__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CNotifyDeviceInfo extends __CNotifyDeviceInfo__ {

	@Override
	protected void process() {
		
		final int userid = ((Dispatch)this.getContext()).userid;
		if(userid == -1){
			kickUser(-1000);
			mkdb.Trace.info("CRoleList====userid = -1  闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻缁炬儳顑愰崬褰掓⒑鐠恒劌鏋戦柡瀣吹缁骞樺Ч鍥锋嫹娴ｈ倽鏃�鎷呴悷閭︼拷鎾寸箾閹炬潙鍤柛銊╀憾閺屻劑濡堕崱娆戠槇閻庡吀鍗抽弨鍗烆熆濮楋拷閺佹捇鎳為妷锔绢槹濡ょ姷鍋涢敃銉╁箚閺冨牆惟闁靛鍎抽敓绛嬪弮濮婅櫣绮欑捄銊т紘闂佺顑囬崑銈夊箖閿熺姵鏅插璺鸿嫰瑜板嫰姊洪幖鐐插姌闁告柨鐭傚畷鐢割敆娴ｈ櫣顔曢梺绋跨箳閸樠勬叏瀹ュ鐓涚�癸拷鐎ｎ剛鐦堥悗瑙勬礀瀹曨剝鐏掗梺鍏肩ゴ閺呮繈宕㈠鍫熲拻濞达絽鎲￠幆鍫ユ偠濮樼厧浜扮�规洘绻堥獮瀣晝閿熺晫绮婚弽顓熺厪闁割偅绻嶅Σ鍝ョ棯閹冩倯缂佺粯鐩獮瀣倻閸ワ妇杩斿┑鐐差嚟閵嗗骞忛敓锟�  =============");
			return;
		}
		
/*		new mkdb.Procedure(){

			@Override
			protected boolean process() throws Exception {

//				Integer userid = xtable.Properties.selectUserid(roleid);
//				xbean.ActiveUserInfo activeUserInfo = xtable.Activeusertable.select(userid);
//				Integer lev = xtable.Properties.selectLevel(roleid);
				xbean.AUUserInfo userinfo = xtable.Auuserinfo.get(userid);
				
//				java.util.Map<String, Object> params = LogUtil.putRoleBasicParams(roleid, new HashMap<String, Object>());
				Map<String, String> machineInfos = new HashMap<String, String>();
				for (UserInfoUnit uiu : info) {
					machineInfos.put(uiu.key, uiu.value);
				}
				
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾剧懓顪冪�ｎ亝鎹ｉ柣顓炴閵嗘帒顫濋悙顒�顏舵俊銈囧Х閸嬬偤鎮ч悩姹囷拷渚�寮村杈┬㈤梻浣规偠閸庢椽宕滈敃鍌氭瀬闁告劦鍠楅悡銉╂煛閸ユ湹绨奸悗姘秺濮婂搫效閸パ嶆嫹濡ゅ懎纾婚柟鎹愬煐瀹曞弶绻濋棃娑欏窛缂佲槄鎷烽梻浣侯焾閺堫剛鍒掑畝鍔肩兘鏁撴禒瀣拻濞达絼璀﹂悞鐐亜閹寸偛鐏╅柟骞垮灩閳规垹锟斤綆浜ｉ幗鏇㈡倵楠炲灝鍔氭い锔诲灡鐎靛ジ鎮╃紒妯煎幈闂佸搫娲㈤崝灞炬櫠椤旂晫绠鹃柛婊冨暟缁夘喗鎱ㄦ繝鍌ょ吋鐎规洘甯掗～婵嬵敄鐠恒劍鏅奸梻鍌欑劍閹爼宕濊箛鎾灃婵炴埈婢佺紞鏍叓閸ャ劍濯兼繛宸憾閺佸倿鏌涢弴銊ヤ簽闁跨喓鐡旈崢濂糕�旈崘顔嘉ч柛鈩冾焽椤︺儵姊洪悷鏉挎毐闂佸府绲介悾宄邦煥閸繄顓煎銈嗘煥婢т粙鏁嶅┑鍥╃閺夊牆澧介幃鍏笺亜椤撶偟澧﹂柕鍡楀�块獮搴ㄦ嚍閵壯冨箞闂佽鍑界徊濠氬礉瀹�鍕櫢闁兼亽鍎崇粻鎾淬亜閺囶亞鎮奸柟椋庡Т闇夐悗锝庡亽濞兼棃姊绘笟锟藉褏鎹㈤幒鎾村弿闁哄鍨归弳銈夋煕閳╁啰鈾侀柍閿嬪灴濮婂宕奸悢鍓佺箒闂佺粯甯＄粻鏍蓟濞戞瑦鍎熼柕鍫濆閹牏绱撴笟鍥ф灕妞ゆ泦鍛疾婵＄偑鍊曠换鎰板箠婢舵劕绠柧蹇撴贡绾捐棄霉閿濆懎顥忛柛搴＄箻閹绠涢幘鏉戞畻閻庤娲樼换鍫ュ箖閵忋倕绀傞柤娴嬫櫅楠炲牓姊虹拠鎻掑毐缂傚秴妫濆畷鎴﹀幢濡炴洘妞介獮姗�顢欓悾灞藉箞闂備礁纾幊鎾绘倶濠靛绀夋繝濠傛嫅閹风兘宕归锝囧嚒闁诲孩鐭崡鎶芥偘椤曪拷瀹曞爼顢楁径瀣珝闂備胶绮弻銊︾珶婵犲啰顩风憸鏂款潖婵犳艾纾兼繛鍡樺姉閵堟澘鈹戦悙宸Ч婵炶尙鍠庨悾鐑藉箮閼恒儲娅囬梺绋挎湰濮樸劑顢欓崱娑欌拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｆ繝姘亜闁稿繐鐨烽幏濠氭煟鎼达紕浠涢柣鈩冩礈缁絽螖閸涱喒鎷洪柡澶屽仦婢瑰棝藝閿曞倹鍊垫慨姗嗗亜瀹撳棛锟芥鍠涢褔鍩ユ径鎰潊闁绘﹢娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏂炲懐纾芥慨妯跨簿婵娊姊婚崼鐔衡枔闁猴拷娴犲鐓熼柟閭﹀幗缂嶆垿鏌ｈ箛鏇炴灈闁哄本鐩俊鎼佸Ψ瑜忔闂備浇顕栭崰鎺楁晸閼恒儲鐏辨俊鎻掔墦閺屾洝绠涢妷褏锛熼梺鍛婏耿娴滆泛顫忓ú顏勪紶闁告洦鍓欓崑宥夋⒑閸涘﹥鐓ラ柣顓炲�块幃浼搭敊绾拌鲸寤洪梺璺ㄥ枍缁瑥顕ｆ繝姘労闁告劑鍔庣粣鐐烘倵閻у憡瀚规繝鐢靛Т鐎氼剚鎱ㄦ總鍛娾拻濞达絽鎽滈弸鍐┿亜椤愩埄妯�鐎规洖缍婂畷濂稿即閻樿尙銈﹀┑鐘垫暩婵潙煤閿曞倹鍋傞柡鍥╁亹閺�浠嬫煟濡绲婚柡鍡欏仧缁辨帡鏁撻悾宀嬫嫹閿濆骸澧鹃柟鐑筋棑閹叉挳宕熼锟介ˇ鈺呮⒑閹肩偛濡奸柣鏍с偢婵″瓨鎷呯化鏇燁潔濠殿喗顨呭Λ娑㈠矗閸℃稒鈷戦柛娑橈梗缁堕亶鏌涢妸锕�鈻曠�规洘绻堥獮鏍ㄦ媴閸忓瀚藉┑鐐舵彧缁蹭粙骞夐敓鐘茬畾闁割偁鍎查崑鐘虫叏濡厧甯跺ù婊勫閿熷�燁潐濞叉ê煤閻斿鍤曞┑鐘宠壘鍞梺鎸庢穿閹峰嘲霉濠婂嫷娈滄慨濠冩そ瀹曨偊宕熼锟介崑宥夋⒑閹肩偛濡兼い顓炲槻閻ｇ兘鏁愭径濠勵啋缂傚倷鐒﹂…鍥储闁秵鈷戦梻鍫熶緱濡狙呯磼閼艰泛袚濞ｅ洤锕ョ粋鎺旓拷锝庡亜閿熻棄鐖奸悡顐﹀炊閵婏妇顦ㄩ梺鍝勬－閸撶喖寮婚敍鍕勃閻犲洦褰冮‖鍫ユ⒑鐎圭姵顥夋い锔诲灥閻忔帗绻濋姀鐘差暢婵炲懌鍨诲濠勬崉閵婏富娼熼梺鍦劋濮婅崵澹曢崗闂寸箚妞ゆ牗鑹鹃幃鎴︽煕閹烘挾娲撮柟顔筋殘閹叉挳宕熼鍌ゆК闂備線娼ч悧濠囧箖閸岀偟宓侀柛鎰靛枛椤懘鏌嶉挊澶嬵棡閺佸牓姊洪崷顓炲付闁宦板妿閹广垽宕熼鐘电劶婵犮垼鍩栭崝鏍煕閹烘鐓曢悘鐐插⒔閹冲懏銇勯敂鑲╃暤闁哄瞼鍠撻崰濠囧础閻愭澘鏋堥梻浣烘嚀绾绢參宕伴弽顓滐拷浣糕槈閵忊�筹拷鐑芥煠绾板崬澧伴柡瀣暞缁绘繄鍠婂Ο娲绘綉闂佸壊鐓堥崹鎶藉箯閸愵喗鏅濋柛灞捐壘閹偤姊洪崫鍕偍闁搞劍妞介幃鈥斥枎閹搭垱瀚归柣鐔告緲椤忣亜顭块悷鐗堫棦闁诡喗锕㈤弻鍡楊吋閸℃瑥骞楅梻渚�娼ч悧鍡欐崲閹寸媴鎷峰顒傜Ш婵﹤顭峰畷鎺戔枎閹搭厽袦闂備礁婀遍埛鍫ュ磻閸曨厼寮查梻渚�娼ц墝闁哄懏绋撴竟鏇熺節濮橆厾鍘介梺鍝勫暙閸婄敻骞忛敓鐘崇厸濞达絿顭堥敓钘夋健瀵濡搁埡鍌氫簽闂佺鏈粙鎴︻敂閿燂拷
				xbean.UserDeviceInfo userDeviceInfo=xtable.Userdeviceinfotab.get(userid);
				boolean isfirst=false;
				int first=1;
				if(userDeviceInfo==null){
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鎾閻樻爠鍥╁彄闁搞儯鍔嶉悡銉︺亜韫囨碍纭鹃柍瑙勫灴椤㈡瑩鎯岄顐＄盎闁伙絿鍏橀、妤呭礋椤愩垹浜堕梺璇叉捣閺佽顭囨繝姘濡炲瀛╅崰鍡涙煕閺囥劌澧版い锔哄劤缁辨捇宕掑姣欍垽鏌ㄩ弴銊ら偗闁诡喕鍗抽、娆撴嚍閵夈儱濡抽梻浣瑰缁诲倸煤椤撱垹鐓橀煫鍥ㄧ♁閻撶喖骞栭幖顓炵仯缂佸鏁婚弻娑氾拷锝庝簼閸ｅ綊鏌嶇拠鑼х�规洖銈告俊鐑芥晜鐟欏嫬顏烘繝鐢靛仩閹活亞绱為敓鑺ャ亜椤愩埄妯�鐎规洘鍨块幃鈺冪磼濡厧骞堥梺鐟板悑閹矂宕伴弽顓熷�堕柨鏃�鎷濋幏椋庢喆閸曨剛顦ㄧ紓浣筋嚙閸熸挳鐛崱娑樼睄闁割偅鎯婇埡鍛厪濠㈣鍨伴崯顐ょ不閹惰姤鈷掗柛灞剧懄缁佺増绻涙径瀣鐎规洘濞婇弫鍐磼濮橀硸鍞甸梻浣芥硶閸ｏ箓骞忛敓锟�?濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺缁樺灥濡盯宕濋姘ｆ斀闁绘劖娼欓悘锔姐亜椤撶偞鍠樼�殿喗濞婂畷鍗炩槈濞嗘垵骞堥梻浣告惈濞层垽宕濈仦鍓ь洸闁绘劖鐣禍婊堟煥閺冨浂鍤欐鐐寸墵閺屽秶鎲撮崟顐や紝闂佽鍠掗弲婵堟閹烘嚦鐔哥節濮橆厽娈繝纰夌磿閸嬫垿宕愰弽顓炲瀭闁汇垻顭堢粻鐘充繆椤栨瑨顒熼柛銈嗘礋閺屾稑鈽夊鍫濆闂佽崵鍠庣紞濠囧蓟閵娾晜鍋勯柛鎾茶兌閻撴捇鎮楀▓鍨灈妞ゎ厾鍏樺顐﹀箛椤撶偟绐炴繝鐢靛Т鐎氼噣寮堕崨濠佺箚闁绘劦浜滈敓鑺ョ墱閺侇喗绻濋崶銊ワ拷鍧楁煥閺囩偛锟藉摜澹曢崸妤佺厵闁诡垎鍐炬殺缂佺偓宕樺Λ鍕Υ閹烘埈娼╂い鎺戯攻閺侀箖鏌ｆ惔銏ｅ缂傚秴锕ら～蹇涙惞鐟欏嫬纾梺闈涱焾閸庢煡鎮甸姀銈嗏拺闁荤喐婢樺▓鈺呮煙閸戙倖瀚�?
					first=0;
					isfirst=true;
					userDeviceInfo=xbean.Pod.newUserDeviceInfo();
					xtable.Userdeviceinfotab.insert(userid, userDeviceInfo);
				}
				userDeviceInfo.setIp(userinfo!=null?InetAddressUtil.ipInt2String(userinfo.getLoginip()):"auuserinfonull"); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴楠炴﹢鎳犻澶嬓滈梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷闂侀潧臎娓氬﹥瀚归柟鐑橆殕閻撶喐绻濋棃娑欘棤闁糕晪缍侀弻鈥崇暆鐎ｎ剛鐦堥悗瑙勬礀閻栧吋淇婇悜钘壩ㄧ憸宀勫箖閿濆鈷掑ù锝呮贡濠�浠嬫煕婵犲喚娈滅�规洘鍨块獮姗�鎳滈棃娑樼哎婵犵數鍋為崹顖炲垂閸︻厾涓嶉柨婵嗘缁犻箖鏌涢埄鍐炬畼缂佺姵濞婇弻娑㈠籍閿熶粙骞愰崘宸綎闁绘垶蓱婵粓鏌熷▓鍨珮婵″樊鍣ｅ娲箰鎼淬垻鈹涚紓浣哄У閹瑰洤顕ｉ锕�绠荤紓浣姑惂鍕節閵忥絾纭鹃柣顒�銈稿鍐测槈閵忊檧鎷虹紓浣割儏濞硷繝顢撳Δ鍐挎嫹鐟欏嫭澶勯柛鎾寸洴瀹曪綁宕ㄧ�涙ǚ鎷洪梺鍦焾鐎涒晠藟閸℃ü绻嗘い鎰╁灩椤忣厾锟借娲栫紞濠傤嚕椤掍焦鍎熼柟鎯х摠閺夋悂姊绘担渚劸闁哄牜鍓涢崰濠傤吋婢跺﹦鏌堥梺缁樺姉閸庛倝鎮￠悢鍏肩厵闁诡垎灞芥闂佺懓鍟跨�氫即寮婚弴銏犵倞鐟滃秹顢旈鐙呮嫹濞堝灝鏋涢柨鐔烘櫕閸ｃ儱危閻撳寒娓婚柕鍫濆暙閸旀粎绱掗鑺ュ磳鐎殿喖顭烽弫鎾绘偐閺屻儱鏁规俊鐐�栭崝鎴﹀垂瑜版帪缍栨い蹇撶墛閳锋垹绱撴担鐧镐緵婵炲牊鏌ㄩ埥澶愬箼閸愨晜姣�
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幈濡炪値鍘介崹鍨濠靛鐓曟繛鍡楃箳缁犳娊鏌ㄩ悢鍑ゆ嫹閻曚焦缍堝┑鐐插级閻楁洜鍙呴梺闈浥堥弲婊堝磿濡ゅ懏鐓曢柍鈺佸枤濡懐鎲搁悧鍫濈瑲闁哄懏鐓￠弻娑㈩敃椤愵澀绨肩紓鍌氱Т閻楀棝鍩為幋锔藉�烽柛娆忣槸濞呇勭節濞堝灝鏋熼柟绋垮暱閿曘垺绗熼敓钘夘潖閾忓湱纾兼俊顖氭禋娴滄粏鐏掓繝鐢靛Т濞层倗澹曢崸妤佺厵闁规鍠栭。濂告煟閹惧瓨绀嬮柟顔筋殜閺佹劙宕ㄩ鐔凤拷搴ㄦ⒒娓氬洤寮鹃柛銊ョ埣瀵鏁嶉崟顏呭媰闂佸憡鎸嗛崟顐㈢仭闂傚倷鑳剁涵鍫曞疾濞戞熬鎷峰顓熺凡闁伙絽鍢查～婊堟晸娴犲锟戒線寮敓浠嬪箯閸涱垱瀚氶柍钘夋噺鐎氬綊鏌涢妷顔煎闁抽攱甯掗湁闁挎繂瀚鐔兼煟閹烘挸鍔ら摶鏍煟濡椿鍟忛柣鎺楃畺濡焦寰勬繝搴㈠瘜闁诲函缍嗘禍婊堫敆閵徛颁簻妞ゆ劧绲剧粈瀣煛瀹�锟介崰鏍箖濠婂吘鐔访虹紒姗嗘闂傚倷绀佺紞濠囁夐幘璇茬婵鎷风�殿噮鍋婇獮鍥敇閻斿嘲濡虫繝鐢靛█濞佳囨偋婵犲洤鐤鹃柣鎾崇岸閺�浠嬫煟閹邦剚鈻曢柛銈囧枎閳规垿顢欑拠鎻掔ギ閻庤娲濋～澶屾崲濠靛棭娼╂い鎺戝�婚弸锟介梻鍌欑缂嶅﹤螞鐠恒劎鐭嗗ù锝堟娑撳秹鏌曟径娑滅濞存粍绮撻弻锟犲磼濠靛洨銆婂┑顕嗙悼閸嬨倝寮婚敍鍕舵嫹閿濆簼绨奸柛銈呮处閹便劍绻濋崘鈹夸虎閻庤娲﹂崑濠傜暦閻旂⒈鏁囬柣妯诲絻铦庣紓鍌氬�搁崐鎼佸磹閸濄儳鐭撻柟鎯板Г閸婂潡鏌ㄩ弮鍌涙珪闁崇懓绉撮埞鎴︽偐閸欏鎮欑紓浣哄Х閹虫捇婀侀梺鎸庣箓閻楀棝鏁撻幋鎺旂煓濠碘剝鎮傞崺锟犲磼濠婂啫濡囨繝鐢靛О閸ㄥジ宕洪弽顓熸櫔闂備礁鎼鍡涙偡閳哄懎钃熼柣鏃傗拡閺佸鏌涢埄鍐噮閽冨崬鈹戦悜鍥╁埌婵炲眰鍊濋弫鍐敂閸繄鐣哄┑鐐叉閹尖晠寮崒鐐寸厱闁哄洠锟藉磭鍘柣搴㈣壘缂嶅﹪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欒兌婵娊宕￠幎钘夎摕婵炴垶菤閺�浠嬫煕閺囥劌浜滃┑顔哄灮缁辨挻绗熸繝鍐伓濠电姷鏁告慨鎾磹閻㈢缁╁ù鐘差儐閻撶喐淇婇姘儓缂佺嫏鍜冩嫹閻熺増鍟炵紒璇插閺佹捇宕愰悤浣圭秷闂佽鎮傞ˉ鎾斥枎閵忕媭娼╅悹楦挎閻ｅ搫鈹戞幊閸婃洟骞婅箛娑樼柧闁哄被鍎辩粻鍦磼椤旂偓顏熼柟椋庡厴閹崇姷鎹勯搹鐟板Х濠电姷鏁告慨鐑姐�傛禒瀣婵犻潧顭堟禍褰掓煕閹板吀绨界紒锟芥繝鍌楁斀闁绘ê寮跺婵堬拷瑙勬尫缁舵岸寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欒兌婵箖锝炴径鎰﹂柛鏇ㄥ灠缁犲鎮规ウ鎸庛�冩繛宀婁邯濮婅櫣鎷犻懠顒傤唶濠碘槅鍋呯粙鎾澄ｉ幇鏉跨閻庢稒锚椤庢挻绻涚�电孝妞ゆ垵鎳橀獮妤呮偨閸涘ň鎷洪梺闈╁瘜閸樹粙宕甸敓钘夆攽閻愯尙婀撮柛濠冪箞閺佹劙鎮欓崜浣烘澑闂佺懓褰為悞锕�顪冩禒瀣拷渚�寮崼婵堫槹濡炪倕绻愬Λ娑㈠磹閻愮儤鈷掗柛灞剧懅椤︼箓鏌熷ù瀣舵嫹鐡掍焦妞介弫鍐磼濮橆剙浜跺┑鐘绘涧閸婂綊骞冮崼鏇熸櫢闁芥ê顦敓钘夋憸閸欏懎顪冮妶鍛闁瑰啿顦甸獮蹇撁洪鍛嫼闂傚倸鐗冮弲娑㈡儊濠婂牊鐓曟俊顖滅帛閸婃劖顨ラ悙鑼闁轰焦鎹囬幃鈺佺暦閸パ冪疄闂備浇顕ч崙鐣岀礊閸℃顩叉繝濠傜墱閺佸倹銇勯幘鍗炵仾闁绘挻娲熼弻宥夋偡閹殿喕铏庨梺璇茬箚閺呮粓濡甸崟顖氱闁告劕寮堕崐顖炴倵閸偅绶查悗姘煎幘閹广垹鈹戠�ｎ亞顦伴梻鍌氱墛缁嬫帡寮抽鐐粹拻闁稿本鑹鹃敓钘夊槻闇夐柛銉墾缂嶆牕顭块懜闈涘缁炬儳娼￠弻鐔煎箚閺夊晝鎾绘煕婵犲倻鍩ｉ柡灞剧洴椤㈡洟鎮╅幓鎺戭潛缂傚倸鍊风拋鏌ュ疾閻樿钃熼柣鏃傚帶缁犳岸鏌℃径濠冩珖闁瑰墽绮悡鍐⒑閸噮鍎忛柣蹇旀尦閺屸�崇暆鐎ｎ剛鐦堥悗瑙勬礃鐢帟鐏掗梺鍛婄箓鐎氼剟锝炲顓犵瘈闁汇垽娼ф禒婊堟煙閸愭煡鍙勬鐐诧工椤粓鏁撻挊澶樺殨閻犲洦绁村Σ鍫ユ煏韫囧鎷烽崗鍛泿闂傚倷绀侀幉锟犳偡閵夆敡鍥ㄥ鐎涙ê浠ч梺鍝勮癁閿熶粙寮ㄦ禒瀣厓闁靛鍎遍弳杈╃磼閻欐瑥娲﹂悡鏇㈡煛閸愭寧瀚归梺鑽ゅ暱閺呮盯顢氶敐澶樻晝闁挎洩鎷风紒鐘哄吹缁辨挻鎷呴懖鈩冨灥閳诲秹濮�閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷
				userDeviceInfo.setTelcooper(machineInfos.get("TelcoOper")==null?"":machineInfos.get("TelcoOper")); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆樻К缂備胶鍋撻崕鍐差焽閿熺姴钃熼柨婵嗩槸椤懘鏌曡箛濠冩珖闁告柨鎽滅槐鎺楁倷椤掞拷閸斻倖銇勯鐘插幋鐎殿喖顭烽幃銏ゆ偂鎼达綆鍞归梻渚�锟芥稑宓嗘繛浣冲啠鏋旀い鎾跺Х绾捐棄銆掑顒婃敾閻庢俺顫夌换婵嬪閿濆棛銆愰梺娲诲幖椤︾敻鐛箛娑欏�婚柣锝呰嫰缁侊箓姊洪崜鑼帥闁哥姵鐗楅幈銊︽償閳藉棙瀵岄梺闈涚墕缁绘劙鎯佸鍫熺厱闁靛鍔嶇涵鐐亜閺囶亞绋婚悗闈涖偢瀵爼骞婇悙钘夊闁哄被鍔戝顒勫垂椤旇瀵栨俊鐐�栧鐟懊洪悢濂夋綎婵炲樊浜濋崑锟犳⒑椤撱劎鐣辨繛鍫濈埣濮婅櫣绮欏▎鎯у壋闂佺顑冮崐婵嬬嵁閸℃稑绀冩い鏃囧亹椤撴椽姊虹紒妯忣亪鎮樺鑸垫櫖闊洦鏌х换鍡涙煏閸繄绠抽柛鎺嶅嵆閺屾盯鎮㈢捄鍝勭ギ闂佽鍠楅崕宕囧弲濡炪倕绻愰幊鎰板储閹间焦鍊甸柣褍鎲＄�氬綊姊虹捄銊ユ瀺缂侇喗鐟ラ悾閿嬪閺夋垹顔掔紓鍌欑劍钃辨繛鍛灲濮婄儤瀵煎▎鎴濆煂闂佸搫鐗滈崜鐔奉嚕閹惰棄鐓涢柛灞久肩花璇差渻閵堝棙灏甸柛瀣枑閺呭爼寮撮姀锛勫幐闂佺硶锟藉磭绠叉繛鍛攻閹便劍绻濋崟顓炵闂佺懓鍢查幊蹇曠箔閻旂⒈鏁嶆繛鎴炵懄濞堟彃鈹戦敍鍕杭闁稿鍊濆畷鎴﹀礋椤栵拷閸ヮ剦鏁嶆繝濠傚暙閻ら箖姊婚崒娆掑厡缂侇噮鍨跺濠氬Ω閳瑰尅鎷烽崘鈺傚劅闁靛鍎遍幆鐐烘⒑閸濆嫭鍌ㄩ柛銊︽そ閹繝寮撮悢缈犵盎闂佽婢樻晶搴ｇ矙閼姐倗纾奸柨鐔剁矙閺佹挻绂掔�ｎ偀鎷虹紓鍌欑劍钃遍悘蹇庡嵆閺岋綁鍩℃繝鍌滀桓閻庢鍠涢褔鍩ユ径濠庢僵妞ゆ劧绲芥刊浼存⒒娴ｄ警鏀版い顐㈩樀瀹曟繈寮撮埗鍝勵槸閳规垿宕遍埡鍌氱槣闂備線娼ч悧鍡橆殽閸涘﹦顩叉繝闈涱儐閻撴洟鏌曟繛鍨姢濞寸姰鍨洪妵鍕敃閵忋垻顔掗梺鍦帶濠�閬嶅箟閹绢喖绀嬫い鎰╁�曢柊閬嶆⒒閸屾瑨鍏岄柛瀣ㄥ姂瀹曟洘娼忛埡渚囨濡炪倖鎸鹃崰搴敋闁秵鐓曟い鎰Т閸旀粓鏌嶉柨瀣仼闁瑰弶鎮傞幃褔宕煎┑鍛灁婵犵妲呴崑鍛村垂閸ф钃熸繛鎴炵矌閻わ拷闂佸搫鍊稿Λ顓熺椤忓牊鏅查柣鎰閻わ拷闂佺懓褰為悞锕�顪冩禒瀣拷渚�寮崼婵囥仢婵炶揪缍�椤曟牕螞閸愵喗鈷掗柛灞剧懅椤︼箓鏌涢悢閿嬪仴妤犵偞鐗犻、鏇㈡晝閿熺晫澹曡ぐ鎺撶厵闂傚倸顕拹浼存煛娴ｇ锟藉潡寮婚妸鈺傚亞闁稿本绋戦锟�?
				userDeviceInfo.setChid(machineInfos.get("ChId")==null?"":machineInfos.get("ChId")); // 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹惧墎纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｆ繝姘櫜濠㈣泛锕﹂悿锟介梻鍌氬�搁悧濠勭矙閹达讣缍栨い鎰╁�楃壕钘壝归敐鍛儓闁宠鐗忕槐鎺楁偐瀹曞洤鈷岄悗娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花鑽ょ磽閸屾艾锟界兘鎮為敃鍌涙櫇闁宠桨绲煎☉銏犵妞ゆ牗绋堥幏濠氭⒑閹肩偛鍔�閻忕偞瀚庤缁辨挻鎷呴搹鐟扮缂備浇顕ч崯浼村箲閵忕姭鏀介悗锝庝簽閿涙粌鈹戦悙鏉戠仸閽冭鲸銇勮箛瀣拷鏍崲濠靛鍋ㄩ梻鍫熺◥閸濇鏌ｈ箛鎾剁闁荤啿鏅犳俊鎾磼閻愬瓨娅㈤梺璺ㄥ櫐閹凤拷
				userDeviceInfo.setPlattype(machineInfos.get("PlatType")==null?"":machineInfos.get("PlatType")); // 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柟缁㈠枟閸庡顭块懜闈涘缂佺嫏鍥ㄧ厱闁哄秲鍊曟晶鏌ユ倵濮樻剚娼愬ǎ鍥э躬婵″爼宕熼鐐差瀴闂備礁鎲￠悷銉ф崲濮楋拷瀵鏁愭径濠勵吅闂佹寧绻傚Λ顓炍涢崟顓犵＜闁诡垎鍐ｆ寖缂備緡鍣崹鎶藉箲閵忕姭妲堥柕蹇曞Х椤撳搫鈹戦悙鍙夘棞缂佺粯甯楃粋鎺撶附閸涘ň鎷哄┑顔炬嚀濞层倝鏁撴慨鎰拷婵嗙暦閹惰姤鏅插璺猴龚閹芥洟姊洪棃娑氬妞わ富鍨崇划璇测槈濡繐缍婇弫鎰板川椤旇棄鏋戝┑鐐差嚟婵數鍒掑鍥ㄥ床婵炴垶鐔幏宄扳槈濞嗘鍔烽梺娲诲幖閿曘儳鎹㈠┑瀣櫢濞寸姴顑嗛悞鑲╋拷骞垮劚濡宕滈敃锟介—鍐Χ閸涱垳顔囬梺缁橆殔閿曨亜鐣烽幋鐙呮嫹閿濆骸鏋熼柣鎾存礃閵囧嫰骞囬埡渚婃嫹閺囥垹鍑犻柟杈鹃檮閻撴洟鏌ｉ弴鐐诧拷鍦拷姘炬嫹(IOS,android,wp)
				userDeviceInfo.setDeviid(machineInfos.get("DeviId")==null?"":machineInfos.get("DeviId")); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴楠炴﹢鎳犻澶嬓滈梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷闂侀潧臎娓氬﹥瀚归柟鐑橆殕閻撶喐绻濋棃娑欘棤闁糕晪缍侀弻鈥崇暆鐎ｎ剛鐦堥悗瑙勬礀閻栧吋淇婇悜钘壩ㄧ憸宀勫箖閿濆鈷掑ù锝呮贡濠�浠嬫煕婵犲喚娈滅�规洘鍨块獮姗�鎳滈棃娑樼哎婵犵數鍋為崹顖炲垂閸︻厾涓嶉柨婵嗘缁犻箖鏌涢埄鍐炬畼缂佺姵濞婇弻娑㈠籍閿熶粙骞愰崘宸綎闁绘垶蓱婵粓鏌熷▓鍨珮婵″樊鍣ｅ娲箰鎼淬垻鈹涚紓浣哄У閹瑰洤顕ｉ锕�绠荤紓浣姑惂鍕節閵忥絾纭鹃柣顒�銈稿鍐测槈閵忊檧鎷虹紓浣割儏濞硷繝顢撳Δ鍐挎嫹鐟欏嫭澶勯柛鎾寸洴瀹曪綁宕ㄧ�涙ǚ鎷洪梺鍦焾鐎涒晠藟閸℃ü绻嗘い鎰╁灩椤忣厾锟借娲栫紞濠傤嚕椤掍焦鍎熼柟鎯х摠閺夋悂姊绘担渚劸闁哄牜鍓涢崰濠傤吋婢跺﹦鏌堥梺缁樺姉閸庛倝鎮￠悢鍏肩厵闁诡垎灞芥闂佺懓鍟跨�氫即寮婚弴銏犵倞鐟滃秹顢旈鐙呮嫹濞堝灝鏋涢柨鐔烘櫕閸ｃ儱危閻撳寒娓婚柕鍫濆暙閸旀粎绱掗鑺ュ磳鐎殿喖顭烽弫鎾绘偐閺屻儱鏁规俊鐐�栭崝鎴﹀垂瑜版帪缍栨い蹇撶墛閳锋垹绱撴担鐧镐緵婵炲牞缍侀弻鐔煎礄閵堝棗顏�(mac/idfv)闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幈濡炪値鍘介崹鍨濠靛鐓曟繛鍡楃箳缁犲鏌″畝锟介崰鏍嵁閸℃稑绾ч柛鐔峰暞閹瑰洭寮诲☉娆戠瘈闁稿本绋戞禒鎾⒑閸濆嫯顫﹂柛鏃�鍨甸锝夊箻椤旇棄锟界兘鎮归崶鍥у椤忓爼姊洪崨濠勭細闁稿酣浜惰棢婵鍩栭悡鏇犳喐鎼淬劊锟藉啴宕卞☉娆忎簵濠电偛妫欓幐濠氬磻閿濆鐓曟繝闈涙椤忣亪鏌熼姘卞闁靛洤瀚版俊鐤槻濞寸娀浜堕弻锛勪沪閸撗勫垱婵犵绱曢崗姗�銆佸▎鎾村亗閹煎瓨蓱鐎氫粙姊婚崒娆愮グ婵℃ぜ鍔庣划鍫熸媴閼叉繃绋戦埞鎴狅拷锝庝海閹芥洖鈹戦悙鏉戠仧闁搞劌缍婂畷锟犲箮閼恒儳鍘繝鐢靛仜閻忔繈宕濆▎鎾寸厱闁瑰瓨绮庨惌娆愭叏婵犲懏顏犻柛鏍ㄧ墵瀵挳鎮㈤崫銉ョ悼闂傚倷鑳堕…鍫ヮ敄閸℃稒鍎庢い鏍仜閻忔娊鏌￠崘銊у缂侊拷閸愨斂浜滈柡鍌涘椤秶鎲搁弮鍫濊摕婵炴垯鍨归悞娲煕閹板吀绨奸柛锛卞喚娓婚柕鍫濋閿熷鍊濆畷鍫曞Ω閵忊�愁伖闂傚倷鑳堕崢褔锝為弴銏犵９闁哄洢鍨瑰Ч鏌ユ煥閻斿墎鐭欐慨濠冩そ楠炴牠鎮欓幓鎺懶撻梻浣虹《閺呮粓鎮ч悩宸殨闁圭粯甯╅悡銉╂煕椤愩倕鏆遍柟椋庣帛缁绘盯骞樼壕瀣棟濠电偛鐪伴崐鏍疾閸洦鏁婇柛鎾楀拑绱插┑鐘灱濞夋盯寮甸鍕辈妞ゆ帒瀚悡娆愩亜閺冨倹顏熼柟椋庡厴瀵剟濡烽敂缁樼秾濠电姵顔栭崰妤呪�﹂崶顒�纾婚柟鎹愵啇閹峰嘲顫濋幇浣圭秷濡炪們鍔婇崕鐢稿箖濞嗘挻鍤戞い鎴ｅ劵濡炬悂姊绘担鍛婂暈婵﹦鎳撻悾婵嬪箹娴ｆ瓕鎽曢梺缁樻⒒閸樠呯矆閸愵喗鐓犵痪鏉垮船婢х増銇勯弬鍖″姛缂佽鲸鎸荤粭鐔煎炊瑜庨悘宥夋倵閻у憡瀚圭紓浣割儓濞夋洟寮抽敂鍓х＜閻庯綆鍙庨崵锕傛煛閸愭寧瀚归梺鐟板槻閹虫ê鐣烽锕�绀嬫い鎰╁�ら崯鍫ユ⒒閸屾艾锟芥悂宕愰悜鑺ュ�块柨鏃�鎷濋幏椋庣箔濞戞ɑ鎼愰柦鍐枛閺屾洘绻涢悙顒佺彅闁荤喐鐟辩粻鎾诲箖濡ゅ懏鏅查幖绮癸拷鏂ユ寗闂備胶鎳撻崲鏌ュ床閺屻儻缍栨繝闈涱儐閸婇攱銇勯幒鐐村濡炪倕楠忛幏锟�
				userDeviceInfo.setImei(machineInfos.get("IMEI")==null?"":machineInfos.get("IMEI")); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆欑穿闂備浇娉曢崰鎰板几閼姐倗涓嶉柟鎯х－閺嗭箑鈹戦崒婊庣劸妞ゎ偄鎳橀弻宥夊Ψ閵夈儲姣愮紓浣靛妸閸庨潧顫忕紒妯诲缂佸顑欏Λ宀勬⒑缁嬫鍎庣紒鑸佃壘閻ｇ兘寮撮悢鍝ョФ闂佸疇妗ㄧ欢鈥澄涘鍫熺厽闁绘绮鹃鐔兼煟閹炬剚妯�妤犵偛绻戦ˇ鐗堟償閵忕姵鐎梻浣告啞濞诧箓宕滃☉鈶哄洭濡烽妷銏℃杸闂佺粯鍔樼亸娆忥耿閹绢喗鐓曢柡鍌涘閹癸綁鏌涢幒鎾虫诞鐎规洖銈搁幃銏ゆ惞閸︻厽顫岄梻鍌欒兌椤牏鎮锕�纾规俊銈呮噹閼稿綊鏌ｉ姀鐘冲暈闁抽攱鍨块弻娑滅疀閹捐櫕鍊梺绋匡攻閸旀牜鎹㈠☉娆愬闁告劖褰冮顏堟煕濞嗗繒绠婚柡灞剧洴婵＄兘顢欓悡搴浇闂備胶绮幐璇裁洪悢鐓庤摕闁绘梻鍘х粻顖炴倶閻愬灚娅曢柛姗嗗亰閺岋絾鎯旈姀锝咁棟缂傚倸绉撮敃銈夛綖韫囨梻绡�婵﹩鍓涢敍婊冣攽閻愬弶顥為柛銊ョ仛娣囧﹥绂掔�ｎ偀鎷洪柣鐘叉礌閿熷�熸珪閻忓牓姊虹紒妯煎⒈闁告鍥ㄥ仼闁绘垼妫勯崡鎶芥煏韫囧鎷风粵瑙勫缂備焦眉缁诲棙銇勯弽銊ヮ棜闁瑰皝鍓濈换娑㈠矗婢跺锟芥劖鎱ㄦ繝鍛仩缂佽鲸甯掕灒闁告繂瀚峰鎾绘煟鎼淬埄鍟忛柛锝庡櫍瀹曟粓鎮㈤悡搴㈢�梺褰掑亰閸樿偐娆㈤悙娴嬫斀闁绘ɑ褰冮敓钘夋憸缁﹪顢氶敓钘夘潖缂佹ɑ濯撮柧蹇曟嚀缁椻�愁渻閵堝骸骞栨繛宸幖椤曪綁顢曢敃锟界粻鐟懊归敐鍫綈婵炲懏鐗曢埞鎴︽偐鐠囇冧紣闂佺粯顨呴敃顏堝春濞戙垹绠ｉ柨鏃囨娴狀垶姊虹拠鈥冲箺閻㈩垱甯楁穱濠囧礂閼测晝顔曢梺鍛婁緱閸犳牗鎱ㄥ澶嬬厸鐎癸拷閿熶粙宕伴弽褏鏆︽繛鍡樻尭鍥撮梺绯曞墲椤ㄥ繑瀵奸敓锟�?
				userDeviceInfo.setNetenvir(machineInfos.get("NetEnvir")==null?"":machineInfos.get("NetEnvir")); // 缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ锟藉鍝勑ч崶褝鎷烽妶澶婄獥婵°倕鎳庢闂佸憡娲﹂崹浼村礃閿熻棄顪冮妶鍡楀Е婵狀澁鎷风紓渚囧枛閻栫厧顫忓ú顏勭闁绘劖褰冮‖鍫ユ⒑缁嬪尅宸ユ繛灏栵拷鎰佸殨閻犲洦绁村Σ鍫ユ煏韫囧﹤澧叉繛鍛閺岋綁鎮╅崣澶婎槱閻熸粍婢橀崯鎵垝閺勫繈浜归柟鐑樻尨閹锋椽姊虹涵鍛汗闁稿绋掓穱濠囨偩瀹�锟界壕濂告偣閸ヮ亜鐨哄褝濡囬敓鑺ヮ問閸犳盯顢氳閸┿儲寰勯幇顒夋綂闂佸啿鎼崐鐟扳枍閸ヮ剚鈷掑ù锝囨嚀椤曟粎绱掔拠鎻掞拷姝岀亱濠电偞鍨熼幊鐐哄炊椤掞拷鎯熼梺鍐叉惈閸婄敻骞忛搹鍦＝濞达絽澹婇崕鎰亜閹寸偟鎳囩�规洘娲熼獮鍥敊閸撗嶇床闂佽崵濮村ú锕併亹閸愵喖姹查柨婵嗘噳閺�浠嬫煥濞戞ê顏柡鍡╁墰閿熷�燁潐濞叉粓宕伴弽顓滐拷浣糕槈濮楀棙鍍靛銈嗗釜閹风兘鏌℃担闈涳拷婵嗩潖缂佹鐟归柨鐔绘椤洩顦归柍銉畵瀹曞ジ濡烽妷褝绱甸梻浣告啞椤ㄥ牓宕愰锕�绠虫俊銈忔嫹闂佸崬娲弻鏇熷緞濞戞粌鎮呴梺褰掓敱濡炶棄顫忓ú顏勫窛濠电姴瀚悾鐢告煟鎼淬垹鍤柛娆忓暣瀵偄顓兼径濠勭潉闂佸壊鍋嗛崰鎾诲储閻㈠憡鈷戦柛娑橈工閻忕喖鏌涙繝鍐⒈闁跨喕濮ら悢顒勫箯閿燂拷(婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閻撴洘淇婇妶鍛殨缂佽鲸濞婇弻锝夋偄閻撳簼鍠婇梺缁樻尪閸庣敻寮诲☉銏犲嵆闁靛鍎伴懜顏勨攽閳藉棗浜滄俊顐ｇ〒濡叉劙骞樼�涙ê顎撴繛瀵稿Т椤戝懘骞楅悽鍛婄厽闁靛繆鏅涢悘鑼磼缂佹绠為柟顔诲嵆椤㈡瑩鎸婃径宀�鐛柣搴ｆ閹风兘鎮楅敐搴′簻妞ゅ繐鐖煎娲箰鎼达絿鐣垫俊銈囧Т閹诧紕绮嬪鍜佺叆闁告洍鏅欑花濠氭椤愩垺鍌ㄩ柛搴ゅ皺閿熻姤鐔幏锟�3G,4G,wifi)
				userDeviceInfo.setOsver(machineInfos.get("OsVer")==null?"":machineInfos.get("OsVer")); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴楠炴﹢鎳犻澶嬓滈梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷闂侀潧臎娓氬﹥瀚归柟鐑橆殕閻撶喐绻濋棃娑欘棤闁糕晪缍侀弻鈥崇暆鐎ｎ剛鐦堥悗瑙勬礀閻栧吋淇婇悜钘壩ㄧ憸宀勫箖閿濆鈷掑ù锝呮贡濠�浠嬫煕婵犲喚娈滅�规洘鍨块獮姗�鎳滈棃娑樼哎婵犵數鍋為崹顖炲垂閸︻厾涓嶉柨婵嗘缁犻箖鏌涢埄鍐炬畼缂佺姵濞婇弻娑㈠籍閿熶粙骞愰崘宸綎闁绘垶蓱婵粓鏌熷▓鍨珮婵″樊鍣ｅ娲箰鎼淬垻鈹涚紓浣哄У閹瑰洤顕ｉ锕�绠荤紓浣姑惂鍕節閵忥絾纭鹃柣顒�銈稿鍐测槈閵忊檧鎷虹紓浣割儏濞硷繝顢撳Δ鍐挎嫹鐟欏嫭澶勯柛鎾寸洴瀹曪綁宕ㄧ�涙ǚ鎷洪梻鍌氱墛缁嬫挻鏅堕弴鐔虹闁哄鍨甸顓燁殽閻愯尙绠婚柟顔界矒閹稿﹥寰勬繝鍕舵嫹椤撶儐娓婚柕鍫濇婵倿鏌涙繝鍐╃妞ゆ洩缍佹俊鎼佸煛閸屾瀚奸梻浣告啞缁诲倻锟芥凹鍨堕敐鐐烘晝閸屾稓鍘辨繝鐢靛Т閸熺増鏅堕崹顐闁绘劘灏欐晶锕�鈹戦埄鍐╁�愰柛鈹惧墲閹峰懘鎼圭憴鍕帆婵犵绱曢崑鎴﹀磹閺嶎偅鏆滈柟鐑橆殕閺呮繈鏌曟竟顖氱У鐎氳鎱ㄥΟ璇插婵炲吋鍔曡彁闁搞儜宥堝惈婵犵锟藉磭鍩ｇ�规洏鍔戦、娆撳礂绾板彉鍝楅梻鍌氬�风粈渚�骞栭銈忔嫹濮樸儱濮傜�规洘娲熼幃鐣岀矙閼愁垱鎲伴梻浣瑰缁诲倿骞夊锟介幃銏ゅ礂閻撳孩鐣伴梻浣哥枃濡椼劑鎳楅崼鏇ㄦ晝濠靛倸鎲￠埛鎺懨归敐鍫燁仩閻㈩垱鐩弻鐔煎箹娴ｈ櫣鏆悗瑙勬磻閸楁娊鐛崶顒夋晣闁绘﹩鍋呴弫闈涒攽閻樺灚鏆╁┑顔芥綑鐓ら柕鍫濇噺缁绢垶姊婚崒姘肩叕闁稿瀚叅闁挎洖鍊搁拑鐔兼煏婵炵偓娅撻柡浣稿�块弻娑㈩敃閿濆棛顦ㄩ梺鎶芥敱鐢帡婀侀梺鎸庣箓閻楀﹪顢旈悩缁樺仺妞ゆ牗绋撻埦渚�鏌曢崶褍顏┑鈩冩倐婵＄兘鏁冮敓钘夆枔濡ゅ懏鈷戦弶鐐村椤︼箓鏌涢悢椋庢憼濞ｅ洤锕幊婊堟濞戞氨鐛梺璇插嚱缂嶅棝宕戦崨瀛樺仧闁哄稁鍘介埛鎺戙�掑鐐濠电偘鍖犻崨顔煎簥闂佸壊鍋侀崕杈╁瑜版帗鐓涚�广儱楠搁獮鏍煟閵堝鐣洪柡宀�鍠栧鑽わ拷鐢殿焾婵′粙姊虹紒妯诲蔼闁稿海鏁诲濠氭晲婢跺﹤宓嗛梺缁樺姌椤曟粓骞忛悜钘夋嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�(闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴椤㈡洟鏁愰崱娆欑穿闂備浇娉曢崰鎰板几閼姐倗涓嶉柟鎯х－閺嗭箑鈹戦崒婊庣劸妞ゎ偄鎳橀弻宥夊Ψ閵夈儲姣愮紓浣靛妸閸庤尙鎹㈠┑鍡╁殫闂佸灝顑嗙欢鏌ユ煥閻旇櫣宕甸柛銉戝拋鍞甸梻浣虹帛閸ㄥ吋鎱ㄩ妶澶嬪亗闊洦绋掗悡鏇㈡煃閳轰礁骞樻い蹇撳▕瑜版帩鏁婇柟鎯ф噺鐎氬綊鎮峰▎蹇擃仾缂侊拷閸儲鐓曢煫鍥ㄦ閼板潡鏌曢崱鏇狀槮妞ゎ偅绮撻弫鎾寸鐎ｎ亞鐣洪梺瀹犳〃鐠佹煡寮搁弮鍫熺厵缂佸鐏濋悵鎰版煥閺囩偛锟藉綊鍩涢幒鎳ㄥ綊鏁愰崶鈺傛啒闂佹悶鍊栭悷鈺呭蓟濞戙垹绠ｉ柣妯挎珪閻濐亞绱撴担鎴掑惈闁稿鍊曢悾鐑藉础閻愨晜顫嶅┑鈽嗗灥閸嬫劕鐣烽懜鐢电瘈鐎典即鏀卞姗�鏁撻懞銉︾妤犵偛锕ラ幆鏃堟晲閸滀焦顥″┑鐘垫暩婵數鍠婂澶婄９闁汇垹鎲￠悡銉︾節闂堟稒顥㈡い搴㈩殜閺岋紕锟斤綆鍓欓弸娑㈡煛瀹�瀣М妤犵偞顭囬敓鑺ョ♁椤洭藝閵娾晜鈷戦梻鍫熺♁閹兼劙鎮楀顐㈠祮闁绘侗鍣ｅ畷鍫曨敆閿熶粙鎮″☉妯革拷鎺戭潩椤掑﹥鏁鹃柣搴㈣壘缂嶅﹪寮婚敓鐘茬倞闁靛鍎虫禒濂告⒑閸涘﹤鐏╁┑鐑囨嫹闂佸搫鐬奸崰鎰焽韫囨柣鍋呴柛鎰ㄦ櫓閿熻棄绉瑰铏圭磼濡闉嶉梺鑽ゅ暀閸ャ劍娅㈤梺浼欑到閺堫剟宕甸敓浠嬫煟鎼淬垹鍤柛妯恒偢閳ワ箓宕归鍛缓闂佽法鍠嶇划娆撶嵁婵犲偆鐓ラ柛鈩冨姃濮规姊洪崷顓炲妺闁规悂绠栧畷銏ゅ箻缂佹鍘介梺缁樻煥閹芥粓骞婇崘顔藉�垫慨妯煎帶婢ф挳鏌熼鏂よ�挎鐐达耿椤㈡瑩鎮剧仦钘夌疄闂傚倷绶氬褑澧濋梺鍝勬噺缁诲牓骞冩ィ鍐╁�绘慨妤�妫欓鏃堟⒑缂佹ê濮囬柣掳鍔岄悾椋庝沪缂併垺顔旈梺缁樺姈濞兼瑥霉椤旀拝鎷峰▓鍨珮闁告挻鐟╅崺銏℃償閵婏箑锟介攱銇勯幒宥堝厡闁靛牏娈巗9,android4.1)
				userDeviceInfo.setBrtype(machineInfos.get("BrType")==null?"":machineInfos.get("BrType")); // 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻锝夊箣閿濆憛鎾绘煕閵堝懎顏柡灞剧洴楠炴﹢鎳犻澶嬓滈梻浣规偠閸斿秶鎹㈤崘顔嘉﹂柛鏇ㄥ灠閸愶拷闂侀潧臎娓氬﹥瀚归柟鐑橆殕閻撶喐绻濋棃娑欘棤闁糕晪缍侀弻鈥崇暆鐎ｎ剛鐦堥悗瑙勬礀閻栧吋淇婇悜钘壩ㄧ憸宀勫箖閿濆鈷掑ù锝呮贡濠�浠嬫煕婵犲喚娈滅�规洘鍨块獮姗�鎳滈棃娑樼哎婵犵數鍋為崹顖炲垂閸︻厾涓嶉柨婵嗘缁犻箖鏌涢埄鍐炬畼缂佺姵濞婇弻娑㈠籍閿熶粙骞愰崘宸綎闁绘垶蓱婵粓鏌熷▓鍨珮婵″樊鍣ｅ娲箰鎼淬垻鈹涚紓浣哄У閹瑰洤顕ｉ锕�绠荤紓浣姑惂鍕節閵忥絾纭鹃柣顒�銈稿鍐测槈閵忊檧鎷虹紓浣割儏濞硷繝宕ｉ崟顐�鐟邦煥閸曨偄濮稿┑鈽嗗亞閸犲酣鈥旈崘顔嘉ч柛鈩冪懃椤呯磽娓氬洤鏋涢悗娑掓櫇缁瑦寰勬繝搴℃倯婵犮垼娉涢鍥储椤忓懐绡�闁靛骏绲剧涵鐐繆椤愶絿鎳冮柍璇茬Ч瀹曞崬鈽夊▎鎴濆箞濠电姷鏁告慨瀵革拷姘煎弮瀵娊顢楅崟顒傚幐闁诲繒鍋犻褎淇婃總鍛婄厓閻熸瑥瀚悘瀵革拷瑙勬礀瀹曨剟鍩ユ径鎰疅閻庯綆鍋勯璺衡攽鎺抽崐褔骞忛悜鑺ヮ梿濠㈣泛顑囩弧锟芥繝鐢靛Т閸婃悂顢旈銈囩＜闁绘ɑ鍓氶悞鐣岀磼鏉堛劌绗氭繛鐓庣箻婵℃悂濡烽敃浣烘婵犵數濮烽。浠嬪礈濠靛绠栭柛宀�鍋涢弸渚�鏌涘畝锟介崑鐐哄磻閳哄懏鍊堕柣鎰祷濡炬悂鏌涘顒佸窛缂佽鲸鎹囧畷鎺戭潩椤掑﹥瀚圭�瑰嫭鍣磋ぐ鎺戠倞闁靛绲肩划鎾绘⒑閸涘﹦缂氶柛搴㈢叀瀵啿顭ㄩ崼鐔哄弳闂佺粯鏌ㄩ幖顐モ叿闂備浇娉曢崰鎰板垂濠靛牊顐芥慨姗嗗墻閸ゆ洟鏌熺紒銏犳灈妞ゎ偄鎳橀弻锝呂熼懡銈呪叺闂佸憡鏌ㄧ粔瑙勪繆閻㈢绀嬫い鏍ㄧ椤ユ繈姊洪崜鑼帥闁哥姵顨婂畷鎰邦敍濮樺吋瀵岄梺闈涚墕濡瑩鎮￠妷鈺傚�垫慨姗嗗幗缁跺弶銇勯銏㈢缂佽鲸甯掕灒閻犲洤妯婇敓鑺ユ尵缁辨挻鎷呴崷顓涙濡炪倖鍨甸幊搴ㄥ煝閹炬椿鏁囬柕蹇婃閹锋椽姊洪崨濠勨槈闁挎洏鍊濋幃姗�鏁愰崶鈺冿紲濡炪倖姊婚弲顐﹀箠閸ヮ剚鐓熸繛鎴濆船閺嬶妇绱掗悩宕団槈闁宠棄顦埢搴ㄥ箛椤撗傛埛闂傚倸鍊峰ù鍥р枖閺囥垹闂柨鏇炲�哥粻顖炴煥閻曞倹瀚�(婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘﹢寮婚敐澶婄婵犲灚鍔栫紞妤呮⒑鐠恒劌鏋欐俊顐㈠瀹曟劙宕烽鐘电効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼嚬婵犵數鍋涢幊宀勫垂閽樺娼栨繛宸簼閸ゅ秹鏌曟径濠傛灓濞存粠浜ｅΛ鐔奉渻閵堝棛澧遍柛瀣☉鏁堥柡灞诲劜閳锋垶銇勯幒鐐村缂備礁顦遍弫濠氬箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫬锟芥悂鎮樺┑鍡忔灁闁冲搫鎳忛悡娆忣渻鐎ｎ亪顎楅柛妯绘尦閺岀喖顢欓崫鍕患闂佸疇顔婄划娆忕暦閵婏妇绡�闁告劑鍔嶅▓顐ょ磽閸屾瑦绁板鏉戞憸閺侇噣鍨惧畷鍥ㄦ闂佸湱鍎ら崹鐔肺ｉ崼鐔剁箚妞ゆ牗绋掗～妤呮煟瑜岀欢姘跺蓟閿濆棙鍎熼柕鍫濆缂嶅牆鈹戦悙鎻掔骇闁绘濮垫穱濠囧醇閺囩偛绐涙繝鐢靛С閼冲墎绮诲鑸碘拺缂備焦锚閻忚鲸淇婇銏狀仼闁轰緡鍣ｉ弻锝夋偄閸濄儳鐓�缂備胶绮敋妞ゆ洩缍侀獮搴ㄦ寠婢跺矈鍚嬫俊鐐�栭弻銊︽櫠娴犲鏅繝闈涱儐閳锋垹绱掔�ｎ偄顕滄繝锟芥导瀛樼厽闁绘梹绻傚ú銈囩矆婢跺矉鎷烽獮鍨姎婵炲眰鍔庢竟鏇熺附閸涘﹤锟界敻鏌ㄥ┑鍡涱�楀ù婊勭矒閺岋綀绠涚�ｎ亜濮﹂梺鍝勮閸旀垵顕ｉ弶鎳崇喖鎼归柅娑氭／濠电姷鏁搁崑鐔煎储瑜忛幑銏狀潨閿熻棄鐣峰ú顏呮櫢闁绘灏欓ˇ銊ヮ渻閵堝懐绠版俊顐ｎ殕閹便劑宕ㄦ繝鍕槇闂佹眹鍨藉褑鈪烽梻浣规偠閸斿矂濡剁粙璺ㄦ殾婵炲樊浜滈崘锟藉銈嗘尵閸嬬喖藝椤曪拷濮婃椽宕崟顓涙瀱闂佸憡锚閵堟悂骞冮敓鐘插嵆闁靛骏绱曢崢鐢告煟鎼淬垻鈾佹い顓炴川閹峰綊鍩￠崘鈺佹瀾闂佺粯顨呴悧鍡欑箔濮樿埖鐓曢悗锝庝簻閿熻棄娼￠悰顕�寮介妸锔剧Ф闂佸憡鎸嗛崥閿嬪灴濮婅櫣鎲撮崟顐ょシ闂侀潧鐗忛…鍫ワ綖韫囨稒鍊绘俊顖濐嚙椤繝姊虹紒姗嗘當闁绘绻樻俊鍫曟偋閸粎绠氶梺缁樺姇閻°劎绱為幋锔界厵闁兼亽鍎抽惌鎺擃殽閻愭潙鐏村┑顕嗘嫹闂佺粯锕╅崑鍛达綖瀹ュ鈷戦梻鍫熺〒缁犳岸鏌涢幘瀵哥畵闁宠绉撮…銊╁醇閻曚焦顥婃俊鐐�栭崝鎴﹀垂閻戞ê绶為柛鏇ㄥ灡閻撴盯鎮橀悙棰濆殭濠殿喖鍊归妵鍕閳╁喚妫冮梺杞扮劍閹瑰洭寮幘缁樻櫢闁跨噦鎷�)
				String username=xtable.Auuserinfo.selectUsername(userid);
				if(username!=null){
					userDeviceInfo.setUsername(username);
				}
				
				if(isfirst==true){
					//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓洪梺鍝勫枦閹风兘鏌涢妶鍛ч柡灞剧洴婵＄兘顢欓悡搴樻嫽闂備浇妗ㄧ粈浣该洪銏犺摕闁哄浄绱曢悿锟介梺鍝勬川閸婎偊濡烽敂杞扮盎闂佹寧妫侀褍鈻嶅澶嬬厵妞ゆ梻鐡斿▓婊堟煙椤栨艾锟藉灝鐣烽妸锔剧瘈闁稿被鍊撶槐锕傛⒒閸屾艾锟介绮堟笟锟介獮澶愬灳鐡掍焦妞介弫鍐磼濮樻唻绱卞┑鐘灱閸╂牠宕濋弴銏犲強闁靛鏅滈悡鐔兼煙闁箑澧婚柛銈囧枔缁辨帡鎮╅懡銈囨毇闂佽鍠楅〃濠囧箖閽樺鏋旈悹鎭掑妼婵ジ鏌ｆ惔銏⑩檨缂佽鍊块垾鏃堝礃椤斿槈褔鏌涢埄鍐炬畼濞寸姵娼欓埞鎴﹀煡閸℃ぞ绨肩紓浣筋嚙閸婂潡骞冩ィ鍐╁�婚柦妯侯槸瀹撳棝姊虹紒妯虹仴婵☆偅顨婇獮鍐箣閻愮數鐦堥梺闈涢獜缁插墽娑甸悙顑句簻闁瑰瓨绻冮崰妯硷拷瑙勬磸閸ㄤ粙寮婚崱妤婂悑闁糕�崇箲鐎氬ジ姊绘担鍛婂暈缂佽鍊婚敓鑺ュ嚬閸欏啫鐣烽幒妤�惟闁冲搫鍊婚崢閬嶆⒑閸濆嫬锟借棄鈻旈弴銏″�块柛婵勫劵閹峰嘲鈻撻崹顔界亶闂佽鍠栭崐瑙勭┍婵犲洤閱囬柡鍥╁仧閸婄偤姊洪崘鍙夋儓闁哥姵绋撳Σ鎰板蓟閵夛腹鎷绘繛杈剧秬濞咃絿鏁☉銏＄叆闁哄洦顨嗗▍濠勶拷瑙勬磻閸楀啿顕ｆ禒瀣垫晣闁绘劖顔栧Σ鐑芥⒒娴ｇ懓顕滄繛鍙夌墵瀹曟劘銇愰幒鎾充簵濠电偞鍨堕悢顒勫箯閻戣姤鍎岄柛娑橈工椤忓爼姊虹拠鎻掑毐缂傚秴妫濆畷婊冣槈閵忕姵杈堥梺闈涚墕椤︿即鍩涢幋锕�绾ч柣鎰綑椤ュ鏌涢弬璺ㄐч柡宀�鍠庨～銏沪閽樺鍎紓鍌欑贰閸犳牠顢栨径鎰祦闁圭儤顨呯猾宥夋煙閻愵剚缍戞い蹇撶埣濮婃椽骞愭惔锝囩暤闂佸憡鍨崇划娆撶嵁韫囨稒鍊荤紒娑橆儐閺咃絽鈹戦悩璇у伐闁哥噥鍋婇敐鐐哄炊椤掍讲鎷洪梺鍛婄箓鐎氼垶锝為敃鍌涚厱闁哄喛鎷烽柛銊ф暬椤㈡岸鏁愭径妯绘櫔闂佽法鍠嶇划娆忣嚕椤愶箑绠婚悗闈涘濞村嫰鏌ｆ惔顖滅У濞存粍绮撳畷鐢稿箣閿旇В鎷洪梺缁樻尭鐎垫帒顭囬悢鍏肩厱濠电姴鍟版晶鐢告煥濠靛牆浠辩�殿喗鎸抽幃銏㈢矙閸喕绱熷┑鐘殿暯濡插懘宕规导瀛樺�舵繝闈涱儐閸嬪倿鏌熼柇锕�骞戝ù婊勭矒閺屾洘寰勯崼婵嗗Х闂佺尨鎷峰┑鐘崇閻撳繘鏌涢妷鎴濆枤娴煎啫螖閻橀潧浠滄繛宸幖铻為柛鎰╁妷濡插牊鎱ㄥΔ锟藉Λ娆徝归崶顒佲拻濞达絿鐡旈崵娆撴倵濞戞帗娅婇柟顔哄灲椤㈡宕熼銈庡數闂備浇娉曢崳锕傚箯閿燂拷?
					userDeviceInfo.setFirstdeviid(machineInfos.get("DeviId")==null?"":machineInfos.get("DeviId"));
					fire.log.YYLogger.OpRegLog(userid,0,0);
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐差渻閵堝棗绗傜紒锟芥笟锟藉畷婊堫敇閻戝棙瀵岄梺闈涚墕濡鎱ㄨ缁辨帡鎮╅崘鑼患缂備緡鍠栭悧鎾崇暦濮楋拷椤㈡瑩鎮剧仦钘夌疄闂傚倷绀佸﹢閬嶅磻閹炬眹锟藉啴宕ㄩ弶鎴犳焾濡炪倖鐗滈崑娑氬鐟欏嫨浜滈柡宥冨妼閻掑綊鏌￠敓鑺ョ鐎ｎ偆鍘藉┑鈽嗗灡濡炲潡宕箛娑欑厸闁糕檧鏅涢悘锕傛煛鐏炶濮傞柟顔哄灮缁辨帒顫滈崱姗嗘闂傚倷绀侀幗婊堝窗閺囩偐鏋栭柡鍥╁У椤洟鏌ｉ幇顒佹儓闁告劧鎷锋俊鐐�栭幐楣冨窗閹捐鍌ㄩ柛妤冨亹閺�浠嬪箳閹惰棄纾圭憸鏃堢嵁韫囨稒鍊婚柤鎭掑劤閸橀亶姊虹紒妯活棃闁猴拷闁秴纾婚柕澶涜礋娴滄粓鏌曡箛濠忔嫹閸愬弶鎳欓梻浣芥〃閻掞箓宕濋弽褜鍤楅柛鏇ㄥ�犻悢铏圭＜婵☆垵宕佃ぐ锝夋⒒閸屾艾锟藉嘲霉閸パ�鏋栭柡鍥ュ灩缁愭鏌￠崶鈺佹瀾闁告瑥绻橀弻鏇㈠醇濠靛浂妫ら梺宕囨嚀缁夋挳鍩為幋锔藉亹闁告瑥顦ˇ鈺呮⒑缁嬪尅宸ユい顓犲厴瀵鏁冮敓鍊熺亽闂佺粯鑹鹃顓犵矆閸℃稒鈷戦梻鍫熶腹濞戙垹绀嬫い鎰剁悼閿熶粙绠栧缁樼節鎼粹�茬盎濠电偠顕滈梽鍕箔閻旇偤鏃堝川椤撶喓锟筋剚绻濋悽闈浶㈡繛璇х畵閹繝濡烽埡鍌滃幗闂佸搫娲ㄩ崑娑㈡晸閽樺璐￠柨鐔诲Г閻旑剟骞忛敓锟�
				fire.log.YYLogger.OpLog(userid,0, "login",first,0,0,0);
				
				
				
		        if (userinfo != null){
		        	String appsrc = machineInfos.get("appsrc");
		        	String mac = machineInfos.get("mac");
//		        	String os = machineInfos.get("os");
					userinfo.setClientsource(appsrc!=null?appsrc:"");
					userinfo.setMac(mac!=null?mac.toUpperCase():"");
//					userinfo.setOs(osType);
		        	userinfo.setPlatform(appsrc!=null?appsrc:"");
		        	String idfa = machineInfos.get("idfa");
		        	userinfo.setIdfa(idfa!=null?idfa:"");
		        }else {
					LogManager.logger.error("userinfo is null when CNotifyDeviceInfo.userid:"+userid+" infos:"+machineInfos.toString());
				}
				try {
					
					String devicetype = machineInfos.get("devicetype");
					if (devicetype == null) devicetype = "";
					String os = machineInfos.get("os");
					if (os == null) os = ""; 
					String osversion = machineInfos.get("osversion");
					if (osversion == null) osversion = ""; 
					String width = machineInfos.get("width");
					if (width == null) width = ""; 
					String height = machineInfos.get("height");
					if (height == null) height = ""; 
					String mac = machineInfos.get("mac");
					if (mac == null) mac = ""; 
					mac = mac.toUpperCase();
					String appsrc = machineInfos.get("appsrc");
					if (appsrc == null) appsrc =""; 
					String phonenumber = machineInfos.get("phonenumber");
					if (phonenumber == null) phonenumber = ""; 
					String gprs = machineInfos.get("gprs");
					if (gprs == null) gprs = ""; 
					String accesspoint = machineInfos.get("accesspoint");
					if (accesspoint == null) accesspoint = ""; 
					String cpuname = machineInfos.get("cpuName");
					if (cpuname == null) cpuname = "";
					String cpuMaxFreq = machineInfos.get("cpuMaxFreq");
					if (cpuMaxFreq == null) cpuMaxFreq = ""; 
					String cpuCount = machineInfos.get("cpuCount");
					if (cpuCount == null) cpuCount = "";
					String totalMemSize = machineInfos.get("totalMemSize");
					if (totalMemSize == null) totalMemSize = ""; 
					String udid = machineInfos.get("udid");
					if (udid == null) udid = ""; 
					String idfa = machineInfos.get("idfa");
					if (idfa == null) idfa = ""; 
					
//					params.put(RemoteLogParam.MODEL, devicetype);
//					params.put(RemoteLogParam.SYSTEMTYPE, os);
//					params.put(RemoteLogParam.SYSTEMVERSION, osversion);
//					params.put(RemoteLogParam.RESOLUTION, width+height);
//					params.put(RemoteLogParam.MACADDRESS, mac);
//					params.put(RemoteLogParam.CLIENTSOURCE, appsrc);
//					params.put(RemoteLogParam.ACCOUNTSOURCE, userinfo!= null?userinfo.getUsername().substring(0, 4):"userinfo null");//getNickname --> getUsername
//					params.put(RemoteLogParam.PHONENUM, phonenumber);
//					params.put(RemoteLogParam.GPRSIMFO, gprs);
//					params.put(RemoteLogParam.ACCESSPOINT, accesspoint);
//					params.put(RemoteLogParam.CPUNAME, cpuname);
//					params.put(RemoteLogParam.CPUMAXFARQ, cpuMaxFreq);
//					params.put(RemoteLogParam.CPUCOUNT, cpuCount);
//					params.put(RemoteLogParam.TOTALMEMSIZE, totalMemSize);
//					
//					params.put(RemoteLogParam.PEER, InetAddressUtil.ipInt2String(userinfo!= null?userinfo.getLoginip():0));
//					params.put(RemoteLogParam.ACCOUNT,userinfo!= null?userinfo.getUsername():"userinfo null");
//					params.put(RemoteLogParam.UDID, udid);
//					params.put(RemoteLogParam.IDFA, idfa);
//					params.put(RemoteLogParam.SCORE, xtable.Properties.selectRolezonghemaxscore(roleid));
//					LogManager.getInstance().doLog(RemoteLogID.ROLEINFO, params);
//					params.put(RemoteLogParam.FROM, ConfigManager.getGsZoneId());
//					params.put(RemoteLogParam.PLATFORM, appsrc);
//					params.put(RemoteLogParam.USERID,userid);
//					params.put(RemoteLogParam.MAC,mac);
//					params.put(RemoteLogParam.OS,userinfo!=null?userinfo.getOs():"");
//					params.put(RemoteLogParam.ROLEID,roleid);
//					params.put(RemoteLogParam.LEV,lev);
//					params.put(RemoteLogParam.TOTALCASH,activeUserInfo==null?"":activeUserInfo.getChargetotalrmblong());
//					params.put(RemoteLogParam.HINT,"");
//					params.put(RemoteLogParam.CAMP, String.valueOf(new fire.pb.PropRole(roleid, true).getCamp()));
//					LogManager.getInstance().doLog(RemoteLogID.ROLELOGIN, params);
					
//					if (udid.length()>0){
//						sendDataToAuAny(userid,udid);					
//					}
//					if (mac.length() > 0) {
//						mac = mac.replaceAll(":", "");
//						mac = mac.toLowerCase();
//						sendDataToAuAny(userid, mac);
//					}
//					pexecute(new PForbidUserByMacOrIDFA(roleid, mac, idfa));
//					pexecute(new PFskAward(roleid,devicetype));//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛閺夎法顔愭繛杈剧悼椤牓鎮楅銏♀拺缂佸娉曢悘閬嶆煕鐎ｎ剙浠遍柟顕嗙節閹垽宕楅懖鈺佸妇闂傚鍋勫ú锕�煤閺嶃劎澧￠梻鍌欑閹芥粓宕伴幘璇茬；闁靛牆顦拑鐔哥箾閹寸偟鎳勯柛搴ｅ枛閺屽秹鎸婃径瀣闂佽桨绀佹晶鐣屾閹惧瓨濯撮柧蹇曟嚀缁楋紕绱撴担绛嬪殭闁哥喍鍗抽獮鎴﹀閻橆偅鏂�闁诲函缍嗘禍鐐烘晬濠婂啠鏀芥い鏃�鏋婚懓鎸庝繆椤愩儲纭舵俊鍙夊姍楠炲鏁傜憴锝嗗濠电偠鎻紞锟芥繛鍜冪悼閺侇喖鈽夊杈╋紲闁荤姴娲ゅ鍫曀夐姀顫嫹鐟欏嫭绀冩俊鐐舵椤曪絾绂掔�ｅ灚鏅ｉ梺缁樺姇缁嬪嫮绮婚幘璇茶摕婵炴垯鍨归崡鎶芥煏婵炲灝鍔ゅù鐘櫇缁辨挻鎷呴崫鍕戯綁鏌ｉ埡濠傜仸鐎殿喛顕ч濂稿幢濡警娼梻浣烘嚀閸㈡煡鎳熼鐐插偍闁斥晛鍟扮粻楣冩倵閻㈡鐒鹃柍璇茬墢缁辨帡鎮╁畷鍥р吂濡炪値鍋勭换姗�骞栬ぐ鎺戞嵍妞ゆ挾濮烽崢顖涚節閻㈤潧浠滄俊顐ｎ殕閺呰埖绂掔�ｎ亞鐓戝┑顔筋焾娴滎剛澹曢挊澹濆綊鏁愰崼鐕佹闂佽棄瀚崥瀣崲濞戞瑥绶為悗锝庡亞椤︺儵鏌涘Δ鍛喚闁哄瞼鍠栭幃褔宕奸悢鍝勫殥缂傚倷鑳舵慨鎯р枍閺囩喓鈹嶅┑鐘叉搐鍥撮梺鍛婃处閸樺吋淇婇挊澶嗘斀闁绘劕寮堕崳鐑芥煕閵娿劍顏犻柟骞垮灩閳藉顫濋悙顒�顏堕梺姹囧灪椤旀牠鎮為崜褝鎷峰☉娆戠畵妞ゎ亜鍟存俊鍫曞幢濡ゅ啩娣繝纰樻閸嬪懐鎹㈤崒鐐村仼闁绘垼妫勭粻锝夋煥閺囶亝瀚圭紒鐐劤閵堟悂寮婚敐澶婄疀妞ゆ牗姘ㄥВ銏狀渻閵堝棙鈷愰柛鏃�鐟╁濠氬焺閸愩劎绐炴繝鐢靛Т鐎氼剟銆傞悜妯肩瘈闁冲嚖鎷烽柛娑卞枟閻濐亝绻濋姀锝庢綈婵炶尙鍠栭悰顕�骞囬鐔峰妳濠电娀娼ч悧蹇涙偩閻愵兛绻嗛柣鎰典簻閿熻姤鐗犻幃褔骞樼拠鑼紮闂佸搫绋侀崑鎾诲箯瀹勯偊娼╅柣鎰靛墮椤忥拷
				} catch (Exception e) {
					LogManager.logger.error("notify device info error", e);
				}
				
				final SNotifyDeviceInfo msg = new SNotifyDeviceInfo();
				msg.ip = userDeviceInfo.getIp();
				mkdb.Procedure.psendWhileCommit(roleid, msg);
				
				return true;
			}
			
		}.submit();*/
		
		new PNotifyDeviceInfo(userid,info,this).submit();
	}
	
	private void kickUser(int error) {
		Kick p1 = new Kick();
		p1.linksid = ((Dispatch)this.getContext()).linksid;
		p1.action = Kick.A_QUICK_CLOSE;
		p1.error = error;
		Onlines.sendProtocl(p1, this.getConnection());
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 786514;

	public int getType() {
		return 786514;
	}

	public java.util.ArrayList<fire.pb.UserInfoUnit> info;

	public CNotifyDeviceInfo() {
		info = new java.util.ArrayList<fire.pb.UserInfoUnit>();
	}

	public CNotifyDeviceInfo(java.util.ArrayList<fire.pb.UserInfoUnit> _info_) {
		this.info = _info_;
	}

	public final boolean _validator_() {
		for (fire.pb.UserInfoUnit _v_ : info)
			if (!_v_._validator_()) return false;
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.compact_uint32(info.size());
		for (fire.pb.UserInfoUnit _v_ : info) {
			_os_.marshal(_v_);
		}
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		for (int _size_ = _os_.uncompact_uint32(); _size_ > 0; --_size_) {
			fire.pb.UserInfoUnit _v_ = new fire.pb.UserInfoUnit();
			_v_.unmarshal(_os_);
			info.add(_v_);
		}
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CNotifyDeviceInfo) {
			CNotifyDeviceInfo _o_ = (CNotifyDeviceInfo)_o1_;
			if (!info.equals(_o_.info)) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += info.hashCode();
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(info).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

