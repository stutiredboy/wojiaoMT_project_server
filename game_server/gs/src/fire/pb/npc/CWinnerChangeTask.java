
package fire.pb.npc;

import java.util.Arrays;
import java.util.List;

import fire.pb.activity.winner.WinnerManager;
import fire.pb.activity.winner.WinnerRecord;
import fire.pb.circletask.SpecialQuestState;
import fire.pb.map.Npc;
import fire.pb.map.SceneNpcManager;
import fire.pb.mission.activelist.RoleLiveness;
import fire.pb.talk.MessageMgr;
import fire.pb.team.Team;
import fire.pb.team.TeamManager;
import fire.pb.util.TaskDlgUtil;








// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CWinnerChangeTask__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CWinnerChangeTask extends __CWinnerChangeTask__ {
	@Override
	protected void process() {
		// protocol handle
		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屻倗鍠婇崡鐐测拻濠碘剝鐓￠弨杈╂崲濠靛棭鍤楅梺鍨儐缁舵煡鏌ㄩ悢璇残撻柟鐟版喘楠炲啴鎮欓悜妯绘珖闂佺鏈銊╂偂閹达附顥婃い鎰╁灪婢跺嫮绱掔�ｎ偄娴柟顔癸拷鏂ユ瀻闁瑰濮烽敍婵囩箾鏉堝墽绉繛浣冲洦鍊堕柍鍝勬噺閻撴盯鎮楅敐搴′簽婵炲弶鎸抽弻鈥崇暆鐎ｎ剛袦婵犲痉銈呯厫闁诡垱妫冮崺鍕礃椤忓啯鍠氬┑鐘垫暩閸庢垹寰婇挊澹濇椽濡舵径瀣珖濡炪倕绻愰幊宥囨崲閸℃稒鐓曟い鎰剁稻缁�锟介悗鐟版啞缁诲啴濡甸崟顖氱閻犺櫣鍎ら悗鎯ь渻閵堝棙鐓ユい锕傛涧椤繘鎼圭憴鍕彴闂佸湱绮敮鈺呭礉婢跺瞼纾奸柣鎰靛墯缁惰尙绱掓径瀣唉闁诡喗鍎抽埞鎴狅拷锝庝簽椤旀劖绻涙潏鍓хɑ闁烩剝娲熼獮妤呭即閵忊檧鎷洪柣鐘充航閸斿矂寮搁弬搴撴斀妞ゆ棁濮ょ亸锕傛煙椤旂晫鎳勭紒缁樼箞瀹曞爼濡歌鐢姊洪崫鍕垫Ш闁稿鍋炵粩鐔煎幢濞戞鐣烘繝闈涘�搁幉锟犳偂韫囨稓鍙撻柛銉ｅ妽缁�锟介弶鈺傜箞閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠傜暦閹达箑绠涢柣妤�鐗忛崢鍗炩攽閻愬弶顥滄繛瀛樿壘鍗遍柤娴嬫櫇濡垱銇勯幘鍗炲閻庢艾婀辩槐鎾诲磼濮橆剨鎷烽幖浣哥９鐎瑰嫭鍣磋ぐ鎺戠倞闁靛绲肩划鎾绘⒑瑜版帗锛熺紒锟芥担铏逛笉闁哄绨遍弨浠嬫煟濡櫣鏋冨瑙勵焽缁辨帡鎮敓浠嬪垂閸洖钃熸繛鎴炃氬Σ鍫熺箾閸℃ê濮夌紒瀣处缁绘稓澹曠�ｎ亙姹楁繝鐢靛剳閹风兘姊洪崫鍕拱闁烩晩鍨伴锝夊箻椤斿槈鈺呮煏婢跺牆鍔存繛濂哥畺濮婄粯鎷呴懞銉с�婇梺鍝ュТ闁帮綁寮幘缁樺仼閻忕偠濮ら悗鎯ь渻閵堝懐绠冲┑顕�顥撳Σ鎰板箳閹惧绉堕梺闈涱煭缁犳垿妫勫澶嬧拺闁荤喐婢樺Σ濠氭煙閾忣偄濮嶆鐐差樀楠炴﹢顢欓懖鈺婃Ч闂備線娼ч…顓犵不閹达富鏁傞柟闂寸劍閳锋帡鏌涚仦鍓ф噮妞わ讣闄勭换婵嬫晸娴犲鐒肩�广儰绶ら幏鐑芥晝閸屾岸鍞堕梺闈涱槶閸庢娊寮婚崼銉︹拺缂佸妫楃�氬嘲鈻撻敐鍥╃＝鐎广儱妫涙晶鐢告煟閹垮啫浜扮�规洖鐖兼俊鎼佹晜鐟欏嫬顏洪梻鍌氬�搁崐鍝ワ拷姘煎墰閿熻姤鐭崡鍐差嚕鐠囨祴妲堟俊顖炴敱椤秴鈹戦绛嬫當闁绘妫欑�靛ジ骞囬鐘殿啎闁诲孩绋掗…鍥儗鐎ｎ剛纾兼い鏃囧Г鐏忣厽銇勯銏㈢闁圭厧缍婂畷鐑筋敇閻橀潧骞嗛梻浣藉吹婵灚绂嶆禒瀣閹兼惌鐓堥弫濠囨煕閵夘喖澧柍閿嬪灴閺屾稑鈽夊鍫ョ反婵犮垼顫夎摫闁靛洤瀚伴獮瀣攽閹邦厸鏋呮俊銈囧Х閸嬫稑螞濞嗘垹绠旈柣鏂垮悑閺呯霉閻樺樊鍎忛柡瀣╃窔閺岀喖鎮ч崼鐔哄嚒濡ょ姷鍋戦崹铏规崲濞戙垹骞㈡俊顖濇閸旀悂姊洪崫銉ユ瀻闂佸府绲介～蹇涙惞鐟欏嫬鐝伴梺鍛婄懃椤︽澘鐣烽幎鑺モ拺閺夌偞澹嗛崝宥夋煙椤旂厧锟藉潡宕规ィ鍐╂櫇闁稿本宀搁崬鍫曟⒑闂堟冻绱＄�广儱妫楅鍫曟⒒娴ｅ摜浠㈡い鎴濆閹广垽宕卞☉娆戝幗闂佽婢橀崥锟界紒銊ヮ煼閺屻劑鎮㈢拠娈嬫捇鏌ｅΔ浣圭闁糕斂鍨藉顕�宕奸悢鍛婄彇闂備胶顭堥張顒�顫濋妸鈹у洭寮跺▎鐐瘜闂侀潧鐗嗗Λ妤呮煂濠婂牊鐓欓柣鎴犵摂濡垿鏌ㄩ悢璇残撴い鏃�鐗犲畷浼村冀瑜滈悞浠嬫煃閵夛箑澧繛鍏肩墵閺屟嗙疀濮樺吋缍堥悗瑙勬礀椤︾敻寮婚弴鐔虹闁割煈鍠栨慨鏇㈡⒑缂佹缂氶柛銊ㄦ椤繐煤椤忓懎浠梺鍝勵槹鐎笛囶敊閿熶粙姊绘担鐑樺殌闁搞倖鐗犻獮蹇涙晸閿燂拷
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if(roleid<=0){
			return;
		}
		new mkdb.Procedure() {
			@Override
			protected boolean process() throws Exception {
				Team team = TeamManager.selectTeamByRoleId(roleid);
				if (team == null){
					MessageMgr.sendMsgNotify(roleid, 140498, null);
					return false;
				}
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛喆閸曨偂鍝楅梻浣侯焾鐎涒晛顪冮挊澶屾殾婵犲﹤鍟犻弸搴ㄦ煙鐎涙绠ユ俊顐ｇ矒閹嘲顭ㄩ崨顓ф毉闁汇埄鍨遍〃濠囧箖閳ユ枼妲堟慨妯煎亾鐎氳顨ラ悙鑼虎闁告梹鑹捐灃闁绘娅曢崐鎰版煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崫鍕睄闂傚倷绀侀幉锟犲礉閿旂晫顩叉繝濠傜墕閸戠姵绻涢幋娆忕仾闁绘挻鐩幃姗�鎮欓幓鎺嗘寖濠电偛寮跺娆撳煘閹达附鏅柛鏇ㄥ亜楠炲顪冮妶鍐ㄧ仾闁荤啿鏅涢悾鐑芥晲婢跺á銊╂煥閺冨倸浜剧紓宥呴叄濮婂宕掑顒婃嫹閻戣姤鍊块柨鏇炲�哥壕璺拷瑙勬礀濞诧箑鐣烽崣澶夌箚闁靛牆鎳忕�氬懐绱撳鍡欏ⅹ妞ゎ叀娉曢幑鍕惞閸︻厼濮介梻浣烘嚀閸㈡煡宕查弻銉稏婵犻潧顑愰弫鍥煟閹邦剙绾ч柟铏懇濮婄粯鎷呴崨濠冨創闂佹椿鍓欓妶绋跨暦娴兼潙绠婚柤鍛婎問濞肩喖姊洪崷顓炲妺闁搞倧绠撻幃銏㈡媼閹稿孩銇濇い銏℃瀹曠喖顢楁担鍦婵犵數濮烽弫鍛婃叏閹绢喗鍎夊鑸靛姇缁狙囨煕閺嶃倕澧查悗姘秺閺岋繝宕堕妷銉т患缂備胶濮锋繛锟介柣鎿冨亰瀹曞爼濡歌濡俱劑姊虹粙娆惧剰闁稿﹤婀遍幑銏犫槈閵忕姷顓哄┑鐐叉缁绘帗绂掓ィ鍐┾拺缂備焦蓱鐏忕増绻涢懠顒�鏋涚�殿喖顭烽弫鎾绘偐閼碱剙锟界偤姊洪棃娑辨Ф闁稿氦娅曠粋鎺楀箚瑜夐弨浠嬫煟閹邦厽缍戞慨锝呮閺屾盯濡烽敐鍛瀷闂佸憡眉缁瑥螞閸涙惌鏁冮柕蹇婏拷鎰佹П婵犵數鍋涘鍫曟偋閻樿鏄ラ柕蹇嬪�曢柋鍥煏婢舵稑顩柛妯绘倐閹鎯傞崨濠傤伓闂備浇娉曢崰宥囧垝濞嗗繒鏆﹀ù鍏兼綑閸愶拷濡炪倖鎸荤划锝夊箯闁垮濯寸紒顖涙礃椤秴鈹戦埥鍡楃仸闁猴拷闁秵鍊靛┑鐘崇閳锋垿鎮峰▎蹇擃仾闁稿孩顨婇弻娑樜熼悮瀛樺闁绘梹褰冨宥嗙節閻㈤潧啸妞わ綆鍠氬Σ鎰板即閵忕姷锛涢梺纭呮彧缁犳垹澹曡ぐ鎺撶厸鐎广儱娴锋禍瑙勭箾瀹割喕绨婚柣鎾寸洴閺屾稑鈽夐崡鐐茬濡炪倖鏌ㄥΛ婵嗩潖閾忚宕夐柕濞垮劜閻濄垽姊洪悷鏉挎闁瑰嚖鎷�?闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簻椤掋垺銇勯幇顖毿撻柟渚垮妼椤粓宕卞Δ锟介埛鎺楁⒑缂佹ê绗╂俊顐㈠閸╃偤骞嬮敂钘変汗闁诲骸婀辨慨鎾夊┑鍫㈢＝濞达絽鎼宀勬煕閵娿儳鍩ｇ�殿喖顭锋俊鎼佸煛閸屾矮绨介梻浣侯焾閺堫剛绮欓幋锔绘晜闁跨噦鎷�?
				long currentTime = System.currentTimeMillis();
				if (!WinnerManager.getInstance().isInWinnerActiveTime(currentTime)) {
					return false;
				}
				if(acceptflag==1){
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬锟界痪褔鏌ｉ妶鍛仼闁宠鍨堕獮濠囨煕婵炑冩噹缁躲倕霉閻樺樊鍎忛柣銈庡枟閵囧嫰骞囬埡渚婃嫹瑜旈獮蹇撶暋闁附鍍靛銈嗗笒椤︾増鏅ラ梻鍌欑窔濞佳兠洪妶鍥锋嫹濮橆偄宓嗛柣娑卞櫍楠炴帒螖閿熺晫绮婚敐鍡欑瘈闁割煈鍋勬慨鍐煙椤曞棛鎮肩紒杈ㄦ崌瀹曟帒鈻庨幋鐘垫憣闂備礁缍婇ˉ鎾诲礂濮楋拷瀵鈽夐姀鈺傛櫇闂佺粯蓱瑜板啯鎱ㄩ弴銏♀拺缂備焦蓱鐏忎即鏌ｉ悤鍌氼洭闁瑰箍鍨归埥澶愬閻樿鏁规繝鐢靛█濞佳囨偋閸涘瓨鎯為幖娣妽閳锋垿鏌涘┑鍡楊伌闁稿骸绉归弻娑欑節閸愮偓鐤侀梺璇″灲閹峰嘲顪冮妶鍛闁绘妫涚划璇差潩鏉堛劌鏋戦柣搴秵閸犳牜澹曟繝姘厪闊洤顑呴敓鑺ョ墵閹�斥槈濮樼偓瀚归柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁告挻绋栭埅鐢告⒑鐠囨彃顒㈡い鏃�鐗犲畷鎶筋敋閿熻棄鐣峰鍫熷亜濡炲瀛╁▓楣冩偡濠婂懎顣奸悽顖楁櫊瀵偆锟斤綆鍠楅悡鏇熺箾閹存繂鑸归柡瀣枑閵囧嫰寮敓浠嬪垂閻㈢鐓橀柟杈鹃檮閺咁剟鏌涢弴銊ヤ簵闁哄鍙冨铏圭矙閸栤剝鏁惧┑鐐插级缁捇鐛幋锕�顫呴柕鍫濇噽閻わ拷婵＄偑鍊栫敮鎺楀磹閻熸壋鏋旈柟顖嗗本瀵岄梺闈涚墕濡绮幒妤佸�垫慨妯煎帶楠炴绱掗纰辩吋妤犵偞甯掕灃濞达絽寮剁�氳棄鈹戦悙鑸靛涧缂傚稄鎷峰┑鐐叉嫅缁插潡寮灏栨闁靛繆锟藉啿澹嬪┑鐘灱閸╂牠宕濋弽顓炵；闁挎繂顦伴悡銉╂煟閺傚灝顣抽柣顓熺懇閺屸剝鎷呯粙鎸庢閻庤娲樼敮鎺楋綖濠靛鏁嗗ù锝囶焾婵啯绻濋悽闈浶ラ柡浣规倐瀹曟垵鈽夊Ο婊勭☉铻栭柛鎰ㄦ櫅鎼村﹪姊虹化鏇炲⒉缂佸鍨圭槐鎺楀煛閸涱喚鍘鹃梺璇″幗鐢帡宕濆Ο濂界懓顭ㄩ崟顓犵厜闂佸搫鐭夌换婵嗙暦閸洖鐓涘ù锝夋敱閸曞啯淇婇悙顏勶拷鎴﹀磿閹惰棄纾婚柕鍫濐槸缁犳牗淇婇妶蹇斿濡炪値鍋呯换鍫ュ箖濞嗘搩鏁嗛柨鐔剁矙椤㈡棃鏁撻敓锟�
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼鏌ｆ惔銈庢綈婵炴彃绻樺畷鏇㈠箮閼恒儲娅㈤梺鍝勫�堕崐妤冪矓閻㈠憡鐓曢柣妯虹－婢у崬顭跨憴鍕鐎规洜顭堣灃濞达絽鎼獮宥夋⒒娴ｇ瓔鍤冮柛銊ㄦ珪閺呰泛螖閸氳棄顦板鍕箛椤掑偆鍟囬梻浣告惈椤︿即宕烘繝鍥╁彆妞ゆ帒瀚悡娑㈡倶閻愰鍤欓柨鐔诲Г缁诲牓鐛繝鍌楁斀閻庯綆浜為鐓庮渻閵堝棙顥嗛柛瀣姈閺呭爼顢涘锝嗘杸闂佺粯鍔樼亸娆撳箺閻樼數纾兼い鏃囧亹閻忚京绱掓潏鈺佷沪缂佺粯绻堝畷鎯邦樁闁硅姤娲栭埞鎴︽倷閺夋垹浠ч梺鎼炲妿閹虫捇寮鎴掔箚闁绘劦浜滈敓鑺ョ墪椤繑绻濆顒�鍋嶉悷婊勬閺佹劙鎮欐笟顖涙櫆闂佸壊鍋嗛崯鍧楀箯濞差亝鈷戦悷娆忓閸旇泛鈹戦鍝勶拷婵嗩嚕椤愶附鐒肩�广儱妫涢崢鐢告⒑閼姐倕鏋斿褎顨婂畷鏉课熺涵閿嬪婵炲牆鐏濋弸娑欍亜椤撶姴鍘寸�殿噮鍋婇獮鍥敇閻愮數鐛┑鐘垫暩婵挳宕板顑╂盯鎮㈤崗灏栨嫽婵炶揪绲块…鍫ニ夎箛娑欑厽闁规儳纾晶锔撅拷瑙勬礃濠㈡鐏冮梺鍛婁緱閸橀箖鏁嶅▎蹇ｆ富闁靛牆妫涙晶顒勬煕閳轰礁鏆ｇ�殿喓鍔戦幊鐐哄Ψ閿濆嫮鐩庨梻浣告惈濞层劑宕戦悙鏍稿鎮╅悽鐢碉紲闁诲函缍嗘禍鍫曟偂婵傚憡鐓涢悘鐐插⒔濞插锟芥鍣崳锝夊极閹惧顩烽悗锝庡亜娴狀參姊虹�圭姵銆冪紒璁圭節瀹曠敻寮撮悙鈺傛杸闂佺粯锚绾绢參銆傞弻銉︾厸闁告侗鍠栫徊缁樸亜椤撯剝纭堕柟鐟板缁轰粙寮妶鍥╃槇闂佺硶鏅换婵嗙暦閵娾晩鏁婇柟顖嗗啫顩┑鐘垫暩婵即宕归悡搴樻灃婵炴垯鍨洪崑瀣煕閳╁啰鈽夌紒锟芥径鎰厸濠㈣泛顑呭▓顔炬喐閻楀牆绗氶柛瀣姍閺屻倗鍠婇崡鐐差潾婵°倖姊圭换婵嗏枔閸喗鐏堥梺鎸庢磸閸庨亶鈥旈崘鈺冾浄閻庯綆浜為悾娲⒑缂佹ê鐏辨俊顐㈠缁濡烽敂杞扮盎闂佸搫鍟崐鍛婄閻愵剛绠鹃柛顐亜閻忥附鎱ㄦ繝鍕笡闁瑰嘲鎳愰幉鎾礋椤愨�虫憢闂傚倷绀侀幉锟犲蓟閵娧勫床闁归偊鍨虫禍閬嶆⒒娴ｅ憡鍟炴繛璇х畵瀹曞綊鏌嗗鍛紱闂佸啿鎼崰娑㈠箯閻戣姤鍋￠柡澶嬵儥娴犵偓绻濋姀銏″殌妞ゆ垵顦锝夊Ω閿旂虎娴勯柣搴秵閸嬪嫰鏁撻悾灞炬毈闁哄被鍔岄埞鎴﹀幢濡闂梻浣告啞钃辩紒顔芥崌瀵鎮㈤崜鍙壭ч柟鑲╄ˉ閿熻棄鍟跨粻锝夋⒒娴ｈ姤銆冮柣鎺炵畵楠炴劙鎳￠妶鍥╃効闂佸湱鍎ゅΛ鎴﹀箯閻戣姤鏅查幖绮癸拷鑼晼闂備礁鎲＄湁缂侇喗鐟ラ～蹇撁洪鍜佹濠电偞鍨兼ご鎼佸煝閹剧粯鈷戦柟鑲╁仜婵拷婵炲瓨绮犻崜鐔煎极閹剧粯鍤嶉柕澹啯娈归梻浣烘嚀閸ゆ牠骞忛敓锟�
					long teamleadid=team.getTeamLeaderId();
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忓爼鏌ｆ惔銈庢綈婵炴彃绻樺畷鏇㈠箮閼恒儲娅㈤梺鍝勫�堕崐妤冪矓閻㈠憡鐓曢柣妯虹－婢у崬顭跨憴鍕鐎规洜顭堣灃濞达絽鎼獮宥夋⒒娴ｇ瓔鍤冮柛銊ㄦ珪閺呰泛螖閸氳棄顦板鍕箛椤掑偆鍟囬梻浣告惈椤︿即宕烘繝鍥╁彆妞ゆ帒瀚悡娑㈡倶閻愰鍤欓柨鐔诲Г椤ㄥ﹤鐣烽悧鍫㈢瘈闁搞儜鍜佹敤闂備胶绮崝鏇炍熸繝鍌ょ劷闁兼亽鍎扮换鍡涙煟閹板吀绨婚柨鐔诲Г閻楃姴鐣峰┑瀣闁哄倸鐏濋悘濠傗攽閻愬弶顥滄繛瀛樺哺瀹曠敻寮撮姀锛勫幈濡炪倖鍔х徊鍓х矆閿熶粙姊绘担绋胯埞婵炶濡囬幑銏犫槈閵忕姷顓洪梺璇茬箲濡炴寧绂嶉鍫濈伋闁哄稁鍋撻幏鐑芥晲鎼存繃鍠氬┑鐐存尭椤兘寮婚弴銏犻唶婵犻潧妫撮幏鐑芥偡閹佃櫕鐎洪梺鎼炲労閸撴岸鎮￠弴銏㈠彄闁搞儯鍔嶉ˉ鏍煠閻楀牆顕滄い銊ｅ劦閹瑩骞撻幒鎾搭啈闂備線娼уú锕傚礉濞嗘挾宓侀柟鐑橆殔缁狅綁鏌ｅΟ娆惧殝闁归鍏橀幃娆撴倻濡攱瀚奸梻鍌氬�搁悧濠冪瑹濡ゅ懏鍊垮Δ锝呭暞閻撴洟骞栨潏鍓х？闁挎稑绉剁槐鎺楊敊绾嘲浼愰梺浼欑秶缁绘繈寮婚崶顒佹櫆闁芥ê顦卞Σ锝夋⒒閸屾瑧绐旀繛浣冲洦鍋嬮柛鈩冿供濞堜粙鏌涘☉姗堝姛妞も晜鐓￠弻鈥愁吋鎼粹�崇闂佺粯鎸诲ú鏍煘閹达附鍋愰柟缁樺笚濞堣尙绱撴笟濠冨婵犮垼娉涢張顒勫窗閹邦儵娑欙紣娴ｈ棄鍘＄紓浣瑰姈濮婂綊骞堥妸锔剧瘈闁告劏鏂傛禒銏犖旈悩闈涗沪闁绘濞�楠炲啫鈻庨幘宕囶唽闂佸湱鍎ら崵鈺呭Ψ瑜忕壕浠嬫煕鐏炲墽鎳勭紒浣峰嵆閹绠涢敐鍕嚬闂侀�涚┒閸旀垶淇婇懜闈涚窞濠电姴瀚悡锝夋⒒娴ｇ顥忛柛瀣噹鐓ら柡宥庡亞娑撳秹鏌ｉ姀鐘冲暈闁绘挻鐟╅幃宄扳枎韫囨搩浼屽┑鐐茬墛濮婂湱鎹㈠┑瀣櫢濞寸姴顑呯涵锟介梺缁樺姀閺呮粓锝炲澶嬧拺婵懓娲ら悘鈺呮煙鐠囇呯瘈闁诡噯绻濇俊鐑藉煛閸屾熬鎷烽悽鍛婄叆婵犻潧妫涢崙褰掓煙閸欏鍔ら棁澶岀棯椤撱垺鏁遍悗姘炬嫹
					xbean.TaskDlgInfo task=TaskDlgUtil.getTaskDlgInfo(teamleadid, WinnerManager.WINNER_TASK_ID);
					if(task==null){
						WinnerManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬锟界痪褔鏌ｉ妶鍛仼闁宠鍨堕獮濠囨煕婵炑冩噹缁躲倕霉閻樺樊鍎忛柣銈庡枟閵囧嫰骞囬埡渚婃嫹瑜旈獮蹇撶暋闁附鍍靛銈嗗笒椤︾増鏅ラ梻鍌欑窔濞佳兠洪妶鍥锋嫹濮橆偄宓嗛柣娑卞櫍楠炴帒螖閿熺晫绮婚敐鍡欑瘈闁割煈鍋勬慨鍐磼鏉堛劎绠炴慨濠勭帛閹峰懘鎳為妷锝忔嫹閸愵亞纾奸柨鐔诲Г閹峰懘鎳栧┑鍥┾槈闁宠鍨归敓鏂ょ秵娴滐綁骞楅弴銏♀拺闁圭娴风粻鎾淬亜閿旇鐏ｇ紒顔款嚙閳藉鈻庡鍕泿闂備胶鎳撻幖顐ょ矓閸洖绀夌�广儱顦伴悡鏇㈠箹濞ｎ剙鐏悘蹇曟暩缁辨帗娼忛妸锕�闉嶇紓浣诡殘閸犳劗鎹㈠┑瀣妞ゎ厽鍨崇槐锕傛⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樿尙顦梺鎸庢礀閸婂摜绮ｅΔ浣风箚闁靛牆鎳忛崳娲煕鐎ｎ亜锟藉潡寮婚敐澶婄睄闁割偆鍠愰悵宕囩磽娴ｇ瓔鍤欐俊顐ｇ懇婵＄敻宕熼姘敤闂侀潧臎閸滀礁鎮戦梻鍌欑劍閹爼宕愰弽顓熷仭鐟滃繐危閹版澘绠虫俊銈忔嫹缂佺姷鏁婚弻鐔兼倻濡偐鐣奸梺鍛婅壘椤戝顫忓ú顏勪紶闁告洦鍘鹃崝鍦磽娴ｈ櫣甯涚紒璇插�块幃楣冩倻閽樺）鈺呮煃閸濆嫸鏀婚柡鍛灲濮婅櫣绮欓幐搴㈡嫳缂備緡鍠栭柊锝呯暦閵忋値鏁嶉柣鎰ˉ閹风粯绻涙潏鍓ф偧闁烩剝妫冨畷鐢稿礃椤旂晫鍘遍梺缁樏壕顓熸櫠鏉堚晝纾奸弶鍫氭櫅娴狅妇绱掔紒妯肩疄鐎规洘甯掗…銊╁礋椤掑鏅梻鍌氬�风粈浣圭珶婵犲洤纾婚柛娑卞姸濞差亜鍐�闁靛鍎辨慨鍛存⒒閸屾艾锟界兘鎮為敂鎾呮嫹缁楁稑鍠氬鏍р攽閻樺磭顣查柟顖滃仱楠炴牜鍒掗悷鎵紜闂佹寧绻傞ˇ顖炴煁閸ヮ剚鐓涢柛銉㈡櫅閺嗛亶鏌熸搴ｅ笡缂佺粯绋掑蹇涘礈瑜嶉閬嶆煟閻欏懏瀚归梺鎸庢礀閸婂綊宕愰崹顔ユ棃鏁愰崨顓熸闂佺粯鎸鹃崰鏍蓟閿濆鍗虫慨姗嗗弾濡倿姊绘笟鍥у季闁搞劍濞婇弫鎾诲磹閻曚焦缍堝┑鐐插级缁挸鐣锋导鏉戝唨妞ゆ挻绮ｉ幏閿嬫媴閼叉繄鍠庨埢搴ㄦ倷椤戭偒浜炵槐鎾诲磼濞嗘劦妯傜紓浣筋啇缁绘繂鐣烽幋鐐电瘈闁稿被鍊栫紞搴♀攽閻愬弶鈻曞ù婊勭箞瀹曠敻骞掑Δ浣哄帾闂佸壊鍋呯换鍐疮濡ゅ懏鐓忛煫鍥ュ劤绾捐法绱掗悩鑽ょ暫闁诡喖缍婂畷鍫曞炊瑜庨崳浠嬫煛閸℃劕鐏叉慨濠冩そ濡啫鈽夊▎蹇ｆП闂備礁鎲″褰掓偡閵夆晜鍋╃�瑰嫰鍋婂銊╂煥閻斿墎鐭欓柕鍡曠椤繄鎹勯崫鍕拷鍨攽閻愬弶顥為柛銊у枎铻為柕濞炬櫆閳锋帡鏌涚仦鍓ф噮缂佹劖姊圭换娑欐媴閸愬弶澶勯柛瀣儔閺屾盯鍩勯崘顓熷发闂佹悶鍎崝宀勵敋闁秵鍊垫繛鎴烆仾椤忓懐顩叉俊銈呮噺閳锋垿姊婚崼鐔剁繁婵＄嫏鍐ｆ斀闁炽儴娅曞婵堢磼椤斿墽甯涢柕鍫秮瀹曟﹢鍩￠崘銊ョ闂備浇顕уù鐑藉极閹间讲锟斤箓宕奸妷锔芥闂佸吋浜介崕铏櫠閸偒娈介柣鎰▕閸庡繘鏌嶇憴鍕伌妤犵偞锕㈤幆鍌炲川婵犲偆浼撻梻浣稿閻撳牓宕弮鍥ヤ汗闁圭儤鎸告禍妤呮煙閼圭増褰х紒鏌ョ畺楠炲绺介崨濞炬嫼缂傚倷鐒﹁摫閻忓繋鍗抽弻锝夊煛婵犲倻浠搁悗娈垮枦椤曆囧煡婢舵劕顫呴柣姗�娼ф慨鍫曟⒒娴ｅ憡鍟為柛鏃撻檮缁傚秴鈹戠�ｎ亪妫烽悷婊勬煥椤繐煤椤忓嫪绱堕梺鍛婃礋濞佳囧礈鏉堚晝纾藉ù锝呭閸庢劙鎮介銈囩瘈濠碘剝鎸冲畷姗�顢欓崲澶堝姂閺屽秹宕崟顐嫹閹间焦鏅搁柣锝呰嫰閸樻挳鏌＄仦绋垮⒉鐎垫澘瀚敓鏂ょ秵娴滅偞绂掗崗鑲╃閻庣數顭堢敮鍫曟煠濞茶鐏﹂柍銉︽瀹曟﹢顢欓崲澹洦鐓曢柟鎵虫櫅婵″灝霉閻樿崵鐣洪柟顔筋殜閹倿宕ㄦ繝鍌や紦闂傚倷绀佺紞濠偽涚捄銊х焼濞撴熬鎷风�殿喖鎲＄粭鐔兼晸娴犲钃熼柣鏃傚帶缁犳氨鎲稿鍫濆惞闁绘梹鎮舵禍婊堟煃閸濆嫬鏆欓柛妯绘尦閺岀喖顢欑粵瀣杹闂佽桨鐒﹂崝鏍箚閺傚簱鏀介柛顐ｇ箓濮ｅ牓姊婚崒娆愮グ妞ゆ泦鍜冩嫹閸偄娴�规洘绮岄～婵囨綇閵娿儱绨ユ繝鐢靛█濞佳囶敄閸℃稑纾婚柕濞炬櫆閳锋帡鏌涢銈呮瀻闁搞劋绶氶弻鏇＄疀鐎ｎ亷鎷烽弽顓炵９闁割煈鍋呴崣蹇斾繆椤栨粌甯堕悽顖濆煐椤ㄣ儵鎮欐潏鎹愶拷鍧楁煛鐏炶濮傞柟顔哄灮閹风姴鈻撶�ｎ偅灏甸柣銉邯瀵墎鎹勯妸鎰╁�濋弻娑㈡偐鐠囇冧紣濡炪倖鎸搁崥瀣嚗閸曨剛绠炬い顐枤閻ｇ敻鏌＄仦鍓ф创鐎殿喗鎸虫俊鎼佸Ψ瑜岄崫妤呮⒒娴ｅ憡鍟為柛鏂炲洤绠柣鎴ｅГ閳锋帒銆掑鐐濠电偘鍖犻崶浣告喘椤㈡﹢濮�閻樼绱靛┑鐘垫暩婵敻鎳濋崜褏涓嶆い鏍ㄧ玻閹风兘鎮烽弶娆句痪闁诲孩鑹鹃悧鎾愁嚕椤曪拷瀹曠厧鈹戦崼顐Ｐ炲┑锛勫亼閸婃洜鎹㈤幇顑╂稑鈽夐姀鐘殿槷闁荤娀缂氶妴锟介柡锟芥禒瀣厽婵妫楅弸娑㈡煟韫囨稐鎲鹃柡灞剧洴閸╋繝宕掑鍐ｆ嫲闁诲氦顫夊ú妯兼崲閸繍鍤曞ù鐘差儛閺佸洭鏌ｉ幇鐗堟锭妤犵偛鐗撳缁樻媴閸涘﹨纭�闂佺绨洪崐婵嬪Υ閸愵喖骞㈡繛鎴炵懃娴滄姊洪崫鍕偍闁搞劍妞介幃鈥斥枎閹惧鍘告繝銏ｆ硾閿曪附绂掗姀銈嗙厵妞ゆ梹妲掗崗宀�绱掓潏銊ユ诞濠碘剝鎮傛俊鐑筋敊閹勫�梻鍌欑閹碱偊鎯屾径灞绢潟闁哄洢鍨洪弲鎼佹煛閸屾ê锟芥绮旈悽鍛婄厱閻庯綆浜濋ˉ婊堟偂閵堝鐓欑紓浣靛灩閺嬬喖鏌ｉ幘瀵搞�掗柨鐔烘櫕濞呫垽骞忛悜鑺ュ�甸柨婵嗛婢т即鏌ｉ敃锟介悧鎾诲箖濡ゅ啯鍠嗛柛鏇ㄥ墰椤︺儵鎮楃憴鍕闁告挻绻堥幃姗�宕橀瑙ｆ嫼闁荤姵浜介崝宀勫几瀹ュ洨纾兼い鏃傛櫕閹冲洦顨ラ悙璇у伐妞ゎ厹鍔戝畷閬嶅箛椤忓懐娼栭梻鍌欑濠�閬嶅磿閵堝绠板Δ锝呭暙閸屻劑鏌熼崜褏甯涢柣鎾跺枛閺岋絽螣婢剁鎯堝銈忚婵″洭鎯�椤忓棛纾奸柕蹇曞Т缁秹姊虹拠鈥崇仩闁兼椿鍨堕崺銏℃償閵娿儳顔掗柣搴ｆ暩椤牓鐛崼銉︹拻濞达絽鎽滈弸鍐╀繆濡炵厧濡跨紒顔肩墛缁楃喖鏁撴禒瀣拷渚�寮崼顐ｆ櫍闂佺粯鐟ラ幊蹇曪拷姘秺閹嘲鈻庤箛鎿冧痪缂備緤鎷烽柛鎰靛枟閻撱儵鏌￠崶顭嬵亪鎮橀懠顒婃嫹鐟欏嫭绀冩俊鐐扮矙瀵偊骞樼紒妯轰汗闂佽偐鈷堥崜锕�危閻楀牅绻嗛柣鎰典簻閿熻姤娲滈幑銏ゅ箛閺夎法鐤囬棅顐㈡处娓氭寮繝鍥ㄧ厵閻庢稒顭囨俊鍥煛閿熻姤绂掔�ｎ偆鍘藉┑鈽嗗灥濞咃絾绂掑☉銏＄厸闁糕�崇箲濞呭﹪鏌＄仦鍓с�掗柨鐔告灮缂嶅棝宕戦崱妞曡櫣锟芥稒菧娴滄粓鏌曡箛濠忔嫹閸愬弶鎳欐俊鐐�戦崹娲晝閵忋倕绠栭柕蹇嬪灮閻瑩鏌涢…鎴濇灆缂佽京鍠愮换婵嗩嚗闁垮绶查柨鐔虹崵閸涱厾绛忔繛瀵稿Т椤戝懐绮ｅΔ浣瑰弿婵☆垱瀵х涵楣冩煛鐎ｂ晝绐旈柟顔筋殜閺佹劖鎯旈垾鎰佹浇闂備礁鎽滄慨鐢稿礉濞嗘挾宓侀柡宥庣仈鎼搭煈鏁嗛柨鐔诲Г娣囧﹪鎳栭埡鍐紲闂佺粯锕㈠褎绂掗柆宥嗙厸閻忕偟鍋撶粈鍐磼缂佹娲撮柟顔界懇椤㈡鎷呴崫鍕ɑ闂傚倸鍊风粈渚�骞栭锕�绠犻煫鍥ㄧ☉缁犳牠鏌涘畝锟介崑娑㈡嫅閻斿吋鐓忓┑鐐靛亾濞呭棝鏌涚�ｎ亝顥㈤柡灞剧〒娴狅箓宕滆濡插牆顪冮妶鍛寸崪闁瑰嚖鎷�");
						return false;
					}
					Npc npc = SceneNpcManager.selectNpcByKey(task.getDstnpckey());
					if(npc==null){
						return false;
					}
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡枠婵﹦绮幏鍛存惞閻熸壆顐奸梻浣告啞濮婄懓煤閻旂锟戒礁顫濇０婵囨櫍闂佺粯锚閸氾拷缂佹顦版穱濠囧Χ韫囨洖鍩岄梺鍝ュ櫏閸ㄥ爼骞冮敓鐘参ㄩ柍鍝勫�婚崢浠嬫⒑閸濆嫬鏆欐繛鏉戝�垮畷闈涒枎閹寸偛浠忓┑顔筋焾娴滎剛澹曢挊澹濆綊鏁愰崼鐕佷哗闁汇埄鍨遍惄顖炲蓟閿濆鐓涘┑鐘插�绘禒鈺呮⒑娴兼瑧鎮奸柛蹇斏戞穱濠囧箹娴ｅ摜鍘告繝鐢靛Т閸燁垰鈻嶅澶嬧拻濞撴熬鎷锋繛浣冲懏宕查柟鐑樻尰閸欏繘鏌熺紒銏犳灈闁活厽顨呴埞鎴︽偐閸欏顦╅梺鎶芥敱鐢帡婀侀梺鎸庣箓濞层劑骞楅崒鐐寸厱闁靛牆鎳庨弳锝夋煛鐏炲墽娲撮柟顔规櫊楠炲洦鎷呴崷顓熸缂傚倸鍊烽懗鍓佸垝椤栨粎鐭欓柟鐑樻⒐瀹曞弶绻濋棃娑卞剰闁绘劕锕﹂幉鍛婃償閳儻缍侀、妤呭礋椤戣姤瀚奸梻浣告惈閸婂爼宕曢幓鎺嗘瀺闁告稑鐡ㄩ悡鏇㈡煟閺冨洦纭剧�规挸妫濋弻鐔碱敊閻愵剛鍔归梺闈涙处閸旀瑩鐛幒妤�绠婚悹鍝勬惈缁犵偤姊婚崒娆戠獢婵炰匠鍥佸洦瀵奸弶鎴濈�梺姹囧灮椤ｎ噣骞忓畡閭︽僵闁绘挸楠哥猾宥夋⒑鐠団�虫灓闁轰礁顭烽悰顕�骞掗幊铏⒐閹峰懘宕ｆ径濠庝紪闂傚倸鍊烽懗鍫曞储瑜旈敐鐐哄即閵忕姷锛欓梺鍝勬储閸ㄥ綊宕欓悩缁樼厵閻庣數顭堝暩缂佺偓鍎抽崥瀣Φ閸曨垰绫嶉柛灞捐壘娴犳ê顪冮妶鍡楃闁搞劋绮欏濠氭晸閻樻彃绐涢梺缁橆殔閻楀繘濡撮幇鐗堢叄缂備焦顭囨晶鐢告煛鐏炲墽鈽夐柍钘夘樀瀹曪繝鎮欓懠顒夊晪濠碉紕鍋戦崐鏍蓟閵娿儍娲敇閻戝棙缍庡┑鐐叉▕娴滄粌顔忓┑鍡忔斀闁绘ɑ褰冮銈嗕繆閹绘帞澧︽慨濠冩そ楠炴劖鎯旈姀顫喘闂備胶顭堥柊锝嗙閸洖鏄ラ柕蹇曞閸氬顭跨捄渚剰濞存粌婀辩槐鎾诲磼濞嗘垵濡藉銈庡幖濞差厼鐣烽姀銈嗗癄濠㈣泛妫欓弬锟介梻浣哥枃濡嫬螞濡ゅ懏鍊堕柕澶涘缁犻箖鏌涘鍐ㄦ殶缂佸鍣ｉ弻鈩冩媴閸濄儛銏°亜閹剧偨鍋㈢�规洟浜堕獮鍥敂閸℃瑦鏅ㄩ梻鍌氬�风粈渚�宕崸妤�绠规い鎰剁畱閻ゎ喗銇勯幇鍓佺暠闁稿被鍔戦弻鐔虹磼閵忕姵鐏嶉梺缁樻尰閻燂箓濡甸崟顖氱睄闁搞儜鍌涚潖缂傚倷绀侀ˇ鍐测枍閿濆鏅搁柛濠勫櫏濞兼劖绻涢崣澶屽⒌闁诡喓鍎靛畷妤呮⒒鐎靛摜鐣鹃梻浣哥秺濡法绮堟担鍛婃殰闂佽崵鍠愮划宀�鎹㈠Ο璁崇箚闁割偅娲橀悡銉╂倵閿濆倹娅囩紒鐘冲哺濮婅櫣绱掑Ο鍝勑曟繛瀛樼矋缁捇寮幘瀛樺弿闁归偊鍓ㄩ幏宄扳攽閸℃瑦娈鹃梺纭呮彧缁犳垹绮绘繝姘仯闁搞儺浜滈惃鐑樸亜閺傛寧顥㈡慨濠呮閹瑰嫰濡搁妷锔惧綒闂備胶鎳撻崵鏍箯閿燂拷
					if (TaskDlgUtil.existTask(roleid, WinnerManager.WINNER_TASK_ID)||TaskDlgUtil.existTask(roleid, WinnerManager.WINNER_TASK_ID_ACCEPT)){
						WinnerManager.getInstance().abandonWinnerTask(roleid);
					}
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬锟界痪褔鏌ｉ妶鍛仼闁宠鍨堕獮濠囨煕婵炑冩噹缁躲倕霉閻樺樊鍎忛柣銈庡枟閵囧嫰骞囬埡渚婃嫹瑜旈獮蹇撶暋闁附鍍靛銈嗗笒椤︾増鏅ラ梻鍌欑窔濞佳兠洪妶鍥锋嫹濮橆偄宓嗛柣娑卞櫍楠炴帒螖閿熺晫绮婚敐鍡欑瘈闁割煈鍋勬慨鍐磼鏉堛劎绠炴慨濠勭帛閹峰懘鎳為妷锝忔嫹閸愵亞纾奸柨鐔诲Г閹峰懘鎳栧┑鍥┾槈闁宠鍨归敓鏂ょ秵娴滐綁骞楅弴銏♀拺闁圭娴风粻鎾淬亜閿旇鐏ｇ紒顔款嚙閳藉鈻庡鍕泿闂備礁鎼崯顐﹀磹閸濄儲鏆滈悹楦裤��閺�浠嬫煃閳轰礁鏆為柕鍥ㄧ箖閹便劍绻濋崨顕呬哗缂備緡鍠楅悷銉╁煝鎼淬劌绠氱憸宥嗙珶婢跺瞼纾介柛灞剧懄缁佺増銇勯弴鍡楁处閸嬪鏌熼悙顒�澧柛銈嗘礋閹綊宕惰閳绘洟鏌涘顒夊剶闁哄本鐩崺鍕礂閻欙拷娴滎亪鏁愰悙鐑樻櫢闁绘ɑ鏋奸幏娲煟閻斿摜鎳冮悗姘卞厴瀹曨垵绠涘☉娆戝幈闂佺粯锚绾绢參濡撮幒鏃傜＜妞ゆ洖妫涢崚浼存懚閺嶎厽鐓曟繛鎴濆船閺嬫捇鏌熼柨瀣仢婵﹥妞藉畷銊︾節閸曨厾绐楅梻浣侯焾妤犵鐣烽鍕厺鐎广儱顦粻娑㈡煟濡わ拷閻楀繘宕㈤崹顐＄箚闁绘劕妯婇崕蹇撐旈悩铏�愮�规洏鍨介獮姗�顢欓悾灞藉箰闁诲海娅㈤幏鐑芥倵閿濆骸澧扮悮锕傛⒒娴ｇ瓔鍤冮柛鐘虫崌瀹曞綊鎸婃径灞炬濡炪倖鍔х粻鎴濇暜闁荤喐绮岀换妯虹暦閵忋倕绠抽柟瀛樻⒐閺傦拷闂備胶绮敃鈺呭磻閸涱喖鍨斿ù鐓庣摠閻撴洟鏌￠崶鈺佷户濞寸姵鐩弻锝夊Χ閸曨収妲柧缁樼墵閺岋絽顫滈敓钘夘焽瑜庣粋鎺楁晝閸屾稓鍘遍梺鍝勫枦閹风兘鏌ｉ悢鏉戝姦闁诡噣绠栭幃婊堟寠婢光斁鏅犻弻銊╁棘閸喒鎸冮梺浼欑畱閻楁挸顫忓ú顏勫窛濠电姴鍊搁～鍛存⒑閸濆嫭鍣虹紒璇叉婵＄敻骞囬弶鍧楁暅濠德板�撶拋鏌ュ箯缂佹绠鹃弶鍫濆⒔缁夘剚绻涢崪鍐偧闁轰緡鍠栭埥澶愬閿涘嫬寮虫繝娈垮枟椤牊绂嶉锟借灋妞ゆ牗绮庣壕钘壝归敐澶嬫锭闁诲繆鏅濋敓鑺ヮ問閸ｎ噣宕抽敐澶婅摕闁哄洢鍨归獮銏′繆閵堝嫮顦︽繛鍫燁殜濮婅櫣鎷犻垾铏亶缂備緡鍠楅幑鍥嵁婵犲洦鍊烽柛婵嗗珋閵娾晜鐓忓璺虹墕閿熻姤娲滈敓钘夌仛閻撯�愁潖婵犳艾纾兼繛鍡樺灥婵′粙姊虹拠鈥虫灈闁绘牜鍘ч悾鐑藉即閵忊晜鏅梺缁樺姌鐏忔瑩藝椤曪拷閹鎯傞崨濠傤伓闂備浇娉曢崰鏇炍涢崟顖ｆ晪闁靛濡囩弧锟介梺鍛婃处閸橀箖鏁嶅鍐ｆ斀闁宠棄妫楅悘锕傛煛閸涙澘鐨洪柤楦夸含閹风姴顔忛钘夌槣闂備線娼ч悧鍡椢涘Δ浣瑰弿闁挎洖鍊归悡鏇㈡煙閹呮憼闁汇劍鍨块弻銊╂偄鐠囨畫鎾绘煟閺冩垵澧存鐐茬箻閺佹捇鏁撻敓锟�
					WinnerManager.getInstance().createWinnerTask(WinnerManager.WINNER_TASK_ID,roleid,npc,SpecialQuestState.UNDONE,0,task.getSumnum());//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩胶锟藉箍鍎遍ˇ顖滅矆鐎ｎ偁浜滈柟鍝勭Ф閸斿秵銇勯弬鎸庡缂佺粯绻傞銉╂煥鐎ｎ偆鍑￠梺璺ㄥ枙婵倕煤閻旈鏆︽い鏍ㄧ☉椤曢亶鎮楀☉娅亪宕滈悷鎵虫斀闁绘劕寮堕ˉ鐐烘煙缁嬫鐓奸柟顔癸拷鏂ユ瀻闁圭偓娼欓敓鐣屾暬閺岋綁濮�閳藉棗鏅遍梺缁樺浮缁犳牕鐣烽鐐蹭紶闁靛／鍜冪床闂備浇顕栭崹搴ㄥ礃椤忓棌妫ㄧ紓鍌氬�风欢锟犲窗濡ゅ懏鍋￠柍杞扮贰閸ゆ洖鈹戦悩宕囶暡闁稿瀚伴弻锝夊箻閾忣偅宕抽梺浼欑秮缁犳牠骞冨畡閭︾叆闁告洦鍘鹃悡澶愭倵鐟欏嫭绀堥柡浣割煼楠炲啴濮�閵堝懐顔愰梺缁樺姈婢瑰棝鎯勬惔銊︹拻濞达絿顭堥弳閬嶆煙绾板崬浜扮�规洦鍨堕、鏇㈡晝閿熶粙宕掗妸鈺傜厵缂備降鍨归弸鐔兼煟閹惧鎳勯柕鍥у瀵噣宕惰濮规绱撴担鍓叉Ъ婵炲拑缍侀弫鎾诲磹閻曚焦缍堝┑鐐插级閻楃娀骞冮妷鈺佺闂傚倸顕粻姘舵⒑瑜版帗锛熺紒锟芥担鍛婃殰闂佽崵鍠愮划宀�鎹㈠Ο璁崇箚闁割偅娲橀悡銉╂倵閿濆倹娅囩紒鐘冲哺濮婅櫣绱掑Ο鍝勑曟繛瀛樼矋缁捇寮幘瀛樺弿闁归偊鍓ㄩ幏宄扳攽閸℃瑦娈鹃梺纭呮彧缁犳垹绮绘繝姘仯闁搞儺浜滈惃鐑樸亜閺傛寧顥㈡慨濠呮閹瑰嫰濡搁妷锔惧綒闂備胶鎳撻崵鏍箯閿燂拷
					WinnerManager.getInstance().addWinnerRole(roleid);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆ繛纭风節瀵鎮㈤悮瀛樺闁汇垺顔栭悞楣冨疮閸濄儳纾藉〒姘攻鐎氳绻濋悽闈浶㈡繛璇х畵閹繝濡烽埡鍌滃幗闂佸搫鍟ù鍌炲吹濞嗘垶鍋栨慨妯垮煐閳锋垿姊婚崼鐔衡檨闁瑰吋鍔欓幃妤�顫濋鐔哄嚒濡炪倖娲╃紞渚�鐛锟介、娆撴偂鎼淬倧鎷烽崹顔规斀閹烘娊宕愯楠炲繘鏌ㄧ�ｃ劋绨婚棅顐㈡祫缁插ジ鏌囬鐐寸厸閻忕偛澧介埥澶愭煃鐠囧弶鍞夌紒鐘崇洴瀵挳鎮敓浠嬪疮鐎ｎ喗鈷掑ù锝呮啞閹牓鏌ｉ鐑嗘Ш缂佽京鍋炵粭鐔兼晸娴犲鍋樻い鏇嫹鐎规洖鐖奸、妤佸緞鐎ｎ偅鐝滄繝鐢靛仩閹活亞寰婇崸妤�绠犻柟鎹愵嚙缁�鍫ユ煟閵忋垺鏆╃痪鍙ョ矙閺屾稓浠﹂崜褎鍣紓浣圭☉缁绘﹢寮婚悢鍓叉Ч閹肩补锟藉啿绠ｉ梻浣告惈閺堫剟鎯勯鐐靛祦闁搞儺鍓氶ˉ鍫熺箾閹寸偟鎳呭ù婊冪埣濮婄粯鎷呴搹鐟扮闂佽鎮傜粻鏍х暦娴兼潙绠涙い鎾跺Л閺�铏節閻㈤潧孝婵炴潙鍊垮顐㈩吋閸℃瑧鐦堥梺鍓茬厛閸嬪嫭鎱ㄩ崶銊х闁割偒鍋勯獮妯肩磼鏉堛劍灏伴柟宄版嚇閹兘骞嶉淇卞仭濠碉紕鍋戦崐銈夊储妤ｅ啫绀傛俊顖欒閸ゆ洖鈹戦悩宕囶暡闁哄懏鎮傞弻锝呂熺拠鑼シ缂備焦鍔栫粙鎴︹�旈崘顔嘉ч柛鈩冾殘閻熴劑姊虹粙鍖″伐妞ゎ厾鍏橀獮鍐晸閻樿尙顔掔紓鍌欑劍鑿ら柟閿嬫そ閺岋綁鎮╅崣澶岊槺闂佽法鍠庨敓鐣屽枑閻濐亪鏌ｈ箛鎾跺ⅱ缂佽鲸鎹囧畷鎺戭潩濮ｆ瑣鍨介弻銊╁即濡尨鎷峰┑瀣畺濡わ絽鍟崐濠氭煢濡警妯�闁哥偛鐖煎娲传閸曨剙绐涢梺绋款煭缂嶄線宕洪敓鐘插窛妞ゆ梹鍎冲鎶芥⒒娴ｅ憡鎯堥柛鐕佸亰瀹曟劙鎸婃径妯硷拷鍫曟煕濞戞﹫姊楃紒璇叉閺岀喓绱掑Ο铏诡儌闂佺硶鏅徊楣冨箞閵婏妇绡�闁告洦鍘肩粭锟犳⒑閻熸澘妲婚柟鍐茬箳缁參鎮㈢喊杈ㄦ櫖濠电姴锕ら崯顐ｇ搹闂傚倸鍊搁崐宄懊归崶褏鏆﹂柣銏㈩焾闂傤垶鏌曟径娑橆洭妞も晛寮堕妵鍕疀閹炬剚浼�闂佸搫妫寸粻鎾诲蓟濞戙埄鏁冮柨婵嗘椤︺儵鏌熼婊冩灈婵﹥妞藉Λ鍐ㄢ槈鏉堛剱銈夋⒑缁嬪潡鍙勫ù婊勫劶濡垺绻濋姀锝呯厫闁告梹鐗犻崺娑㈠箳濡や胶鍘遍柣蹇曞仜婢т粙骞婇崨顔轰簻闁挎棁鍋愰悾鐢告煛瀹�锟介崰搴ㄦ箒闁诲函缍�閸╂牜锟芥艾缍婇幃娲箳瀹ュ洤濡藉┑锛勫仒缁瑥顕ｉ锕�绀冩い鏃囧亹閿涙粌鈹戦鏂や緵闁告挻鐟︾粋宥夊醇閺囩啿鎷绘繛杈剧悼椤牓骞冮幋鐘电＜濞达綀顫夌亸锔撅拷娈垮枟瑜板啴鈥﹂妸鈺佹そ闁告劏鏅涢璺衡攽椤旀枻渚涢柛鎿勭畵閹剝绺介崨濠勫幐閻庣櫢鎷烽悗锝庡墰琚﹂柣搴㈩問閸ｎ噣宕滈悢椋庢殾鐟滅増甯╅弫濠囨煢濡警妾ч柟椋庡厴椤㈡盯鎮欑划瑙勫缂傚倷绀侀鍛焊閸涙潙绀夐柣鏂垮悑閻撴稑霉閿濆懎顥忛柣鎾瑰亹閿熻姤顔栭崰鏍�﹂柨瀣╃箚闁归棿绀侀悡娑㈡煕鐏炲墽鐓紒銊ょ矙濮婄粯鎷呮笟顖滃姼闂佸搫鐗滈崜娑氬垝濞嗘挸绠ｉ柨鏃傜帛閺呮粓姊虹捄銊ユ珢闁瑰嚖鎷�?
					MessageMgr.psendMsgNotifyWhileCommit(roleid, 140666, npc.getNpcID(), Arrays.asList(task.getSumnum()+"",npc.getName()));
					
					//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹惧墎纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｆ繝姘亜闁稿繐鐨烽幏濠氭煟鎼淬劍娑у鐟帮工鍗辨い鏂垮⒔绾捐棄霉閿濆懏鎯堥崯鍛婄節濞堝灝鏋涢柣蹇旀皑缁碍娼忛妸褏鐦堥梺鎼炲劥閸╂牠寮查锟介埞鎴︽偐缂佹ɑ閿柣搴㈢閹倿鐛箛娑欏�婚柤鎭掑劜濞呫垺绻涚�电孝妞ゆ垵妫濋幃鈥斥槈閵忊�筹拷鐢告煥濠靛棛鍑圭紒銊ょ矙瀵偊宕煎顏呮閹晠妫冨☉妤佸媰闂備胶绮〃鍡椕哄┑濞夸汗濞达絽澹婂〒濠氭煏閸繃顥滈梺鍙夌矒閺岀喎鐣￠弶鎸幮╅梺瀹狀潐閸ㄥ潡宕规ィ鍐╁殤妞ゆ帒鍊婚崢顖炴⒒娴ｅ憡鎯堥柤娲诲灣缁棁銇愰幒鎴ｆ憰闂侀潧臎瀹ュ棗顏堕梺鎸庣箓妤犲憡绂嶅鍛／闁绘劦鍓欓埢鏇熸叏婵犲啯銇濈�规洦鍋婂畷鐔碱敇閻樻彃蝎缂傚倸鍊搁崐鍝ョ矓瀹曞洨鐭嗗〒姘炬嫹妞ゃ垺宀搁弫鎰緞濡粯娅岄梻浣告啞濞诧箓宕戦崟顖涘�垫い鎾跺剱濞撳鏌曢崼婵囶棡缂侊拷閿熶粙姊洪悷鏉挎毐缂佺粯鍔欓崺銏ゅ箻缂佹ɑ鍎梺闈╁瘜閸橀箖鏁嶅┑瀣拺缂佸瀵у﹢浼存煟閻旀繂鎳愭す鎶界叓閸ャ劎鈾侀柣鎾寸懅閿熺晫鎳撶�氼厼顭垮Ο浣曪絾绻濆顓犲帗闁荤喐鐟ョ�氼剟鎮橀幘顔界厵妞ゆ棁顫夊▍濠冾殽閻愬瓨宕屾鐐村笒閳规垿宕ㄩ婊愮幢缂傚倸鍊搁崐鐑芥倿閿曞倸纾块柧蹇ｅ亝濞呯姴霉閻樺樊鍎忛柛灞诲妿閹叉悂寮崼婵堜紜闂佹寧娲栭崐鎼佹煥閵堝棔绻嗛柕鍫濆椤︼附绻涢崼鐔虹疄闁诡喗顨婇幃浠嬫濞戣鲸姣夋俊鐐�戦崝宀�鎹㈤幋鐘电焿鐎广儱顦介弫鍌炴煕椤愶絿绠橀柣锝呮惈閳规垿顢欑粵瀣吅闂佸綊顥撻崗姗�寮婚悢纰辨晩閻熸瑥瀚悵鏍磽娴ｄ粙鍝洪悽顖涘笩閻忔帡姊虹紒妯诲碍濡ょ姴鎽滅划濠氭倷閻戞ǚ鎷婚梺绋挎湰閻熝呯玻閺冿拷缁绘稒鎷呴崘鍙夌闁跨喐鏋荤粻鎾崇暦婵傜唯闁靛／宥囧惞闂傚倸鍊风欢锟犲礈濞嗘垹鐭欏〒姘炬嫹鐎殿噮鍋婂畷鍗炩槈濞嗘垵甯鹃梻濠庡亜濞层倝顢栭崨瀛樺�舵い鏂垮⒔濡垶鏌熼鍡曠娴狀噣姊洪崫鍕拱缂佸鎸荤粋鎺楁晝閸屾氨顦悷婊冾槸鍗遍柛顐ｇ妇閺�浠嬫煟閹邦剛鎽犻柛搴㈩殜閺屾盯鎮╁畷鍥р拰闂佺硶鏅濋崑銈夌嵁鐎ｎ喗鏅滈柤鎭掑劜閻濐偊姊绘担鍛婂暈婵炶绠撳畷鎴﹀礋椤栨粌绁﹂柣搴秵閸嬪棛寮ч敓鐣岀磼閻愵剚绶叉い锕佷含婢规洟宕稿Δ浣哄幈闂婎偄娲﹂弸蹇涘箣閻愮鏀虫繝鐢靛Т濞诧箓宕愭繝姘厾闁诡厽甯掗崝婊勭箾閸涱厽鍠樻慨濠呮閹瑰嫰濡搁妷锔撅拷铏圭磽娓氬洤鏋熼柣鐔叉櫊閻涱噣宕卞☉妯碱槰濡炪倖鏌ㄥΣ鍫ュ煛閸涱喚鍘撻梺鍛婄箓鐎氼剟鏁撻悾灞炬毈妤犵偛绻掔槐鎺懳熼懖鈺婂晭闂佸搫顦悧鍡樻櫠閻ｅ瞼鐭撴い鎺嶈兌缁犻箖鏌涘鍐ㄦ殶闁诡喖銈搁弻鈩冪瑹閸パ勭亪闂佸疇妫勯ˇ顖烇綖濠靛洦缍囬柍鍝勵儑鎼村﹤鈹戦敍鍕杭闁稿﹥鐗曢～蹇氥亹閹烘垹锛熼梺瑙勫劶濡嫰鎮″┑瀣厱妞ゆ劦鍋呯欢娑㈡煙閻戠瓔妫戦柟鍙夋尦瀹曠喖顢楅崒銈喰氱紓鍌氬�搁崐鍝ョ矓閹绢喗鏅濇い蹇撳閸ゆ洖鈹戦悩瀹犲妤犵偑鍨烘穱濠囧Χ閸滃啫浼愰梺璇″枟閸ㄥ灝顫忓ú顏勫窛濠电姳鑳剁换渚�姊洪崫銉バｇ紒瀣尭閳诲酣濮�閵堝拋娼婇梺闈涚墕濡矂骞忕紒妯肩閺夊牆澧界粔顒佺箾閸滃啰鎮奸柡渚囧枛閳藉濮�閿涘嫬骞愰梺璇茬箳閸嬬娀顢氳閹便劑宕掑☉杈啍闂佺粯鍔栭幆灞解枔閺冿拷閵囧嫰顢樺鍐潎閻庤娲滈崢褔鍩為幋锕�閱囨繝闈涙椤撴椽姊绘担绛嬪殭濡ょ姴鎽滅划璇差吋婢跺﹦锛熼梻渚囧墮閸楁洟宕堕妸銉殼闁诲孩绋掗敋濞存粍顨婂娲川婵犲倸袝闂佸摜濮甸〃濠囧箖閿熺姴绀冩い鏃囧亹妤犲洭姊虹紒妯哄婵炲吋鐟╄棢閻庯綆鍋佹禍婊堟煥閺冨洤浜归柣锝囨暬閺屸�崇暆鐎ｎ剛鐦堥悗瑙勬礀瀹曨剝鐏掗梺鐓庮潟閸娿倕危閸撲胶纾介柛灞剧懄缁佹澘顪冮弶鎴炴喐闁轰緡鍣ｉ弫鎾绘偐闂堟稓銈﹀┑鐘灱濞夋盯鎯屾径鎰闁绘垼濮ら弲鏌ュ箹缁櫢鎷烽懠顒傛晨濠碉紕鍋戦崐鏇燁殽韫囨稑绠柨鐕傛嫹
					WinnerRecord record = WinnerManager.getInstance().teams.get(team.getTeamId());
					if(record!=null){
						record.setTeamScore(0);
						record.setRound(0);
						//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗娼欓～婵嬫嚋濞堝尅鎷烽弽銊х閻庢稒顭囬惌濠勭磽瀹ュ拑韬�殿喛顕ч埥澶愬閻樼數鏉搁梻浣侯焾缁绘劙骞楀鍫濇瀬闁哄稁鍘介埛鎴炵箾閼奸鍤欐鐐搭殜閺岀喖鎮烽悧鍫濇灎閻庢鍠栭…鐑藉极閹邦厼绶炲┑鐘插缂嶅倿姊绘笟锟藉褏鎹㈤崱娑樼柧婵犻潧顑呯粈澶愭煙闂傚鍔嶉柍閿嬪灴閺岋箑螣娓氼垱笑闂佸搫妫涢崰鏍蓟濞戙垺鍋愰柡灞诲劚瀵即姊虹化鏇熸珖闁稿鍊濋悰顔撅拷锝庡枟閺呮粓鏌﹀Ο渚Х婵顨婂缁樻媴閸涘﹤鏆堥梺鑽ゅ枂閸庝絻妫熸繛鏉戝悑濞兼瑧绮婚弽銊х闁糕剝蓱鐏忎即鏌ｉ幘璺烘灈闁哄矉缍佸顒勫箰鎼淬垹鏋戦梻浣侯攰濞呮洖煤濠婂懏顫曢柟鐑橆殕閸嬫劙鏌ц箛锝呬簻缁炬儳鍟胯灃闁绘﹢娼ф禒婊堟煕閻曚礁浜伴柨婵堝仜椤劑宕奸悢鍛婎仧濠电偛顕慨鎾敄閸涱垳涓嶉柡宥冨妿缁犻箖鏌涢埄鍏狀亝鎱ㄩ崼婵冩斀妞ゆ牗绋掔亸锕傛煛鐏炲墽娲存鐐叉喘婵℃悂鏁傞悾灞界稐闂傚倷娴囧▔鏇㈠窗閺囩喐鍙忛柕鍫濐槶閿熻棄鍟换婵嬪磼閵堝棛绋佹繝鐢靛仜濡﹥绂嶅鍐惧晠婵犻潧妫岄弨浠嬫煟濡绲婚柡鍡欏枛閺屾稑鈻庤箛鏃戞＆闂佸搫鐭夌徊楣冨箚閺冨牆顫呴柣妯哄级閻︽捇姊绘担鍛婂暈闁规悂绠栧畷浼村冀瑜忛弳锔界箾瀹割喕绨婚崬顖炴⒑閹稿孩绌块柟鐑筋棑缁辨帡宕滄担闀愭闂佸搫鐬奸崰鏍蓟閸ヮ剚鏅濋柨鐔剁矙閻涱喖螖娴ｈ櫣顔曢梺鍛婁緱閸嬪嫰鎮橀崣澶嬪弿濠电姴鎳忛鐘绘煙閻熸澘顏┑鈩冩倐婵＄兘鏁傞幆褏绋堥梻鍌氬�烽懗鍫曞箠閹捐鍚归柡宥庡幖缁狀垶鏌ㄩ悤鍌涘?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐澶婄疀妞ゆ帊鐒﹂崕鎾绘⒑閹肩偛濡奸柛濠傛健瀵鈽夐姀鈺傛櫇闂佹寧绻傚Λ娑⑺囬妷褏纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｆ繝姘亜闁稿繐鐨烽幏濠氭煟鎼达紕浠涢柣鈩冩礈缁絽螖閸涱喒鎷洪柡澶屽仦婢瑰棝藝閿曞倹鍊垫慨妯煎帶婢ф挳鏌嶉妷顖氼洭闁圭懓瀚版俊鎼佹晝閿熺晫澹曢娑氱瘈闂傚牊绋戦敓钘夌秺瀵悂鎳￠妶鍡楀簥濠电娀娼ч鍛村几娓氾拷閺岀喖鏌囬敃锟介獮鏍磼閸撲礁浠遍柟顔筋殜閺佹劖鎯旈垾鑼嚬闂備胶绮换鍐洪悢濂夋綎缂備焦蓱婵挳鏌﹀Ο鐚寸礊闁瑰墽绮悡銉︽叏濮楀棗骞戝ù婊勭矒閺屻劑寮崶銊с�婇梺娲诲幗閻熝囨晸閸婄噥娼愭繛鍙夌矒瀵偆绱掑Ο鍦畾闂佸吋鎮傚褏娆㈤悙鐑樺�甸柨婵嗙凹閹秹鏌熸搴″幋鐎规洖缍婇、鏇㈩敃閿濆骸鏅梻鍌欒兌缁垶宕濆Ο闂寸剨婵炲棙鍔楅々鐑芥煏韫囧锟芥牠鎮￠弴銏＄厸闁告劖瀵х�氬湱绱掗悙顒佺凡缂佸鏁哥划姘綇閵娧呯槇闂佹悶鍎撮崺鏍疾濠靛鈷戦柟绋挎捣缁犳捇鎮楀☉鎺撴珚闁诡喗瀵х粭鐔兼晸閽樺娼栭柧蹇氼潐鐎氭岸鏌嶉妷銊︾彧闁诲繐绉瑰娲箰鎼淬垻锛橀梺鎼炲妼缂嶅﹪骞冩ィ鍐╁�婚柦妯侯樀閸炲爼姊洪崫鍕偍闁告柨绉瑰鏌ュ閿涘嫮顔曢柡澶婄墕婢т粙宕氭导瀛樼厵缁炬澘宕禍浼存煟濞戝崬娅嶇�规洖銈搁幃銏ゆ惞閸︻厽顫岄梻鍌欑劍閻綊宕归挊澶樼劷鐟滃海绮嬮幒妤佹櫇闁稿本绋撻崢閬嶆⒑闂堟侗鐒鹃柛搴㈠▕瀹曟椽鏁愭径瀣幍濡炪倖姊归崕鎶藉储閹绢喗鐓涢悘鐐跺Г椤ユ粍銇勯幘鐐藉仮鐎规洏鍔戦、娑㈡晲閸犵増绻傞埞鎴︽晬閸曨偂鏉梺绋匡攻閻楁粓寮锟介獮鎺懳旈敓鐣屽瑜版帗鐓犲┑顔藉姇閿熻姤娲熻棢婵﹩鍏橀弨浠嬫煕鐏炲墽鐭ら柣鎺戝⒔缁辨帡鎮▎蹇斿闁绘挻娲橀妵鍕箛閸撲焦鍋ч梺瀹犳椤︻垶鍩為幋锔筋�愬┑鐐差槹濞叉粌危閹版澘绠虫俊銈勭娴滃綊姊婚崒姘卞缂佸鍔曞嵄闁规壆澧楅埛鎴︽煕濠靛棗顏柣鎺曟硶缁辨帡鐓鐘电厯闂佺硶鏂傞崕鎻掝嚗閸曨垰绠涙い鎺戝亞閺�銊╂⒒娴ｈ櫣甯涢柛鏃�娲熼、姘额敇鎺虫禍褰掑箹濞ｎ剙濡介柣鎾跺枛楠炴牕菐椤掞拷閻掓椽鏌涢悢椋庣闁哄本鐩幃鈺呭礃閹绘帗鎳欓柣搴㈩問閸ｎ噣宕戦崨顖涘床婵犻潧妫鈺傘亜閹烘垵锟藉寮抽鈶╂斀闁绘劕妯婇崵鐔封攽椤旇姤灏︽い銏＄墵瀹曞崬鈽夊Ο纭风幢闂備線娼ц墝闁哄懏绮撻幃锟犲即閻旂繝绨诲銈嗘尵閸犲酣鎮橀妷銉冪懓顭ㄩ崟顓犵厑缂備胶绮惄顖氱暦閵娾晩鏁冮柕蹇ｆ線閹綁姊绘担鍝ユ瀮妞ゎ偄顦靛畷褰掑锤濡わ拷缁犳牠鏌嶉崫鍕櫣闁搞劌鍊归妵鍕箛閸撲胶蓱闂佷紮绠戦柊锝咁潖缂佹ɑ濯村〒姘煎灣閸旂顪冮妶鍡楃仴婵炲樊鍘奸悾鐑藉箣閿曪拷鍥存繝銏ｆ硾閼活垳绮婇敃鍌涒拺闁革富鍘奸。鍏肩節閵忊槅鐒界紒顔碱煼閹兘骞婃繝鍌滅Ш闁轰焦鍔欏畷銊╊敊閽樺鐎鹃梻鍌欑劍閻綊宕愰弴鐏绘椽濡舵径濠勫幋闂佺鎻粻鎴︽偂閿熺姵鐓曢柍鈺佸枤濞堟ê霉閻樿櫕灏︽慨濠冩そ濡啫鈽夊▎娆戝窛闂備礁缍婇ˉ鎾诲礂濡警娼栨繛宸簻娴肩娀鏌涢弴銏℃锭闁告挻澹嗙槐鎾存媴閸撳弶笑缂傚倸绉撮敃顏堝箖娴兼惌鏁嬮柨鐔绘椤曪絾绂掔�ｎ�晠鏌ㄩ弬鍨挃閼叉牠姊婚崒娆戭槮闁硅绻濋獮鎰板幢濞戞袝闂備礁鐏濋鍛存倶閹绢喗鐓涚�癸拷鐎ｎ剛蓱闂佽鍨卞Λ鍐╂叏閿熶粙鏌曡箛濠冩珕婵炲牆缍婇弻锝嗘償閿濆棭浠ч梺褰掝棑閸忔﹢寮婚悢鍏尖拻閻庨潧澹婂Σ顕�姊洪挊澶婃殶闁哥姵鐗犲濠氭晸閻樿尙鍊為梺瀹犳〃閻掞箓鎮樻笟锟藉铏圭磼濡偐鐣鹃梺绯曟櫆閻楃姵淇婇悽绋跨妞ゆ牗鑹鹃崬銊╂⒑闂堟侗鐒鹃柛鏂跨焸钘熸繝闈涱儐閳锋垿鏌涘┑鍡楊仾妞ゃ儲鎹囬弻娑㈠Ω閵娿儱鎯炲┑鈥冲级閸旀瑩鐛幒鎳虫梹鎷呯憴鍕典户闂傚倷妞掔槐顔惧緤娴犲鍎楀鑸靛姇缁狀垶鏌ｉ幋锝呅撻柡鍛叀楠炴牜鍒掗悷鏉库拤闂佽绻愮粔鐟邦潖閾忓湱纾兼俊顖濐嚙閺嗘姊洪崫銉バｉ柣妤冨█閹即顢氶敓钘夘嚕娴犲锟芥牠濡烽妷鈺佸及濡炪們鍨洪〃濠囧极閹惧顩烽悗锝庡亝濞呫垺绻濆▓鍨灍闁告梹娲熼弫鎾绘嚍閵夛妇顦伴梺鐐藉劵缁犳挸鐣烽崼鏇ㄦ晢闁跨喓鏅划璇测槈濞嗗秳绨婚梺瑙勫礃濞夋稑鏆╅梻浣风串缁犳垿鎮ч幘鎰佹綎闁惧繗顫夊畷澶愭煏婵炲灝鍔滈柣搴ゆ缁辨挻绗熼崶褎鐏嶉梺鑽ゅ枂閸庣敻骞冩ィ鍐╁�婚柤鎭掑劚閿熷�熷吹缁辨帒鈽夊鍡楀壉闂佸搫鎷戠紞浣割潖閾忓湱纾兼慨妤�妫涢崝鐑芥⒑鏉炴壆鍔嶉柟顔煎�搁锝夊箮閽樺）銊╂煃閸濆嫬锟界敻骞忕紒妯肩閺夊牆澧界�靛ジ鎮归敓浠嬫晝閸屾稑锟藉灝螖閿濆懎鏆為柣鎾寸洴閺屾盯顢曢顫盎婵犫拃鍐惧殶闁跨喎锟界噥娼愭繛鍙壝—鍐寠婢跺本娈惧┑顔筋殣閹烽攱銇勯姀锛勬噰闁诡喒鍓濋幆鏃堝焺閸愭儳鎮嬮梻鍌氬�烽懗鍫曞箠閹捐瑙﹂悗锝庡枟閸嬧晜銇勮箛鎾跺缂侊拷婢跺矉鎷烽獮鍨姎妞わ缚鍗冲畷鎴﹀磼閻愬鍘繝銏ｅ煐缁嬫垿銆呴鍌滅＜闁绘宕甸悾娲煛瀹�锟介崰鎾绘晸閻ｅ本鏆柡鍛板皺濡叉劙鎼归鐘辩盎闂婎偄娲﹂幐鐐櫠闁秵鐓涘ù锝囶焾閿熻棄缍婃俊鐢稿礋椤斿墽鏉搁梺瑙勫礃濞夋盯路閿熶粙姊绘担铏瑰笡闁规悂绠栧畷浼村冀椤撶偠鎽曢梺闈涱焾閸庮噣寮ㄦ禒瀣厱闁虫拝鎷烽柡鍛矊閺嗏晠姊婚崒娆掑厡妞ゃ垹锕︽禍绋库枎閹惧磭锛涢梺瑙勫礃椤曆呯不閻愮儤鐓忓┑鐘茬箰椤╊剛绱掗埥鍛闂傚倷鑳堕…鍫㈡偖椤愶箑纾规俊銈呮噹鐟欙箓鎮楅敐搴℃灍闁稿﹦鏁婚幃宄扳枎韫囨搩浠剧紓渚婃嫹闁告劦鍠楅悡銉╂煛閸ヮ煁顏堟倶閺屻儲鐓忛柛鈩冩礈缁愭梻锟芥鍣崳锝呯暦閻撳簶鏀介柛顐亝鏁堟繝纰夌磿閸嬫垿宕愰弽顐ｆ殰闁圭儤顨呯壕璇测攽閻樺弶鎼愮紒鐙�鍨堕弻锝夊箣閿濆憛鎾绘煙椤栨粌浠遍柡灞剧洴閺佸倻鎷犻幓鎺旑啋闂備焦瀵х粙鎺旀崲閸愵亝宕叉繛鎴炵懄缂嶅洭鏌涢幘妤�鎯欓幋锔解拺闁硅偐鍋涙俊鐣岀磼鐠囪尙澧曢柣锝囧厴婵＄兘鍩℃繝鍐╂珖闂備焦瀵у濠氬疾椤愶箑鍌ㄩ梺顒�绉甸悡鐔煎箹閹碱厼鐏ｇ紒澶屾暬閺屾盯骞樼�靛憡鍣紓浣稿�圭敮鐔妓囩�靛摜纾奸弶鍫涘妼濞搭喗銇勯姀锛勬噰闁圭锕ュ鍕節閸愨晛娈橀梻鍌氬�风粈渚�骞栭锔藉殣妞ゆ牗顕卞☉妯滄棃宕担瑙勬珝濠电娀娼ч崐濠氣�﹂崼婵愬晠婵犻潧娲㈡禍婊堟煛瀹ュ啫濮�濠㈣锕㈤幊鏍冀椤撶啿鎷婚梺绋挎湰閼归箖鏁撴禒瀣垫缂侇喖鐗婄粭鐔兼晸娴犲宓佸鑸靛姈閺呮悂鏌ｅΟ鍨毢妞わ富鍘奸—鍐Χ閸℃鐟ㄩ柣搴㈠嚬閸撴瑩顢欒箛鎾斀闁搞儯鍎扮花濠氭⒑閸濆嫮肖闁轰礁鎽滅划娆撴嚒閵堝棗浠忛梺璺ㄥ櫐閹凤拷
						WinnerManager.getInstance().removeLastTeamidAddNew(record,roleid);
					}
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬鍡欑厯闂佸搫琚崝鎴﹀箖閵忋倕浼犻柛鏇熷灟閸ㄥ鎯�椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔閳藉鏌嶉挊澶樻█鐎规洩绻濋幃娆撳箵閹烘繂濡ф繝鐢靛Х閺佹悂宕戝☉銏″剭闁绘垼妫勯悿楣冩煟濡鍤欓柦鍐枛閺岋繝宕堕埡浣圭亖缂備胶濞�缁犳牠寮婚敐澶婄疀闂傚牊绋戦～顏堟⒑缂佹绠栨繛鑼枎椤繘鎼归崷顓犵厯濠电偛妫欓崕鎶藉礈娴煎瓨鈷戠紒瀣皡瀹搞儲绻涚亸鏍垫嫹閹颁礁娈ㄦ繝鐢靛У閼圭偓鍎梻浣稿暱閹碱偊宕愰崨濠勵洸婵犲﹤鐗婇埛鎴︽煕濞戞﹫鍔熺紒鐘虫崌閹顫濋浣告畻闂佽桨鐒﹂崝鏍ь嚗閸曨叏鎷烽敐搴″閻㈩垱顨婂濠氬磼濞嗘埈妲梺璇茬箲缁诲牓銆侀弽顓炲耿婵°倕鍟▓楣冩倵閻у憡瀚归梺鍛婃处閸撴盯宕㈤幖浣瑰�甸柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁告挻绋栭埅鐢告⒑鐠囨彃顒㈡い鏃�鐗犲畷鎶筋敋閿熻棄鐣烽幎鑺ユ櫜闁告侗鍨卞▓鐐節闂堟稑锟芥悂骞夐敓鐘茬；闁告洦鍨遍悡鏇熺箾閹寸儑鍏柡锟界紒妯镐簻闁哄倽娉曠粻缁樻叏婵犲偆鐓肩�规洘甯掗埢搴ㄥ箣椤撶啘婊堟⒒娴ｄ警鏀板┑顔哄�楅崚鎺戭吋婢跺﹦顦繝鐢靛Т濞层倗绮荤紒妯镐簻闁哄啫娲ゆ禍瑙勩亜閺傛寧顥㈡慨濠呮閹瑰嫰濡搁妷锔惧綒闂備胶鎳撻崵鏍箯閿燂拷
					xbean.Properties prop=xtable.Properties.select(roleid); 
					List<Long> teamMembers = team.getNormalMemberIds();
					for (Long mem : teamMembers) {
						WinnerManager.clearActiveTeamWinnerScore(mem);//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹惧墎纾藉ù锝呮惈灏忛梺鍛婎殕婵炲﹤顕ｆ繝姘亜闁稿繐鐨烽幏濠氭煟鎼淬劍娑у鐟帮工鍗辨い鏂垮⒔绾捐棄霉閿濆懏鎯堥崯鍛婄節濞堝灝鏋涢柣蹇旀皑缁碍娼忛妸褏鐦堥梺鎼炲劥閸╂牠寮查锟介埞鎴︽偐缂佹ɑ閿柣搴㈢閹倿鐛箛娑欏�婚柤鎭掑劜濞呫垺绻涚�电孝妞ゆ垵妫濋幃鈥斥槈閵忊�筹拷鐢告煥濠靛棛鍑圭紒銊ょ矙瀵偊宕煎顏呮閹晠妫冨☉妤佸媰闂備胶绮〃鍡欏垝閹惧磭鏆︽慨妯挎硾缁犺櫕淇婇妶鍕槮濞寸媭鍙冨铏规喆閸曢潧鏅遍梺鍝ュУ閻楃娀鎮伴锟介弫鎾寸鐎ｎ偀鎷婚梺绋挎湰閻熝囧礉瀹ュ鐓曢幖杈剧磿閿涘秹鏌熼獮鍨仼閾绘牠鏌涘鍐ㄦ殶缂佸绻戠换婵嬪閿濆棛銆愰梺娲诲幖椤︾敻鐛箛鎾舵殝闂侇叏闄勯崓闈涱渻閵堝棙灏甸柛瀣洴楠炴鎮介崨濞炬嫼闂佸憡绻傜�氼噣鎮橀柆宥嗙厱闁绘娅曠亸鍨繆閸欏濮嶆鐐村浮楠炲﹤鐣烽崶褎鐎婚柣鎾卞�栭妵鍕疀閹炬剚浠鹃梺鍝勬－娴滄粓鍩為幋锔藉亹闁肩⒈鍓氶ˉ澶愭⒑閸濆嫷妲搁悘蹇撴嚇楠炲繘鎮滈挊澶婂祮闂侀潧绻掓慨鐑芥偪閸ヮ剚顥婃い鎰╁灪婢跺嫮绱掔�ｎ偄鐏撮柟顕嗙節瀵挳濮�閿涘嫬骞嶉梻浣虹帛閸ㄥ爼鏁冮埡浣叉灁闁哄洢鍨洪悡鐔兼煙閹呮憼缂侊拷閸愵喗鐓忛柛銉戝喚浼冨Δ鐘靛仜濞差厼鐣峰鍕闁荤喖顣︽潻姗�姊婚崒娆戭槮闁汇倕娲よ灋闁告洦鍨侀崶顒佸仺缂佸鍎婚幗鏇㈡⒑閹稿海绠撻柣妤�绻橀幃鍧楁晸娴犲鈷戦柟绋挎捣缁犳捇鎮楀鐓庢珝鐎规洘鐟╁畷鐑筋敇閻樼绱冲┑鐐舵彧缂嶏拷婵炲拑绲块弫顔尖槈濮樿京锛滈柣鐘叉穿鐏忔瑦鏅跺☉銏＄厵濞撴艾鐏濇慨鍌炴煛娴ｈ灏扮紒鍌涘笧閿熸枻缍嗛崑鍡涘储閹剧粯鈷戦柤鎭掑剭椤忓煻鍥ㄥ閺夋垵鎯為梺璺ㄥ枍缁瑥顫忛搹瑙勫磯闁靛鍎查悘鍡椻攽閳藉棗浜滈悗姘煎墴閳ワ箓宕堕浣规闂佺粯顭堢亸顏堝箺閺囥垺鈷戠紓浣股戦埛鎺楁煃瀹勬壆澧︾�殿噮鍋勯濂稿幢濡搫浼庢繝娈垮枟椤ㄥ懎螞濡や焦娅犳い鏍ㄧ〒缁犻箖鏌涢锝囩闁绘挸銈搁弻鐔碱敊缁涘鐣奸梺鐟板级閹稿啿鐣烽悢纰辨晢闁稿被鍊栬倴闂傚倸鍊风粈渚�骞楀鍕弿闁汇垹鎲￠崑瀣煟濡鍤欐潻婵囩箾鏉堝墽鎮肩痪顓℃硾鍗遍柛顐ゅ枍缁诲棙銇勯弽銊︾殤缂佺姵澹嗙槐鎾愁吋閸滃啳鍚Δ鐘靛仜閿曘倝鈥﹂妸鈺侀唶婵犻潧妫涢敓绛嬪幖椤啴濡堕崱妤�顫囬梺绋款焾閸婃洖宓勫銈嗗笒鐎氼參鍩涢幒妤佺厱閻忕偛澧介。鏌ユ煙閸忕厧濮堥柕鍥у閺佸倿鎮欓浣圭槗闁诲孩顔栭崰鏍�﹂悜钘夋瀬闁归偊鍘肩欢鐐测攽閻樻彃顏撮柛鐔奉儔濮婄粯鎷呴悷鏉垮Б濠电偛鐡ㄥ畝绋跨暦閹达箑宸濇い鎾跺У濞堥箖姊虹憴鍕姸濠殿喓鍊濋幃鈥斥槈濮樼偓瀚规鐐茬仢閸旀氨绱掔紒妯虹鐎殿啫鍥ㄦ櫢闁芥ê顦弨鑺ャ亜閺冨倶锟藉寮ㄧ紒妯圭箚闁绘劖澹嗛惌娆撴煟濞戝崬娅嶇�殿喕绮欓、姗�鎮㈤崙銈嗗闁绘垼濮ら悡娆戠磽娴ｅ顏呯┍椤栫偞鐓熼幖杈剧磿閹界姷绱掔紒妯肩畵闁崇粯鎹囧畷褰掝敊閻ｅ奔鎲鹃梻浣哄帶閻忔洟宕堕妸褍骞堥梻浣告惈閸婄顭囬敓鐙�鏁佹俊銈呮噹绾拷闂備緡鍓欑粔鐢告偂濞嗘挻鐓欐繛鍫濈仢閺嬫稒銇勯敐鍛仮闁哄矉绻濆畷銊╊敊閽樺鎷烽幇鐗堢厸閻忕偠顕ф慨鍌炴煙椤斿搫锟芥繂鐣烽幒鎴旀婵妫旂槐锟�?
						MessageMgr.sendMsgNotify(mem, 170019, Arrays.asList(prop.getRolename()));
					}
					WinnerManager.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧湱锟界懓瀚崳纾嬨亹閹烘垹鍊為悷婊冪箻瀵娊鏁冮崒娑氬幗闂侀潧绻堥崺鍕倿閸撗呯＜闁归偊鍙庡▓婊堟煛瀹�锟介崰鏍嵁瀹ュ鏁婄痪鎷岄哺濮ｅ姊绘担渚劸妞ゆ垶鍨归幑銏犫攽鐎ｎ亣鎽曢梺闈浥堥弲娑氱尵瀹ュ鐓曢悘鐐插⒔閻擃垰顭跨憴鍕婵﹥妞藉畷顐﹀礋椤掑锛佺紓鍌欑贰閸犳骞戦崶褜鍤曞┑鐘崇閺呮彃顭跨捄鐚存敾妞ゃ儲绻堝娲捶椤撗呭姼闁诲孩绋堥弲鐘茬暦娴兼潙绠涢柣妤�鐗冮幏铏圭磽閸屾瑧鍔嶆い顓炴川缁顫濋鐘殿啎婵犮垼娉涢鍥洪幘顔界厱闁冲搫鍟禒杈殽閻愬樊鍎旈柡浣稿暣閺佹捇鎮剧仦绛嬫闂佺绻楅崑鎰姬閿熻姤绻濋悽闈浶㈤柛濠咁潐閸掑﹥绺介崨濠勫幈闁瑰吋鎯岄崹杈╋拷姘炬嫹 "+roleid+"\t闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬锟界痪褔鏌ｉ妶鍛仼闁宠鍨堕獮濠囨煕婵炑冩噹缁躲倕霉閻樺樊鍎忛柣銈庡枟閵囧嫰骞囬埡渚婃嫹瑜旈獮蹇撶暋闁附鍍靛銈嗗笒椤︾増鏅ラ梻鍌欑窔濞佳兠洪妶鍥锋嫹濮橆偄宓嗛柣娑卞櫍楠炴帒螖閿熺晫绮婚敐鍡欑瘈闁割煈鍋勬慨鍐磼鏉堛劎绠炴慨濠勭帛閹峰懘鎳為妷锝忔嫹閸愵亞纾奸柨鐔诲Г閹峰懘鎳栧┑鍥┾槈闁宠鍨归敓鏂ょ秵娴滐綁骞楅弴銏♀拺闁圭娴风粻鎾淬亜閿旇鐏ｇ紒顔款嚙閳藉鈻庡鍕泿闂備胶鎳撻幖顐ょ矓閸洖绀夌�广儱顦伴悡鏇㈠箹濞ｎ剙鐏悘蹇曟暩缁辨帗娼忛妸锕�闉嶇紓浣诡殘閸犳劗鎹㈠┑瀣妞ゎ厽鍨崇槐锕傛⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樿尙顦梺鎸庢礀閸婂摜绮ｅΔ浣风箚闁靛牆鎳忛崳娲煕鐎ｎ亜锟藉潡寮婚敐澶婄睄闁割偆鍠愰悵宕囩磽娴ｇ瓔鍤欐俊顐ｇ懇婵＄敻宕熼姘敤闂侀潧臎閸滀礁鎮戦梻鍌欑劍閹爼宕愰弽顓熷仭鐟滃繐危閹版澘绠虫俊銈忔嫹缂佺姷鏁婚弻鐔兼倻濡偐鐣奸梺鍛婅壘椤戝顫忓ú顏勪紶闁告洦鍘鹃崝鍦磽娴ｈ櫣甯涚紒璇插�块幃楣冩倻閽樺）鈺呮煃閸濆嫸鏀婚柡鍛灲濮婅櫣绮欓幐搴㈡嫳缂備緡鍠栭柊锝呯暦閵忋値鏁嶉柣鎰ˉ閹风粯绻涙潏鍓ф偧闁烩剝妫冨畷鐢稿礃椤旂晫鍘遍梺缁樏壕顓熸櫠鏉堚晝纾奸弶鍫氭櫅娴狅妇绱掔紒妯肩疄鐎规洘甯掗…銊╁礋椤掑鏅梻鍌氬�风粈浣圭珶婵犲洤纾婚柛娑卞姸濞差亜鍐�闁靛鍎辨慨鍛存⒒閸屾艾锟界兘鎮為敂鎾呮嫹缁楁稑鍠氬鏍р攽閻樺磭顣查柟顖滃仱楠炴牜鍒掗悷鎵紜闂佹寧绻傞ˇ顖炴煁閸ヮ剚鐓涢柛銉㈡櫅閺嗛亶鏌熸搴ｅ笡缂佺粯绋掑蹇涘礈瑜嶉閬嶆煟閻欏懏瀚归梺鎸庢礀閸婂綊宕愰崹顔ユ棃鏁愰崨顓熸闂佺粯鎸鹃崰鏍蓟閿濆鍗虫慨姗嗗弾濡倿姊绘笟鍥у季闁搞劍濞婇弫鎾诲磹閻曚焦缍堝┑鐐插级缁挸鐣锋导鏉戝唨妞ゆ挻绮ｉ幏閿嬫媴閼叉繄鍠庨埢搴ㄦ倷椤戭偒浜炵槐鎾诲磼濞嗘劦妯傜紓浣筋啇缁绘繂鐣烽幋鐐电瘈闁稿被鍊栫紞搴♀攽閻愬弶鈻曞ù婊勭箞瀹曠敻骞掑Δ浣哄帾闂佸壊鍋呯换鍐疮濡ゅ懏鐓忛煫鍥ュ劤绾捐法绱掗悩鑽ょ暫闁诡喖缍婂畷鍫曞炊瑜庨崳浠嬫煛閸℃劕鐏叉慨濠冩そ濡啫鈽夊▎蹇ｆП闂備礁鎲″褰掓偡閵夆晜鍋╃�瑰嫰鍋婂銊╂煥閻斿墎鐭欓柕鍡曠椤繄鎹勯崫鍕拷鍨攽閻愬弶顥為柛銊у枎铻為柕濞炬櫆閳锋帡鏌涚仦鍓ф噮缂佹劖姊圭换娑欐媴閸愬弶澶勯柛瀣儔閺屾盯鍩勯崘顓熷发闂佹悶鍎崝宀勵敋闁秵鍊垫繛鎴烆仾椤忓懐顩叉俊銈呮噺閳锋垿姊婚崼鐔剁繁婵＄嫏鍐ｆ斀闁炽儴娅曞婵堢磼椤斿墽甯涢柕鍫秮瀹曟﹢鍩￠崘銊ョ闂備浇顕уù鐑藉极閹间讲锟斤箓宕奸妷锔芥闂佸吋浜介崕铏櫠閸偒娈介柣鎰▕閸庡繘鏌嶇憴鍕伌妤犵偞锕㈤幆鍌炲川婵犲偆浼撻梻浣稿閻撳牓宕弮鍥ヤ汗闁圭儤鎸告禍妤呮煙閼圭増褰х紒鏌ョ畺楠炲绺介崨濞炬嫼缂傚倷鐒﹁摫閻忓繒澧楃换娑㈡嚑椤掞拷閺嬫稓锟芥鍠栭…宄邦嚕閹绢喗鍋勯柧蹇撴贡濡插洭姊绘繝搴′簻婵炶绠戠叅婵犲﹤鐗嗗Ч鏌ユ煟濡偐甯涢柍閿嬪灴閺屾稑鈽夊鍫濆缂備胶濮电喊宥囨崲濞戙垹妞介柛鎰典簽琚﹂梻浣芥〃閻掞箓骞戦崶褏鏆﹂柟鎵閸嬪棗霉閿濆懏璐＄紒澶愭敱缁绘繈鎮介棃娑楁勃缂備椒鐒﹂幐鍐差嚕閺屻儲鍋愰柤濮愬�曠粊锕傛椤愩垺澶勭紒瀣浮瀵煡骞栨担鍦弳闂佺粯娲栭崐鍦拷姘炬嫹?");
				}else{
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣洴钘濋柣銏㈩焾閺嬩線鏌熼崜褏甯涢柛瀣姍閺屾盯骞囬姘卞闂佹眹鍨归…宄邦潖缂佹ɑ濯撮柣鐔煎亰閸ゅ鈹戦悙鎻掔骇闁绘濮撮悾鐑藉箛椤栨ü姹楅梺鍦劋閸ㄥ綊鏁嶅☉銏＄厽閹兼惌鍨崇粔鐢告煕鐎ｎ亜锟藉骞戦姀銈呭耿婵炴垶鐟ч崢顏堟⒑閸撴彃浜濈紒璇插暣瀹曞疇銇愰幒鎾跺幐闂佺硶鍓濋悷銉╁几濞戙垺鐓涚�癸拷鐎ｎ剛袦濡炪們鍨洪敃銏ゅ箖閵忋垻鐭欓悹渚厛閺嗏�斥攽閿涘嫬浜奸柛濞垮�栫粋宥咁煥閸繄鏌堟繛瀵稿帶閻°劑寮查幖浣圭厸闁稿本锚閿熻姤顨堢划鏃堟濞淬垻鎳撻…銊╁礋椤撶姷鏉芥俊銈囧Х閸嬬偤宕归崸妤�鏋侀柟鐗堟緲閻愬﹪鏌嶉崫鍕喊缂佹唻绻濆缁樻媴缁涘娈愰梺鎼炲妼鐎涒晠骞忛崨瀛樷拹闁归偊鍓欓悘濠囨⒒閸屾艾锟介绮堟笟锟介獮鏍敃閿旇棄鍓规繝銏ｆ硾閻偐绮堟繝鍋綊鏁愰崨顓ф闂佹悶鍊栧ú姗�濡甸崟顖氱闁瑰瓨绻嶆禒濂告⒑閹肩偛濡奸柛濠傜秺婵＄敻宕熼姘祮闂佺粯鍔栧娆忊枍閵堝應鏀介柣鎰皺婢с垽鏌涙惔娑橈拷鏍矚鏉堛劎绡�闁搞儯鍔岄敓浠嬫敱閵囧嫯绠涢幘鎰佷紥闂佸綊顥撻崗妯侯嚕閹绢喗鍋愰柛鎰絻缁ㄣ儵姊绘担鍝ョШ闁稿锕畷婊冣槈閵忕姵杈堥梺鎸庢煥椤洘绂嶅鍫熺厵闁绘垶锚閻忋儲銇勮箛锝勭敖缂佽鲸甯￠幃鈺呭礃閸欏鐧佹繝娈垮枛閿曪妇鍒掗鐐茬闁告稑鐡ㄩ幆鐐烘煟閻旂顥嬫い鎰偢濮婂搫煤鐠佸磭鐩庡銈忓閺佸鐛崘顓滀汗闁圭儤鎸诲▍銏＄箾鐎电孝妞ゆ垵妫濆鎻掆攽鐎ｎ偆鍘遍柣蹇曞仦瀹曟ɑ绔熷锟介弻鐔碱敍濠婂啩绮堕梺瀹狀潐閸ㄥ潡骞冨▎鎾崇煑濠㈣埖蓱椤ワ絿绱撻崒娆愮グ妞ゆ泦鍏炬稑鈹戦崱鈺佹闂侀潧艌閺呮粓宕靛澶嬬厪濠㈣埖绋撶�佃偐绱掗妸銉吋婵﹥妞藉畷顐﹀礋椤掞拷缁愭盯姊虹粙娆惧剳闁稿鍊涘Λ銏ゆ⒑缂佹ê濮夐柛搴涘�濆畷鎰板垂椤愶絽寮垮┑鈽嗗灣閸樠勭妤ｅ啯鍊垫慨妯煎亾鐎氾拷
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬鍡欑厯闂佸搫琚崝鎴﹀箖閵忋倕浼犻柛鏇熷灟閸ㄥ鎯�椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔閳藉鏌嶉挊澶樻█鐎规洩绻濋幃娆撳箵閹烘繂濡ф繝鐢靛Х閺佹悂宕戝☉銏″剭闁绘垼妫勯悿楣冩煟濡鍤欓柦鍐枛閺岋繝宕堕埡浣圭亖缂備胶濞�缁犳牠寮婚敐澶婄疀闂傚牊绋戦～顏堟⒑缂佹绠栨繛鑼枎椤繘鎼归崷顓犵厯濠电偛妫欓崕鎶藉礈娴煎瓨鈷戠紒瀣皡瀹搞儲绻涚亸鏍垫嫹閹颁礁娈ㄦ繝鐢靛У閼圭偓鍎梻浣稿暱閹碱偊宕愰崨濠勵洸婵犲﹤鐗婇埛鎴︽煕濞戞﹫鍔熺紒鐘虫崌閹顫濋浣告畻闂佽桨鐒﹂崝鏍ь嚗閸曨叏鎷烽敐搴″閻㈩垱顨婂濠氬磼濞嗘埈妲梺璇茬箲缁诲牓銆侀弽顓炲耿婵°倕鍟▓楣冩倵閻у憡瀚归梺鍛婃处閸撴盯宕㈤幖浣瑰�甸柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁告挻绋栭埅鐢告⒑鐠囨彃顒㈡い鏃�鐗犲畷鎶筋敋閿熻棄鐣峰鍫熷亜濡炲瀛╁▓楣冩偡濠婂懎顣奸悽顖楁櫊瀵偅绻濋崶銊у弮濠碘槅鍨拃锕�顬婅閺岀喐顦版惔鈥冲箣濡炪們鍨虹粙鎴︼綖濠靛鏅查柛鈩兩戝鎴濃攽閿涘嫬浜奸柛濠冪墪鐓ら柡宥庣仜濞戞ǚ妲堟慨妯夸含閻撳姊洪崜鎻掍簼婵炲弶锕㈤幃鈥斥枎閹惧鍘遍梺鐟扮摠閻熴儵鏁撻懞銉у⒈闁跨喕濮ら悢顒勫箯閿燂拷
					xbean.Properties prop=xtable.Properties.select(roleid); 
//					long teamleadid=team.getTeamLeaderId();
//					MessageMgr.sendMsgNotify(teamleadid, 160449, Arrays.asList(prop.getRolename()));
					//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬鍡欑厯闂佸搫琚崝鎴﹀箖閵忋倕浼犻柛鏇熷灟閸ㄥ鎯�椤忓牆绠氱憸婊堟偂婵傚憡鐓涢悘鐐插⒔閳藉鏌嶉挊澶樻█鐎规洩绻濋幃娆撳箵閹烘繂濡ф繝鐢靛Х閺佹悂宕戝☉銏″剭闁绘垼妫勯悿楣冩煟濡鍤欓柦鍐枛閺岋繝宕堕埡浣圭亖缂備胶濞�缁犳牠寮婚敐澶婄疀闂傚牊绋戦～顏堟⒑缂佹绠栨繛鑼枎椤繘鎼归崷顓犵厯濠电偛妫欓崕鎶藉礈娴煎瓨鈷戠紒瀣皡瀹搞儲绻涚亸鏍垫嫹閹颁礁娈ㄦ繝鐢靛У閼圭偓鍎梻浣稿暱閹碱偊宕愰崨濠勵洸婵犲﹤鐗婇埛鎴︽煕濞戞﹫鍔熺紒鐘虫崌閹顫濋浣告畻闂佽桨鐒﹂崝鏍ь嚗閸曨叏鎷烽敐搴″閻㈩垱顨婂濠氬磼濞嗘埈妲梺璇茬箲缁诲牓銆侀弽顓炲耿婵°倕鍟▓楣冩倵閻у憡瀚归梺鍛婃处閸撴盯宕㈤幖浣瑰�甸柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁告挻绋栭埅鐢告⒑鐠囨彃顒㈡い鏃�鐗犲畷鎶筋敋閿熻棄鐣烽幎鑺ユ櫜闁告侗鍨卞▓鐐節闂堟稑锟芥悂骞夐敓鐘茬；闁告洦鍨遍悡鏇熺箾閹寸儑鍏柡锟界紒妯镐簻闁哄倽娉曠粻缁樻叏婵犲偆鐓肩�规洘甯掗埢搴ㄥ箣椤撶啘婊堟⒒娴ｄ警鏀板┑顔哄�楅崚鎺戭吋婢跺﹦顦繝鐢靛Т濞层倗绮荤紒妯镐簻闁哄啫娲ゆ禍瑙勩亜閺傛寧顥㈡慨濠呮閹瑰嫰濡搁妷锔惧綒闂備胶鎳撻崵鏍箯閿燂拷
					List<Long> teamMembers = team.getNormalMemberIds();
					for (Long mem : teamMembers) {
						MessageMgr.sendMsgNotify(mem, 160449, Arrays.asList(prop.getRolename()));
					}
					
				}
				return true;
			}
			
		}.submit();
		
		
	}

	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 795484;

	public int getType() {
		return 795484;
	}

	public int acceptflag; // 0表示取消    1表示接受

	public CWinnerChangeTask() {
	}

	public CWinnerChangeTask(int _acceptflag_) {
		this.acceptflag = _acceptflag_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(acceptflag);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		acceptflag = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CWinnerChangeTask) {
			CWinnerChangeTask _o_ = (CWinnerChangeTask)_o1_;
			if (acceptflag != _o_.acceptflag) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += acceptflag;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(acceptflag).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CWinnerChangeTask _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = acceptflag - _o_.acceptflag;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}

