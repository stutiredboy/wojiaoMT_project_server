
package fire.pb.npc;

import fire.pb.activity.impexam.PApplyImpExamProc;
import fire.pb.activity.winner.CReqStartWinner;
import fire.pb.activity.winner.CStartWinnerBattle;
import fire.pb.battle.pvp.IPvPServiceHandle;
import fire.pb.battle.pvp.PvPServiceHandleFactory;
import fire.pb.circletask.CircleTask;
import fire.pb.circletask.CircleTaskManager;
import fire.pb.circletask.PAcceptCircTask;
import fire.pb.circletask.PSendMail2Dst;
import fire.pb.circletask.PSubmitCircleTask;
import fire.pb.circletask.SRenXingCircleTask;
import fire.pb.circletask.catchit.EnterCatchItBattle;
import fire.pb.effect.Module;
import fire.pb.game.MoneyType;
import fire.pb.instancezone.PInstNpcService;
import fire.pb.instancezone.bingfeng.BingFengLandMgr;
import fire.pb.instancezone.bingfeng.BingFengWangZuoConfig;
import fire.pb.instancezone.bingfeng.PBattletoBingFeng;
import fire.pb.instancezone.conf.InstanceZoneConfig;
import fire.pb.map.SceneNpcManager;
import fire.pb.master.MasterManager;
import fire.pb.mission.PAcceptMajorMission;
import fire.pb.mission.instance.InstanceManager;
import fire.pb.mission.instance.PBackInstanceScenceProc;
import fire.pb.mission.instance.PGiveInstanceProc;
import fire.pb.mission.instance.line.LineInstManager;
import fire.pb.ranklist.SRequestRankList;
import fire.pb.ranklist.proc.RankListManager;
import fire.pb.school.shouxi.CChallengeShouXiDiZi;
import fire.pb.school.shouxi.CCheckCanElect;
import fire.pb.school.shouxi.CReqCandidatesList;
import fire.pb.talk.MessageMgr;
import fire.pb.weibo.PTakeWeiBoAwardProc;


// {{{ RPCGEN_IMPORT_BEGIN
// {{{ DO NOT EDIT THIS
import com.locojoy.base.Marshal.OctetsStream;
import com.locojoy.base.Marshal.MarshalException;

abstract class __CNpcService__ extends mkio.Protocol { }

// DO NOT EDIT THIS }}}
// RPCGEN_IMPORT_END }}}

public class CNpcService extends __CNpcService__ {

	boolean dealNpcServiceMapping(final long roleid, final int serviceid){
		try {		
			SNpcServiceMapping conf = NpcServiceManager.getInstance().getServiceMappingByServiceID(serviceid);
			if(null == conf)
				return false;
			int curType = conf.getType();
			//NPC闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柍鈺佸暞閻濇洟姊绘担钘壭撻柨姘亜閿旇鏋ょ紒杈ㄦ瀵挳濮�閳撅拷閹风粯绻涙潏鍓хК婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮婚悙鐑樼厵妞ゆ梻鍋撻悞鎸庛亜閿曪拷缂嶅﹪寮婚悢纰辨晬婵浜崝顖毼旈悩闈涗沪妞ゎ厼娲ㄥΣ鎰板箳閹冲磭鍠栭幃顔撅拷娑櫭鍫曟⒑閸撹尙鍘涢柛瀣缁粯銈ｉ崘鈺冨幍闁诲海鏁搁…鍫ュ礈閸楃伝褰掓偂鎼淬埄妫﹂梺鍝勭灱閸犳劕顭囪箛娑樼鐟滃繘寮抽悩缁樷拺婵炶尪顕ч獮妤併亜閵娿儻韬柟顕嗙節椤㈡洟鏁冮敓浠嬫倷婵犲洦鐓忓┑鐐戝秵瀚瑰┑鈥插嫎閸旀垵顫忛搹鍦＜婵☆垵顕ч弳妤呮⒑閸濄儱校闁绘濮撮锝嗙節濮橆厽娅㈤梺缁橆焾鐏忔瑩藝閵娾晜鈷戦梻鍫熶緱閻掗箖鏌涙惔鈽嗙吋妤犵偛绻橀幃婊堟寠婢跺鐐婇梻渚�娼ч¨锟介梻鍕閳绘挻瀵肩�涙ǚ鎷洪梺鍛婃尰瑜板啯绂嶅┑鍥╃闁告瑥顧�閼板潡鏌熼鍡欑瘈鐎殿喗鎸抽幃銏ゆ惞鐠団�虫櫗闂傚倷鑳剁涵鍫曞礈濠靛锟藉啯绻濋崶銊ヤ粧濠电姴锕ら悧濠囁夋繝鍐︿簻闁圭儤鍩堝Σ绋款熆瑜庨幐鎶藉蓟閿涘嫪娌梻鍫氭櫆鐎氬湱锟借娲栧ú锕�鈻撻弴銏＄厽閹兼惌鍨崇粔鐢告煕閹惧鎳囩�规洖鎼悾婵嬪礋椤掑倸寮板┑鐐存綑閸氬鎮疯缁棃顢氶敓浠嬪蓟閿涘嫪娌柛鎾楀嫬鍨遍梻浣哄仺閸庤崵绮婚幘鑽ゅ祦閻庯綆浜栭弨浠嬫煕閵夈垺娅冨瑙勬礀閳规垿鎮╅幇浣告櫛闂侀潻缍嗛崹鍐差嚗婵犲啰绡�婵﹩鍓欓悗顓㈡偡濠婂懎顣奸悽顖涘浮閹�愁潨閿熶粙寮婚悢鍛婄秶濡わ絽鍟宥夋⒑缁嬪尅鍔熼柛蹇旓耿瀵濡堕崶褎鐎抽梺鍛婎殘閸嬫盯锝為埡渚囨富闁靛牆鍟敓绐栧洤绠柣鎴ｅГ閳锋帡鏌涚仦鍓ф噭缂佷胶澧楅妵鍕即閻斿搫鈷岄悗瑙勬磻閸楀啿顕ｆ禒瀣垫晣闁绘劗顣槐顕�姊绘担渚綊闁告洖鐏氶悾濂告倵鐟欏嫭灏紒鑸靛哺瀵鈽夐姀鐘电杸闂佺绻愰幗婊堝礄瑜版帗鍊甸悷娆忓缁�锟藉銈忓閺佸鐛崘顏呭磯閻炴稈鍓濋～宥夋⒑閸︻厼鍔嬮柛銊ф暬閸╂稒寰勬繝搴㈠瘜闂侀潧鐗嗘鍛婄濠婂懐纾煎璺烘湰閸わ拷濡炪値鍋勭换鎰弲濡炪倕绻愮�氼亞妲愰崼鏇熲拺闁告稑锕ユ径鍕煕閻樺疇澹樻い顒�锕俊鎼佸煛閸屾瀚奸梻浣告啞缁嬫垿鏁冮妶鍡樺弿濠㈣埖鍔栭悡鏇㈡倵閿濆骸浜濋悘蹇曟暩缁辨帗娼忛埡浣锋閻庤娲栧畷顒勫煡婢跺ň鏋庨悘鐐村劤椤忔椽姊婚崒娆掑厡妞ゎ厼鐗撳鐢割敆閸曨剙浠悷婊冪箳閸掓帡鏁愭径濠勭潉闂佽法鍠撻弲顐﹀箲閵忕姭妲堥柕蹇婏拷铏杽闂備礁鎼ˇ顖炴倶濠靛绠氶柣鎰劋閸婄敻鏌涢…鎴濅簼缂佽埖鐓￠弻銊╁即閵娿倗鐩庨梺浼欑秮椤ユ挾鍒掑▎鎴炲珰闁绘劦鍓氶ˉ鍫ユ煛娴ｈ宕岄柟顔藉劤閻ｆ繈鏁撴禒瀣剹闁糕剝绋掗悡鏇㈡倶閻愭彃鈷旈柍绗哄劤缁辨帞鎷犻崣澶樻！闂侀潧娲ょ�氭澘顕ｆ禒瀣╃憸蹇涙偩閸濆嫷娓婚柕鍫濇噽缁犲啿鈹戦悜鍥ㄥ闂備礁鎼惌澶屾崲濠靛棛鏆﹂梺顒�绋侀弫鍥煟濡櫣浠涙繛鍫濄偢濮婄粯鎷呴崨濠冨創闂佸搫鐗滈崜娆戝弲濠碘槅鍨拃锕傚吹濡ゅ懏鐓曢柡鍥ュ妼閻忕姵顨ラ悙顏勭仾濞ｅ洤锕、娑樷攽閸℃鍎柣鐔哥矋濠㈡﹢骞婇幇顔筋潟闁规崘顕х壕鍏肩箾閸℃ê鐏╅柣鈩冿耿濮婇缚銇愰幒婵囶棖闂佺绻戦敃銏ょ嵁閸愩剮鏃堝川椤旇姤鐝抽梺纭呭亹鐞涖儵鏁撻崐鐔风毢闁圭顦埞鎴︽倷閼碱剚鎲肩紓渚囧枛缁夊爼宕氶幒妤�绠荤紓浣姑禍妤�顪冮妶鍡楀Ё缂佺姵鍨块幃娆愮節閸ャ劎鍘繝鐢靛Т缁绘帡鎮鹃柆宥嗙厸闁糕剝锕╁▓鏇犵磼缂佹绠為柛鈺傜洴閺佹挻绂掔�ｎ亞顦板銈嗗笒閸嬪棗危閹殿喚纾介柛灞剧懆閸忓瞼绱掗鍛仸闁诡垰瀚伴、娑橆潩鏉堛劍顔曞┑鐘绘涧閸婃悂骞夐敓鐘茬；闁告洦鍨遍悡锝夌叓閸ャ劍灏伴悹鎰剁節閺岋繝宕遍埡浣哥缂備浇椴搁幑鍥х暦閹烘垟鏋庨柟閭﹀枔閸嬫ê鈹戦敍鍕粶闁宦板姂楠炲啴宕掗悙闈涚ウ闂佽澹嗘晶妤呭吹閹烘鐓忛柛顐ｇ箖瀹告繈鏌ｉ敐鍛煟婵﹨娅ｇ槐鎺懳熼悜鈺傚闂備礁鎲￠…鍡涘炊閵娿儻鎷峰畡鎵虫斀闁绘ɑ褰冮顏堟煕閻樺啿濮夐柨鐔烘櫕濞呫垽骞忛悜鑺ョ厱闁哄洢鍔屾禍鐐淬亜閿旇娅婃慨濠冩そ閹崇偤濡烽崘鍙ラ偗閽樻繈鏌﹀Ο渚Ф闁跨喕濮ょ敮妤冩崲濠靛棭娼╂い鎾跺Т鐢箖姊绘担绋款棌闁稿鎳愰幑銏ゅ礃椤斻垹顦甸幃娆撴倻濡厧骞橀梻浣藉亹閳峰牓宕滃▎鎾崇厺闁割偁鍎查悡娑㈡倶閻愭彃鈷旀繛鍙夋綑閳规垿鏁嶉崟顐㈠箣闂佽桨鐒﹂崝娆忕暦閵娾晩鏁囩憸蹇涙晸閼恒儱鈻曟慨濠勭帛閹峰懘鎳為妷褋锟藉﹪姊洪崫銉バｉ柟鐟版搐椤曪綁寮婚妷顔芥櫇闂佹寧娲╅幏鐑芥煛鐎ｂ晝顦﹂柍瑙勫灴閹晝锟藉湱濮撮ˉ婵嬫⒑閽樺鏆熼柛鐘崇墵瀵濡搁妷銏℃杸闂佺硶妾ч弲婊呯懅缂傚倸鍊烽懗鑸靛垔鐎靛摜绀婂〒姘炬嫹鐎殿喖顭锋俊鎼佸Ψ閵忊剝鏉搁梻浣虹《閸撴繈鏁嬮梺鍝勬噸缁瑥顫忓ú顏呭仭闁哄绨遍幐鍐磽娓氬洤娅橀柛銊ョ埣楠炲啴鏁撻悩鎻掑祮闂侀潧绻掓慨鐑筋敊閹扮増鐓涘璺猴功婢ф洖顭胯閺咁偅绔熼弴銏犻敜婵°倧鎷烽柡瀣╃窔閺屾盯顢曢悩鎻掑闂佹娊鏀遍崹鍧楀蓟濞戞ǚ鏀介柛鈩冾殢娴犳儳鈹戦悪鍛婵炲鍘ч悺銊╂偂閻斿吋鐓冮柛婵嗗瀹搞儵鏌ｈ箛鏇炐ｉ柕鍥у瀵挳顢旈崱娅烘粌螖閻橀潧浠﹂柨鏇樺灲閵嗕礁鈻庨幘鍐茬哎婵犮垼娉涘Λ娆忊枍婵犲洦鐓涢悘鐐靛亾缁�鍐拷鍨緲鐎氭澘鐣烽悡搴樻斀闁圭偓娼欓璺衡攽鎺抽崐鏇㈠箠韫囨稑纾块幖娣妼缁犺绻涢敐搴″濠碘�茬矙閺岋綁骞樼捄鐑樼亪濡ょ姷鍋為悧妤�顭囪箛娑樼鐟滃繗鎽梻鍌欑閹碱偄螞瀹�鍕柧婵炴垟鎳囬敓鏂ょ畵閹虫顢涢敐鍠邦亝淇婇悙顏勶拷鎴﹀礉瀹�鍕櫇闁靛牆顦介弫瀣煥濠靛棙顥犵紒鈽呮嫹婵犳鍠楅敃鈺呭磿閻㈢鐓涢柛娑卞枤閸樻捇姊洪崨濠勭畵閻庢凹鍓熼弫鎾绘寠婢舵鍚嬮梺璇″櫍缁犳牠鐛惔銊﹀殟闁靛鍨虹�氫粙姊绘担渚劸闁哄牜鍓熼幃鐤樄鐎规洘绻傞鍏煎緞鐎ｎ亷鎷烽悽鐢电＜婵°倓鑳堕埥澶愭煙閸愯尙绠伴柣锝囧厴瀵濡烽敂鎯у箞闂佽绻掗崑鐔兼惞鎼淬劌鍚归柕鍫濇缁犻箖鏌熺�电锟芥垵顫濈捄鍝勫殤闁瑰吋鐣崝宥夋偂濞嗘挻鍊垫繛鎴炵懐閻掍粙鏌ｉ鐐电劯闁哄本鐩獮姗�宕￠悙宸�虫俊鐐�ゆ禍婊堝疮鐎涙ü绻嗛柛顐ｆ礀楠炪垺淇婇鐐电窗闁轰礁娼″缁樻媴鐟欏嫬浠╅梺鍛婃煥缁夋挳鈥旈崘鈺冾浄閻庯綆浜為悾娲⒑鐠恒劌鏋斿┑顔炬暬瀹曟垿宕熼娑氬幈闂婎偄娲﹂懝鐐瑜版帗鐓曟慨妤�妫旈柇顖涙叏婵犲啯銇濈�规洘绮撻獮鎾诲箳瀹ュ洤鍤紓鍌氬�峰ù鍥敋瑜斿畷顖炲级閹寸姵娈鹃悗瑙勬礀濞诧箓宕伴崱娑欑厱闁哄洦顨嗗▍鍐磼閵娿儺鐓兼俊顐㈡嚇椤㈡洟濮�閿涘嫨鍋掔紓鍌欐祰鐏忣亜螞閸曨垼鏁嬮柨婵嗩樈閺佸鏌ㄩ悢鍓佺煓鐎殿喖顭烽崹鎯х暦閸ャ劍鐣烽梻浣芥硶閸犲秶鍒掑▎蹇曟殾濞村吋娼欓崘锟藉銈嗘尰缁綁骞忛柨瀣闁告挸寮堕崓鐢告煟閻樺弶鎯堥柟纰卞亰閹虫捇宕归瑙勬杸闂佸疇妫勫Λ妤呮倶閻斿吋鍋ｉ柨鐔剁矙閺佸倿鎸婃径妯烘闂備浇娉曢崳锕傚箯閿燂拷?
			switch (curType) {
			case NpcServiceMappingTypes.NONE: {
				break;
			}
			case NpcServiceMappingTypes.ACCEPT_CIRCLE_TASK: {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤濠�閬嶆晸閻ｅ本鍤�閻庢凹鍙冨畷宕囧鐎ｃ劋姹楅梺鍦劋閸ㄥ綊宕愰悙宸富闁靛牆妫楃粭鎺楁煥閺囶亜顩紒顔界懆缁犳盯寮崒婊呮闂備線娼ф蹇曞緤閸撗勫厹闁绘劦鍏欐禍婊堟煙鐎涙绠栭柛鐘筹耿閺屾洟宕卞Δ浣告畻濡ょ姷鍋為幑鍥嵁閹存惊鏃堟晸閻ｅ瞼绀婂┑鐘叉搐缁犳牠鏌嶆潪鎵窗闁哥喎鎳忛妵鍕籍閸屾艾浠樻繝銏㈡嚀閻楀繒妲愰幘瀛樺闁告繂瀚竟鏇㈡⒑缁嬪潡顎楅柛鐔锋健閳ワ箓宕堕锟介悘鎶芥煙妫颁胶顦︽繛鍫涘姂濮婃椽宕滈幓鎺嶇凹濠电偛寮堕悧鐘诲蓟鐎ｎ喖鐐婇柕濠忕导缁ㄥ姊虹憴鍕凡闁诲繑姘ㄥ▎銏狀潩鏉堚晝锛滈梺闈涱焾閸庢娊骞楅悩鐢电＜缂備焦顭囬妴鎺楁煥閻旇袚缂佸甯￠垾锕傚炊椤掍礁鍓规繝鐢靛Т鐎氼喚澹曢悾宀嬫嫹楠炲灝鍔氶柟閿嬪灴閻擃剟顢楅崒锔藉婵炲牆鐏濋弸锔姐亜閺囧棗娲ら悡鈥愁熆閼搁潧濮囨い顐㈡嚇閺屽秹宕崟顐嫹閻熸壋鏋嶉柛銉墯閳锋帒霉閿濆洦鍤�妞ゆ洘绮庣槐鎺旀嫚閹绘帪鎷烽崫銉ュ疾闂備線娼ц墝闁哄應鏅犲顐﹀炊瑜夐弨浠嬫煕鐏炲墽顣查柛鐔哄仱閺屽秹鏌ㄧ�ｎ亞浼岄梺鍝勭灱閸犳牠骞婇弽顓炵厸濞达綁顥撻幑鏇㈡⒒娴ｈ姤纭堕柛鐘虫礃閹便劑濡舵径瀣罕闂佺粯顭堥褑绻氶梻浣告啞閸旓箓宕伴弽顓犲祦闁靛骏绱曠粻楣冩煙鐎电鍓遍柣鎺撴倐閺屻劑寮撮悙璇ф嫹瑜版帗鍋傞柡鍥ュ灪閻撴盯鏌涢妷锝呭姎濠碘�炽偢閺岋紕锟斤絻鍔岄敓鑺ョ箞瀵鏁愭径濞⒀囩叓閸ャ劍鐓ユい蹇撶埣濮婂宕掑顒婃嫹妞嬪海鐭嗗ù锝夋交閼板潡姊洪锟界粔瀵稿婵犳碍鐓欓柟瑙勫姦閸ゆ瑧绱掗悩鍐插摵闁诡喗锕㈤幃娆戞崉鐞涒剝鐎兼繝鐢靛仦閸垶宕瑰ú顏勭９闁绘垼濮ら悡鐔兼煏韫囧鐏柡鍡忔櫊閺屻劌鈽夊▎鎴犵暫缂備胶绮粙鎺戭焽韫囨稑绀堢憸宥夊春瀹�鍕拺闁革富鍘搁幏锟犳煕鐎ｎ亝鍤囬柟顔ㄥ嫭鍎熼柕濠忚吂閹风粯绻涙潏鍓у埌闁圭⒈鍋嗛弫顕�宕滄担铏癸紳閻庡箍鍎遍幏鎴﹀礉閻旇櫣纾兼い鏃傗拡閻撹偐锟芥鍠栭敓鐣屽櫏濡绢亪姊洪崗鍏肩凡闁诲繑绻堟俊鎾箳閹搭厽鍍甸梺缁樺姦閸撴瑩顢旈懜鐢电瘈婵炲牆鐏濋弸娑㈡煥閺囨ê濡奸柍璇茬Ч閺佹劙宕堕…鎴炵稐闂備礁婀遍崕銈夊吹閿曞倹鍋勯柤濮愬�楅弶绋库攽椤旀枻渚涢柛蹇旂☉鏁堟俊銈呮噺閳锋垿鏌ｉ悢鍛婄凡婵℃彃顭烽弻娑㈡偄閸涘﹤鍞夐悗娈垮櫘閸嬪﹤鐣峰锟介、娆撴嚃閳哄搴婂┑鐘愁問閸犳鏁冮埡鍛婵娉涚壕鎸庛亜韫囨挻鍣界紒鈽呮嫹闂備焦鐪归崹钘夘焽瑜庣粋鎺戭煥閸曨亞绠氬銈嗗姧缂嶅棗鈻撳锟介弻鐔肩嵁閸喚浼堥悗瑙勬礀瀹曨剟鍩ユ径濞㈢喖鎮℃惔銏″暉闂傚倸鍊风粈渚�宕ョ�ｎ偆顩插ù鐘差儏绾炬寧銇勯弽銊с�掓い鈺佸级缁绘繃绻濋崒婊冾杸闂佺粯鎸婚惄顖炲蓟濞戙垹唯闁靛繆鍓濋悵鏃�绻涚�电顎撻梻鍕婵＄敻宕熼姣笺劎鎲稿鍡欘浄闂侇剙绉甸悡娆愩亜閺冨倻鎽傛繛鍫熸⒐閵囧嫰顢曢敐鍥╃杽闂佽鍠楅悷鈺呫�佸Δ鍛櫢濞寸姴顑愰弫鍌炴煥閻曞倹瀚�
				int npcid = NpcServiceManager.getNpcIDByKey(npckey);
				new PAcceptCircTask(roleid, npckey, npcid, conf.getParam1(), true).submit();
				return true;
			}
			case NpcServiceMappingTypes.SUBMIT_CIRCLE_TASK: {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂傚洤顦甸弻銊モ攽閸♀晜效婵炲瓨鍤庨崐婵嬪蓟閵堝绾ч柟绋块娴犳挳鎮楀▓鍨灈闁绘牜鍘ч悾鐑芥偂鎼搭喗鍍靛銈嗘尵閸犳捁銇愰崨瀛樷拻濞达綀顫夐崑鐘绘煕閺傝法肖闁瑰箍鍨藉畷姗�顢欓崲澶涚畵閺屾盯寮撮妸銉т哗闂佸憡鍔ч幏閿嬩繆閻愵亜锟芥牠宕濋敃锟介…鍧楁晸閻ｅ瞼纾兼い鏃傚帶椤ｅ磭绱掓潏銊﹀鞍缂佹鍠愮换婵嬪礃椤垳绱﹀┑鐘垫暩婵即宕规總绋挎槬闁哄稁鍘肩粈澶愭煛瀹ュ骸骞楅柛瀣�圭换娑㈠幢濡闉嶉梺缁樻尵閸犳牠寮婚悢鐚存嫹閻㈠憡娅滅紒杈珪閵囧嫯绠涢幘璺侯杸闂佺锕ゅ锟犲蓟閿濆绠涢梻鍫熺☉椤偆绱撴担鍝勨枅缂佺姵鐗犻獮鍐ㄎ熺捄銊ф澑闂佸搫鍟崐鎼侊綖瑜嶉埞鎴︽倷閸欏娅ｉ梺鎸庢处娴滎亜顕ｆ繝姘櫖闁告洦浜濋崟鍐煟閻樺弶澶勭憸鏉垮暣閿濈偤宕堕浣革拷鍨箾閸繄浠㈤柡瀣枛閺岀喖宕ㄦ繝鍌楁灆闂侀潧妫旂欢姘嚕椤曪拷瀹曠厧鈹戦崱娆戝春濠碉紕鍋戦崐鏍箰閸℃稑纾兼繝濠傚枤濡插崬鈹戦悩鍨毄濠殿喚鍏橀妴鍌烆敊閻愵剦娼熼梺鍝勬储閸ㄥ湱澹曟繝姘厵閺夊牆澧介悾杈╃棯閹呯Ш闁哄备锟芥剚鍚嬮幖杈剧导濮规淇婇妶蹇曠暢婵炲娲熼幃鍧楁晸閽樺鏀介柣鎰綑閻忥附銇勯鐐村枠闁轰礁绉归幃銏ゅ礂鐏忔牗瀚兼繝娈垮枤閹虫挸煤閵堝鍊舵い蹇撶墛閻撴瑦銇勯弮鍥т汗闁糕晪缍侀弻鈩冩媴鐟欏嫬纾冲Δ鐘靛仜椤戝鐛幒妤�绫嶉柛灞剧矊鎼村﹪姊虹拠鎻掝劉妞ゆ梹鐗犲畷鎶筋敋閿熻棄鐣烽幎鑺ユ櫜闁告侗鍨卞▓楣冩⒑缂佹ɑ灏紒銊ョ埣瀵劍绂掔�ｎ偆鍘遍梺鏂ユ櫅閸熶即宕弻銉︾厵濡炲楠搁崢瀵革拷瑙勬礀缂嶅﹪銆佸▎鎴炲枂闁告洦鍓氬鎴︽⒒娴ｅ憡璐￠柛搴涘�栫换娑欑節閸屾粍娈鹃梺鍦濠㈡﹢宕￠幎鑺ョ厪闊洦娲栧暩闂佸搫鑻悧濠勬崲濞戙垹绾ч柟瀛樼箖閸婎垰鈹戦悙鎻掓倯闁荤喆鍎查弲銉╂⒑閸濆嫯顫﹂柛搴㈢叀閹�斥槈濮楀棛鍞甸柣鐘烘鐏忋劑宕濋悢鍛婂弿婵☆垳顭堟慨鍌炴煛瀹�瀣瘈闁轰焦鎹囬幊鐐哄Ψ瑜滃ù鍕煟鎼搭垳绉甸柛瀣瀹曘垺绂掔�ｎ偀鎷洪悷婊呭鐢帗绂嶆导瀛樼厱闁圭偓娼欓崫娲煕閳瑰灝鐏茬�殿喗鎸虫慨锟介柨娑樺楠炲牓姊绘笟锟藉褔鎮ч崱妞曟椽濡舵径濠傚殤闁瑰吋鐣崝宥夋偂閸愵喗鍋℃繛鍡楃箰椤忊晠鏌ｈ箛鎾舵憼闁靛洤瀚版慨锟介柍銉ュ暱閹界敻姊烘潪鎵妽闁圭懓娲獮鍐箚瑜忛弳鍡涙煥閻旇袚缂佸顦鍏煎緞鐎ｎ剙骞愰柣搴＄畭閸庤鲸顨ラ幖浣哄祦闁硅揪闄勯悡銉╂煟閺冨偆鐒鹃柣蹇擄功缁辨帡鏁撻懞銉х懝闁跨喍绮欓弫鎰版倷濞村鏂�闁诲函缍嗘禍鐐烘偪閿熻棄鈹戦悙鑸靛涧缂佽尪濮ら弲鍫曟晲婢舵ɑ鏅滈梺鍓插亞閸熷潡骞忕紒妯肩闁规儳顕崯鏌ユ煙妞嬪骸鍘撮柡灞诲姂閹垻鎷犲▓瀣尵缁辨帞锟斤綆鍋呭畷宀勬煕閳哄啫浠辨鐐村笒铻栧ù锝呮惈楠炲牓姊绘担鍛婃儓闁哥姵鐩獮蹇涙倻閼恒儳鍘遍梺闈涱焾閸庤櫕绂掗姀掳浜滈柡鍥朵簽缁夘喗銇勯姀鈩冪闁轰礁鍟撮弫鎾绘偩瀹�锟芥稉宥夋煠婵劕锟芥澹曢挊澹濆綊鏁愰崼婵呯暗闂佺懓鐡ㄧ缓楣冨几瀹ュ鐓忛煫鍥ь儏閿熻姤鐗犻崺娑㈠箣閿旇棄浠梺璇″幗鐢帗淇婇崗鑲╃闁告侗鍠栨慨宥夋煛瀹�锟介崰鏍х暦濞嗘挸围闁糕剝顨忔导锟�
				new PSubmitCircleTask(conf.getParam1(), roleid, npckey, new java.util.ArrayList<fire.pb.npc.SubmitUnit>()).submit();
				return true;
			}
			case NpcServiceMappingTypes.QUERY_CIRCLE_TASK: {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸ャ劎鍘遍梺鏂ユ櫅閸熴劍绂掗敂鍓х＜妞ゆ梻鎳撴晶鎻捛庨崶褝韬柟顔界懇椤㈡棃宕熼懜闈涱伓闂佸搫绋侀崢鑲╃矆婢跺本鍠愰煫鍥ㄦ礀閸ㄦ繂鈹戦悩瀹犲缂佺媴缍侀弻锝呂熼悜妯锋灆濠碘槅鍋呯划鎾愁潖閾忓湱鐭撻柛鈩冾殔椤忓瓨绻涢崼鐔哥闁哄矉缍侀獮妯硷拷闈涙啞閸ｎ喚绱撴担浠嬪摵闁圭顭烽獮蹇涘川鐎涙﹩妫冨┑鐐村灦閻噣骞冮敐鍡欑瘈闁汇垽娼ф禒婊堟煙閸愯尙绠婚柡浣稿暣婵拷闁靛牆鎳撻幗鏇㈡⒑閺傘儲娅呴柛鐕佸灡閸掑﹪骞橀鐣屽幈闂佸湱鍋撳娆戝緤婵犳碍鐓曢柟鎯х秺閸濊櫣绱掔紒妯兼创闁轰焦鍔欏畷銊╊敊閼恒儱锟界兘姊绘担鐟邦嚋婵炶闄勭粋宥呪攽閸モ斁鏀虫繝鐢靛Т濞层倗绮诲鑸电厵婵炲牆鐏濋弸銈夋煛婢跺鍊愭慨濠冩そ瀹曨偊宕熼顒佸鐟滅増甯╅弫鍕箾閸℃ê濮囨い鏇憾閺岀喖鎮欓浣轰紘闂佺尨鎷峰ù鐘差儐閻撱儲绻涢幋鐏活亪顢旈埡浼辩懓顭ㄩ崘锕�浠梺鍝勬湰缁嬫帞鎹㈠┑瀣妞ゅ繐瀚ч崥鍌炴⒑缂佹ɑ灏柛濠冪箞閹繝顢曢敃锟介悙濠囨煏婵炑嶆嫹婵℃彃鐗忕槐鎺楁倷椤掞拷閸斻倖绻涚涵椋庣瘈鐎殿喖顭烽弫鎰緞婵犲孩缍傞梻浣规灱閺呮盯宕锝囶浄闁冲搫鎳忛埛鎴︽偣閹帒濡奸柡瀣灴閺屾盯濡搁敂鍓х暭濠电偛妫庨崹褰掞綖濠靛鏁嗗璺猴攻椤撴寧淇婇悙顏勶拷鏍洪埡鍛濡炲鍑介幏椋庢喆閸曨剛顦梺鍛婎焼閸パ呭幋闂佺鎻粻鎴︾嵁閵忊剝鍙忔俊顖滃帶娴滈箖鎮楀顒傜Ш闁哄本鐩垾锕傚箣濠靛洨浜愰梻浣哄皑閹峰嘲霉閻樺樊鍎忕紒鐘冲▕閺岀喖骞嗛悧鍫缂佺偓鍎崇紞濠囧蓟閿熺姴鐐婇柕澶堝劤娴犲ジ姊哄Ч鍥э拷銈夊窗閺嶎厽绠掗梻浣侯焾缁绘劙宕ョ�ｎ剛绀婇柟瀵稿仦閸欏繘鎮峰▎蹇擃伀闁告瑱鎷烽梻浣告惈婢跺洭宕滃┑鍡╁殫闁告洦鍓涚弧锟介梺鍛婃处閸撴稑鈻撻妶澶嬧拻濞达絽鎼惃鎴︽煙瀹勬澘妲婚棁澶愭煟濡儤鈻曢柛搴㈠姍閺岋綁骞樼捄鐑樼亪闂佸搫鐬奸崰鏍蓟閸ヮ剚鏅濋柨鐔诲Г閺呭爼顢涢悙瀵稿帗缂傚倷鐒﹁摫缂侊拷鐎ｎ喗鐓涢悘鐐插⒔濞叉潙鈹戦垾宕囧煟鐎规洘鍎奸ˇ鎶芥煟鎼粹槅鐓兼慨濠呮閿熻棄婀辨刊顓烆焽閹扮増鐓曢柕濞垮劜閸嬨儵鏌曢崱鏇狀槮妞ゎ偅绻堥幊婊堝垂椤愶綆浠ч梻鍌欐缁鳖喚寰婃禒瀣剶闁稿繗鍋愰埢鏃傦拷骞垮劚椤︿即鎮″☉姘炬嫹楠炲灝鍔氬Δ鐘虫倐閻涱噣骞嬮敂鐣屽弳闂佺粯姊婚…鍫ユ倶婵犲嫮纾奸柨鐔诲Г缁楃喖鏁撴禒瀣櫜闁绘劖绁撮弨浠嬫倵閿濆簼绨介柣銈忔嫹婵犵數鍋犻幓顏嗗緤閼恒儲娅犻柨婵嗩樈閺佸倿鏌涢銈呮毐闁归绮换娑㈠箻鐎电鏆￠梺褰掝棑閸忔﹢寮婚妸鈺傚亜閻犲洦鐣幘鍓佺＜閻庯綆鍋呭畷宀勬煕閳哄啫浠辨鐐村笒铻栧ù锝呮惈楠炲牓姊绘担鍛婃儓闁哥姵鐩獮蹇涙倻閼恒儳鍘遍梺闈涱焾閸庤櫕绂掗姀掳浜滈柡鍥朵簽缁夘喗銇勯姀鈩冪闁轰礁鍟撮弫鎾绘偩瀹�锟芥稉宥夋煠婵劕锟芥澹曢挊澹濆綊鏁愰崼婵呯暗闂佺懓鐡ㄧ缓楣冨几瀹ュ鐓忛煫鍥ь儏閿熻姤鐗犻崺娑㈠箣閿旇棄浠梺璇″幗鐢帗淇婇崗鑲╃闁告侗鍠栨慨宥夋煛瀹�锟介崰鏍х暦濞嗘挸围闁糕剝顨忔导锟�
				int npcid = NpcServiceManager.getNpcIDByKey(npckey);
				new fire.pb.circletask.catchit.PQueryCatchItTaskTime(roleid, npcid, conf.getParam1()).submit();
				return true;
			}
			case NpcServiceMappingTypes.QUERY_CIRCLE_TEAM: {
				break;
			}
			case NpcServiceMappingTypes.QUERY_CIRCLE_BATTLE: {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁惧墽鎳撻—鍐拷锝庝簼閹癸綁鏌ｉ鐐搭棞闁靛棙甯掗～婵嬫倷椤掞拷椤忚埖淇婇妶鍥ラ柛瀣仱閹囨偐濮瑰浄鎷锋笟锟藉鏉戭潩鏉堚敩銏ゆ⒒娴ｈ鍋犻柛搴㈡そ瀹曟粓鏁冮崒姘�梺鍛婂姦閸犳鎮￠妷鈺傜厸闁搞儲婀圭花濂告倵濮橆剛绉烘慨濠傛惈鏁堥柛銉戝秵瀚规俊銈呮噹绾惧鏌熼幑鎰厫鐎规洖寮剁换婵嬫濞戞瑥绐涚紓浣叉閹风兘姊绘担渚劸闁哄牜鍓涚划娆撳箣濠靛啯鐎洪悷婊勬煥椤繘宕崝鍊熸閹风娀骞撻幒鏃戝晥闂傚倷娴囧畷鐢稿疮閸ф鐤鹃柣妯烘▕閸ゆ洖鈹戦悩宕囶暡闁稿瀚伴弻娑樷槈濮楀牆濮涚紓浣割槸閻栫厧顫忓ú顏勫窛濠电姴鍟惁鐑芥⒑閸涘﹣绶遍柛鐘愁殜椤㈡瑨绠涘☉娆屾嫽闂佺鏈悷褔宕濆鍡曠箚闁绘劕寮堕崑銉э拷瑙勬磸閸ㄨ櫣绮嬮幒鏃撴嫹閿濆海鍘滈柟椋庡厴瀹曟﹢鍩￠崘顏嗘闂備焦鎮堕崕婊堝幢濡鏆繝鐢靛Х閺佹悂宕戦悙鍝勫瀭妞ゆ牜鍋涢崹鍌滄喐閻楀牆绗氶柛濠冨缁绘稑顔忛鑽ゅ嚬闂佺粯鎸诲ú鐔煎蓟閻斿吋鐒介柨鏇嫹闁哄绋戦湁婵犲﹤鎳庢禍楣冩煏閸パ冾伃妤犵偞锚閻ｇ兘宕堕埞顑惧妼閳规垿顢欑涵閿嬫暰濠碉紕鍋樼划娆撴偘椤曪拷瀵粙顢橀悢鍑ゆ嫹閻戣姤鍋ｉ柛銉ユ搐鐎氼剟顢旈崼鏇熲拺闁告繂瀚埢澶愭煕濡櫣绉洪柡浣规崌閹稿﹥寰勬繝鍐╊啋闁诲氦顫夊ú鏍х暦椤掑嫬鐓″璺好￠悢濂夌叆闁归偊鍠氶弳銈夋⒑閸濆嫭婀伴柣鈺婂灠椤曪綁骞橀鍢夆晠鏌曟径娑橆洭濞存粓绠栧缁樻媴閸︻厽鑿囬梺绋磕涢崶褏顔嗛梺缁樺灱婵倝鍩涢幒鎳ㄥ綊鏁愰崨顔兼殘闁荤姵鍔х换婵嬪蓟濞戞熬鎷烽敐搴′簼鐎规洖鏈〃銉╂倷閸欏妫ゆ繛瀵稿闂勫嫬顭囬鍫濈閹艰揪绲鹃崚娑㈡⒑鐠団�虫灍闁荤啿鏅犻獮鍐╃鐎ｎ偄浠虹紒鐐緲椤﹂亶姊婚娑氱瘈闁汇垽娼ф禒鈺呮煙濞茶绨界�垫澘锕ョ粋鎺旓拷锝庝簽椤旀劕顪冮妶鍡楀Ё缂佸弶瀵ч弲鍫曟晸閻樻枼鎷婚梺绋挎湰閻熴劑宕楀畝鍕厱婵☆垳濮撮幊鎰矆婵犲倵鏀介柣妯诲絻椤忣偄鈽夐幘宕囆ч柡灞革拷宕囨殼妞ゆ棁鍋愬暩闂佽法鍠曞Λ鍕倶濠靛违闁圭儤鍩堝鈺呮煟閹伴潧澧い蹇氬煐缁绘繂鈻撻崹顔界亪闂佹寧娲忛崝宀勫煝瀹ュ鏅查柛銉厛濞肩喖姊洪崷顓炲妺闁搞倧绠撻幃銏ゆ嚒閵堝洦婢戞繝娈垮枟閿曗晠宕楀☉妯炑兾旈崨顔规嫼闂佽崵鍠愬妯何ｆ繝姘厱闁绘柨鎲＄亸锔撅拷娈垮櫘閸嬪﹤鐣峰锟介、娆撴嚃閳哄搴婂┑鐘愁問閸犳鏁冮埡鍛婵娉涚壕鎸庛亜韫囨挻鍣界紒鈽呮嫹闂備焦鐪归崹钘夘焽瑜庣粋鎺戭煥閸曨亞绠氬銈嗗姧缂嶅棗鈻撳锟介弻鐔肩嵁閸喚浼堥悗瑙勬礀瀹曨剟鍩ユ径濞㈢喖鎮℃惔銏″暉闂傚倸鍊风粈渚�宕ョ�ｎ偆顩插ù鐘差儏绾炬寧銇勯弽銊с�掓い鈺佸级缁绘繃绻濋崒婊冾杸闂佺粯鎸婚惄顖炲蓟濞戙垹绠涙い鎾跺剱閸ゅ鏌ｆ惔銏ｅ缂傚秴锕ら～蹇涙惞閸︻厾鐓撻梺鍓茬厛閸ｎ噣宕濇径瀣瘈闁汇垽娼ф禒婊堟煥閺囨ê锟芥繈銆佸鑸垫櫜闁搞儮鏅濋悡鎾绘煙閻撳海鎽犻柟绋款煼閿濈偛顓奸崨顏呮杸濡炪倖姊婚悺鏃堟倿娴犲鐓曢悗锝庡亝鐏忕敻鏌ㄩ悢璇残撳ǎ鍥ㄦそ閿濈偞寰勭仦鎯у簥濠电偞鍨崹褰掓煁閸ャ劎绡�闂傚牊绋撴晶鏃堟煣韫囨捇鍙勬慨濠冩そ瀹曨偊宕熼棃娑樺闂備胶顭堥敃銉ッ洪悢鐓庣伋闁挎洖鍊归崵鍕亜閺嶇數绋诲鍥р攽閿涘嫬浜奸柛濠冨灴瀹曟繂鐣濋崟顒佹珖濡炪倕绻愰悧濠囧磻濡眹浜滈柡鍥朵簼鐎氬綊鎮楃憴鍕鐎规洦鍓熼崺銉﹀緞婵炪垻鍠栭幊鏍煛閸屾粎袦闂傚倸鍊搁崐椋庣矆娴ｅ湱鐝跺┑鐘叉搐绾惧鏌涘☉娆愮稇缂佺姵鑹鹃埞鎴︽偐閸欏鎮欓梺缁樻尰閻╊垶寮诲☉妯锋闁告鍋為悘鎾绘⒑閸涘﹦鎳冩俊顐ｇ箓椤繐煤椤忓嫪绱堕梺鍛婃处閸嬫捇骞忛悿顖樹汗闁圭儤鍨归敍鐔兼倵鐟欏嫭绀�婵炴潙瀚伴獮蹇撶暋闁附鍍靛銈嗗笒鐎氼剙顕ｆ导瀛樷拺闁告繂瀚﹢鎵磼鐎ｎ偅宕岄柡浣规崌瀵剟濡堕崶鈹綁姊虹粙娆惧剰閻庢凹鍓熷﹢浣割渻閵堝棙顥嗗┑顔哄�濆畷锝堢疀閹绢垱鏂�闂佺粯蓱瑜板啴顢旈锔藉仺妞ゆ牗绋撳ú鎾煛瀹�锟介崰搴ㄦ偩閿熺姵鍋嬮柛顐ｇ箖椤忋倗绱撻崒娆戣窗闁哥姵宀稿顐﹀箹娴ｈ娅㈤梺鍝勫�堕崐妤冪矓闂堟耽鐟邦煥閸曨厾鐤勯梺璇″枤閸嬫挾锟戒絻鍋愰敓鑺ョ♁鑿ら柟椋庣帛缁绘稒娼忛崜褍鍩岄梺纭咁嚋缁绘繂鐣烽鐐村�烽柣鎴烆焽閸樼數绱掗悙顒佺凡鐎规洦鍓氱粋宥夋偋閸喎寮挎繝鐢靛С閼冲爼鎯屽▎鎴嫹鐟欏嫭绀堥柛鐘崇墵閵嗕礁顫滈敓浠嬪箖閳哄懏鍋ㄩ梻鍫熺☉铦庨梻鍌欐祰椤曆勵殽閸濄儳涓嶇�广儱顦壕鍧楁⒑椤掞拷缁夊绮婚悩宸唵闁兼悂娼ф慨鍥╃磽娴ｅ弶娅呴棁澶愭煟濡儤鈻曢柛搴㈠姍閺屾稒绻濋崟顒佹瘓闂佸搫琚崝宀勫煘閹达箑骞㈡繛鍡楃箰濮ｅ牏绱撻崒娆撴闁告柨鐭傞垾锕傛倻閽樺鎽曢梺鎸庣箓濡瑩宕曢悢鎼炰簻闁哄啫鍊哥敮鍓佺磼閻樺灚鍤�妞ゎ亜鍟存俊鑸垫償濠靛牏娉块梻浣告憸閸犲酣鎮洪妸锔锯攳濠电姴娲ら柋鍥煛閸モ晛浠滈柤鏉跨仢閳规垶骞婇柛濠冩礋瀹曨垱瀵奸弶鎴犵枃闂佺硶鍓濈粙鎺楀煕閹达附鍋ｉ柛銉ｅ妼缁茬粯銇勯幒瀣伈闁哄本鐩獮瀣攽閸懣銊╂倵鐟欏嫭绀冪紒顔肩焸閸┿垺鎯旈妸銉ь唺闂佸搫鍊告晶鐣岀礊瀹ュ鈷掗柛灞捐壘閿熻棄鍢查湁闁搞儜锟介弸鏍煛閸ャ儱鐏╅梻鍌ゅ灦閺屻劑寮撮悙璇ф嫹閸濄儳涓嶆い鏍仦閻撱儵鏌ｉ弴鐐诧拷鍦拷姘炬嫹?
				int npcid = NpcServiceManager.getNpcIDByKey(npckey);
				EnterCatchItBattle enter = new EnterCatchItBattle(roleid, npckey, npcid, conf.getParam1());
				enter.enterBattle();
				return true;
			}
			case NpcServiceMappingTypes.CIRCLE_PRODUCE: {
				int npcid = NpcServiceManager.getNpcIDByKey(npckey);
				new fire.pb.item.PProduceItem(roleid, conf.getParam1(), npcid, conf.getParam2()).submit();
				return true;
			}
			case NpcServiceMappingTypes.RENXING_CIRCLE_TASK: {
				//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓哄┑鐐叉缁绘帡宕濋幘顔解拺閺夌偞澹嗛ˇ锔姐亜閹存繃顥㈠┑锛勬暬瀹曠喖顢涘槌栧晪闂佽崵濮惧▍锝夊磿閵堝鍊靛Δ锝呭暞閳锋垿鏌涘☉姗堝姛闁瑰啿鍟扮槐鎺旂磼濡搫顫掗梺鐐藉劜濡啫鐣峰锟介、鏃�鎯旈姀鐙�浼撻梻浣瑰缁诲倻鑺辨總鍛婄劷妞ゆ牗绋忔禍婊堝箹濞ｎ剙鐒烘繛鍫熺矒閺岋紕浠﹂崜褎鍒涙繝纰樺墲閹倿寮崒鐐茬鐟滃繘寮舵禒瀣拻濞达絽鎲￠幆鍫ユ偠濮樼厧浜扮�规洘绻堥獮瀣晝閿熺晫绮婚弽顓熺厪闁割偅绻嶅Σ鍝ョ棯閹冩倯缂佺粯鐩獮瀣倻閸ワ妇杩斿┑鐐差嚟閵嗗骞忛敓锟�?闂傚倸鍊搁崐鎼佸磹閹间礁纾圭�瑰嫭鍣磋ぐ鎺戠倞鐟滃繘寮抽敃鍌涚厽闁靛繈鍩勯悞鍓х磼閹邦収娈滈柡宀�鍠栭弻鍥晝閿熶粙寮稿☉銏＄厱闁靛濡囩粻姗�鏌ㄩ悢鐑樻珪婵炲懌鍨介獮蹇涙倻閼恒儳鍘遍梺鍝勬储閸斿本鏅堕锟介弻娑㈠箻瀹曞洤鐓熷┑顔硷攻濡炶棄鐣峰Δ鍛殐闁崇懓鐏濇禒锕傛⒒娴ｅ憡鎯堥柟鍐茬箻閹嫰顢涘杈ㄦ闂佽崵鍠愭竟瀣绩娴犲鍊甸柨婵嗛娴滅偤鏌涘Ο缁樺磳婵﹥妞藉畷銊︾節閸曨厾鏆ら梺璇插閸戝綊宕滈悢濂夊殨闁归棿鐒﹂弲婵嬫煕鐏炲墽銆掗柛妯兼暬閹鎮烽弶娆句痪濠电姰鍨洪敋閸楀崬鈹戦悩宕囶暡闁绘挸鍟撮弻锕�螣娓氼垱鈻撳┑鈥冲级閹倿寮诲鍥ㄥ珰闁哄被鍎洪敓鑺ヮ殜閹藉爼鏁愭径瀣幗闂佸湱鍋撴繛濠囶敁濡わ拷铻栭柡鍐ㄧ墛閳锋帡鏌涚仦鎹愬闁跨喍绮欓ˉ鎾跺垝閸喐濯撮柛婵嗗濡粌顪冮妶鍡樺暗濠殿喗鎸冲畷鐟扳攽閸ャ儰绨婚梺鍝勭Р閸斿矂宕甸浣虹闁稿繗鍋愭晶閬嶆煙閸欏鍊愰柟顔ㄥ洤閱囨繝闈涚墢閹冲棗鈹戦埄鍐炬當闁硅櫕锚椤繐煤椤忓嫬绐涙繝鐢靛Т閸燁偊藝閳哄懏鈷戦柛婵勫劚鏍￠悗鐧告嫹闁归棿绀佺粻鏍煕瑜庨〃鍡涘疾缁嬫５褰掓偐瀹割喖鍓遍梺鎶芥敱閸ㄥ潡骞冨畡鎵虫瀻闊洦鎼╂禒鑲╃磽娓氬﹥瀚归梺鍛婂姀閺呮繄绮绘ィ鍐╃厱婵炴垵宕弸鐔虹磼閿熶粙鏁撴禒瀣拺鐎规洖娲ㄧ敮娑㈡煙閻熺増鎼愭い鏇稻缁绘繂顫濋鈹垮姂閺屻劑寮撮鍛伓闂備浇娉曢崰鎾诲疾椤愶箑鏋佸┑鐘宠壘缁犳牜锟界懓瀚竟瀣几鎼淬劎鍙撻柛銉ｅ妽閹嫬霉閻樻彃鈷旂紒杈ㄦ尰缁楃喐绻濋崘顭戜紦闂傚倷绀侀幉锟犲礉閿曞倸绐楁俊銈呮噺閸嬪倿鏌ｉ弬鍨倯闁绘挻鐟╅弻娑⑩�﹂幋婵囩亪濡炪倕娴氶崑鍡欐閹烘鐓￠柛娑卞枛椤忓爼姊绘担绛嬪殭閻庢稈鏅犻、娆撳冀椤撶偟鐛ュ┑鐐村灟閸╁嫰寮�ｎ剚鍠愰柡鍐ㄧ墕閺勩儵鏌曟径娑氱暠缂佸墎鍋ら弻鐔兼焽閿曪拷婢х粯绻涢悡搴含婵﹥妞藉顒勫Ψ閿旂晫褰呴梻浣告憸閸ｃ儵宕归崼鏇橈拷渚�寮崼鐔蜂簻闂佺绻愰惃鐑藉箯缂佹绠鹃弶鍫濆⒔缁夘剙鈹戦鍝勶拷妤�鈽夐悽绋块唶闁哄洨鍠撻崢閬嶆⒑閹稿海绠撶紒缁樺浮閹箖宕归顐ｎ啍闂佺粯鍔樼亸娆戠不婵犳碍鐓涘ù锝堫潐瀹曞矂鏌℃担瑙勫磳闁轰焦鎹囬弫鎾绘晸閿燂拷?
				fire.pb.circletask.CircleTask sq = new CircleTask(roleid, true);
				int renxingtimes = sq.getRenXingCircTaskCount(roleid, conf.getParam1());
				gnet.link.Onlines.getInstance().send(roleid, new SRenXingCircleTask(serviceid, conf.getParam1(), renxingtimes, npckey));
				return true;
			}
			case NpcServiceMappingTypes.CHALLENGE_NPC: {
				//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氱紓鍌氬�烽懗鑸垫叏闁垮绠鹃柨鐔剁矙閺屸�崇暆閿熶粙宕伴弽顓犲祦闁硅揪绠戠粻娑㈡⒒閸喓鈾佹い鏂垮缁辨捇宕掑▎鎺戝帯婵犳鍠氶崗妯虹暦娴兼潙鍐�妞ゆ挾鍋犻幗鏇㈡⒑闂堟单鍫ュ疾濠婂牆纾婚柛鏇ㄥ灡閻撴洘绻濋棃娑欘棞闁绘繃妫冮弻鏇＄疀鐎ｎ亷鎷烽弽顓熷亗闁哄洢鍨洪悡蹇撯攽閻愯尙浠㈤柛鏃�宀搁弻銊╂偄缂佹﹩妫勫┑鐐茬毞閿熻姤鍓氶崵鏇㈡偣閸ャ劎銈存俊鎻掔墦閺屾洝绠涙繝鍐╃彆闂佸搫鎳忕换鍫濐潖濞差亜绠伴幖杈剧悼閻ｉ潧鈹戦埥鍡椾簼闁烩晩鍨靛Λ鐔兼⒑闂堟侗妲撮柡鍛矒閸╂盯骞嬮敂鐣屽幍闂佸吋绁撮弲娑欑濠婂啠鏀介柍銉у仺閸嬨垽鏌＄仦鍓р檨缂佺粯绻堝畷鎺戔槈濡妯婇梺璇插椤旀牠宕伴弽顓涳拷锕傛倻閽樺鐎梺褰掑亰閸樿偐娆㈤悙鐑樺�甸柨婵嗙凹閹秹鏌熸搴″幋闁诡喗绮撻幊鐐哄Ψ閵忊�愁伜闂傚倷绀佹竟濠囧磻閸℃稑绐楅幖娣妼缁愭鏌￠崶銉ョ仾闁绘挻鐟ч敓鐣屾嚀鐎氼厼顭垮Ο浣曪絾绻濆顓犲幗闂佹寧绻傜换鎺斿姬閿熶粙姊烘潪鎵妽闁圭懓娲顐﹀箻缂佹ɑ娅㈤梺璺ㄥ櫐閹凤拷
				int npcid = NpcServiceManager.getNpcIDByKey(npckey);
				fire.pb.circletask.CircleTask sq = new CircleTask(roleid, true);
				boolean ret = sq.exeCircTaskBattle(roleid, npckey, conf.getParam1(), npcid);
				Module.logger.debug("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿閹崇娀顢楁径瀣撴粓姊绘担瑙勫仩闁告柨绉堕幑銏ゅ礃椤斿槈锕傛煕閺囥劌鐏犻柛鎰舵嫹闂備線娼ц噹濞撴艾锕ョ�氬綊鏌熼悜姗嗘畷闁绘挾鍠愮换婵嬫濞戞瑯妫ら梺绯曟櫔缂嶄線寮婚垾宕囨殕閻庯綆鍓涢惁鍫ユ倵鐟欏嫭绀�闁绘牕鍚嬫穱濠囨倻閽樺）銊ф喐瀹�鍕畺闁挎繂顦伴埛鎺懨归敐鍛础婵狅拷娴犲鐓曞┑鐘插枤濞堟粎锟借娲橀崹鍧楃嵁濮楋拷閹虫粓妫冨☉妯煎搸濠电姷鏁搁崑鐐哄垂椤栫偛鍨傞柛锔诲幘娑撳秹鏌ㄥ┑鍡橆棤缂佺娀绠栭弻娑㈠焺閸愮偓鐣肩紓浣哄У婵炲﹪寮诲☉銏犵睄闁跨喍绮欓獮鎰板礃瀹割喗缍庨梺缁樺灦钃卞┑顔界矒閺岀喎鈻撻崹顔界彯濠碘�虫▕閸ｏ絽顫忓ú顏勭閹兼番鍨婚埞娑氱磽娴ｅ搫校闁圭懓娲ら锝夘敃閿曪拷缁犺崵绱撴担濮戭亝绂掓總鍛婄厽闊洦娲栨禒锕傛煕鎼粹�虫毐闁崇粯鎸搁悾婵嬪礋椤掑倸骞楅梺鐟板悑閻ｎ亪宕规繝姘ワ拷鍌炲蓟閵夛妇鍘靛銈嗘⒒閸樠囨晸閽樺鍋ラ柟顔诲嵆椤㈡瑧鎹勯妸褎婢戞繝鐢靛仦閸ㄥ爼鎮烽敃锟介埢宥夊閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷" + roleid + "]" + "exeCircTaskBattle缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喖顭烽弫鎰緞婵犲嫷鍚呴梻浣瑰缁诲倿骞夊☉銏犵缂備焦顭囬崢杈ㄧ節閻㈤潧孝闁稿﹤缍婂畷鎴﹀Ψ閳哄倻鍘搁柣蹇曞仩椤曆勬叏閸屾粣鎷峰▓鍨灍闁瑰憡濞婇獮鍐ㄢ枎閹寸偛鐝伴悷婊冩捣閿熻姤鑹剧紞濠囧蓟濞戞ǚ鏀介柛鏇ㄥ亜婵垺绻涢幋鐐村碍缂佸缍婂濠氬焺閸愩劎绐炴繝鐢靛Т鐎氼參鎯冮幋锔解拺闁绘艾鐡ㄧ�氳绻涚�电孝妞ゆ垵妫濋幃锟犳偄闂�鎰畾濡炪倖鐗楃换鍐敂閻樼粯鐓ユ繛鎴烆焽鏍￠梺闈涙搐鐎氫即寮幇鏉垮耿婵炲棗绻愮紒鈺呮⒒娴ｅ憡鎯堥柡鍫墰缁瑩骞掗弮锟藉畷鍙夌節闂堟侗鍎忕痪鎯у悑缁绘繃绻濋崒姘闂佸憡眉缁瑥顫忕紒妯诲闁告稑锕ラ崕鎾绘煟閻愭潙鍤柛瀣工閻ｅ嘲鈹戠�ｎ亞顓洪梺鎸庢穿閹烽绱掗悩宕囧⒌闁哄本娲熷畷鐓庘攽閹邦厜锔剧磼閻愵剙鍔ら柛姘儑閹广垹鈽夐姀鐘殿吅闂佺粯鍨靛ú锝囨閸偆绠鹃悗鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷:" + ret);
				return true;
			}
			case NpcServiceMappingTypes.ENTER_INST: {
	
				Integer instid = conf.getParam1();
				InstanceZoneConfig zoneconfig = fire.pb.instancezone.Module
						.getInstance().getInstanceZoneConfigs()
						.get(instid.intValue());
				if (zoneconfig == null) {
					return false;
				}
				new PInstNpcService(instid, serviceid, roleid).submit();
				return true;
			}
			case NpcServiceMappingTypes.ACCEPT_TUPO: {
				new PAcceptMajorMission(roleid, conf.getParam1(), true,true).call();
			}
			default:
				break;
			}
			return false;
		} catch (Exception e) {
			// TODO 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氶梻鍌欒兌椤牏鎮锕�绀夐幖娣妼缁犵喖鏌熼梻瀵割槮缂侇偄绉归弻娑㈩敃閿濆棗鍓烽梺闈涱槴閺呮粓鎮￠弴銏＄厵闁煎壊鍓欐俊鑺ョ箾閸涱厽顥㈤柡灞剧♁閹棃鏁愰崨顔句邯闂備礁鎼張顒�煤濠靛牏涓嶆繛鎴炵啲閹风兘鏁愭惔婵堟晼闂佸憡姊瑰娆撳煘閹达附鍊烽悹楦挎濮ｃ垹顪冮妶搴″箹闁绘鎹囧畷娲倷閸濆嫮顓洪梺鎸庢濡嫭绂嶈ぐ鎺撶厽闁绘ê寮堕崢鍌炴煕閹板苯鎳愰悡鎴︽⒒閸屾瑦绁版い鏇嗗拑鎷峰☉鎺撴珚鐎规洘鐟ㄩ妵鎰板箳閹寸姷鍘梻浣告啞閸旀垿宕濇惔銊ユ辈闁挎洖鍊归悡銉︾節闂堟稒顥犲褋鍨介弻锝夊Χ韫囨柨顏舵繝鐢靛Х閺佹悂宕戦悙鍝勫瀭闁割偅娲橀崑锛勬喐閺傝法鏆﹂柕蹇嬪�曠粻鑽ょ磽娴ｉ姘跺箯濞差亝鈷戦柛娑橈功閳藉鏌ㄩ弴顏勵洭缂侇喖顭烽獮妯肩磼濡尨鎷烽崹顐ｅ弿婵☆垳鍘х敮鍓侊拷娈垮櫘閸犳岸鏁撻崐鐕佹綈婵炲弶鐗犲畷顖滄崉閵娿儱鐤惧┑锛勫亼閸婃洜鎹㈤幇鏉跨疇闁圭増婢橀崒銊╂⒑椤掞拷缁夌敻鎮￠悢鐓庣闁圭⒈鍘奸悘锝囩磼娴ｅ搫鍘撮柡灞剧洴瀵剟骞愭惔銏″闂備線锟芥稓鈹掗柛鏃�鍨甸悾鐑藉箳濡や礁锟界兘鎮楅悽娈跨劸妤犵偞鍔欓弻锝嗘償閿濆棭浠ч梺褰掝棑閸忔﹢骞冨Δ鍛櫜閹肩补锟芥剚娼鹃柣鐐寸啲缁犳捇寮婚敐鍡樺劅闁靛繆鏅涢弲閬嶆⒑闂堚晝绉甸柛锝忕到閻ｇ兘骞庨懞銉︽珳闂佸憡渚楅崹鍗炩枔妤ｅ啯鈷戦柛锔诲幖閸斿銇勯妸銉﹀櫣婵炴彃娼″缁樻媴鐟欏嫬浠╅梺绋垮缁挸鐣峰锟藉畷姗�宕ｉ妷鈺佷粣婵犳鍠栭敃銈夆�﹀畡鎵殾闁圭儤鍨熼弸搴ㄦ煙闁箑鏋旈柛瀣戞穱濠囨倷椤忓嫸鎷烽弽褉鏋栭柨鏇炲�稿婵囥亜閺冨倸甯剁紒銊ｅ劦濮婄粯鎷呴崫銉ㄩ梺绋款儏閿曨亜鐣烽弴銏╂晜闁告棁濮ゅ浠嬨�侀弬娆惧悑闁糕剝蓱閻濇繈姊婚崒娆戠獢婵炰匠鍛床闁圭儤鎸婚崣蹇撐旈敐鍛殭缂佺姵妞介弻锟犲炊閵夈儳浠鹃梺鎶芥敱閸ㄥ潡寮婚悢铏圭煓闁圭瀛╁畷宕囩磽娴ｅ搫校闁圭顭锋俊鐢稿礋椤栨稒娅嗛梺鍓茬厛閸犳牜绮婇锟介幃妤�鈻撻崹顔界亶闂佺粯鎼换婵嬫偘椤曪拷瀵粙濡搁敃锟介鎾绘⒑闂堚晛鐦滈柛妯煎帶椤曪綁骞庨懞銉㈡嫽婵炶揪缍�濞咃絿鏁☉娆戠闁告瑥顦辨晶鐢碉拷瑙勬礃閸旀瑥鐣烽悜绛嬫晣闁靛绠戦璺衡攽椤旂瓔鐒介柛瀣尵閿熻姤鐔幏锟�? catch 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨绘い鎺嬪灪閵囧嫰骞囬姣挎捇鏌熸笟鍨妞ゎ偅绮撳畷鍗炍旈敓浠嬪煕閹烘鈷戠紓浣姑粭鈺備繆椤愩垹顏柛鈺冨仱楠炲鏁傞挊澶夋睏闂佽楠稿﹢杈ㄦ叏閹绢啟澶娾攽閸垻锛濇繛杈剧到閹碱偊顢撳畝鍕厱闁靛鍎抽崺锝囷拷娈垮枛椤攱淇婇幖浣哥厸闁稿本鐭花浠嬫⒒娴ｄ警鐒鹃柡鍫墰缁瑩骞嬮敂缁樻櫆闂佽法鍣﹂幏锟�?
			Module.logger.error("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿閹崇娀顢楁径瀣撴粓姊绘担瑙勫仩闁告柨绉堕幑銏ゅ礃椤斿槈锕傛煕閺囥劌鐏犻柛鎰舵嫹闂備線娼ц噹濞撴艾锕ョ�氬綊鏌熼悜姗嗘畷闁绘挾鍠愮换婵嬫濞戞瑯妫ら梺绯曟櫔缂嶄線寮婚垾宕囨殕閻庯綆鍓涢惁鍫ユ倵鐟欏嫭绀�闁绘牕鍚嬫穱濠囨倻閽樺）銊ф喐瀹�鍕畺闁挎繂顦伴埛鎺懨归敐鍛础婵狅拷娴犲鐓曞┑鐘插枤濞堟粎锟借娲橀崹鍧楃嵁濮楋拷閹虫粓妫冨☉妯煎搸濠电姷鏁搁崑鐐哄垂椤栫偛鍨傞柛锔诲幘娑撳秹鏌ㄥ┑鍡橆棤缂佺娀绠栭弻娑㈠焺閸愮偓鐣肩紓浣哄У婵炲﹪寮诲☉銏犵睄闁跨喍绮欓獮鎰板礃瀹割喗缍庨梺缁樺灦钃卞┑顔界矒閺岀喎鈻撻崹顔界彯濠碘�虫▕閸ｏ絽顫忓ú顏勭閹兼番鍨婚埞娑氱磽娴ｅ搫校闁圭懓娲ら锝夘敃閿曪拷缁犺崵绱撴担濮戭亝绂掓總鍛婄厽闊洦娲栨禒锕傛煕鎼粹�虫毐闁崇粯鎸搁悾婵嬪礋椤掑倸骞楅梺鐟板悑閻ｎ亪宕规繝姘ワ拷鍌炲蓟閵夛妇鍘靛銈嗘⒒閸樠囨晸閽樺鍋ラ柟顔诲嵆椤㈡瑧鎹勯妸褎婢戞繝鐢靛仦閸ㄥ爼鎮烽敃锟介埢宥夊閵堝棌鎷洪柣鐘充航閸斿苯鈻嶉幇鐗堢厵闁告垯鍊栫�氾拷" + roleid + "]" + "serviceid:" + serviceid + "闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鏁愭径濠勵吅闂佹寧绻傞幉娑㈠箻缂佹鍘辨繝鐢靛Т閸婂綊宕戦妷鈺傜厸閻忕偠顕ф慨鍌滐拷娈垮櫘閸ｏ綁寮幘瀵割浄閻庯綆浜為鍡椻攽閻樼粯娑фい鎴濇噽缁顢涘鍏煎瘜闁诲函缍嗘禍婵嬪箲閿濆洨纾奸柣妯挎珪閳锋劗绱掔紒妯兼创妤犵偛顑夐幃娆撳幢濡櫣浠搁悗鍨緲鐎氭澘鐣烽悢纰辨晬婵炴垶鑹鹃獮鍫ユ⒑鐠囨彃鍤辩紒鑼跺Г閺呰埖鎯旈敐鍛氶梺璺ㄥ枍缁瑥顫忓ú顏勪紶闁告洦鍓氶幏鍗炩攽閻愭彃绾фい顓炴喘楠炴垿濮�閻橆偅顫嶉梺闈涚箚閿熺晫顒查幏鐑芥煥鐎ｃ劋绨婚梺鐟版惈缁夌兘宕楀畝锟介幉鎼佸箥椤斿吋鐏堝┑顔硷功缁垶骞忛崨瀛樺殟闁靛缍囬幏鐑藉礃椤忓棛锛滈梺璺ㄥ枙婵倗绮悢鍏兼櫢濞寸姴顑冮敓鎴掔窔瀵粙濡搁妷褏鐛梻浣哥秺閸嬪﹪宕滃┑瀣闁哄洢鍨洪埛鎴︽⒒閸喎宕熼柛顐犲劚閻ょ偓绻濇繝鍌滃缁炬儳顭烽弻娑㈠焺閸愵亖妾ㄩ梺缁樻尰濞茬喖骞冨锟介幃娆撳箵閹哄棙瀵栭梻浣哥枃濡嫰藝娴兼潙桅闁告洦鍠氶悿锟介梺闈涱檧缁犳垿顢旈敓锟�");
			return false;			
		}
	}

	@Override
	public void process() {
		// protocol handle
		final long roleid = gnet.link.Onlines.getInstance().findRoleid(this);
		if (roleid < 0)
			return;
		if (!fire.pb.StateCommon.isOnline(roleid))
			return;
		if(100002 != serviceid && fire.pb.buff.Module.existState(roleid, fire.pb.buff.BuffConstant.StateType.STATE_BATTLE_FIGHTER))
			return;
		// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂傚洤顦甸弻銊モ攽閸♀晜效婵炲瓨鍤庨崐婵嬪蓟閵堝绾ч柟绋块娴犳潙鈹戦纭锋敾婵＄偘绮欓妴浣肝旈崨顔芥闂佷紮绲介惉濂告儗閹炬番浜滈柡鍥朵簼鐎氬綊姊烘潪鎵妽闁圭懓娲ら锝夘敆閸曨倠褔鏌涢妷銏℃珕婵炲牆銈搁弻锝嗘償閵堝孩缍堝┑鐐插级閻楃姵淇婇崼鏇炲窛濠电姳鑳剁粻姘舵⒑缂佹ê鐏卞┑顔哄�濆鎻掆攽鐎ｎ偆鍙嗛梺缁樻椤曆嗩暱缂傚倷绀侀崐鍝ョ矓闂堟侗鐒介煫鍥ㄧ☉閻撴盯鏌涢幇鍏告倣缂佸崬鍟块埞鎴︽倷閼搁潧娑х紓浣藉紦缁瑩鐛径鎰櫢闁绘灏欓崢娲⒑閸濆嫭鍌ㄩ柛銊︽そ閹�斥槈濮樼偓瀚归柣褍鎲＄�氬綊鏌ｆ惔顖滅У闁稿瀚伴、鏃堟晸閿燂拷+B 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繐鐖奸弻锝嗘償閵堝孩缍堝┑鐐村絻缁绘ê鐣烽弴銏犵闁兼亽鍎插▍銏ゆ⒑閸濆嫬锟藉爼宕愬Δ鍐煋闁汇垹鎲￠悡鏇㈡煟濡櫣锛嶅褍宕…璺ㄦ喆閸曨剛顦伴悗瑙勬礈椤牐鐏冩繛杈剧到閹碱偊鐛澶嬧拻濞达絿鐡旈崵鍐煕閵娿劍鐝柡鍛版硾铻栭柛姘虫椤︽澘顕ラ崟顖氱疀妞ゆ帒鍋嗛崯鍥⒒娴ｅ憡鎯堟い锔垮嵆瀹曠儤绻濋崶鈺佸絾濡炪倖甯掔�氼參鎮″☉銏″�堕柣鎰邦杺閸ゆ瑩鏌ㄩ悢璇残撶紒璇茬墦閻涱喗绻濋崒妤佹杸闁诲函缍嗘禍鐐侯敇閻撳寒娓婚柕鍫濇椤ュ棝鏌涚�ｎ偄濮堥柡鍛埣椤㈡稑顫濋敐鍡樻澑闂備胶绮崝妯间焊濞嗘挸绠洪柣妯兼暩绾惧吋銇勯弮鍥т汗闁诲繗浜槐鎺撴綇閳轰椒娌紓浣虹帛缁诲牆鐣烽幆閭︽▉闂佺濮ゅú鏍煘閹达附鍊烽柡澶嬪灩娴犙囨⒑閹肩偛濡块柟铏崌瀵偊顢欓幋鎺旂畾闂佺粯鍔︽禍婊堟晸閼恒儳澧い顐㈢箲缁绘繂顫濋锟介崑宥夋偡濠婂嫭顥堥柡浣瑰姍閹瑩宕崟顓炲箰闂備礁鎲℃笟妤呭窗閹烘绠柛婵嗗閺�浠嬫煟閹邦垱纭鹃柦鍕悑閵囧嫰寮撮崱妤佸窛鐎规挷鐒︽穱濠囧Χ閸曨垱顎栨繛瀛樼矋缁捇寮婚弴鐔虹闁割煈鍠栨慨鏇烆渻閵堝啫鍔橀柛銊ョ秺閸╃偤骞嬮敂鑺ユ珫闂佸憡娲﹂崜姘掗崼銉﹀�甸悷娆忓缁�鍫ユ煕閻樺磭澧甸柕鍡曠閳藉顫滈崱妯哄厞婵＄偑鍊栫敮顏堝箯閻戣姤鐓涘ù锝夋涧閿熻姤绻傞～蹇曠磼濡偐鎳濋梺璺ㄥ枙濡嫰鈥﹂崶顏嶆▌闂佺偨鍎荤粻鎾崇暦婵傜唯闁靛／灞拘ラ梺璇叉捣濞呫垽骞忛悜鑺ョ厱闁哄洨鍎戝銉︺亜閿旇鐏﹂柛鈺冨仱楠炲鏁冮敓浠嬬嵁閵忋倖鐓冮柛婵嗗閿熻姤鎮傞幆浣割煥閸啿鎷绘繛鎾寸啲閹烽攱绻涙担鍐叉处閸嬪鏌涢埄鍐夸緵婵炲牅绮欓弻娑樷槈濮楀牆濮涘銈傛櫆閻擄繝寮诲☉銏犵婵°倧鎷烽柟铏姍閺佸秴鈹戠�ｎ偄锟藉灚顨ラ悙鑼虎闁告梹宀搁幃妤�顫濋悡搴㈢亾缂備緡鍣紞浣割嚕椤曪拷瀹曟帡鏁傞挊澶樹紦婵犵數鍋涢悧鍡涙倶濠靛鍑犻柨鏂款潟娴滄粓鏌￠崶褎顥滄繛灞傚�濋幃锟犲灳閹颁胶鍞甸柣鐘烘〃鐠�锕傛偂椤掑嫭鐓熼柟鎯у船閸旓箓鏌＄仦鍓р槈闁宠棄顦靛畷锟犳倷閸忓摜鏁惧┑鐘垫暩婵即宕瑰ú顏勫瀭闁割煈鍣鏍煣韫囨凹娼愰悗姘哺閺岀喓绱掑Ο铏圭懆濠殿噯绲鹃崝妤冩閹捐纾兼慨妯荤樂閵忊�茬箚妞ゆ劧绲块幊鍛磼椤旂⒈鍎忔い鎾炽偢瀹曨亝鎷呴崫鍕辈闂傚倷绀侀幉鈥趁洪敃鍌氱婵炲棗娴氶崵鏇㈡煕瑜庨〃鍡涙偂濞嗘挻鐓犳繛鏉戭儐濞呭牓鎸婇悢灏佹斀闁斥晛鍟徊濠氭煙閸愭煡鍙勫┑鈩冩尦楠炴帡骞橀崜浣烘婵犳鍠楅敃鈺呭储妤ｅ啫鍌ㄦい蹇撶墛閳锋垿鏌涢幘鏉戠祷濞存粍绻勭槐鎺旀嫚閹绘帗娈婚柦妯煎枛閺岋綁骞囬鐓庡闂佺粯鎸鹃崰鏍蓟閻旂厧绠氱憸宥夋嚋瑜版帗鐓曢柡鍌濐嚙閿熻姤顨堝Σ鎰板箳閹惧绉堕梺闈涱焾閸庢娊鎮烽弻銉﹀�甸柛顭戝亝缁舵煡鎮楀鐓庢灍缂佸倹甯￠弫鍐磼濮樿京鏆伴柣鐔哥矊闁帮綁骞冩ィ鍐炬晢濞达綁顥撶粻姘舵⒑缂佹ê濮﹀ù婊勭矒閺佹捇鎳為妷褍鈪归柣鎾卞�濋弻宥夊传閸曨偅娈剁紓渚婃嫹濠电姴鍊堕敓鑺ュ笒椤繈鎮欓锟介鍫曟⒒娓氾拷濞佳兾涢弮鍌滅焼濞撴熬鎷烽柛鈹垮灪閹棃濡搁妷褜鍚呴梻浣虹帛閸旀浜稿▎鎾存櫖闊洦绋掗埛鎺戙�掑鐐濠电偘鍖犻崱妤侇仩闂傚倷绀侀幉鈥趁洪敃鍌氱婵炴垶纰嶉弳婊堟煕閳╁啰鈾侀柍閿嬪浮閺屾稓浠﹂幑鎰棟闂佽法鍠曞Λ鍕床閺屻儲绠掗梻浣规偠閸庢椽宕滈妸褏绀婇柡宓瞼鍞甸梺鍏兼倐濞佳勬叏閸モ晝妫柟瑙勫姈绾爼鏌ㄩ悢鍑ゆ嫹閻曚焦缍堝┑鐐插级閻楁洜鍙呴梺闈涚墕閿涘棙寰勬繝搴㈠兊濡炪倖鎸荤划鍫㈣姳婵犳碍鈷戦悷娆忓缁�鍐╃箾婢跺娲寸�殿喗鎮傚顕�鏁撴禒瀣﹂柛鏇ㄥ灠閻撴盯鏌涘☉鍗炴灍闁哄棛濞�濮婃椽鏌呭☉姘ｆ晙闂佸憡鏌ㄩ惌渚�鎮橀幒妤佲拺闁告捁灏欓崢娑㈡煕閻樺啿鍝虹�规洏鍨介、鏇㈡晜鐟欙絾瀚肩紓鍌氬�烽悞锕佹懌闁诲繐绻掗弫濠氬蓟濞戙垺鍋愮�规洖娲ら埛宀勬倵濞堝灝鏋涙い顓犲厴瀵偊骞囬鐐电獮婵犵數濮寸�氱兘宕ラ崨顔剧瘈闁汇垽娼ч埢鍫熺箾娴ｅ啿鍘惧ú顏勎у鐧哥畱濞差參宕洪敓鐘插窛妞ゆ梹鍎抽獮妤呮⒑閻熸澘鎮戦柣锝庝邯瀹曡绻濆顒傛焾闂佸搫琚崕鏌ユ偂濞嗘挻鐓曢柟瀛樼懃閿熻姤鐗滈敓鑺ョ啲閹凤拷?
		//NPC濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮诲☉妯锋婵鐗嗘慨娑氱磽娴ｅ搫鈻堢紒鐘崇墵瀵濡搁埡鍌氫簻闁荤姴娲﹂悾顐﹀箻閸撲胶锛滅紓鍌欑劍椤洭鍩︽笟锟介弻鐔风暋閻楀牆娈楅悗瑙勬礃閿曘垹鐣烽敐鍡楃窞閻庯綆鍋勯敓浠嬵棑缁辨挻鎷呴崫鍕闂佺楠搁崯鍧楁晝閵忋倖鐒肩�广儱鎳愰悿鍛存⒑瑜版帗锛熼柣鎺炵畵瀹曟垹锟斤綆鍠楅悡鏇熴亜閹板墎鎮肩紒鐘筹耿閺岋綁鎮㈤崫銉ュ绩濠殿喖锕ㄥ▍锝囧垝濞嗗繆鏋庨柟顖嗗啫顥嶅┑锛勫亼閸婃牠宕归悽鏉嗗洭妫冨☉鍗炴婵犵數濮电喊宥夊疾閹间焦鐓熸俊顖氱仢閻ㄦ椽鏌涙繝鍕槐婵﹨娅ｉ敓钘夋贡婵敻濡撮崘顔界厽闁硅櫣鍋熼悾鐢告煙椤旂瓔娈曢柕鍫秮瀹曟﹢鍩為悙顒�顏归梻鍌欑閹诧紕绮欓幋锔芥櫇闁挎洖鍊哥粻鐘绘煕閹板吀绨界痪鎹愬亹缁辨挻鎷呴惂绋垮彆闂佸吋濯藉▔鏇㈡晸閼恒儺鍟忛柛鐘崇墵閳ワ箓鎮滈挊澶岀暫闂侀潧绻堥崐鏍磻閸岀偛绠归弶鍫濆⒔閹ジ鏌￠崱鏇炲祮婵﹦绮幏鍛存惞閻熸壆顐兼俊鐐�戦崝宀勫箠濮楋拷楠炲啳顦叉い顓滃姂瀹曟鎮欓鍌涘垱閻庤娲滈崰鏍�佸☉妯锋闁圭儤鎸搁鐟扳攽閻樺灚鏆╅柛瀣Х娴滄悂顢旈崼顐ｆ櫔閻熸粍妫冮幃浼搭敊閸㈠姊归幏鍛村礂閸濄儳娉块梻鍌欑窔濞佳団�﹂崼銉ョ？濠电姵姘ㄩ崣鏇熴亜閹烘垵浜伴柟宄板槻閳绘捇宕归鐣屼邯婵＄偑鍊ら崢楣冨礂濮楋拷閻涱噣宕橀纰辨綂闂侀潧鐗嗗Λ妤佺韫囨稒鐓熼幖娣灮閳句線鏌ㄥ顓滀簻闊洦鎸鹃崺锝嗘叏婵犲倹鎯堥弫鍫ユ煕閵夋垵鎳嶉惀顏呬繆閻愵亜锟芥牕顫忚ぐ鎺撳亱闁绘顕х粻鏍煟閹邦剚鎯堢紒鐘崇閵囧嫰顢栭弬銈嗗鐎规洖娲ㄦ闂備浇顕栭崳顔界椤忓嫮鏆﹂柕濞炬櫓閺佸秵绻濇繝鍌氼仾妞ゆ梹鎹囧濠氬磼濞嗘埈妲梺鍦拡閸嬪懎顕ラ崟顖氱倞妞ゆ帪鎷风紒锟介崼鐔虹瘈闂傚牊绋掗敍宥夋煕閵堝棭娈滈柡灞剧洴瀵挳濡搁妷銈囩埍婵犵鍓濊ぐ鍐偋婵犲嫭宕叉繛鎴欏灩楠炪垺淇婇妶鍕厡妞も晝澧楃换娑氾拷鍨偠閿熻棄顑夐獮蹇涙晸閿燂拷
		if(PNpcAwardProc.containedByNpcAward(this.serviceid)){
			new PNpcAwardProc(roleid, this.serviceid).submit();
			return;
		}
		
		int npcId = NpcServiceManager.getNpcIDByKey(npckey);
		
		fire.pb.item.Pack bag = new fire.pb.item.Pack(roleid, true);
		long v = bag.getCurrency(MoneyType.MoneyType_ProfContribute);
		if (serviceid == NpcServices.ONE_LIEVEL_TITLE)
		{
			if (v >= 60)
			{
				new PAcceptCircTask(roleid, npckey, npcId, 1120000, true).submit();			
			}
			else
			{
				java.util.ArrayList<String> s = new java.util.ArrayList<String>();
				s.add("60");
				MessageMgr.sendMsgNotify(roleid, 190070, s);				
			}
			
			return;
		}
		
		if (serviceid == NpcServices.TWO_LIEVEL_TITLE)
		{
			if (v >= 120)
			{
				new PAcceptCircTask(roleid, npckey, npcId, 1130000, true).submit();		
			}
			else
			{
				java.util.ArrayList<String> s = new java.util.ArrayList<String>();
				s.add("120");
				MessageMgr.sendMsgNotify(roleid, 190070, s);				
			}
			
			return;
		}
		
		if (serviceid == NpcServices.THREE_LIEVEL_TITLE)
		{
			if (v >= 180)
			{
				new PAcceptCircTask(roleid, npckey, npcId, 1140000, true).submit();		
			}
			else
			{
				java.util.ArrayList<String> s = new java.util.ArrayList<String>();
				s.add("180");
				MessageMgr.sendMsgNotify(roleid, 190070, s);						
			}
			
			return;
		}
		
		//serviceid -> type -> params 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸モ晛褰勯梺鎼炲劘閸斿秹鎮￠妷锔轰簻闊洦纰嶇涵楣冩煃鐟欏嫬鐏存い銏＄懅缁數锟斤綆鍓欐慨娲⒒娴ｅ憡鍟炴い顓炴瀹曟儼顦查柛銈嗗灴濮婅櫣绱掑Ο鑽ゅ弳闂佸憡鑹鹃澶愬箖閳ユ枼鏋庨煫鍥ь儜閹风兘骞掗幋顓熷兊濡炪倖甯掗崐鐑芥惞鎼淬垻绡�婵炲牆鐏濋弸娑㈡煕婵犲倻绉洪柕鍡楀暣婵＄兘鍩￠崒姘炬嫹閻戣棄绾ч柛顐ゅ枎缁�鍐煥閻旇袚閻庣瑳鍥﹂柛鏇ㄥ灠椤懘鏌ㄥ☉妯侯仾闁革絼鍗冲娲捶椤撗呭姼闂佹寧娲忛崕閬嶎敋閵夆晛绀嬫い鎺戝�婚惁鍫ユ⒑缁嬭儻顫﹂柛濠冪墵钘熷鑸靛姈閳锋帡鏌涚仦鎹愬闁跨喕濮ら幃鍌氱暦閹扮増鍊婚柤鎭掑劚濞堟垿姊洪崨濠冨矮缂侊拷娓氾拷瀹曠懓鈹戦崶銉ょ盎闂佸搫绋侀崑鍕瑜版帗鐓ラ柣鏂挎啞閻忣喚绱掗悩铏碍闁伙綁鏀辩缓鐣岀矙鐠囦勘鍔嶉妵鍕籍閸ヮ灝鎾寸箾閸涱喗顥堥柡宀嬬秮閹垽宕妷褏鍘愮紓鍌欒兌缁垳鏁垾宕囨殾婵娉涚粻铏繆閵堝繑瀚归梻浣稿船濞差參寮婚弴鐔风窞闁割偅绻傛慨銏ゆ⒑閹稿海鈾佺紒顔肩焸閸╃偤骞嬮敂钘変汗闁荤姴娉ч崟顒佹瘞闂傚倷绀侀幉鈥愁潖瑜版帗鍋嬫繝濠傜墛閺呮悂鏌ら幁鎺戝姤濠㈣顭囩槐鎾愁吋閸滃啳鍚Δ鐘靛仜閸燁偊鎮鹃敓鐘茬闁惧浚鍋嗛敓钘夘煼濡懘顢曢姀鈥愁槱闂佺懓鐨烽弲婊呯矉閹烘绀堢憸蹇曞閽樺锟芥帒顫濋濠冩暰闁诲孩鑹剧紞濠傤潖閾忚宕夐柕濞垮劜閻忓棗鈹戦埥鍡椾簻閻庢矮鍗冲畷娲倷閸濆嫮顓洪梺鎸庢濡嫰鏁撻悾灞藉幋闁哄本绋戦埢搴ょ疀閿濆柊銏ゆ⒑閸濆嫷鍎愰柣鐔叉櫅椤繐煤椤忓嫬绐涙繝鐢靛Т鐎氼參宕宠濮婃椽宕妷銉︾彙闂佺顑呴敃顏堢嵁閸愵喖绠氱憸蹇涘汲鐎ｎ喗鐓欓梺鍨儐閳锋劖淇婇銏犳殭闁伙絿鍏樻俊鎼佸煛婵犲啯娅嶉梻浣虹帛椤牓顢氬鍫濈闁绘垼濮ら崐椋庯拷鐟板閸犳锟介潧鐭傚娲濞戞艾顣哄┑鈽嗗亝椤ㄥ牏鍒掗銏犵＜婵犲﹤鎳愰敍婊堟⒑鐠恒劌鏋欏┑顔哄�濋獮蹇涘川閺夋垶宓嶅銈嗘寙閸曨厹鍋掗梻鍌氬�风粈渚�宕崸妤�绠规い鎰剁畱缁犵娀鐓崶銊р槈闁绘挻娲熼弻鐔告綇妤ｅ啯顎嶉梺绋款儜缂嶄線寮婚悢纰辨晣闁绘棃顥撻悷銊︾節绾版﹫鎷烽崘鍙夊�紓浣虹帛閻╊垰鐣烽妸鈺婃晩闁绘挸瀵掑姘舵⒒娴ｅ憡鎯堥柣顒�銈稿畷浼村冀瑜忛弳锔界箾閸℃ɑ灏崶鎾⒑缁洖澧叉い銊ョ箲鐎靛ジ鏁撻敓锟�?
		if (dealNpcServiceMapping(roleid, serviceid)) {
			Module.logger.error("NPC闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柍鈺佸暞閻濇洟姊绘担钘壭撻柨姘亜閿旇鏋ょ紒杈ㄦ瀵挳濮�閳撅拷閹风粯绻涙潏鍓хК婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮婚悙鐑樼厵妞ゆ梻鍋撻悞鎸庛亜閿曪拷缂嶅﹪寮婚悢纰辨晬婵浜崝顖毼旈悩闈涗沪妞ゎ厼娲ㄥΣ鎰板箳閹冲磭鍠栭幃顔撅拷娑櫭鍫曟⒑閸撹尙鍘涢柛瀣缁粯銈ｉ崘鈺冨幍闁诲海鏁搁…鍫ュ礈閸楃伝褰掓偂鎼淬埄妫﹂梺鍝勭灱閸犳劕顭囪箛娑樼鐟滃繘寮抽悩缁樷拺婵炶尪顕ч獮妤併亜閵娿儻韬柟顕嗙節椤㈡洟鏁冮敓浠嬫倷婵犲洦鐓忓┑鐐戝秵瀚瑰┑鈥插嫎閸旀垵顫忛搹鍦＜婵☆垵顕ч弳妤呮⒑閸濄儱校闁绘濮撮锝嗙節濮橆厽娅㈤梺缁橆焾鐏忔瑩藝閵娾晜鈷戦梻鍫熶緱閻掗箖鏌涙惔鈽嗙吋妤犵偛绻橀幃婊堟寠婢跺鐐婇梻渚�娼ч¨锟介梻鍕閳绘挻瀵肩�涙ǚ鎷洪梺鍛婃尰瑜板啯绂嶅┑鍥╃闁告瑥顧�閼板潡鏌熼鍡欑瘈鐎殿喗鎸抽幃銏ゆ惞鐠団�虫櫗闂傚倷鑳剁涵鍫曞礈濠靛锟藉啯绻濋崶銊ヤ粧濠电姴锕ら悧濠囁夋繝鍐︿簻闁圭儤鍩堝Σ绋款熆瑜庨幐鎶藉蓟閿涘嫪娌梻鍫氭櫆鐎氬湱锟借娲栧ú锕�鈻撻弴銏＄厽閹兼惌鍨崇粔鐢告煕閹惧鎳囩�规洖鎼悾婵嬪礋椤掑倸寮板┑鐐存綑閸氬鎮疯缁棃顢氶敓浠嬪蓟閿涘嫪娌柛鎾楀嫬鍨遍梻浣哄仺閸庤崵绮婚幘鑽ゅ祦閻庯綆浜栭弨浠嬫煕閵夈垺娅冨瑙勬礀閳规垿鎮╅幇浣告櫛闂侀潻缍嗛崹鍐差嚗婵犲啰绡�婵﹩鍓欓悗顓㈡偡濠婂懎顣奸悽顖涘浮閹�愁潨閿熶粙寮婚悢鍛婄秶濡わ絽鍟宥夋⒑缁嬪尅鍔熼柛蹇旓耿瀵濡堕崶褎鐎抽梺鍛婎殘閸嬫盯锝為埡渚囨富闁靛牆鍟敓绐栧洤绠柣鎴ｅГ閳锋帡鏌涚仦鍓ф噭缂佷胶澧楅妵鍕即閻斿搫鈷岄悗瑙勬磻閸楀啿顕ｆ禒瀣垫晣闁绘劗顣槐顕�姊绘担渚綊闁告洖鐏氶悾濂告倵鐟欏嫭灏紒鑸靛哺瀵鈽夐姀鐘电杸闂佺绻愰幗婊堝礄瑜版帗鍊甸悷娆忓缁�锟藉銈忓閺佸鐛崘顏呭磯閻炴稈鍓濋～宥夋⒑閸︻厼鍔嬮柛銊ф暬閸╂稒寰勬繝搴㈠瘜闂侀潧鐗嗘鍛婄濠婂懐纾煎璺烘湰閸わ拷濡炪値鍋勭换鎰弲濡炪倕绻愮�氼亞妲愰崼鏇熲拺闁告稑锕ユ径鍕煕閻樺疇澹樻い顒�锕俊鎼佸煛閸屾瀚奸梻浣告啞缁嬫垿鏁冮妶鍡樺弿闁搞儜宀�鍞甸悷婊冪灱閸掓帒鈻庨幘铏�梺瑙勫礃椤曆呭瑜版帗鐓熼柡鍌涘閹插摜鎲搁幎濠傚缁犻箖鏌ㄥ┑鍡樺櫤闁瑰吋鍔欓弻銊╁即閵娿倝鍋楀Δ鐘靛仜閸燁偊鍩㈡惔銊ョ闁告劏鏅滃▍鍡涙⒒娴ｅ憡鍟炴繛鍙夌箞瀹曟椽寮介顒佸婵﹩鍓氱拹锟犳煙閸欏鍊愮�殿噮鍣ｅ畷鐓庘攽閸垺鐎┑鐘垫暩閸嬫稑螞濞嗘垶鏆滈柛銉ｅ妿椤╄尙鎲搁悧鍫濈瑲闁绘挻鐟╅弻锝夊箣閻忔椿浜幃姗�鍩￠崨顔惧幐闁诲繒鍋熼崰搴∶洪敃鍌氱厱闁瑰濮风壕钘壝归敐鍥仧濞撴碍鐩弻锝夊箳閺傚じ澹曢梺闈涙搐鐎氭澘顕ｉ幘顔煎耿婵°倓绀佸▍褎绻涢幋鐐村碍缂佸缍婂濠氬灳閹颁礁鎮戦柟鑲╄ˉ閿熻棄纾鎴︽⒒娴ｈ櫣甯涢柟姝岊嚙鐓ゆ慨妤嬫嫹濠碉紕鏁诲畷鐔碱敍濮樿京鏉搁梻浣告啞閹哥兘鎳楅幆鐗堟噷缂傚倸鍊搁崐椋庢閵堝绠柣鎴ｅГ閻撱儵鏌ｉ弮鍌滃笡妞ゃ儱顦甸幗鍫曞冀椤撶喓鍘藉┑顔筋殣閹烽攱绻涙担鍐插椤╂彃鈹戦崒姘暈闁绘挻娲熼弻鏇熺箾閸噯鎷峰Δ鍛剹婵炲棙鍩婇幏宄扳枔閸喗鐏堝銈庡幘閸忔ê顕ｉ锕�绠荤紓浣姑禍褰掓⒑閼测斁鎷￠柛鎾寸懇閺佹捇鎮剧仦鎴掓濠殿喖锕ㄥ▍锝夋晸閽樺璐″┑顔炬暬婵℃挳宕橀鍡欙紲闂佸湱绮敮妤呭磻閵夈儮鏀芥い鏇炴鐎氬綊姊绘笟锟藉褔鎮ч崱妞㈡稑鈽夐姀鐘插亶闂佸綊妫块悞锕傚煕閹达附鐓曟繛鎴烇公濮婃绱掔捄鍝勮埞闂囧绻濇繝鍌氼伀缂佺姵鎹囬弻宥囨嫚閼碱儷锝囩磼缂佹绠炵�规洖鐖兼俊姝岊槻妤犵偞鍔欓弻锝嗘償閿濆棭浠ч梺褰掝棑閸忔﹢骞冨Δ鍛櫜閹肩补锟芥剚娼鹃柣鐐寸啲缁犳挸顫忕紒妯诲缂佹稑顑呭▓鎰版⒑閸濄儱校闁圭懓娲ら悾鐤亹閹烘挸鐧勬繝銏ｆ硾閺堫剙鈻撻幆褜娓婚柕鍫濇婵呯磼閻樺啿鐏ラ柡渚囧櫍濮婄粯鎷呴悷閭﹀殝濠电偞绁撮弲鐘荤嵁韫囨稒鐓ラ悗锝庡墰椤旀洟姊洪崨濠佺繁闁革綆鍠栭埢鎾愁煥閸曨剙寮挎繝鐢靛Т閸婂綊骞嗛崼銉ユ瀬闁割偁鍎查悡鏇㈡煏婢跺鐏ラ柟鍐插閹便劑宕奸弴鐔叉嫽婵炶揪缍�椤宕戦悩缁樼厱闁哄倽娉曟牎缂備胶绮粙鎺旀崲濠靛纾兼繝濠傚椤旀洖鈹戦悙瀛樼稇闁告艾顑呴…鍥р枎閹寸姳绗夊┑鐐村灦閻燂絾绂嶅鍫熺厸闁告劖瀵х�氬綊姊虹粙鍧楊�楅柛鐔锋健閹箖鎮滈挊澹┿劑鏌嶉崫鍕拷鐢稿箯閾忓湱纾介柛灞剧懅閸斿秹鎷戦柆宥嗙厽闁规儳宕崝锕傛煛瀹�锟介崰鏍箠閻愬搫唯鐟滃繘鎮℃径濞炬斀妞ゆ梻銆嬪妤冪磼椤旂晫鎳冮柣锝囧厴閹垻鍠婃潏銊︽珫婵犵數鍋為崹鍫曟嚌閹屽殨闁规儼濮ら埛鎺懨归敐鍫燁仩閻㈩垱绋掔换娑㈠矗婢跺苯鈷岄悗瑙勬礃閸旀瑥鐣烽悜绛嬫晣闁靛绠戦璺衡攽椤旂瓔鐒介柛瀣尵閿熻姤鐔幏锟�" + roleid + "]闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬湱鎲搁悧鍫濈瑨缁炬儳娼￠弻鐔猴拷鐢殿焾鏍￠梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃堟煙閻戞ɑ鈷掔痪鎯с偢閺屻劑鎮㈢拠娈嬫挾锟藉灚婢樼�氼剟鎮惧┑鍫嫹閿濆骸浜滄い蹇撶埣濮婅櫣鎷惔鈥虫殲闁哥喓鍋ら幃妤�顫濋鍌溞ㄥ┑顔硷龚濞咃綁骞戦崟顖毼╅柕澶涘閿熷�熸缁辨挻绗熼崶褎鐏嶉梺鑽ゅ暱閺呮盯顢氶敐澶樻晝闁挎洩鎷风紒鐘哄吹缁辨挻鎷呮慨鎴簻閳绘捇鎮㈤崗灏栨嫼闂傚倸鐗婃笟妤�危閸洘鐓曢幖绮癸拷瀹犲煘閻炴碍鐟╅弻娑㈩敃閻樻彃濮曢梺鎶芥敱閸ㄥ潡寮诲☉妯锋婵☆垶鏀遍鍥ь渻閵堝懐绠伴柣妤�妫楀ú鍧楁⒒娴ｅ摜绉烘俊顐ユ硶缁牊绗熼敓钘夘嚕閸涘﹦鐟归柨鐔剁矙瀵鈽夐姀鐘电杸闂傚倸鐗婄粙鎺楁倶閸繍娓婚柕鍫濋娴滄粓鏌熼搹顐�跨�殿喖顭峰鎾閻樿鏁规繝鐢靛█濞佳兠洪妶鍛瀺鐟滄柨顫忛搹鍦煓闁告牑锟藉啿顫犻梻浣侯焾椤戝棝鎯勯鐐茬伋闁哄啫鐗嗙粈鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰亾閻や線姊洪幖鐐诧拷鏇㈩敄婢跺娼栨繛宸簻閹硅埖銇勯幘璺轰粶妤犵偛顑呴—鍐Χ閸愩劌濮曢梺鐟版啞閸庡啿宓勯梺鍦濠㈡绮婚搹顐＄箚闁靛牆瀚崝宥嗙箾閸涱偄鐏叉慨濠冩そ瀹曟姊荤壕瀣劵闂備胶顭堝锔界椤掞拷閳诲酣濮�閵堝棗锟界兘鏌ｉ幋鐏活亪鏁撻悾灞炬毈闁哄被鍔岄埞鎴﹀幢濡や焦顔勫┑鐘茬棄閵堝棭浠╃紓浣介哺鐢剝淇婇幖浣肝ㄦい鏃�鍎抽幃鎴炵節濞堝灝鏋涢柨鏇樺妼閳诲秹鏁愭径瀣闂佽姤锚椤︽壆鎷归垾鏂ユ斀妞ゆ梻鍋撻弳顒勬寠閻斿鐔嗛柤鎼佹涧婵牓鏌ｉ幘瀵告噰闁哄本鐩獮鍥敍濮樿鲸顕楃紓鍌欒兌婵灚绻涙繝鍥ц摕闁靛ň鏅滈崑鍕偣閸ャ劎鏆欓柟鍓х帛閻撶喖鏌￠崘鈺佺仴濠⒀冪摠椤ㄣ儵鎮欓懠顒傤啋闂佽桨鐒﹂幑鍥极閹剧粯鏅搁柨鐕傛嫹" + serviceid + "].");
			return;
		}
		
		//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮诲☉妯锋婵鐗婇弫楣冩⒑閸涘﹦鎳冪紒缁樺姍濠�渚�姊虹粙璺ㄧ闁告艾顑囩槐鐐哄箣閿旂晫鍘遍梺闈涱焾閸庨亶鏁撻挊澶嬪仴鐎殿喖顭烽弫鎰緞婵犲嫷鍟嬮柣搴ゎ潐濞叉牕煤閵堝浼犳繛宸簼閳锋垿鏌涘┑鍡楊伌闁稿孩鍔欓弻锝呂旀笟鍥ㄧ暭闂佺懓绠嶉崹褰掑煡婢舵劕顫呴柣妯活問閸氬懘姊绘担铏瑰笡闁告梹鐟ラ…鍥樄鐎殿喗濞婇弫鎾绘偐閺傘儲瀚奸梻浣藉吹閸犳劕顭垮Ο浣曪絾绻濆顓犲幈闂侀潧楠忕槐鏇㈠矗閿熶粙姊洪幐搴ｇ畼闁稿鐩崺鐐哄箣閻欏懏瀚归柨婵嗛娴滄粌霉濠婂嫷娈滈柡宀�鍠栧畷妤呮嚃閳哄倹顔冮梻浣规偠閸斿秴危閹烘桅闁归偊鍘介崕鐔搞亜椤愵偄骞樼紒鐘冲哺濮婃椽妫冨☉姘暫濠电偛鐪伴崐鏇㈠汲閳哄懏鈷掑ù锝勮閻掔偓銇勯幋婵囶棦闁诡垰瀚伴、娑橆潩鏉堛劍顔曟俊鐐�栭悧婊堝磿閹版澘鏋佺�广儱妫涚弧锟芥繝鐢靛Т閸婃悂顢旈埡鍛闁哄鍩婂銉╂煃鐟欏嫬鐏撮柟顔规櫇缁辨帒螣婵犳碍鏆樺┑锛勫亼閸婃牠宕归悽绋跨疇婵鎷锋鐐插暙閳诲酣骞囬鍓ф闂備焦鎮堕崕顖炲礉鎼淬劌鍌ㄦい蹇撴噽缁★拷闂佹眹鍨藉褔鏁撶粵瀣仸鐎规洘锕㈡俊鎼佹晜缁涘鏁抽梻鍌欑閹芥粓宕伴幘鐑╋拷锕傚醇閵夈儳鍘撮梺纭呮彧闂勫嫰宕戦幇鐗堢厱妞ゎ厽鍨垫禍婵囨叏閿濆懎顏慨濠呮缁瑥鈻庨幆褍澹嬪┑鐘垫暩閸庢垿骞忓畡鎷旀棃鎮╅棃娑楁勃闂佸湱鎳撳ú顓㈠Υ娓氾拷瀵噣宕煎┑鍡氾拷鍨攽閻愬弶顥為柛鈺佺墕鍗遍柟闂寸劍閳锋帒霉閿濆牆袚缁绢厼鐖奸弻娑㈡偐閾忣偆顦ㄩ梺閫涚┒閸旀垶淇婇崼鏇炵倞闁靛鍎辩花銉︾節閻㈤潧浠﹂柛顭戝灦瀹曞綊宕烽鐘辩瑝婵犵數濮电喊宥夋偂閿濆鍙撻柛銉╊棑閸掓澘霉濠婂骸鐏ｉ柣銉邯椤㈡﹢濡搁敃锟介鍫曟⒒閸屾艾锟芥悂宕愰悜鑺ュ殑闁割偅娲栫粻鐘绘煙閹冾暢濞戞挸绉堕敓钘夌畭閸庨亶藝椤栫偛鍨傞柛宀�鍋為悡銏′繆椤栨瑨顒熸俊鍙夋そ閺岋繝宕遍鐘垫殼闂佸搫鏈粙鎴ｇ亙闂佸憡鍔戦崝瀣уΔ鍛拺闁告繂瀚烽崕蹇涙⒑鐢喚绉�殿喖顭烽幃銏ゆ偖鐎涙ê顏堕梺姹囧灪椤旀牠鎮為悙顑句簻閹兼番鍨虹亸鐢电磼鏉堛劌娴�规洩绻濋幃娆撴嚑椤掑嫮宕滄繝鐢靛剳缁茶棄煤閵堝鏅濇い蹇撶墕缁犳牗绻涢崱妯绘儎闁轰礁鍊块弻娑㈠即閳ュ磭鍘柣搴㈣壘缂嶅﹪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑筏閹峰嘲顭块懜闈涘闁绘挻鐟╁鍫曞醇濠靛棌鎸冮梺浼欑秬娴滎剟鎯�椤忓牊鍊锋い鎺炴嫹妞ゆ洘绮庣槐鎺旂磼濡皷妲堝銈嗘煥缁绘﹢銆佸▎鎾村殥闁靛牆娲﹂弲銊╂⒒閸屾瑧顦﹂柟娴嬪墲缁屽崬煤椤忓海绋忔繝銏ｆ硾閺堫剙鐣烽崣澶岀闁瑰瓨鐟ラ悘鈺傤殽閻愵亜鐏ǎ鍥э躬椤㈡稑鈹戦幇顒侇唲闂傚倸鍊搁ˇ顖滅矓閻熼偊娼栭柧蹇撴贡绾惧吋淇婇婵愬殭闂傚绉瑰娲嚒閵堝懏鐝㈢紓浣哄У閹哥粯绌辨繝鍥ㄥ仺缂佸娉曢ˇ鏉款渻閵堝棛澧柤褰掔畺瀹曨剟濡搁埡鍌楁嫼闂傚倸鐗婃稉鐟扳槈閵忕姷顦ㄩ梺鍐叉惈閸嬪棝宕崶顒佲拻闁稿本鑹鹃敓鑺ユ倐瀹曟劙骞栨担璇ф嫹閿曞偆鏁嗛柛鏇ㄥ亞椤︻參姊洪幐搴㈢闁稿﹤鎽滅划鍫ュ醇閵夛妇鍘介梺鍝勫暙閸婂摜鏁崼鏇熺參闁告劦浜滈弸娑㈡煛瀹�瀣М鐎殿噮鍣ｅ畷鎺懳旀担鍝ュ降闂傚倷娴囧銊х矆娓氾拷閺佸啴顢旈崼婵婃憰闂佹寧娲╅幏鐑芥懚閿濆懌锟芥帒顫濋悡搴ｄ画閻庢稒绻堝缁樻媴閸涘﹥鍎撳銈嗗灥濡繈骞冮悜钘壩ㄩ柍瑙勬嫕閹风兘寮崼婵堫槰濡炪倖鏌ㄥΣ鍫ｎ樄闁哄本鐩獮鍥煛娴ｅ壊鐎峰┑鐐差嚟婵瓨鏅堕悾灞绢潟闁规儳鐡ㄦ刊鎾煕閹炬潙绲婚柛鎾讳憾濮婃椽骞栭悙鎻掝瀳濠电偛鐨烽敓钘夌－閺嗭附绻涘顔荤盎妞ゎ偄鎳橀弻宥夊煛娴ｅ憡娈梺鍛婃煥閹虫ê顫忓ú顏咁棃婵炴垼浜崝鎼佹⒑缁嬪灝顒㈠┑鐐诧躬楠炲啴宕稿Δ浣规闂佸吋浜介崕鎵崲閸℃稒鐓熼柟鏉垮悁缁ㄥ鏌ㄩ悢璇残撻柣妤佺矒瀵偊顢氶敓浠嬨�侀弮鍫濋唶婵犻潧鐗滈崬闈涒攽閿涘嫬浠滄い鎴濇噹闇夊瀣椤ユ艾鈹戦崒姘暈闁绘挸绻愰埞鎴︽偐閼碱剛顔婇梺鍛婂笂閸楁娊寮诲☉銏犵睄闁瑰墽绮宥夋⒑闁稓鈹掗柛鏂跨Ф閹广垹鈹戠�ｎ亞顦板銈嗘尵閸嬬喖顢曟總鍛娾拻濞达絿鍎ら崵锟介梺鎼炲灪閻擄繝鐛繝鍋界喖鎼圭憴鍕啎闂備線娼ч…顓熶繆閸モ晛濮柨鐔剁矙濮婅櫣绮欓幐搴㈡嫳缂備礁顑嗙敮锟犲箖妤ｅ啯鍋傞幖瀛樕戦弬锟介梻浣虹帛钃辨い鏃�鐗犲鎶筋敍濞戞绠氶梺鍦帛鐢宕甸崶鈺嬫嫹鐟欏嫭绀冮柛銊ョ仢閻ｇ兘濡搁埡浣洪獓闂佺懓鐡ㄧ换鍕晸缁涘寮慨濠冩そ閹筹繝濡堕崨顔撅拷楣冩煟鎼淬垼澹橀柣妤佹崌瀵偊骞囬鐐电獮婵犵數濮寸�氼噣寮堕幖浣光拻濞达絽鎲￠幆鍫熴亜閿旇鐏﹂柟顔矫埞鎴﹀幢濞嗘劖顔撻梻浣虹《閸撴繄绮欓幒妤�鐓曢柟瀵稿Х绾捐棄霉閿濆拋娼犳い蹇撴噺閸欏繘鏌ㄩ悢鍓佺煓婵﹥妞藉畷顐﹀礋椤掞拷濞呫倗绱撴笟鍥ф灍闁圭懓娲悰顕�宕橀妸搴ｅ枛閹筹繝濡堕崶銊ユ疄闂傚倷娴囧▔鏇㈠窗閺囩倣娑㈠礋椤栥倗绋忛棅顐㈡处缁嬫帡骞嗛悙鐑樺仭婵炲棗绻愰鈺呮煕濡櫣绉烘慨濠冩そ瀹曘劍绻濇担铏圭畳闂備礁鎽滄慨鐢告偋閺囥垹鐓″璺哄瘨濡插墽绱撴担浠嬪摵闁圭顭烽獮蹇涘川閺夋垳绱堕梺鍛婃礃閸╁﹦绱炴笟锟藉璇测槈閵忕姈鈺呮煏婢诡垰鎲涢妸鈺傗拺閺夌偞澹嗛崝宥夋煙閻熺増鍠樻鐐诧躬閹瑩宕崟搴涘姂閺屾洘绻涢崹顔煎Ф濠碘槅鍋嗛崰鎰┍婵犲洦鍊锋い蹇撳閹风柉顦寸紒顔碱煼楠炴锟介潧澹婂ú鎼佹⒑閸撴彃浜濇繛鍙夌墵瀵憡绗熼敓浠嬪蓟閻旂厧绀堢憸蹇曟暜濞戙垺鍊甸柣銏ゆ涧瀛濆銈庡弨濞夋洟骞戦崟顖涙優闁革富鍘虹槐姗�姊绘担鍛婃儓婵☆偅鐟╅幆鍕敍濮樺吋缍庨梺鎯х箰濠�閬嶆儗濞嗘挻鐓曠憸搴ㄣ�冮崨顓у殨闁绘鐗忕粻楣冩倵濞戞瑯鐒介柣顓烇躬閺岋綁寮借閸嬨垽鏌熼璇插祮妞ゃ垺鐟╅幃鎯х暆閿熶粙鎯侀崼銉︹拺闁告稑锕ゆ慨锟介梺鍝勬噺閻╊垰鐣峰┑瀣窛妞ゆ挆鍕槣闂備線娼ч悧鍡橆殽閹间胶宓佹俊銈呮噺閸嬨劍銇勯弽銊х煀濞寸姍鍛＜妞ゆ梻鏅幊鍡欑磼閻樺磭鈽夐柍钘夘槸閳诲海浠﹂幆褜浼栭梻鍌欐祰瀹曞灚鎱ㄩ崹顐ゎ洸濞寸姴顑呯粈澶愭倶閻愮紟鎺楀几瀹ュ鐓欓柟娈垮枛椤ｅジ鏌ｉ幘瀵告噰闁哄本鐩獮瀣枎韫囥儲瀚归柡宥庡亾閹峰嘲顫濋悙顒�顏�
		if (CircleTaskManager.getInstance().isSendMailService(serviceid)){
			Module.logger.info("闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳婀遍敓鐣屾嚀鐎氼參宕崇壕瀣ㄤ汗闁圭儤鍨归崐鐐烘偡濠婂啰绠荤�殿喗濞婇弫鍐磼濞戞艾骞楅梻渚�娼х换鍫ュ春閸曨垱鍊块柛鎾楀懐锛滈梺褰掑亰閸欏骸鈻撳鍫熺厸鐎癸拷閿熶粙宕伴弽顓犲祦鐎广儱顦介弫濠勭棯閹峰矂鍝烘慨锝咁樀濮婄粯鎷呮笟顖滃姼濡炪倖鍨堕崹褰掑箲閵忕姭鏀介悗锝庝海閹芥洟姊洪棃娴ュ牓寮插☉姘卞暗鐎广儱顦伴悡鏇㈡倶閻愭彃鈷旈柣鎿冨灠椤法鎲撮崟顒傤槹濠殿喖锕ュ钘夌暦椤愶箑绀嬫い鎺戭槹閿涗胶绱撻崒娆戣窗闁哥姵顨婇獮鎴﹀炊瑜滈崵鏇炩攽閻樺磭顣查柡鍛絻椤法鎹勯悮瀛樻暰濡炪們鍎茬换鍫濐潖濞差亜鎹舵い鎾楀懎濮奸梺璇插缁嬪牓寮查悩鑼殾濞村吋娼欑粻娑㈡煟濡わ拷閻楀啴骞忛搹鍦＝闁稿本鐟ч崝宥嗐亜椤撶偞宸濈紒顔款嚙椤繈顢橀悩娈垮晭濠电姰鍨煎▔娑㈩敄閸ヮ灐娲箻椤旂晫鍘遍梺鍐叉惈閸燁偅绂掓潏顭戞闁绘劕妯婇崕鏃堟煛娴ｇ鏆ｉ柡浣规崌閹墽浠︾粵瀣棥濠电娀娼ч崐鎼佸箟閿熺姵鍋傞柕澶嗘櫆閻撴盯鏌涢幇鈺佸濠㈣泛瀚妵鍕Ψ閵夘喗效闂侀潧娲ょ�氼垳绮诲☉銏犖ㄩ柨鏇嫹妞ゅ骏鎷�" + roleid + "]闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱濠电姴鍊归崑銉╂煛鐏炶濮傜�殿喗鎸抽幃娆戞嫚瑜庣�氬湱鎲搁悧鍫濈瑨缁炬儳娼￠弻鐔猴拷鐢殿焾鏍￠梺鍝ュУ閸旀瑩寮婚敐鍛傛棃鏁撴禒瀣亱闁糕剝鐟х粻鏃堟煙閻戞ɑ鈷掔痪鎯с偢閺屻劑鎮㈢拠娈嬫挾锟藉灚婢樼�氼剟鎮惧┑鍫嫹閿濆骸浜滄い蹇撶埣濮婅櫣鎷惔鈥虫殲闁哥喓鍋ら幃妤�顫濋鍌溞ㄥ┑顔硷龚濞咃綁骞戦崟顖毼╅柕澶涘閿熷�熸缁辨挻绗熼崶褎鐏嶉梺鑽ゅ暱閺呮盯顢氶敐澶樻晝闁挎洩鎷风紒鐘哄吹缁辨挻鎷呮慨鎴簻閳绘捇鎮㈤崗灏栨嫼闂傚倸鐗婃笟妤�危閸洘鐓曢幖绮癸拷瀹犲煘閻炴碍鐟╅弻娑㈩敃閻樻彃濮曢梺鎶芥敱閸ㄥ潡寮诲☉妯锋婵☆垶鏀遍鍥ь渻閵堝懐绠伴柣妤�妫楀ú鍧楁⒒娴ｅ摜绉烘俊顐ユ硶缁牊绗熼敓钘夘嚕閸涘﹦鐟归柨鐔剁矙瀵鈽夐姀鐘电杸闂傚倸鐗婄粙鎺楁倶閸繍娓婚柕鍫濋娴滄粓鏌熼搹顐�跨�殿喖顭峰鎾閻樿鏁规繝鐢靛█濞佳兠洪妶鍛瀺鐟滄柨顫忛搹鍦煓闁告牑锟藉啿顫犻梻浣侯焾椤戝棝鎯勯鐐茬伋闁哄啫鐗嗙粈鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰亾閻や線姊洪幖鐐诧拷鏇㈩敄婢跺娼栨繛宸簻閹硅埖銇勯幘璺轰粶妤犵偛顑呴—鍐Χ閸愩劌濮曢梺鐟版啞閸庡啿宓勯梺鍦濠㈡绮婚搹顐＄箚闁靛牆瀚崝宥嗙箾閸涱偄鐏叉慨濠冩そ瀹曟姊荤壕瀣劵闂備胶顭堝锔界椤掞拷閳诲酣濮�閵堝棗锟界兘鏌ｉ幋鐏活亪鏁撻悾灞炬毈闁哄被鍔岄埞鎴﹀幢濡や焦顔勫┑鐘茬棄閵堝棭浠╃紓浣介哺鐢剝淇婇幖浣肝ㄦい鏃�鍎抽幃鎴炵節濞堝灝鏋涢柨鏇樺妼閳诲秹鏁愭径瀣闂佽姤锚椤︽壆鎷归垾鏂ユ斀妞ゆ梻鍋撻弳顒勬寠閻斿鐔嗛柤鎼佹涧婵牓鏌ｉ幘瀵告噰闁哄本鐩獮鍥敍濮樿鲸顕楃紓鍌欒兌婵灚绻涙繝鍥ц摕闁靛ň鏅滈崑鍕偣閸ャ劎鏆欓柟鍓х帛閻撶喖鏌￠崘鈺佺仴濠⒀冪摠椤ㄣ儵鎮欓懠顒傤啋闂佽桨鐒﹂幑鍥极閹剧粯鏅搁柨鐕傛嫹" + serviceid + "]闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柣妯荤垹閸モ晛褰勯梺鎼炲劘閸斿秹鎮￠妷锔轰簻闊洦纰嶇涵楣冩煃鐟欏嫬鐏存い銏＄懇閹矂顢曢锛勭泿闂佷紮绲块崗姗�銆佸Δ鍛妞ゆ劑鍨规禍鍫曟⒑鐠囧弶鎹ｉ柡浣筋嚙椤洦绻濆顒傤唵婵＄偛顑呯�涒晠宕伴崱娑欑厱闁哄洢鍔屾晶鐗堛亜閿斿搫鍔ょ紒杈ㄦ崌瀹曟帒顫濆В娆嶅灲閺屻劑寮撮妸銈囩泿濡炪倖娲╃紞渚�銆侀弴銏℃櫇闁跨喓鏅划濠氭嚒閵堝洨锛濇繛杈剧秬閸嬪倿骞嬪┑鍐╃�洪梺闈涚箞閸婃牠鍩涢幋锔藉仯闁诡厽甯掓俊鍏肩箾閸涱喖濮嶉柡宀�鍠栧畷娆撳Χ閸℃浼�?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻鐔兼⒒鐎靛壊妲紒鐐劤椤兘寮婚敐鍛傜喎鈻庨幆褎顔勭紓鍌欒兌婵挳鎮樺璺何﹂柛鏇ㄥ枤閻わ拷闂佸湱鍋撻幆灞轿涢妶鍥╃＝濞撴艾锕ョ�氳绻濋悽闈浶㈡繛璇х畵閹繝濡烽埡鍌滃幗闂佸搫鍟ù鍌炲吹濞嗘垶鍋栨慨妯夸含绾捐棄霉閿濆牊顏犻悽顖涚洴閺岋綁鍩℃繝鍌滀桓闂佺粯渚楅崰鏍綖濠婂牊鏅稿ù鐘差儏缁犲湱鎲搁悧鍫濅刊闁轰礁鍟撮弻鏇熺珶椤栨碍婀伴柡浣靛�濆濠氬磼濮橆剨鎷烽悜鑺ュ殑闁割偅娲栫粻鐘绘煙閹冾暢濞戞挸绉堕敓钘夌畭閸庨亶藝椤栫偛鍨傞柛宀�鍋為悡銏′繆椤栨瑨顒熸俊鍙夋そ閺岋繝宕遍鐘垫殼闂佸搫鏈粙鎴ｇ亙闂佸憡鍔戦崝瀣уΔ鍛拺闁告繂瀚烽崕蹇涙⒑鐢喚绉�殿喖顭烽幃銏ゆ偖鐎涙ê顏堕梺姹囧灪椤旀牠鎮為悙顑句簻閹兼番鍨虹亸鐢电磼鏉堛劌娴�规洩绻濋幃娆撴嚑椤掑嫮宕滄繝鐢靛剳缁茶棄煤閵堝鏅濇い蹇撶墕缁犳牗绻涢崱妯绘儎闁轰礁鍊块弻娑㈠即閳ュ磭鍘柣搴㈣壘缂嶅﹪寮婚垾鎰佸悑閹肩补锟藉磭顔愮紓鍌欑筏閹峰嘲顭块懜闈涘闁绘挻鐟╁鍫曞醇濠靛棌鎸冮梺浼欑秬娴滎剟鎯�椤忓牊鍊锋い鎺炴嫹妞ゆ洘绮庣槐鎺旂磼濡皷妲堝銈嗘煥缁绘﹢銆佸▎鎾村殥闁靛牆娲﹂弲銊╂⒒閸屾瑧顦﹂柟娴嬪墲缁屽崬煤椤忓海绋忔繝銏ｆ硾閺堫剙鐣烽崣澶岀闁瑰瓨鐟ラ悘鈺傤殽閻愵亜鐏ǎ鍥э躬椤㈡稑鈹戦幇顒侇唲闂傚倸鍊搁ˇ顖滅矓閻熼偊娼栭柧蹇撴贡绾惧吋淇婇婵愬殭闂傚绉瑰娲嚒閵堝懏鐝㈢紓浣哄У閹哥粯绌辨繝鍥ㄥ仺缂佸娉曢ˇ鏉款渻閵堝棛澧柤褰掔畺瀹曨剟濡搁埡鍌楁嫼闂傚倸鐗婃稉鐟扳槈閵忕姷顦ㄩ梺鍐叉惈閸嬪棝宕崶顒佲拻闁稿本鑹鹃敓鑺ユ倐瀹曟劙骞栨担璇ф嫹閿曞偆鏁嗛柛鏇ㄥ亞椤︻參姊洪幐搴㈢闁稿﹤鎽滅划鍫ュ醇閵夛妇鍘介梺鍝勫暙閸婂摜鏁崼鏇熺參闁告劦浜滈弸娑㈡煛瀹�瀣М鐎殿噮鍣ｅ畷鎺懳旀担鍝ュ降闂傚倷娴囧銊х矆娓氾拷閺佸啴顢旈崼婵婃憰闂佹寧娲╅幏鐑芥懚閿濆懌锟芥帒顫濋悡搴ｄ画閻庢稒绻堝缁樻媴閸涘﹥鍎撳銈嗗灥濡繈骞冮悜钘壩ㄩ柍瑙勬嫕閹风兘寮崼婵堫槰濡炪倖鏌ㄥΣ鍫ｎ樄闁哄本鐩獮鍥煛娴ｅ壊鐎峰┑鐐差嚟婵瓨鏅堕悾灞绢潟闁规儳鐡ㄦ刊鎾煕閹炬潙绲婚柛鎾讳憾濮婃椽骞栭悙鎻掝瀳濠电偛鐨烽敓钘夌－閺嗭附绻涘顔荤盎妞ゎ偄鎳橀弻宥夊煛娴ｅ憡娈梺鍛婃煥閹虫ê顫忓ú顏咁棃婵炴垼浜崝鎼佹⒑缁嬪灝顒㈠┑鐐诧躬楠炲啴宕稿Δ浣规闂佸吋浜介崕鎵崲閸℃稒鐓熼柟鏉垮悁缁ㄥ鏌ㄩ悢璇残撻柣妤佺矒瀵偊顢氶敓浠嬨�侀弮鍫濋唶婵犻潧鐗滈崬闈涒攽閿涘嫬浠滄い鎴濇噹闇夊瀣椤ユ艾鈹戦崒姘暈闁绘挸绻愰埞鎴︽偐閼碱剛顔婇梺鍛婂笂閸楁娊寮诲☉銏犵睄闁瑰墽绮宥夋⒑闁稓鈹掗柛鏂跨Ф閹广垹鈹戠�ｎ亞顦板銈嗘尵閸嬬喖顢曟總鍛娾拻濞达絿鍎ら崵锟介梺鎼炲灪閻擄繝鐛繝鍋界喖鎼圭憴鍕啎闂備線娼ч…顓熶繆閸モ晛濮柨鐔剁矙濮婅櫣绮欓幐搴㈡嫳缂備礁顑嗙敮锟犲箖閻愵剛闄勯柛娑樑堥幏濠氭⒑缁嬫寧婀伴柣鐔濆泚鍥晝閸屾稓鍘电紒鐐緲瀹曨剚绂嶆导瀛樼厵妞ゆ牗纰嶅﹢鎵拷鍨緲鐎氼喗绂掗敃鍌氱畾鐟滃秶鑺遍妷锔剧瘈闁汇垽娼ч埢鍫熺箾娴ｅ啿鍚樺☉妯锋闁靛繒濮垫潏鍫ユ⒑閹稿孩鈷掗柡鍜佸亞瀵囨晸閼恒儳绡�闁汇垽娼у瓭闂佺锕ラ幃鍌氼嚕閾忣偆绡�闁搞儯鍔庨崢鎼佹⒑鐠恒劌鏋欏┑顔哄�楃划瀣箳閺冩挻瀚归柨婵嗛娴滅偤鏌涘锟芥禍璺侯潖閾忕櫢鎷烽崷顓炐ｆい銉ヮ槹娣囧﹪顢曢敐搴㈢暥濡炪倖娲╃紞浣逛繆閹间礁鐓涢柛灞剧矊瀵娊姊绘担铏瑰笡婵﹨宕甸崚鎺楊敍閻愬牆顦板鍕拷锝庡墰椤旀洜绱掔紒銏犲籍妞ゃ儲鎸惧褔鏁撴禒瀣�垫繛鍫濈仢閺嬶附銇勯弴鍡楁搐閻撯�愁熆閼搁潧濮囨い顐㈡嚇閺岋絽螣閼姐倕鈪甸梺鍛婃煥缁夎淇婇悽绋跨妞ゆ牗姘ㄩ惈鍕⒑缁嬫寧婀伴柤鍦亾缁傛帒螣娓氼垱瀵岄梺闈涚墕妤犲憡绂嶉幇鐗堢厸闁告侗鍠氱粻妯讳繆閸欏濮嶆鐐搭焽閿熶粙娼ч幗婊堝箠濠靛洨绡�闁汇垽娼у瓭闂佸摜鍣ラ崑濠囥�侀弮鍫濋唶闁哄洨鍟块幏缁樼箾鏉堝墽绉┑顔哄�楀☉鐢稿醇閺囩喓鍘遍梺鎸庣箓缁绘帡鎮鹃崹顐闁绘劘灏欑粻濠氭煛娴ｈ宕岄柡浣规崌閺佹捇鏁撻敓锟�?.");
			int npcid = NpcServiceManager.getNpcIDByKey(npckey);
			new PSendMail2Dst(roleid, npcid, serviceid).submit();
			return;
		}
		
		if (serviceid == NpcServices.ENTER_CLAN_FIGHT)
		{
			new fire.pb.clan.fight.PEnterClanFightBattleField(roleid).submit();
			return;
		}
		
		if (!SceneNpcManager.checkDistance(npckey, roleid)) {
			MessageMgr.sendMsgNotify(roleid, 142369, null);
			return;
		}
		
		final SNpcShare share = NpcManager.getInstance().getNpcShareByID(npcId);
		if(share == null)
		{
			Module.logger.error("SNpcShare == null,npcId = "+ npcId + ",serviceid = "+serviceid+",roleid = " + roleid);
			return;
		}
		
		// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮诲☉妯锋婵鐗婇弫楣冩⒑閸涘﹦鎳冪紒缁橈耿瀵鏁愭径濠勵吅濠电姴鐏氶崝鏍礊濡ゅ懏鈷戦悹鎭掑妼閺嬫瑦淇婇銏狀伃鐎规洘鍔欏畷鐑筋敇閻樼數鍔归梻浣告贡閸庛倕螞閹达箑绠柣鎴ｅГ閺呮煡骞栫划鐧告嫹閼碱剙鍤┑鐘垫暩閸嬫盯骞婂畝鍕瀭闁芥ê顦藉鏍ㄧ箾瀹割喕绨奸柛銈呯Ч閺屾洘寰勬繝鍌涚亾婵炲瓨绮犳禍锝呂涢悢濂夋富闁靛牆妫涙晶閬嶆煕鐎ｎ偆鈽夐弫鍫ユ煛鐏炶鍔滈柍閿嬪灦閵囧嫰骞掗悙鏉戭伓缂傚倷绀侀ˇ閬嶅极婵犳艾绠栭柨鐔哄Т鍞梺鍐叉惈閸婂宕㈡禒瀣拺闁告繂瀚弳娆撴煕婵犲懎鍚归柡渚囧枛閳藉鈻庡鍕泿闂備線娼чˇ顓㈠磿閸濆嫀锝夋惞閸︻厾锛滈柡澶婄墑閸斿秶浜搁鐔翠簻闁瑰墽鍋ㄩ崑銏拷瑙勬处娴滎亜鐣峰锟介、姗�鎮欓弶鎴濆濠电姴鐥夐弶鍖℃嫹濡や焦鍙忛柣鎴ｆ绾剧粯绻涢幋娆忕仼闁汇値鍠楅妵鍕箛閳轰礁濮㈡繛瀛樼矆缁瑥顫忓ú顏呭殥闁靛牆鎲涢姀锛勭婵炴潙顑嗗▍鍥瑰鍜佺劸闁宠閰ｉ獮瀣偐闂堟稓顔岄梻鍌欒兌缁垶宕濆Δ鍛？闁靛牆顦悡鏇㈡煙鐎电校闁哥姵鍔欓弻锝呂旈敓浠嬫偋閸℃瑧绠旈柟鐑樺殮閻熼偊鐓ラ柨鐔剁矙瀹曪繝骞庨挊澶庢憰濠电偞鍨崹鍦不婵犳碍鍊甸梻鍫熺♁閸熺偤鏌涢敍鍗炲枤濞撳鏌曢崼婵囶棡缂佸矁娉曠槐鎺楃叓椤撶姷鐓撻梺璇″櫍缁犳牠寮幘缁樺亹鐎规洖娲ゆ慨娲⒒娴ｇ懓顕滄俊顐＄铻為柛鏇ㄥ灡閸庡﹥绻濇繝鍌滃闁抽攱甯掗妴鎺戭潩閻愵剙顏舵繝鐢靛仒閸栫娀宕堕妸銉ょ綍闂備胶纭堕崜婵嬪Φ閸屾埃妲堟俊顖炴敱椤秴鈹戦悙鍙夘棡闁告梹鐗犻幃闈涚暋闁附瀵岄梺闈涚墕濡绮幒妤佸�垫慨妯煎帶瀵噣鏌熼鍡欑瘈闁诡喒鏅犲畷褰掝敃閵忥紕锟介箖姊绘担铏瑰笡妞ゃ劌鎳橀幃褔宕卞▎鎴犵暥閻熸粍妫冨濠氭晲婢跺娅滈梺绯曞墲鑿уù鐘灲濮婃椽宕烽褏鍔搁梺鎸庢处娴滎亪鐛崘顔碱潊闁靛牆妫楁禒蹇涙煟鎼淬垻鈾侀柨姘亜韫囨挾鍩ｆ慨濠呮閹奉偅鎯旈垾铏闂佸摜鍠撻崑銈夊箖濡わ拷椤繈顢楅崒婧炪劌鈹戦纭锋敾婵＄偠妫勯悾鐑藉Ω閿斿墽鐦堥梺鍛婂姦閻撳牆危闁秵鈷掑ù锝呮啞閸熺偤鏌熺粙娆剧吋闁诡垰瀚伴、娑橆潩鏉堛劍顔曢梻渚�娼х换鍫ュ磹閺囩姷涓嶉柣鐔稿櫞瑜版帗鏅查柛娑卞幖鏉堝懘姊鸿ぐ鎺撴暠婵＄偠妫勯～蹇撁洪鍕獩婵犵數濮撮崯顐︽瀹ュ鍋℃繝濠傚缁舵煡鏌涢悤浣哥仯缂侇喖顑呴濂稿幢濞嗘ɑ绁梺璇插嚱缂嶅棝宕戦崱娑樺偍闂侇剙绉甸悡鐔煎箹閹碱厼鐏ｇ紒澶愭涧闇夋繝濠傚閻帗銇勯姀鈩冾棃妞ゃ垺妫冨畷濂告偄閸濆嫬绠伴梻鍌欑閹诧紕绮欓幒鎴唵婵鎷烽柟顕嗙節楠炲洭鎮ч崼婵撴嫹闂堟耽褰掓晲閸涱厽娈繛瀛樼矊缂嶅﹪寮婚妸鈺傚亜閻犲洦鐣幘鍓佺＜閻庯綆鍋勫ù顕�鏌℃担鍓插剱缂佺粯绋撻敓鐣屾暩椤牆鐡梻浣告贡閳峰牓宕戞繝鍥х伋闁哄啫鐗嗙粈鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰典簼閸Ｑ冾渻閵堝骸锟姐倝宕ㄩ婊愮床闂備胶绮崝锕傚礈濮樿鲸顐介柤纰卞墰绾剧厧顭跨捄鐚村姛缂佸妞介弻锝呪槈閸楃偞鐝濋悗瑙勬礀瀹曨剟鍩ユ径濠庢建闁跨喍绮欏畷顒勫醇閺囩啿鎷洪梻鍌氱墛娓氭顬婅閳规垿鍨鹃搹顐㈡灎閻庤娲忛崹浠嬬嵁濮楋拷瀹曟粍鎷呴悮瀵搁棷闂傚倷鑳堕…鍫ュ嫉椤掑嫭鍋＄憸鏂跨暦濠靛棭鍚嬪璺侯儏閻濇棃鏌℃径濠勫闁告柨锕ョ粋宥咁煥閸喓鍘繝銏ｆ硾閻楀棝宕濋妶鍜佺唵鐟滃宕规禒瀣摕闁靛ň鏅滈崑鍕偣閸ャ劎鏆欓柟鐐暘娴滄粓鏌￠崘鎸庡闂佺粯顨堟慨鎾偩閻戣棄绾ч悹鍥╁亾濡啫鐣烽妸鈺婃晣闁绘瑱鎷烽柛鐐茬埣濮婄粯鎷呯粵瀣秷闂佺娴烽崢褑鐏嬮梺鍛婃处閸樼偓绋夊澶嬬厸鐎广儱鍟俊璺ㄧ磼閻樿崵鐣洪柡灞剧洴閸╁嫰宕楅埡鍌氱仼濞存粍鎮傞、姗�濮�閿涘嫬骞楁俊鐐�栭幐楣冨闯閵夈儮鏋旈柡鍐挎嫹闁靛洤瀚伴、姗�鍩勯崘顏傦拷濠囨⒑閸︻厽鍤�閻庢凹鍘剧划顓㈡偄绾拌鲸鏅┑顔斤供閸撴瑩藟鎼粹檧鏀介柨娑樺娴滃ジ鏌涙繝鍐ⅹ妞ゎ偄绻楅妵鎰板箳閹寸姴鎽嬬紓鍌欓檷閸斿矂骞楅崼鏇熲拻闁稿本鑹鹃敓鑺ユ倐瀹曟劙骞栨担鍝ワ紮闂佸綊妫跨粈浣哄瑜版帗鐓欓梻鍌氼嚟椤︼妇鐥幆褏绉洪柡宀嬬秮楠炲鏁愰崨鍛崌閺屾稒绻濋崒娑樹淮闂佸搫琚崝鎴濐嚕閹绢喗鍊烽悹鍥囧嫬顏堕悷婊呭鐢帞澹曢崸妤佺厵閻庣數顭堟牎闂佸摜濮甸崝娆撳蓟閿濆憘鏃堟晸娴犲鍋嬮柛鈩冪懅缁犳棃鏌熼悜妯烩拻缁炬儳銈搁弻銊╂偄鐠囨畫鎾讹拷鍨緲鐎氼剟鎮惧┑鍫嫹閿濆骸浜滄い蹇撶埣濮婅櫣鎷惔鈥虫殲闁哥喓鍋ら幃妤�顫濋鍌溞ㄥ┑顔硷龚濞咃綁骞戦崟顖毼╅柕澶涘閿熷�熸缁辨挻绗熼崶褎鐏嶉梺鑽ゅ暱閺呮盯顢氶敐澶樻晝闁挎洩鎷风紒鐘哄吹缁辨挻鎷呮慨鎴簻閳绘捇鎮㈤崗灏栨嫼闂傚倸鐗婃笟妤�危閸洘鐓曢幖绮癸拷瀹犲煘閻炴碍鐟╅弻娑㈩敃閻樻彃濮曢梺鎶芥敱閸ㄥ潡寮诲☉妯锋婵☆垶鏀遍鍥ь渻閵堝懐绠伴柣妤�妫楀ú鍧楁⒒娴ｅ摜绉烘俊顐ユ硶缁牊绗熼敓钘夘嚕閸涘﹦鐟归柨鐔剁矙瀵鈽夐姀鐘电杸闂傚倸鐗婄粙鎺楁倶閸繍娓婚柕鍫濋娴滄粓鏌熼搹顐�跨�殿喖顭峰鎾閻樿鏁规繝鐢靛█濞佳兠洪妶鍛瀺鐟滄柨顫忛搹鍦煓闁告牑锟藉啿顫犻梻浣侯焾椤戝棝鎯勯鐐茬伋闁哄啫鐗嗙粈鍐┿亜閺傛寧顫嶇憸鏃堝蓟濞戙垹鐒洪柛鎰亾閻や線姊洪幖鐐诧拷鏇㈩敄婢跺娼栨繛宸簻閹硅埖銇勯幘璺轰粶妤犵偛顑呴—鍐Χ閸愩劌濮曢梺鐟版啞閸庡啿宓勯梺鍦濠㈡绮婚搹顐＄箚闁靛牆瀚崝宥嗙箾閸涱偄鐏叉慨濠冩そ瀹曟姊荤壕瀣劵闂備胶顭堝锔界椤掞拷閳诲酣濮�閵堝棗锟界兘鏌ｉ幋鐑嗙劷闁告鏁诲缁樼瑹閸パ冧紟缂備胶濮甸崹鍧楁偘椤旂⒈娼ㄩ柨鐔剁矙瀵鈽夊Ο婊呭枔缁辨帒螣閾忕櫢绱﹀┑鐘愁問閸犳牠鏁冮妷銉富濞寸姴顑呯粻鐘绘煟閹邦剚鎯堥崬顖炴⒑閸涘﹤濮囩憸鎵仱閺屽洭顢涢悙鏉戠檮濠电娀娼ч弸纭呫亹閹烘垹顦ч梺绋跨箺閸嬫劗绮欓崶顒佲拻闁稿本鑹炬禍鐐烘煕閵娿儳鍩ｇ�殿喖顭烽弫鎰緞鐎ｎ偅鐝抽梻浣告啞娓氭宕归搹顐㈩嚤闁搞儮鏅濈壕濂告煟閹伴潧澧柛鏂诲�濋弻鏇㈠醇閻旂锟芥劗锟芥鍠栭…閿嬩繆閹间礁鐓涢柛灞剧煯缁ㄥ姊洪懡銈呅㈡繛璇х畵閹箖顢曢敃锟界粻濠氭偣娴ｇ瓔娼愰悗姘秺閺屾盯鈥﹂幋婵呯凹缂備浇鍩栭悡锟犲箖濡わ拷椤繈顢曢姀鐘点偖闂備胶绮笟妤呭闯閿濆懐鏆﹂柛顐ｆ处閺佸棗顭跨捄渚剱婵炲懎绉瑰缁樻媴閾忕懓绗￠柦鍐含閹叉悂寮堕崹顔芥缂備緡鍠栭…閿嬩繆閻戣棄鐓涢柛灞绢殕鐎氫粙姊绘担渚劸闁哄牜鍓熼幃鐤樄閽樻繈鏌ㄩ弮鍌涙珪缂佲槄鎷烽梻浣芥硶閸犲秶鍒掑▎鎾宠摕闁糕剝顨忛崥瀣煕濞戝崬鐏犳鐐茬墦濮婄粯鎷呯粙娆炬闂佺顑勭欢姘暦閺囥垺鐒肩�广儱鎳愰敍婊堟⒑闂堟单鍫ュ疾濠婂牊鍋傞柡鍥╁枔缁★拷闂傚倸鐗婄粙鎺椝夊鍫熺厓缂備焦蓱缁�鍫ユ煙閸欏鍊愰柟顔ㄥ洤閱囨繝闈涚墢閹虫牠姊绘担渚劸闁挎洏鍊濋垾锕傛倻閽樺鎽曢梺闈涚墕椤︻垳绮婚幒妤佺厵闁绘垶锚閻忋儱鈹戦鍝勭伈婵﹥妞藉畷銊︾節閸曨剙娅戦梺璇插绾板秴顭垮锟介敐鐐剁疀閹句焦妞介、鏃堝礋椤忓棛鍊為梻鍌欑閹测�趁洪敃鍌氱；闁告侗鍘搁弸鏃堟煛鐏炶鍔滈柍閿嬪灴閹嘲鈻庤箛鎿冧紑闂佺妫勯崯浼存晸閸婄噥娼愭繛鍙夌矒瀵偅绻濆顒佺�梺鐟板⒔缁垶宕靛澶嬬厪濠㈣鍨伴崯顖氣枔瑜版帗鈷掑ù锝囧劋閸わ拷闂佹悶鍊栭悧鐘荤嵁韫囨稒鏅搁柨鐕傛嫹
		if (share.npctype == 16) {
			if (serviceid == NpcServices.WATCH_INST_NPC_BATTLE) {
				new fire.pb.instancezone.PWatchNpcBattle(roleid, npckey).submit();
				return;
			}
			
			if (serviceid == NpcServices.END_INST_NPC_BATTLE) {
				new fire.pb.instancezone.PEndNpcBattle(roleid, npckey).submit();
				return;
			}
			
			fire.pb.instancezone.Module.doNpcService(roleid, npckey, share, serviceid);
			return;
		}
		
		if(!fire.pb.npc.NpcServiceManager.getInstance().hasServiceByNpcKey(roleid, npckey, serviceid))
			return;

		fire.pb.map.Npc gsnpc = fire.pb.map.SceneNpcManager.selectNpcByKey(npckey);
		if (gsnpc == null)
			return;
		
		if (serviceid == NpcServices.SEND_MAIL
				|| serviceid == NpcServices.CIRCTASK_SCHOOL1 || serviceid == NpcServices.CIRCTASK_SCHOOL2 
				|| serviceid == NpcServices.CIRCTASK_SCHOOL3 || serviceid == NpcServices.CIRCTASK_SCHOOL4
				 || serviceid == NpcServices.CIRCTASK_SCHOOL5 || serviceid == NpcServices.CIRCTASK_SCHOOL6
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT1
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT2
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT3
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT4
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT5
				 || serviceid == NpcServices.CIRCTASK_SCHOOL_SUBMIT6
				 || serviceid == NpcServices.CATCH_IT
				 || serviceid == NpcServices.CATCH_IT_SUBMIT
				 || serviceid == NpcServices.CATCH_IT_Battle
				 || serviceid == NpcServices.CATCH_IT_QUERY) {
			CircleTaskManager.getInstance().process(roleid, npckey, serviceid);
			return;
		}
		
		if (serviceid == NpcServices.TIMER_NPC_Battle) {
			new fire.pb.activity.timernpc.PTimerNpcFightProc(roleid, npcId, npckey).submit();
			return;
		}
		
		if (serviceid == NpcServices.EVENT_NPC_Battle) {
			new fire.pb.mission.treasuremap.PEventNpcFightProc(roleid, npcId, npckey).submit();
			return;
		}
		
		if (serviceid == NpcServices.WATCH_NPC_BATTLE) {
			new fire.pb.activity.timernpc.PWatchNpcBattle(roleid, npcId, npckey).submit();
			return;
		}
		
		if (serviceid == NpcServices.WATCH_EVENTNPC_BATTLE) {
			new fire.pb.mission.treasuremap.PWatchNpcBattle(roleid, npcId, npckey).submit();
			return;
		}
		
		//TODO 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ゆい顓犲厴瀵鏁愭径濠勭杸濡炪倖甯婇悞锕傚磿閹剧粯鈷戦柟鑲╁仜婵″ジ鏌涙繝鍌涘仴鐎殿喛顕ч埥澶愬閳哄倹娅囬梻浣瑰缁诲倸螞濞戔懞鍥Ψ瑜忕壕钘壝归敐鍛儓鐏忓繘姊洪崨濠庢畷濠电偛锕ら锝嗙節濮橆厼浜滈梺绋跨箰閻ㄧ兘骞忔繝姘厽閹艰揪绲鹃弳鈺傘亜椤撶偟澧涘ǎ鍥э攻缁傛帞锟斤綆鍋�閹疯櫣绱撴担鍓插剱妞ゆ垶鐟╁畷鏇烆吋婢跺鍘辨繝鐢靛Т閸熸壆绮婚悙纰夋嫹濞堝灝鏋涙い顓炲槻椤曪綁骞橀钘変簻闂佹儳绻楅鏍疮鎼淬劍鈷掑ù锝囶焾椤ュ繘鏌ｉ幘宕囧ⅵ鐎规洑鍗冲浠嬪Ω閿曪拷瀵潡鏌ｉ悩鑽ょ窗闁靛棴鎷烽梺鐚存嫹濞寸姴顑嗛悡鐔兼煙闁箑澧伴柟鐣屽█閹绠涢敐鍛闂侀潧娲ょ�氫即銆佸锟介幃鈺呭箵閹烘垹顓洪梺璇插椤旀牠宕板☉銏╂晪鐟滄棃宕洪妷锕�绶炲┑鐘插閸嶉潧顪冮妶鍡楀Ё缂佽尪濮ら崚濠囧箥椤斿墽锛濋梺绋挎湰閼归箖鏁撻悾灞藉幋婵﹨妫勯鍏煎緞婵犲倻锟筋參姊洪懡銈呮瀾濠㈢懓顑夊鎼佸籍閸屾稑鏋戦梺鍝勫�归娆忣焽閺嶃劎绠剧�瑰壊鍠曠花鍏笺亜閵夈儳澧﹂柡灞界У濞碱亪骞忕仦钘夊腐婵犲痉銈庡殝缂傚秳绀侀～蹇撁洪鍕獩婵犵數濮寸�氼參宕宠缁辨挻鎷呴搹鐟扮闂佹寧娲忛崹浠嬪箖娴兼惌鏁婇悹鎭掑妿閺夌鈹戦悙鏉戠仸闁荤喆鍎甸弫鎾绘寠婢舵鍚嬮梺鍝勮閸婃繈鐛笟锟介獮鎺楀箣濠靛棭娼ュ┑鐘垫暩閸嬫盯骞婅箛鏇炲灊闁规崘顕ч拑鐔兼煟閺傚灝鎮戦柛銈呭暣閺屽秹宕崟顐拷姘熆閼搁潧濮堥柣鎾卞劦閺岋綁寮崒婊冪濡炪們鍎遍ˇ閬嶆儉椤忓棛纾奸柕蹇曞Т缁秴顪冮妶鍐ㄧ仾闁荤啿鏅犻悰顕�骞掑Δ锟界粻濠氭煕閹捐尪鍏屾俊鎻掓川缁辨挻鎷呯粙搴撴寖婵犫拃鍕垫疁闁轰礁鍟撮、鏇㈡晝閿熺晫绮婚鐐寸厽闁硅揪绲鹃ˉ澶岀磼閿熶粙宕橀鐣屽幘缂佺偓婢樺畷顒佹櫠閹绢喗鐓熸繛鎴炵懄瀹曞本鎱ㄦ繝鍕笡闁瑰嘲鎳愮划鐢碉拷锝庝簼閻ｄ即姊绘担鍛婃喐濠殿喚鏁婚幃褔鎮╅懠顒佹闂佸湱澧楀姗�宕归崒娑栦簻闁哄洨鍋為崳瑙勭箾閸稑濡界紒缁樼箞閹粙妫冨ù璁圭悼閻ヮ亪寮剁捄銊愌咃拷瑙勬礃閸ㄥ灝鐣烽悢纰辨晬婵炴垶鑹鹃獮妤佺節濞堝灝鏋熼柨鏇楁櫊瀹曟粌鈽夐姀鐘殿啈闂佺粯顭囩划顖炲磹閸偅鍙忔俊顖濐嚙婢ь垱绻涢崗鐓庡缂佽鲸甯炵槐鎺懳熼崗鐓庡灡婵°倗濮烽崑娑㈩敄婢舵劕绠栨繛鍡樻尭閸ㄥ倹銇勯幇鈺佺仾闁绘繃绻堝濠氬磼濞嗘劗銈板┑鐐差槹濞茬喎鐣锋导鏉戠閻犲洩灏欓弻褍顪冮妶鍡楀Ё缂佺姵鍨规竟鏇熺節濮橆厾鍘梺鍓插亝缁诲秴危閾忕櫢鎷风憴鍕矮缂佽埖宀搁獮鍐ㄎ旈崨顔芥珳闁硅偐琛ラ崜婵嬫倶瀹ュ鈷戦柛婵嗗閸ｈ櫣绱掔拠鑼ⅵ鐎殿喖顭锋俊鎼佸煛閸屾矮绨婚梻浣告啞閹哥兘鎳楅崼鏇熷亗闁瑰墽绮崐鐢告偡濞嗗繐顏紒锟介崘顔界厽闁绘柨寮跺▍濠冾殽閻愭彃鏆ｉ柛鈺嬬節瀹曟﹢顢旈崱顓犲簥濠电姷顣藉Σ鍛村垂閹惰棄鍌ㄧ憸鏃堟偘椤斿槈鏃堝川椤旇瀚藉┑鐐舵彧缁蹭粙骞夐敓鐘茬畾闁割偁鍎查悡鏇炩攽閻樻彃鏆為柛濠冨姍閺岀喖顢欓惌顐邯閸╃偤骞嬮悪鍛闁挎繂绨肩花浠嬫煟閿濆棙銇濇慨濠呮濞戠敻宕ㄩ鍏奸敪闂傚倸鍊哥�氼剛锟芥矮鍗抽獮鍐晸閻樻彃宓嗛梺闈涚箚閿熺晫顒查幏鐑芥偨閸涘﹦鍙嗗┑鐘绘涧濡稒鏅堕弴銏＄厽闁圭偓娼欐慨宥夋煙椤旂瓔娈旀い顐ｇ箞閹瑩顢楅敓浠嬵敂閿燂拷?,闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鎮㈤崗灏栨嫽闁诲酣娼ф竟濠偽ｉ鍓х＜闁绘劦鍓欓崝銈囩磽瀹ュ拑韬�殿喖顭烽幃銏ゅ礂鐏忔牗瀚介梺璇查叄濞佳勭珶婵犲伣锝夘敊閸撗咃紳婵炶揪绲介幖顐㈡毄濠电姷鏁搁崕鎴﹀箯瀹勬嫈鏃堟偐闂堟稐娌梺缁橆殕椤ㄥ懘鈥﹂崶顏嗙杸婵炴垶顭囬ˇ顓㈡偡濠婂啰绠洪柟绛嬪亰濮婅櫣鎷犻崣澶婃敪濡炪値鍋勯ˇ顖滃弲濠殿喗顨愰幏鐑芥煙椤曞棛绡�闁轰焦鎹囬幃鈺呮嚑閼稿灚鍟洪梻鍌欒兌缁垰顫忛懡銈勭剨闁靛ň鏅涚粻顖滐拷鐟板婢瑰危閸喓绠鹃柛鈩冿供閻掍粙鏌涢弮鍫缂佽鲸鎸婚幏鍛村传閸曟垹鍋ら弻娑欐償閵堝懐姣㈤梺鐟扮畭閸ㄥ綊鍩ユ径鎰潊闁绘ɑ顔栭崯瀣⒒娴ｅ摜绉烘い锝忕畵閹虫宕奸弴鐐缎曢柣搴秵閸犳鍩涢幋锔界厱婵犻潧妫楅顏呯節閿熶粙骞嶉鍓э紲闁诲函缍嗛崑鍕倶閹绢喗鐓欐い鏃囨閸斻倝鏌嶇憴鍕仼闁跨喐鏋荤紞鍡涘磻閸涱厸鏋嶉柕蹇ョ磿缁犻箖鎮楅悽娈跨劸鐎涙繂顪冮妶鍡楃仴闁硅櫕鍔栫粩鐔煎即閻樼數锛滃┑鈽嗗灥閸嬫劙顢欓弴銏♀拺闁荤喖鍋婇崵鐔兼煕鐎ｎ剙浠遍柟顖氬暣楠炲鏁傞悾灞藉箺婵＄偑鍊栭幐楣冨磻閻愭牳澶愬閵堝棛鍘搁柣蹇曞仜婢ц棄煤鐎甸潻鎷峰▓鍨灍闁规瓕娅曟穱濠囧箹娴ｈ倽銊ф喐瀹�鍕仺濠电姵纰嶉埛鎺懨归敐鍫燁仩閻㈩垱鐩弻鐔奉潰瀹�濠傛闁绘挶鍊濋弻锝夊籍閸屾艾浠橀梺钘夊暟閸犳捇鏁撻挊澶岀暛闁稿酣浜惰棟妞ゆ牜鍋為崑鍌涚箾閹寸偐妫ㄧ憸鐗堝笚閺呮煡鏌涘☉鍗炴灈闁哄棗鐗撳铏规嫚閼碱剛顔夐梺鐟版啞閹倿宕洪悙鍝勭闁挎棁妫勯敓鐣屽厴閺屻倗鍠婇崡鐐差潻濡炪倧绲介悥鐓庮潖濞差亜绠归柣鎰絻椤姊虹粙璺ㄦ槀闁稿﹥顨堥崚鎺戭潩椤撶喓绉堕梺闈浤涢崨顖涱潓闂傚倷鐒﹂幃鍫曞磿椤栫偛绀夐悘鐐缎掗弸鏃堟煏閸繃濯兼繛鎾愁煼閺屾洟宕煎┑鍥舵缂備焦顨呴崐鍧楀蓟閿濆绠抽柣鎰暩閺嗙娀鎮跺顓犳噰闁哄本鐩、鏇㈡偐閹绘帒顫氶梻浣瑰▕閺�閬嶅垂閸ф钃熸繛鎴炃氶弨浠嬫煕閳╁喚娈㈠ù鐘冲劤閳规垿鎮崨顔碱伓濠电偛顕崢褔鎮洪妸鈺傚亗闁绘柨鍚嬮悡鍐煕濠靛棗顏电�规悶鍎甸弻锝堢疀閵壯呮殼闂佸搫鐭夌徊浠嬪煡婢舵劕纭�闁绘劕顕ぐ搴繆閵堝洤啸闁稿鍋熼弫顕�骞掗弴鐘辩胺闂傚倷娴囧▔鏇㈠窗閺囩倣娑㈠礋椤斿彞缃曞┑鐘愁問閸犳銆冮幇鏉跨闂佸灝顑愬▓浠嬫煟閹邦剦鍤熷褔浜堕弻銊╂偄鐠囨畫鎾剁磼鐎ｎ偄绗╅柟绛嬪亰閺岋綀绠涢幘鍓侇吅闂佸憡顨嗘繛濠傤嚕婵犳碍鏅查柛鈩兠崝鍛存⒑閹稿海绠撻柟宄邦儔瀵娊顢橀悩鐢碉紳婵炶揪缍�濞咃絿鏁☉姘辩＜閻犲洩灏欐晶锔筋殽閻愭彃鏆炵紒鍌涘笧閿熸枻缍嗛崑鎺懳涢崘銊㈡斀闁绘劖娼欓悘锔姐亜閵娿儳澧︽鐐村灴瀵挳濮�閳撅拷閹风粯绻涙潏鍓у埌闁硅姤绮庣划鏂棵洪鍛幐闂佽法鍠嶇划娆撳蓟閸℃鍚嬮柛娑卞幘閿熺瓔鍙冨铏圭矓閸℃顏存繛鍫燁焽閿熷�燁潐閹搁娆㈠鑸靛亗妞ゆ劧绠戦悙濠囨煏婵炑嶆嫹婵′勘鍔戝娲传閸曨剙娅ら梺璇″枛閸婂灝顕ｆ繝姘╅柍鍝勫�告禍鐐烘⒑缁嬫寧婀扮紒瀣灴椤㈡棃鏁撻敓锟�
		if (serviceid == 999999) {
			new fire.pb.activity.timernpc.PFightProc(roleid, npcId, npckey).submit();
			return;
		}
		
		if (serviceid == NpcServices.FORTUNE_WHEEL) {
			PReqFortuneWheel pwheel = new PReqFortuneWheel(roleid, npckey, npcId, true, NpcServices.FORTUNE_WHEEL);
			pwheel.submit();
			return;
		}
		
		if (serviceid == NpcServices.LEADER_SEE_CAMPAIGN_LIST) {// 濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣閿濆棭妫勯梺鍝勵儎缁舵岸寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閹冣挃缂侇噮鍨抽幑銏犫槈閵忕姷顓哄┑鐐叉缁绘帗绂掓ィ鍐┾拺缂佸顑欓崕宥夋煕婵犲啰绠炵�殿喖顭峰鎾偄閾忚鍟庨柣鐔哥矊缁夊綊鐛繝鍐╁劅闁靛鍎叉潏鍫濃攽鎺抽崐鏇㈠箠韫囨稑鐓曢柟瀵稿Х绾惧ジ鎮楅敐搴″箺缁绢厼鐖奸弻锝堢疀濞戞鍠氶梺鍝勬湰缁嬫捇鏁撻弬銈囩У闁稿妫濋崺銉﹀緞鐎ｃ劋绨婚梺鍝勫�藉▔鏇犵不娴煎瓨鐓冮悷娆忓閻忓锟借娲栭悥鍏间繆閻戣棄围闁搞儮鏅滈弲銊╂⒒閸屾艾锟介绮堟笟锟介獮鏍敃閿曪拷绾惧綊鏌熼梻瀵稿妽闁稿﹨鍩栫换婵嬫濞戝崬鍓伴梺缁樻尰濞茬喖寮婚敓鐘茬闁靛ě鍐炬澑闂備胶绮幐濠氭儎椤栫偛钃熸繛鎴欏灩閻撱垽鏌ㄩ悢鍓佺煓鐎殿喗褰冮埥澶愬閳ョ鎷烽崼鏇熺叆婵犻潧妫欏婵堢棯閹佸仮鐎殿喖鐖煎畷鐓庘槈濡警鐎撮柣搴ゎ潐濞叉牠鎯夋總鍛婃櫢闁稿﹦鍣ュ鎰箾閸欏鐒介柡渚囧櫍楠炴帒螖閿熶粙鎮″┑瀣婵烇綆鍓欐俊鑲╃磼閻欏懐绋荤紒缁樼箞濡啫鈽夊▎娆戠闂備浇顕х�涒晛顭囧▎鎾崇厴闁硅揪闄勯崑鎰版煙妫颁胶顦﹂柡鍛翠憾濮婃椽宕妷銉愶綁鏌ｅΔ鍐ㄢ枅鐎殿噮鍋婂畷姗�顢欓崲澹喚鐔嗛悹铏瑰劋閿涙棃鏌熸搴″幋闁轰礁鍟撮弫鎾寸鐎ｎ偄浠奸梺璺ㄥ枔婵绮婚妷锔轰簻闁哄啫娲よ濡炪倖姊瑰ú鐔奉潖缂佹ɑ濯村〒姘煎灡閺侇垶姊虹憴鍕仧濞存粠浜滈～蹇旂鐎ｎ亞顦板銈嗙墬濮樸劑寮昏濮婇缚銇愰幒鎿勭吹闂佺粯甯粻鎾诲箖閿熺姴唯闁冲搫鍊婚崢浠嬫⒑閸濆嫭宸濋柛瀣洴閺佹捇鎸婃径瀣闂佽法鍠曟慨銈夋偄椤掑嫬绠柨鐕傛嫹?婵犵數濮烽弫鍛婃叏閻戣棄鏋侀柛娑橈攻閸欏繘鏌ｉ幋锝嗩棄闁哄绶氶弻娑樷槈濮楀牊鏁鹃梺鍛婄懃缁绘劙婀侀梺绋跨箰閸氬绱為幋锔界厱闁靛鍎遍敓钘夋健瀵鏁愭径濠勵啋閻庤娲栧ú銈夊传濞差亝鈷戦柛婵嗗閸庢劙鏌ｅΔ渚囨畼闁瑰箍鍨归埥澶愬閻樻鍚呮繝鐢靛仜濡鎹㈤幒鎾额浄濡わ絽鍟埛鎴︽煕濠靛棗顏柛锝堟缁辨帞鎷犻懠顒�鈪甸悗娈垮枛椤嘲顕ｉ幘顔藉亜濡炲娴烽悰顕�姊绘担铏广�婇柛鎾寸箚閹筋偊姊虹紒妯肩畺婵﹨宕靛Σ鎰板箳濡や礁锟介攱銇勯幒鐐村闂佸憡鏌ｉ崐妤冩閹炬剚鍚嬮柛婊冨暢閸氼偊鎮楀▓鍨灈妞ゎ厾鍏橀獮鍐閵堝棗浜楅柟鑹版彧缁插潡寮虫导瀛樷拻濞达絽鎲￠幆鍫熴亜閿旇鐏︾�殿喗褰冮埞鎴狅拷锝庝簽椤旀帞绱撻崒娆戝妽妞ゎ厼娲畷銏＄鐎ｎ偀鎷洪柣鐔哥懃鐎氼剟宕濋妶澶嬬厽閹烘娊宕濇惔锝呭灊闁割偒婢侀幏鐑芥晲鎼粹剝鐏嶉梺缁樻尰閻╊垶骞冨锟介幃娆愶紣濠靛棙顔勫┑鐘愁問閸犳牠宕愰崸妤�钃熼柣鏃傗拡閺佸﹪鏌涘┑鍡楊伒闁瑰嘲鍢查埞鎴﹀幢濞嗘劖顔曢梻浣告贡閸庛倝宕归悢鑲猴綁宕奸悢绋垮伎濠德板�ч幏閿嬩繆椤愶絾鈷掓俊鍙夊姍閺佹捇鏁撻敓锟�?  by changhao
			new fire.pb.school.shouxi.PSendCandidateList(roleid, npckey).submit();
			return;
		}
		if (serviceid == NpcServices.VOTING) {// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎娆戝枠闂傚倷娴囧▔鏇㈠窗閹版澘鍨傛繝闈涱儐閸婂潡鏌ㄩ弮鍌氫壕鐎规洖寮剁换婵嬫濞戝崬鍓伴梺缁樺姇閿曪箓骞夐崨濠冨劅闁愁厹鍎荤紞渚�銆佸Δ鍛妞ゆ垼濮ょ�氬ジ姊绘担鍛婂暈缂佽鍊婚敓鑺ュ嚬閸ｏ綁宕洪姀鈥崇窞闁归偊鍘鹃崢浠嬫椤愩垺澶勯柡灞诲妽閹便劌顓奸崶閿嬪閻熸瑥瀚径鍕煕鐎ｎ亷宸ラ柣锝囧厴閹垽宕楅悡搴濈紦闂傚倸鍊搁悧濠勭矙閹存粳褔寮婚妷锔规嫽闂佺鏈悷褔藝閿曪拷椤潡鎮风敮顔垮惈閻庤娲橀崹鍨暦閵娾晛绾ч柟瀵稿Х閺嗘澘鈹戦悩鍨毄濠殿喗鎸抽獮蹇曪拷锝庯拷顓犲枛瀹曠喖顢涘☉鎺撳闂備礁鎲＄换鍌滐拷姘煎灦閿濈偤鏁冮崒娑氬幈闂佸搫鍠涢幏鐑芥煕閵娿儲鍋ラ柣娑卞櫍瀹曟﹢顢欓崲澹喚鐔嗛悹铏瑰皑閸旂喖鏌ㄥ☉娆戠煀闁宠鍨块幃娆撳级閹寸姳妗撻梻浣瑰濞插秹寮插鍜冩嫹闂堟稏鍋㈤柡浣规崌閺佹捇鏁撻敓锟�
			new CReqCandidatesList(roleid, npckey).process();
			return;
		}
		if (serviceid == NpcServices.LEADER_CAMPAIGN) { //缂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚悢鍏尖拻閻庨潧澹婂Σ顔剧磼閻愵剙鍔ょ紓宥咃躬瀵鏁愭径濠勵吅闂佹寧绻傞幉娑㈠箻缂佹鍘辨繝鐢靛Т閸婂綊宕戦妷鈺傜厸閻忕偠顕ф慨鍌滐拷娈垮枟閹告娊銆侀弮鍫濆窛妞ゆ挆鍌滃濠电姷顣槐鏇㈠磻閹达箑纾归柕鍫濐槸绾惧鏌涢弴銊ュ箺鐎规洘鐓￠弻鐔猴拷鐢殿焾鏍￠悗瑙勬礀瀵墎鎹㈠┑瀣棃婵炴垶鐟辩槐鐐测攽閻愯尙姣為柡鍛矒婵＄敻宕熼姘鳖唺闂佺懓鐡ㄧ换锟介柛鐘诧功缁辨挻绗熼敓鑺ョ閼哥數顩查悹杞拌濞兼牜绱撴担鑲℃垶鍒婇幘顔界厾闁诡厽甯掗崝銈夋煏閸℃韬慨濠冩そ濡啴鍩￠崘顎倗绱撴担鍝勑ｉ柟鐟版喘閹即顢欑捄銊ф澑濠电偞鍨堕悷锕�鈻嶉姀銈嗏拺閻犳亽鍔屽▍鎰版煙閸戙倖瀚�?? by changhao
			new CCheckCanElect(roleid, npckey).process();
			return;
		}
		if (serviceid == NpcServices.LEADER_CHALLENGE) {// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氱紓鍌氬�烽懗鑸垫叏闁垮绠鹃柨鐔剁矙閺屸�崇暆閿熶粙宕伴弽顓犲祦闁硅揪绠戠粻娑㈡⒒閸喓鈾佹い鏂垮缁辨捇宕掑▎鎺戝帯婵犳鍠氶崗妯虹暦娴兼潙鍐�妞ゆ挾鍋犻幗鏇㈡⒑闂堟单鍫ュ疾濠婂牆纾婚柛鏇ㄥ灡閻撴洘绻濋棃娑欘棞闁绘繃妫冮弻鏇＄疀鐎ｎ亷鎷烽弽顓熷亗闁哄洢鍨洪悡蹇撯攽閻愯尙浠㈤柛鏃�宀搁弻銊╂偄缂佹﹩妫勫┑鐐茬毞閿熻姤鍓氶崵鏇㈡偣閸ャ劎銈存俊鎻掔墦閺屾洝绠涙繝鍐╃彆闂佸搫鎳忕换鍫濐潖濞差亜绠伴幖杈剧悼閻ｉ潧鈹戦埥鍡椾簼闁烩晩鍨靛Λ鐔兼⒑闂堟侗妲撮柡鍛矒閸╂盯骞嬮敂鐣屽幍闂佸吋绁撮弲娑欑濠婂啠鏀介柍銉у仺閸嬨垽鏌＄仦鍓р檨缂佺粯绻堝畷鎺戭煥閸涘懌鍔嶇换婵堝枈婢跺瞼锛熼梺杞版祰椤曆囨偩閻戣姤鍋勭痪鎷岄哺閺咁剙鈹戦鏂よ�跨痪顓熸倐瀹曨剙煤椤忓懐鍘介柟鑹版彧缁辨洟鎮鹃銏＄厱閹肩补锟藉疇鍩為柣鎾卞�濋弻鏇熺箾閻愵剚鐝曢梺绋款儍閸婃牗绌辨繝鍥舵晬婵犻潧妫斿Ч妤冪磼閻愵剙绀冩俊顐㈠濠�渚�姊洪幐搴ｇ畵閻庢凹鍣ｉ幆灞解枎閹惧鍘卞┑鐘绘涧閻楀棝宕濈�ｎ�﹀酣宕惰闊剚銇勯姀鈩冪濠殿噯鎷烽梺缁橆焾濞呮洟顢欓幒妤佺厽閹兼番鍩勯崯蹇涙煕閻樺磭澧甸柍銉畵閹粓鎸婃径濠勶拷顓㈡⒑鐠団�崇�婚柛娑卞枟椤旀洟姊绘担瑙勫仩闁稿寒鍨跺畷婵嗩吋婢舵ɑ鏅╅梺鐟板⒔缁绘繄鎹㈤崱娑欑厽闁规澘鍚�缁ㄥ鏌ㄩ悢璇残撻柣妤冨Т椤曪絾绻濆顑┾晠鏌嶆潪鐗堢グ鐞氭繈姊虹拠鎻掑毐缂傚秴妫濆畷顖炴偄缁嬭法绐炴繝鐢靛Т濞寸兘宕ｉ崱娑欌拺闁告稑锕ョ粈锟介梺璇茬箲瀹�鎼併�佸▎鎾崇睄闁割偆鍟块幏铏圭磽閸屾瑧鍔嶉柨姘舵煟韫囧鍔滅紒缁樼〒閹风姾顦叉い鈺婂墴閺屻劑鎮㈢拠娈嬫捇鏌ｉ弮鎴濆⒋妤犵偛绻橀弫鎾绘晸閿燂拷
			new CChallengeShouXiDiZi(roleid, npckey).process();
			return;
		}
		if (serviceid == NpcServices.LEADER_MY_CAMPAIGN) {// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╄兌閿熻棄绠嶉崕閬嵥囬婊呯焼閻庯綆鍋佹禍婊堟煙閸濆嫮肖闁告柨绉甸妵鍕棘閹稿骸鏋犲┑顔硷功缁垶骞忛崨瀛樺殟闁靛／渚婃嫹婵犲洦鈷戦柛婵勫劚鏍￠梺鍦焾椤兘鐛崼銉ノ╃憸婵嬪箯閻戣姤顥堟繛鎴炵懄閸犳劗绱掗悙顒�鍔ら柕鍫熸倐瀵顓兼径濠佺炊闂佸憡娲﹂崜娆忊枍閵堝鈷戦柟鎯板Г閺侀亶鏌涢妸銉у煟濠碉紕鏁诲畷鐔碱敍濮橀硸鍞洪梻浣虹帛閸旀牕顭囧▎鎿冩晜闁告挷鑳剁壕浠嬫煕鐏炲墽鎳呮い锔奸檮閵囧嫰鏁傞崹顔肩ギ濡ょ姷鍋為崝娆撶嵁鎼淬劍瀵犲璺虹焾閸炵敻姊绘担渚敯闁规椿浜浠嬪礋椤栨氨锛涢梺鍛婃处閸ㄩ亶宕愰崼鏇犲彄闁搞儜鍕闯闂佸憡鏌ㄧ粔褰掑蓟閿熺姴纾奸柨鏃囨椤忓爼姊婚崒姘拷鎼佸磹閻戣姤鍤勯柛鎾茬閸ㄦ繃銇勯弽銊х畺闁瑰啿鐭傞弻锝夋偄閸濄儳鐓佸┑鐘灪閿曘垹鐣烽鐐茬骇闁规惌鍘煎▓銊╂⒑瑜版帗锛熼柣鎺炵畵瀵彃顭ㄩ崼鐔哄幈闂佸湱鍋撻〃鍛村箯閹寸姵顫曢柡灞诲劜閳锋垿鏌涘┑鍡楊伌婵″弶鎮傞弻锝呂旈敓鐣岋拷姘緲閻ｅ嘲鈹戦崱鈺佹倯婵犮垻娅㈢粻鎴λ囬棃娑氭殾濠靛倻顭堝敮闂佹寧姊归崕鎶界嵁閹扮増鈷戦悹鍥皺缁犳娊鏌涚�ｃ劌锟芥洟鈥﹂崶銊х瘈婵﹩鍓涢鍡涙倵閻熸澘顏鐟版瀵娊鏁冮崒娑氬幈闂侀潧顧�缁茶姤淇婇懞銉ｄ簻闁哄喛鎷烽柟鍝ョ帛缁岃鲸绻濋崶銊ワ拷閿嬨亜韫囨挸顏甸柟椋庡厴瀵粙顢橀悙鑸垫啺闂備線娼ц墝闁哄懏绋撻幉鎾晝閸屾稑锟界敻鏌ㄥ┑鍡涱�楅柡鍡楊槸椤法鎹勬笟顖滃彆闂佺粯鎸堕崕鐢稿蓟濞戙垹鍗抽柣鎰悁缁潧顪冮妶鍡樷拹婵☆偄鍟～蹇涙惞閸︻厾锛滃┑鈽嗗灥濞咃絾绂掗弶鎴旀斀闁绘劙顤傞崵瀣攽閳ヨ櫕鍠橀柡浣规崌閹崇偤濡烽妸銉缂傚倸鍊哥粔鎾晝閵堝缍栭煫鍥ㄦ⒒缁★拷濠殿喗锕╅崜娑㈡晬濠婂啠鏀芥い鏃�鏋绘笟娑㈡煕閹惧崬濮傛鐐茬箻閹粓鎳為妷銉嫹婵犳碍鐓犻柟顓熷笒閸旀碍绻涢崼鐔风伌婵﹥妞藉畷婊堝箵閹哄秶鍑规繝鐢靛仜瀵爼鎮ч悩鑼殾闁圭儤顨呮儫閻熸粌閰ｅ畷浼村箛閻楀牏鍘搁梺鍛婂姂閸斿孩鏅堕弴鐘电＜闁绘ê纾晶鐢告煛鐏炲墽顬兼い锕佹珪閵囧嫰濡搁妷锕�娈楅梺璇″枟閻燂妇鎹㈠┑瀣闁挎棁娉曢惄搴繆閻愵亜锟芥牜鏁幒妞濆洭顢涘☉娆愮彿濡炪倖鐗滈崑鐐烘偂閻斿吋鐓冮柛婵嗗瀹搞儵鏌ｈ箛鏇炩枅闁哄矉缍侀弫鎰板炊瑜嶉獮瀣⒑鐠団�虫灁闁搞劌顭峰畷鐗堢節閸愨晝绉堕梺闈涱煭闂勫嫰鎮靛鍕瘈闁汇垽娼ф禒鈺呮煙濞茶绨界�垫澘锕畷绋款渻娴兼瑦瀚归柨鏇炲�搁柋鍥煟閺傛娈犻柛銈冨�濋弻鐔煎礂閼测晜娈梺鍛婃煥缁夊綊宕哄☉銏犵闁圭偨鍔岀紞濠囧极閹版澘閱囨繝銏╁墯閹搁箖鎯�椤忓牜鏁囬柣鎰版涧閻撶喖姊洪崫鍕拱闁烩晩鍨跺顐﹀箛椤栨粎鏉搁梺鍝勬川婵潧鈻撻崗闂寸箚闁靛牆娲ゅ暩闂佺顑嗙粙鎾诲箲閵忕媭娼ㄩ柨鐔绘椤曪綁顢曢敃锟界粻鑽ょ磽娴ｈ偂鎴濃枍閵忋倖鈷戦悹鎭掑妼濞呮劙鏌熼崙銈嗗
			new fire.pb.school.shouxi.PMyElector(roleid, npckey).submit();
			return;
		}
		///////////////////闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞诲�楅崰濠囧础閻愭祴鎷绘繝纰樺墲閻擄繝寮ㄦ潏鈺傚床婵犻潧妫崵妤呮⒑閸噮鍎愮紒鑸电叀閺屻劑鎮㈢拠娈嬫捇鏌熼悷鐗堝枠妤犵偛鍟撮幃娆撴倻濡粯鐝栭梻浣侯焾閺堫剙顫濋妸鈺傚亗闁硅揪闄勯ˉ濠冦亜閹扳晛鐏璺哄缁辨帞锟斤綆鍋勫ù顕�鏌熼鐧告嫹閺傘儲鐎婚梺鐟邦嚟婵兘鏁嶅┑鍥╃閺夊牆澧界粔顔界箾娴ｅ啿娲﹂崐鍫曟煃閸濆嫭鍣洪柣鎾寸洴閹鏁愭惔鈥茬敖濠电偛寮堕幐鎶藉蓟閳ュ磭鏆嗛悗锝庡墰琚﹀┑鐘茬棄閵堝懐鍘梺璇″灡濡啴宕洪崟顖氱妞ゅ繐鍟崰姘攽閻樺灚鏆╅柛搴㈠灩瀵板﹪鎸婃竟婵囨そ婵¤埖寰勭�ｎ偅鐝栨俊鐐�曠换鎰板箠瀹ュ洦宕查柛鈩冪♁閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熶粙鎮楅悷鐗堝暈缂佽鍟存俊鐢稿礋椤栨氨顔掗柣鐘烘閸庛倝鎮楅幆褜娓婚柕鍫濇閻撱儲銇勯敃鍌涙锭妞ゎ偄绻橀幖鍦喆閸曨偆褰撮梻浣告贡缁垳鏁埡鍛濠㈣泛鐬肩壕濂告煟閹伴潧澧紒鎯板皺缁辨帗寰勭�ｎ偄鍞夐梺璇″枟閸庢娊鍩為幋鐙呮嫹閿濆簼绨芥い鏃�鍔栫换娑欐綇閸撗吷戦梺鐑╁墲濞茬喖鐛Δ鍛嵆闁靛繆妾ч幏娲煟閻樺厖鑸柛鏂跨焸瀵悂寮惔鎾存杸濡炪倖妫佹慨銈囦焊閿曞倹鐓欐い鏃傛櫕閹冲嫮绱掔紒妯肩疄鐎规洖鐖兼俊姝岊槻閻㈩垱顨婂娲传閸曞灚楔闂佺顑囬崑鐐电博閻旂厧骞㈡繛鎴烆焽閻ｇ儤绻濋棃娑橈拷鎼佸箟閿熺姵鍋傞煫鍥ㄧ〒閸欐捇鏌涢妷锝呭缂侊拷閿熶粙寮堕埡鍌滅疄闁诡喖鍢查…銊╁川椤撗勬瘔闂佹眹鍩勯崹閬嶃�冩繝鍌滄殾闁硅揪绠戠粻娑㈡煟濡わ拷閻楀繘宕㈡禒瀣拺闂傚牊绋撶粻鍐测攽椤曪拷閺�杈╃矉閹烘垟妲堟繛鍡樺灩椤旀洟姊洪崜鎻掍簽闁哥姵鎸搁悾椋庡姬绾炬潰//////////////////////////////////////
		if (serviceid == NpcServices.WINNER_START) {// 闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞剧洴楠炲洭顢涘鍗烆槱闂備焦鐪归崹褰掆�﹀畡閭︽綎缂備焦顭囬悷褰掓煥閻旂粯顥夋い顓炴穿椤﹀綊鎸婂┑鍥ヤ簻闁规澘澧庨悾閬嶆煟閵堝洤浜剧紒缁樼洴楠炲鎮欑捄渚婵＄偑鍊戦崕鎻掝潩閵娾晛绠熼柟闂寸劍閸嬪鏌涢锝囩畼闁荤喐鐓″铏圭磼濡闉嶅┑鐐插级椤洭骞戦姀鐘闁靛繒濮烽娲⒑缂佹ê鐏ユ繛灞傚�濆畷锝夊即閵忊檧鎷洪梺缁樿壘閻°劎锟芥俺顫夌换婵嬫偨闂堟刀锝囩棯閺夎法效闁诡噯绻濆鎾偄閾忚鍟庨梻浣虹《閸撴繈銆冮崼銏笉鐎规洖娲ㄧ壕濂告煟濡儤鈻曢柣鎾炽偢閺岋紕浠﹂棃鈺傚鐎规洖娲﹀▓鏇㈡煟鎼搭垳绉甸柛鎾寸閳潧鈹戞幊閸婃鎱ㄩ悜钘夌；婵炴垶鈼ゅú顏嶆晣闁逞屽墾閹烽攱鎷呴懖婵囨⒐閹峰懘鎮烽柇锔兼嫹閹剧粯鈷戦柤濮愬�曢弸鎴炵節閵忊埄鎴犵博閻斿鍚嬮柛銉㈡櫇閿涙繈姊虹粙鎸庢拱闁煎綊绠栭弫鎾寸鐎ｅ灚顥栧┑鐐叉閸ㄨ姤淇婇懜闈涚窞濠电姴瀚烽崬鐢告⒒娴ｈ櫣甯涢柛銊ュ悑閹便劑濡舵径瀣簵闂佸搫娲㈤崹娲偂濞嗗緷褰掓偂鎼达絾鎲煎┑鐐村毆閸ャ劎鍘搁柣搴秵閸撴瑩寮稿☉銏＄厸鐎癸拷鐎ｎ剛袦濡ょ姷鍋為…鍥箲閸曨垱鍊绘俊顖溿�嬮幏鐑芥倷椤掑倻顔曢梺鎸庣箓閹冲繘骞栭幇鐗堢叆闁哄洢鍔嬮柇顖炴煏閸℃洜顦﹂柍钘夘槸铻ｉ梺鍨儐閺夋悂姊绘担鍝ョШ闁稿锕畷婊冾潩妫版繃鏅╅梺鍛婃处閸樺墽澹曟禒瀣厱閻忕偛澧介幊鍛存煕閺傝法肖闁瑰弶鎮傚鍫曞垂椤旇姤顔掗梻浣哄仺閸庤崵绮婚幘璇茬畺婵犲﹤鐗婄�电姴顭跨捄鍝勵劉闁硅弓鍗冲缁樻媴閼恒儳銆婇梺鍝ュУ閹稿骞堥妸鈺佺骇闁规惌鍘奸弲鐘测攽閻樼粯娑ф繛灞傚灪缁傚秴顭ㄩ崼鐔哄幍闂佺粯鍨堕敋闁诲繈鍎甸弻銊╂偄缂佹﹩妫勫銈庡幘閸忔﹢鐛崘顔芥櫢闁绘灏欓鎺旂磽閸屾瑧鍔嶉懣銈夋煙闁垮銇濋柡宀嬬秮閹晠宕ｆ径宀婃Ш闂備浇娉曢崰搴ㄦ晸閻ｅ苯鏋戦柣婵愪邯閺岋綀绠涢幘璺衡叡缂備浇椴搁幑鍥х暦閹烘埈娼╂慨锝嗙懀閸ㄤ粙寮婚妸鈺佸嵆婵☆垳灏ㄩ幏宄扳攽鐎ｎ亞鐣烘俊銈忕到閸燁垶宕愭繝姘參婵☆垯璀﹀Ο锟介梺鍝ュ仜閻栫厧顫忓ú顏勪紶闁告洦鍓欑粣娑㈡⒑缁嬫鐓紓宥勭窔瀹曟椽鏁撻悩鎻掔獩濡炪倖姊归崕鍐差嚕閹惰姤鈷掑ù锝呮啞閹牓鏌涢悤浣镐喊鐎规洘鍔欓幐濠冨緞濡》鎷烽崼鏇熺厱婵炴垶锕妤冪磼鐠囧弶顥㈤柡宀�鍠撶槐鎺懳熼搹璇″剬闂備胶纭堕弲顏嗗緤妤ｅ啫绠為柕濠忓缁★拷闂佸憡娲﹂崢鑲╃箔閿熺姵鈷戦柣鐔告緲濡插鏌熼崘鑼缂侇噮鍙冮幃銏㈠枈鏉堛劍娅栨繝鐢靛Т閿曘倝宕锝囨惞婵犵數濮烽。顔炬閺囥垹纾婚柟杈剧畱绾惧綊鏌″搴″箹闁搞劌鍊块弻娑㈩敃閿濆棛顦ラ梺鎼炲妼閸婂潡寮诲☉婊庢Ъ濡炪們鍔岄悧鍡涙偩閸偆鐟归柨鐔剁矙閹繝顢曢敃锟介悙濠囨煏婵炑嶆嫹婵′勘鍔戝娲传閸曨剙娅ら梺璇″枛閸婂灝顕ｆ繝姘╅柍鍝勫�告禍鐐烘⒑缁嬫寧婀扮紒瀣灴椤㈡棃鏁撻敓锟�
			new CReqStartWinner(roleid, npckey).process();
			return;
		}
		if (serviceid == NpcServices.FIGHT_WINNER) {
			new CStartWinnerBattle(roleid, npckey).process();
			return;
		}
		////////////////////////闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ偆娲撮挊婵嬫煟閵忋埄鐒鹃柡瀣╃窔閺岀喖宕滆鐢盯鏌涚�ｎ偄濮嶉柡灞诲�楅崰濠囧础閻愭祴鎷绘繝纰樺墲閻擄繝寮ㄦ潏鈺傚床婵犻潧妫崵妤呮⒑閸噮鍎愮紒鑸电叀閺屻劑鎮㈢拠娈嬫捇鏌熼悷鐗堝枠妤犵偛鍟撮幃娆撴倻濡粯鐝栭梻浣侯焾閺堫剙顫濋妸鈺傚亗闁硅揪闄勯ˉ濠冦亜閹扳晛鐏璺哄缁辨帞锟斤綆鍋勫ù顕�鏌熼鐧告嫹閺傘儲鐎婚梺鐟邦嚟婵兘鏁嶅┑鍥╃閺夊牆澧界粔顔界箾娴ｅ啿娲﹂崐鍫曟煃閸濆嫭鍣洪柣鎾寸洴閹鏁愭惔鈥茬敖濠电偛寮堕幐鎶藉蓟閳ュ磭鏆嗛悗锝庡墰琚﹀┑鐘茬棄閵堝懐鍘梺璇″灡濡啴宕洪崟顖氱妞ゅ繐鍟崰姘攽閻樺灚鏆╅柛搴㈠灩瀵板﹪鎸婃竟婵囨そ婵¤埖寰勭�ｎ偅鐝栨俊鐐�曠换鎰板箠瀹ュ洦宕查柛鈩冪♁閻撴洘銇勯幇鍓佺ɑ缂侊拷閿熶粙鎮楅悷鐗堝暈缂佽鍟存俊鐢稿礋椤栨氨顔掗柣鐘烘閸庛倝鎮楅幆褜娓婚柕鍫濇閻撱儲銇勯敃鍌涙锭妞ゎ偄绻橀幖鍦喆閸曨偆褰撮梻浣告贡缁垳鏁埡鍛濠㈣泛鐬肩壕濂告煟閹伴潧澧紒鎯板皺缁辨帗寰勭�ｎ偄鍞夐梺璇″枟閸庢娊鍩為幋鐙呮嫹閿濆簼绨芥い鏃�鍔栫换娑欐綇閸撗吷戦梺鐑╁墲濞茬喖鐛Δ鍛嵆闁靛繆妾ч幏娲煟閻樺厖鑸柛鏂跨焸瀵悂寮惔鎾存杸濡炪倖妫佹慨銈囦焊閿曞倹鐓欐い鏃傛櫕閹冲嫮绱掔紒妯肩疄鐎规洖鐖兼俊姝岊槻閻㈩垱顨婂娲传閸曞灚楔闂佺顑囬崑鐐电博閻旂厧骞㈡繛鎴烆焽閻ｇ儤绻濋棃娑橈拷鎼佸箟閿熺姵鍋傞煫鍥ㄧ〒閸欐捇鏌涢妷锝呭缂侊拷閿熶粙寮堕埡鍌滅疄闁诡喖鍢查…銊╁川椤撗勬瘔闂佹眹鍩勯崹閬嶃�冩繝鍌滄殾闁硅揪绠戠粻娑欍亜閹捐泛啸妞ゆ梹娲熷娲礈閹绘帊绨肩紓浣筋嚙鐎氼厾绮嬮幒妤�顫呴柣姗嗗亝閺傦拷闂備焦瀵х粙鎴狅拷姘煎枛閳绘挾绮╅敓锟�//////////////////////////////////////

		
		if (InstanceManager.getInstance().getInstNpcServers().contains(serviceid)) {
			new PGiveInstanceProc(roleid, npckey, serviceid).submit();
			return;
		}
		
		if (LineInstManager.getInstance().getInstNpcServers().contains(serviceid)) {
			new fire.pb.mission.instance.line.PGiveLineProc(roleid, npckey, serviceid).submit();
			return;
		}
		
		if (serviceid == NpcServices.BACK_COPY_SERVICE) {
			new PBackInstanceScenceProc(roleid).submit();
			return;
		}
		
		
		
		if(serviceid == 1923){
			fire.pb.mission.ExecuteReqGoto.trans2Pos(roleid, 1014, 39, 27, false);
			return;
		}
		if(serviceid == 1924){
			fire.pb.mission.ExecuteReqGoto.trans2Pos(roleid, 1004, 27, 89, false);
			return;
		}
		if(serviceid == 1925){
			fire.pb.mission.ExecuteReqGoto.trans2Pos(roleid, 1008, 89, 38, false);
			return;
		}

		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存い銏℃礋閺佹劙宕卞▎妯恍氱紓鍌氬�烽懗鑸垫叏闁垮绠鹃柨鐔剁矙閺屸�崇暆閿熶粙宕伴弽褏鏆︽繝濠傛－濡查箖鏌ｉ姀鈺佺仭闁烩晩鍨跺璇测槈濞嗘垹鐦堥梺鍛婁緱閸橀箖宕㈤锔解拺闂侇偅绋撻埞鎺楁煕閺傝法鐒烽柣蹇斿浮濮婃椽宕烽褏鍔稿┑鐐差嚟閸忔ɑ淇婇幘顔肩疀妞ゆ柨澧介敍婵囩箾鏉堝墽鍒伴柟纰卞亜閻剟姊绘担鍛婂暈妞ゃ劌妫欑换娑欑節閸屻倕娈ㄩ柣鐘叉处缁佹潙危閸喍绻嗘い鏍仦閺侀亶鏌￠崒锔藉闂傚倸鍊风粈渚�骞夐垾瓒佹椽鏁冮崒姘憋紱闂佸憡娲﹂崜姘跺矗韫囨稒鐓涢柛銉㈡櫅閸撹鲸绻涢幘鎰佺吋闁哄本娲熷畷鐓庘攽鐎ｇ鎷峰Δ锟介湁婵犲﹤瀚粻鏍磼缂佹娲撮柟宕囧█椤㈡鏁撴禒瀣嚑婵炴垶鐔幏宄扳枔閸喗鐏堝銈庡幘閸忔﹢鐛崘顔碱潊闁靛牆鎳庣粣娑欑節閻㈤潧孝閻庢凹鍠涢崐鎾⒒閸屾艾锟介绮堟笟锟介獮澶愭晸閻樿尙顔囬梺绯曞墲缁嬫垵顔忓┑鍥ヤ簻闁哄啫鍊婚幗鍌炴煕閻旈攱鍣界紒杈ㄦ崌瀹曟帒顫濋濠冨闁归棿绀佺壕鐟邦渻鐎ｎ亜顒㈡い鎰矙閺屾洟宕煎┑鎰︾紓浣哄閸ㄥ爼寮婚敐澶婄闁挎繂鎲涢幘缁樼厽闁规儳鐡ㄧ粈瀣煛瀹�锟介崰鎰拷浣冨亹閿熻姤绋掕摫闂佹鍙冨娲传閸曢潧鍓抽梺鍝ュУ閻楃姴顕ｆ繝姘櫜濠㈣泛锕﹂鎺楁煟鎼达絾鏆╃痪顓℃硾鍗遍柛顐ｇ箥濞撳鏌曢崼婵嬵�楃�殿喓鍔嶇换娑欏緞鐎ｎ偆顦板Δ鐘靛仦閸ㄥ灝鐣烽悢纰辨晬婵﹩鍋嗛悙濠囨⒒娴ｅ憡鍟炴繛鑼枎椤洩顦冲ǎ鍥э攻椤︾増鎯旈敐鍥风闯濠电偠鎻紞浣虹磽濮橆剦鐎堕柟闂寸劍閻撴洘绻涢崱妯兼噭閻庢艾缍婂缁樻媴閾忓箍锟藉﹪鏌￠崨顔剧煉闁诡啫鍐剧叆闁割偅绻勯澶愭⒑闂堟稓绠冲┑顕呭幖鍗遍柛顐犲劜閻撳繘鐓崶銊︾闁宠鐗撻弻娑㈡倷閼碱剙鐓熷┑顔硷攻濡炶棄螞閸愩劉妲堥弶鍫涘壉閵堝鈷戠紒瀣皡閺�濠氭煟濡ゅ啫孝闁伙絿鍏樺璺衡枎閻愵剙鍏婇梻浣哄帶閹芥粓銆傛禒瀣婵炲樊浜濋埛鎴︽煕濞戞﹫鍔熺紒鐘虫崌閹顫濋悡搴㈢彎闂佽鍠氶崑鐔煎箲閸曨垰惟鐟滃繘鏁嶅鍫熲拻濠电姴楠告禍浠嬫煕濮楋拷缁犳牠骞嗙仦瑙ｆ瀻闁规儳顕崢鎾绘⒑闂堟侗妯堥柛銊﹀▕閹箖妫冨☉鎺撴杸闂佹枼鏅涢崯顖炲磹閹扮増鐓曢柍瑙勫劤婢ф煡鏌熷畡鐗堝櫤缂佹鍠栭、娑樏归崜浣镐槐婵﹤顭峰畷鎺戔枎閹邦喓鍋樻俊鐐�栧ú姗�鎮ч悩鑼殾閻熸瑥瀚崕鐔兼煏婵炲灝鍔ゆい锔哄妼椤啴濡舵惔鈥崇闂佹悶鍔岄悥鑹版＂閻庡箍鍎卞Λ娑氬姬閿熶粙姊哄Ч鍥х伈婵炰匠鍐懃闂傚倷鐒﹂惇褰掑磿闁单鍥濞戝崬娈ㄩ梺鍓插亝濞叉牜绮堝畝鍕厓闁宠桨绀侀弳娆愩亜韫囨碍纭鹃柍瑙勫灦楠炲﹪鏌涙繝鍐╁磳闁诡喚鍋ら弫鍐磼濮樿京鍘梻濠庡亜濞诧妇绮欓幒妤佸亗婵炴垶锕╅悢鍡涙偣鏉炴媽顒熼柛搴＄箲缁绘盯宕奸銏＄亶缂備胶绮粙鎴︻敊韫囨侗鏁婄紓浣姑弸銈夋⒒娴ｈ姤銆冪紒锟芥担璇ユ椽顢橀姀鐘烘憰闂佸搫娴勭槐鏇㈡偪閿熶粙姊洪崫鍕窛闁稿鍋婃俊鐑藉煛閸屾粌骞楅梻浣瑰缁诲倸螞濞嗘挸桅婵犻潧娲﹂崣蹇撯攽閻樺弶鍣烘い蹇曞█閺岀喐顦版惔鈾�鏋呴梺鎼炲妽閸庢娊鎮鹃悜钘夌倞闂佸灝顑呴鑸电節閻㈤潧校缁炬澘绉归幃锟犲即閻旇櫣顔曢梺鐟扮摠缁诲倿鎳滆ぐ鎺撶厸閻庯綆鍓欓弸娑㈡煛瀹�瀣М闁轰焦鍔欏畷鎯邦槻妤犵偛顑呴埞鎴︻敊绾嘲濮涚紓渚囧櫘閸ㄥ爼鐛箛娑樺窛闁哄鍨电粣娑欑節閻㈤潧孝闁稿﹦鎳撻埢鎾澄熼懡銈囩槇闂佹眹鍨藉褎绂掗埡鍌樹簻闁哄洨鍠撻惌宀�绱掗纰辩吋妤犵偞锚閻ｇ兘宕堕妸锔诲晭濠电姷鏁告慨鎾晝閵堝绐楁慨姗嗗墻閻掍粙鏌嶉崫鍕櫤闁稿缍佸鍫曟倷閺夋埈妫嗙紓浣割槸濞硷繝寮婚弴鐔风窞闁糕剝蓱閻濇洟姊虹紒妯诲蔼闁稿海鏁诲濠氭晲婢跺﹤宓嗛梺缁樺姌椤曟粓骞忛悜钘夋嵍妞ゆ挶鍔嶇�氳鎱ㄥΟ鐓庝壕閻庢熬鎷�
		if (serviceid == NpcServices.ENTER_BINGFENG) {
			BingFengWangZuoConfig bfconfig = BingFengLandMgr.getInstance().getBingFengConfigByRoleLv(roleid);
			if (bfconfig != null) {
				int rankid = BingFengLandMgr.getInstance().getRankIdByInstzoneId(bfconfig.getInstzoneid());
				SRequestRankList requestRankList = RankListManager.getInstance().getRankListResponse(rankid, roleid, 0);
				gnet.link.Onlines.getInstance().send(roleid, requestRankList);
				fire.pb.instancezone.bingfeng.BingFengLandMgr.sendSBingFengInfo(roleid, rankid);
			}
			else {
				int rankid = BingFengLandMgr.getInstance().getRankIdByInstzoneId(1);
				SRequestRankList requestRankList = RankListManager.getInstance().getRankListResponse(rankid, roleid, 0);
				gnet.link.Onlines.getInstance().send(roleid, requestRankList);
				fire.pb.instancezone.bingfeng.BingFengLandMgr.sendSBingFengInfo(roleid, rankid);
			}
			return;
		}
		
		
		if (serviceid == 1078 || serviceid == 1079){
			new PReceiveAccountInfoAward(roleid,serviceid).submit();
			return;
		}
		
		if(serviceid == 1987){//濠电姷鏁告慨鐑藉极閸涘﹥鍙忛柣鎴ｆ閺嬩線鏌涘☉姗堟敾闁告瑥绻橀弻锝夊箣濠垫劖缍楅梺璺ㄥ枙濡嫰宕愰崸妤�绠板┑鐘插暟閻濆爼鏌嶉崫鍕靛剳缂佸鍠氶敓鍊燁潐濞插繘宕濋幋婵愬殨闁割偅娲栫粻锝夋煟濞嗗繑鍣芥鐐灲濮婂宕掑▎鎴М闂佽绁撮崜婵堢箔閻旇偤鏃堝川椤撶姷鍘梺鐟板悑閻ｎ亪宕濆澶婄；闁告洦鍨遍悡鏇㈡煃閳轰礁骞橀柤娴嬫櫆瀹曟煡鏌涢埄鍏︽粍绂嶅鍫熺厸鐎广儱鍟俊鍧楁煙閸愬弶鍣界紒杈ㄥ笚瀵板嫮锟斤綆浜堕崵瀣磽娴ｈ櫣甯涢柣鈺婂灦閻涱喚锟斤綆鍠楅崐濠氭煕閳╁啰鎳冨┑顕�浜跺缁樻媴閸涘﹥鍎撻梺鍝ュ櫏閸嬪﹪骞冭瀹曞崬鈻庨幋鐘靛姸闂佽鍑界紞鍡涘窗濡ゅ懏鍋傞柛鎰靛枟閻撶喐鎱ㄥ鍡楀闁圭晫濞�閹顫濇潏銊ユ畬闂佸疇顫夐崹鍧椼�佸▎蹇婃瀻闁绘劦鍓涚粔閿嬩繆閻愵亜锟芥垿宕濆畝鍕櫇闁靛牆顧�缂嶆牠鐓崶銊﹀婵炲樊浜堕弫鍌炴煕閺囥劌寮鹃柛鐔锋喘濮婄粯鎷呴搹鐟扮闂佸憡姊归悧鐐哄Φ閹版澘绀冮柍鍝勫�稿鍧楁⒑閸撴彃浜濇繛鍙夛耿閸╂盯骞嬮敂鐣屽幈濠电偞鍨堕敃顐﹀绩婵犳碍鍊堕煫鍥ч瀹撳棝鏌″畝瀣М闁诡喓鍨藉畷锝嗗緞鐎ｎ剙缍冨┑掳鍊楁慨鐑藉磻濞戞娑樷槈濞嗘埈娴勯梺鎸庢婵倖鎱ㄥ鍫熺厵缂佸鐏濋銏°亜閵夈儳澧㈤柨鐔凤拷鐕佹綈婵炴彃绻樺畷婵嬪箣閿旂尨鎷锋担绯曟瀻闁规儳纾悾楣冩偡濠婂啰肖缂侇喖顭锋俊鐑藉煛閸屾瀚藉┑鐐舵彧缁插潡鎮洪弮鍫濆惞婵炲棙鎸婚崐鍨箾閹寸偛绗氭繛鍛川缁辨帡顢欓悾灞惧櫚濡ょ姷鍋炵敮鎺椻�旈崘鈺侇嚤婵炲棙鍔曢鍫曟⒑閹稿孩绀�闁稿﹥鎮傞幃娆愮節閸ャ劎鍘撻梺鍛婄箓鐎氼剟寮抽弴鐘电＜婵°倧鎷锋い锕傛涧椤繐煤椤忓懎浠梻渚囧弿缁犳垵鈻撻懜鐢电瘈婵炲牆鐏濆▍宥嗐亜閵夛附灏扮紒鏃傚枛瀵挳鎮㈠ú顏咁�嶉梻浣告啞缁嬫垿鏁冮敃鍌氬偍妞ゅ繐鎳愮弧锟介梺姹囧灲濞佳冪摥缂傚倷鑳剁划顖滄暜閿熺姴绠栧Δ锝呭暞閻掕偐锟藉箍鍎卞Λ娑㈠储閹惧墎纾介柛灞剧懅閸斿秹鎷戞潏鈺冪＜闁跨喓鏅敓鏂ょ秵閸犳鎮″☉姘炬嫹閻у憡瀚归柣搴秵閸撴盯鏁嶉悢鍝ョ閻庣數顭堥鎾剁磼閻樿櫕灏柣锝呭槻椤劑宕遍埡鍌傘儲绻濈喊妯哄⒉鐟滄澘鍟撮幃褔骞樼拠鑼舵憰閻熸粌绻掑Σ鎰板箳閹冲磭鍠栭幃鈩冩償濡儤鍊曢梻鍌氬�搁崐绋棵洪妶澹﹀洭鎮界粙鑳憰闂侀潧顭堥崕顕�寮ㄦ禒瀣厱闁斥晛鍟伴幊鍐┿亜閵堝繑瀚规繝纰夌磿閸嬫垿宕愰幋锕�纾块梺顒�鍗曢崶銊ヮ嚤闁哄鍤﹂敃鍌涚厱闁哄洢鍔岄悘鐘诲船椤栫偞鈷戦柟绋垮閻撱儱顭胯缁瑩骞冩ィ鍐╊棃婵炴垼椴哥�靛矂姊洪棃娑氬缂併劏鍋愰懞杈ㄧ節濮橆厾鍘遍梺缁樻椤ユ捇骞楅悩鐫酣宕惰闊剛锟借娲栭妶绋款嚕閹绢喗鍊锋繛鍫熷琚ㄩ梻鍌氬�风欢姘焽瑜旈垾锕傚醇閵夈儳锛熷┑鐐叉▕娴滄繈宕愰悽鍛婄厵缂備降鍨归弸鐔兼煃闁垮绗掗棁澶愭煥濠靛棙鍣洪柟顖氱墦閺屾盯寮幘鍓佹殼闂佸搫鐭夌换婵嗙暦閵娾晩鏁傞柛娑卞枤瑜板鏌ｆ惔銈庢綈婵炲弶绻堥敐鐐村緞瀹�瀣濞达絽鍟禍褰掓煥閻旇袚缂佸甯￠弫瀣箾鐎电孝闁靛牏顭堥～蹇涙惞閸︻厾锛滃┑鈽嗗灥濞咃絾瀵奸崶銊х瘈婵炲牆鐏濋弸鏃堟煕婵犲啰绠撴い鏇秮瀵濡烽妷褜鍟囧┑鐐舵彧缁茶棄锕㈤柆宥呯煑闁糕剝绋掗埛鎴犵磽娴ｈ偂鎴犵矆閿熶粙姊虹粙鍖″伐婵狅拷闁秵鏅搁柤鎭掑劤閸熸煡鏌熼崙銈嗗?
			new PTakeWeiBoAwardProc(roleid).submit();
			return;
		}

		// PvP闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鎯у⒔閹虫捇鈥旈崘顏庢嫹閿濆簼绨奸柟鐧哥秮閺岋綁顢橀悙鎼闂侀潧妫欑敮鎺楋綖濠靛鍊锋い鎺炴嫹妞ゅ繗鍩栨穱濠囧Χ閸ヮ灝銉╂煕鐎ｎ剙浠遍柟顔ㄥ洦鍋愭慨鐟版祫閹烽攱绗熼敓钘夘嚕閹绢喖顫呴柍鈺佸暞閻濇洟姊绘担钘壭撻柨姘亜閿旇鏋ょ紒杈ㄦ瀵挳濮�閳撅拷閹风粯绻涙潏鍓хК婵炲拑缍佹俊瀛樼節閸ャ劎鍘遍梺瑙勫劤椤曨厾绮婚悙鐑樼厵妞ゆ梻鍋撻悞鎸庛亜閿曪拷缂嶅﹪寮婚悢纰辨晬婵浜崝顖毼旈悩闈涗沪妞ゎ厼娲ㄥΣ鎰板箳閹冲磭鍠栭幃顔撅拷娑櫭鍫曟⒑閸撹尙鍘涢柛瀣缁粯銈ｉ崘鈺冨幍闁诲海鏁搁…鍫ュ礈閸楃伝褰掓偂鎼淬埄妫﹂梺鍝勭灱閸犳劕顭囪箛娑樼鐟滃繘寮抽悩缁樷拺婵炶尪顕ч獮妤併亜閵娿儻韬柟顕嗙節椤㈡洟鏁冮敓浠嬫倷婵犲洦鐓忓┑鐐戝秵瀚瑰┑鈥插嫎閸旀垵顫忛搹鍦＜婵☆垵顕ч弳妤呮⒑閸濄儱校闁绘濮撮锝嗙節濮橆厽娅㈤梺缁橆焾鐏忔瑩鏁嶅鍐ｆ斀妞ゆ梻鐓鍥ヤ汗濠㈣埖鍔栭幆鐐哄箹濞ｎ剙濡介柍閿嬪灴閹綊宕堕敐蹇斿闁惧浚鍋嗘禍鍫曟⒒娴ｈ鍋犻柛鏂胯嫰椤洭鍨鹃幇浣告闁荤姴娲︾粊鏉懳ｉ崼鐔虹闁糕剝锚婵洭鏌涢弬鎸庡殗婵﹥妞介獮鎰償閿濆倹顫嶉梺璇插閼归箖骞婇幘鍑板洩銇愰幒鎾跺幐閻庣櫢鎷烽悗锝庡墰閿涚喐绻涚�电顎撶紒鐘虫尭閻ｅ嘲顭ㄩ崱鈺傂梻浣告啞鐢鎯勯鐐茬畺婵°倧鎷烽柍缁樻崌瀹曞綊顢欓悾灞兼喚闂傚倷娴囬～澶愭偤閺囩偐鏋嶉柡鍥╁枔閳瑰秴鈹戦悩鍙夋悙缂佺姷鎳撻湁闁挎繂鐗嗛敓鎴掔矙婵℃悂鍩￠崒婊冨妇闂備礁澹婇崑鍛崲閸曨剚娅犻柡鍥ュ灪閻撶喖鏌熼悜妯诲闁搞倖鐟╅弻宥囨喆閸曨偆浼岄梺璇″枓閺呮盯鍩㈤幘璇茬閹兼番鍨诲Σ锝夋⒒閸屾瑧顦﹂柟璇х節楠炴劙鎳￠妶鍡楀簥闂佸壊鍋侀崕杈╃不閺嶎厽鐓ラ柣鏂挎惈瀛濋梺缁樺笚濡炰粙寮诲☉銏犵疀闁稿繐鎲￠崰姘攽閻愭彃绾ч柟顔煎�搁～蹇撁洪鍕槶闂佸湱绮敮濠勮姳閻撳簶鏀介柣鎰絻缁狙囨煟濡ゅ啫鈻堟鐐茬箻楠炲鏁傞挊澶夌盎闂備胶顭堢换妤呭磻閹版澘鐭楅柛鈩冦仜閺�浠嬫煟濡偐甯涙繛鎳峰嫪绻嗘い鎰靛亜楠炴牠宕℃潏鈺傚枑闁绘鐗嗙粭姘舵煟閹惧娲撮柡灞剧☉閳藉宕￠悙瀵镐憾闂備胶顭堥敃銉╁礉濞嗘挸钃熼柨娑樺濞岊亪鎮归崶銊ョ祷妞ゎ偄娲铏规嫚閳ヨ櫕鐏侀梺绋匡攻缁诲倿鎮鹃悜钘夌闁瑰瓨姊归～宥呪攽椤旂瓔娈旀俊顐ｆ⒒濡叉劙鏁撻敓锟�?
		IPvPServiceHandle sHandle = PvPServiceHandleFactory.create(serviceid);
		if (sHandle != null) {
			sHandle.handle(roleid, serviceid);
			return;
		}

		if (BingFengLandMgr.bingFengServiceids.contains(serviceid)) {
			new PBattletoBingFeng(roleid, npcId).submit();
			return;
		}

		//闂傚倸鍊搁崐鎼佸磹閹间礁纾归柟闂寸绾惧綊鏌熼梻瀵割槮缁炬儳缍婇弻鐔兼⒒鐎靛壊妲紒鐐劤缂嶅﹪寮婚敐澶婄闁挎繂鎲涢幘缁樼厱闁靛牆鎳庨顓㈡煛鐏炲墽娲存鐐达耿瀹曪絾寰勫Ο鐑╂瀳闂傚倷鑳剁划顖滄暜閹烘鏅濇い蹇撶墕閽冪喖鏌￠崶鈺佹灁缂佺娀绠栭弻锝夊箛闂堟稑顫梺缁樼箖濮婅崵妲愰幘瀛樺闁告繂瀚烽敓钘夌焸閺屾盯濡搁妷褍鐓熼悗娈垮枛椤兘寮幇顓炵窞濠电姴瀚烽崥鍛存⒒娴ｇ懓顕滅紒璇插�块獮澶娾槈閵忕姷顔掔紓鍌欑劍椤洭宕㈡禒瀣拺閻熸瑥瀚崝銈嗐亜閺囥劌寮鐐诧躬瀹曠喖顢涘☉姘妇闂備焦鎮堕崕婊堝礃閸欍儳纾鹃梺璇插椤旀牠宕伴弽顓熸櫢闁伙絽鑻▍蹇斾繆閼碱剙甯舵い顏勫暣婵″爼宕橀妸銉ヮ潥缂傚倷绶￠崰妤呭箲閸パ屽殨濠电姵纰嶉崑鍕煕韫囨挸鎮戦柛搴簻椤啴濡堕崱妤�顫囬梺鎼炲妼缂嶅﹪鏁愰悙鍝勭婵°倓璁查幏娲煛婢跺苯浠﹀鐟版钘濋柨鏂垮⒔绾剧厧顭跨捄鐚村姛缂佸鍎ら〃銉╂倷閹绘帗娈梺瀹狀嚙闁帮綁鐛锟藉鍫曞箣椤栨稑顏剁紓鍌欑劍鐪夌紒璇叉閵囧嫰寮介顫勃闂佽桨绶氭禍鍫曞箖濡わ拷椤繈顢栭幆褌鍒掓繝娈垮枛閿曪妇鍒掗鐐茬闁告稒娼欏婵嗏攽閻樻彃锟界懓鈻撳Ο鑲╃＝闁稿本鐟чˇ锔姐亜閹存繃顥㈢�规洖缍婂畷绋课旈敓浠嬪几娓氾拷閺屾盯骞囬棃娑欑亪闁哥儐鍨跺铏癸拷鍦У閵嗗啴鏌ら崘鑼煟闁诡喚鍋撻妶锝夊礃閳圭偓瀚奸梻浣告啞缁嬫垿鏁冮妷锕�绶為柛鏇ㄥ灡閻撴洟鏌曟繛鐐珒闁规煡绠栭弻鐔碱敋閸℃瑧鐦堥悗娈垮枟閹歌櫕鎱ㄩ敓浠嬫煥濞戞ê顏╅悽顖涘劤閳规垿鎮╅崹顐ｆ瘎闂佺顑嗛惄顖炲箖濡　鏀介悗锝庝簽椤︻喖鈹戦绛嬬劸闁糕晜鐗犻幃锟犳偐閻㈢數锛滈柣搴秵閸樼晫娑甸崜浣虹＜濠㈣泛顑嗛妵婵嬫煛瀹�瀣？濞寸媴濡囬幏鐘诲箵閹烘繃缍嗛梺璇插椤旀牠宕板Δ锟介…鍥р枎閹烘柧鑸梻鍌欑劍閸庡磭鎹㈠锟介弫鎾绘嚍閵壯侊拷鎺旂磼閿熶粙宕熼娑掓嫽闂佺鏈悷锔剧矈閻楀牄浜滈柡鍥╁枔婢х數锟借娲﹂崹鍫曘�侀弴銏℃櫇闁跨喍绮欓幃娆愮節閸曨剙鏋戦梺鍝勫暙閻楀棝鎳滆ぐ鎺撶厱妞ゆ劧绲剧粈鍐煃闁垮鐏存慨濠傤煼瀹曞ジ鎮㈤幁鎺炴嫹閹烘梻纾奸柣妯哄暱閸濇椽鏌″畝瀣瘈鐎规洏鍔戦、娆撳礈瑜忛崢鎺旂磽閸屾瑧璐伴柛鐘崇墵閺佸啴顢旈崼娑虫嫹娓氾拷瀵挳濮�閳╁啯鐝曢梺鑽ゅ枑閻熻京寰婇崜褝鎷峰顑惧仮婵﹦绮幏鍛村传閸曨偂绮俊鐐�ら崑鍛洪悢椋庢殾闁圭増婢橀崡鎶芥煟閹邦剛浠涢柟鍐插暞缁绘繈鎮介棃娴躲儵鏌℃担瑙勫�愮�规洘鍨块幃鈺伱虹紒妯绘珨婵犵數濮撮敃銈夊箠閹邦厾鈻旂�广儱顦伴悡娆撴煟閹寸儑渚涙繛鍫熸煥椤╁ジ宕ㄧ�涙ǚ鎷洪梺闈╁瘜閸樺ジ銆傞崗鑲╃瘈闁靛繆妲呴悞鐣岀磼椤旇偐澧︾�规洘锕㈤崺鐐村緞閸濄儳娉块梻鍌欑閹碱偄煤閵娾晛纾婚柣鎰壋婢舵劖鍋愰柣銏㈡暩閿涙粓鏌ｆ惔顖滅У濞存粎鍋熺划鑽ょ磼濡寮挎繝鐢靛Т閹冲繘顢旈悩缁樼厵闁荤喐婢橀顓炩攽閳╁啯鍊愬┑锛勫厴閺佸倿骞嗚缁嬪牓姊婚崒姘拷鐑芥嚄閸洖绠犻柟鎹愵嚙閸氬綊鏌″搴″箹缂佺媭鍨堕弻銊╂偆閸屾稑顏�
		if(serviceid == 1801){
			InstanceManager.getInstance().abandonInstanceTask(roleid);
			return;
		}
		
		if(MasterManager.masterService(roleid, serviceid)){
			return;
		}
		
		if (serviceid == NpcServices.IMPEXAM_STATE) {
			new PApplyImpExamProc(roleid,ImpExamType.IMPEXAM_STATE,1).submit();
			return;
		}
		
		if (serviceid == NpcServices.RESET_LINEINST) {
			new fire.pb.mission.instance.line.PSendResetLineTask(roleid).submit();
			return;
		}
		
		if (serviceid == NpcServices.QUERY_LINEINST) {
			new fire.pb.mission.instance.line.PQueryLineTime(roleid).submit();
			return;
		}
		
		if (serviceid == NpcServices.LOOK_YAO_QIAN) {
			new fire.pb.npc.PLookYaoQian(roleid, npckey).submit();
		}
	}


	// {{{ RPCGEN_DEFINE_BEGIN
	// {{{ DO NOT EDIT THIS
	public static final int PROTOCOL_TYPE = 795435;

	public int getType() {
		return 795435;
	}

	public long npckey; // npckey为npc的唯一ID
	public int serviceid; // 服务ID

	public CNpcService() {
	}

	public CNpcService(long _npckey_, int _serviceid_) {
		this.npckey = _npckey_;
		this.serviceid = _serviceid_;
	}

	public final boolean _validator_() {
		return true;
	}

	public OctetsStream marshal(OctetsStream _os_) {
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		_os_.marshal(npckey);
		_os_.marshal(serviceid);
		return _os_;
	}

	public OctetsStream unmarshal(OctetsStream _os_) throws MarshalException {
		npckey = _os_.unmarshal_long();
		serviceid = _os_.unmarshal_int();
		if (!_validator_()) {
			throw new VerifyError("validator failed");
		}
		return _os_;
	}

	public boolean equals(Object _o1_) {
		if (_o1_ == this) return true;
		if (_o1_ instanceof CNpcService) {
			CNpcService _o_ = (CNpcService)_o1_;
			if (npckey != _o_.npckey) return false;
			if (serviceid != _o_.serviceid) return false;
			return true;
		}
		return false;
	}

	public int hashCode() {
		int _h_ = 0;
		_h_ += (int)npckey;
		_h_ += serviceid;
		return _h_;
	}

	public String toString() {
		StringBuilder _sb_ = new StringBuilder();
		_sb_.append("(");
		_sb_.append(npckey).append(",");
		_sb_.append(serviceid).append(",");
		_sb_.append(")");
		return _sb_.toString();
	}

	public int compareTo(CNpcService _o_) {
		if (_o_ == this) return 0;
		int _c_ = 0;
		_c_ = Long.signum(npckey - _o_.npckey);
		if (0 != _c_) return _c_;
		_c_ = serviceid - _o_.serviceid;
		if (0 != _c_) return _c_;
		return _c_;
	}

	// DO NOT EDIT THIS }}}
	// RPCGEN_DEFINE_END }}}

}
